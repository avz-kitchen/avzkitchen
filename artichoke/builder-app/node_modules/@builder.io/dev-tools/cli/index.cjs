"use strict";var yP=Object.create;var qa=Object.defineProperty;var bP=Object.getOwnPropertyDescriptor;var DP=Object.getOwnPropertyNames;var xP=Object.getPrototypeOf,EP=Object.prototype.hasOwnProperty;var Im=(e,r)=>()=>(e&&(r=e(e=0)),r);var T=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),vc=(e,r)=>{for(var t in r)qa(e,t,{get:r[t],enumerable:!0})},_m=(e,r,t,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of DP(r))!EP.call(e,n)&&n!==t&&qa(e,n,{get:()=>r[n],enumerable:!(i=bP(r,n))||i.enumerable});return e};var V=(e,r,t)=>(t=e!=null?yP(xP(e)):{},_m(r||!e||!e.__esModule?qa(t,"default",{value:e,enumerable:!0}):t,e)),Wt=e=>_m(qa({},"__esModule",{value:!0}),e);var Fm=T((m$,Nm)=>{function wc(e){return e==null?[]:Array.isArray(e)?e:[e]}function CP(e,r,t,i){var n,s=e[r],o=~i.string.indexOf(r)?t==null||t===!0?"":String(t):typeof t=="boolean"?t:~i.boolean.indexOf(r)?t==="false"?!1:t==="true"||(e._.push((n=+t,n*0===0?n:t)),!!t):(n=+t,n*0===0?n:t);e[r]=s==null?o:Array.isArray(s)?s.concat(o):[s,o]}Nm.exports=function(e,r){e=e||[],r=r||{};var t,i,n,s,o,a={_:[]},l=0,u=0,c=0,p=e.length;let d=r.alias!==void 0,h=r.unknown!==void 0,f=r.default!==void 0;if(r.alias=r.alias||{},r.string=wc(r.string),r.boolean=wc(r.boolean),d)for(t in r.alias)for(i=r.alias[t]=wc(r.alias[t]),l=0;l<i.length;l++)(r.alias[i[l]]=i.concat(t)).splice(l,1);for(l=r.boolean.length;l-- >0;)for(i=r.alias[r.boolean[l]]||[],u=i.length;u-- >0;)r.boolean.push(i[u]);for(l=r.string.length;l-- >0;)for(i=r.alias[r.string[l]]||[],u=i.length;u-- >0;)r.string.push(i[u]);if(f){for(t in r.default)if(s=typeof r.default[t],i=r.alias[t]=r.alias[t]||[],r[s]!==void 0)for(r[s].push(t),l=0;l<i.length;l++)r[s].push(i[l])}let g=h?Object.keys(r.alias):[];for(l=0;l<p;l++){if(n=e[l],n==="--"){a._=a._.concat(e.slice(++l));break}for(u=0;u<n.length&&n.charCodeAt(u)===45;u++);if(u===0)a._.push(n);else if(n.substring(u,u+3)==="no-"){if(s=n.substring(u+3),h&&!~g.indexOf(s))return r.unknown(n);a[s]=!1}else{for(c=u+1;c<n.length&&n.charCodeAt(c)!==61;c++);for(s=n.substring(u,c),o=n.substring(++c)||l+1===p||(""+e[l+1]).charCodeAt(0)===45||e[++l],i=u===2?[s]:s,c=0;c<i.length;c++){if(s=i[c],h&&!~g.indexOf(s))return r.unknown("-".repeat(u)+s);CP(a,s,c+1<i.length||o,r)}}}if(f)for(t in r.default)a[t]===void 0&&(a[t]=r.default[t]);if(d)for(t in a)for(i=r.alias[t]||[];i.length>0;)a[i.shift()]=a[t];return a}});var $e=T((b$,Om)=>{"use strict";var Ic="\x1B",Qe=`${Ic}[`,SP="\x07",_c={to(e,r){return r?`${Qe}${r+1};${e+1}H`:`${Qe}${e+1}G`},move(e,r){let t="";return e<0?t+=`${Qe}${-e}D`:e>0&&(t+=`${Qe}${e}C`),r<0?t+=`${Qe}${-r}A`:r>0&&(t+=`${Qe}${r}B`),t},up:(e=1)=>`${Qe}${e}A`,down:(e=1)=>`${Qe}${e}B`,forward:(e=1)=>`${Qe}${e}C`,backward:(e=1)=>`${Qe}${e}D`,nextLine:(e=1)=>`${Qe}E`.repeat(e),prevLine:(e=1)=>`${Qe}F`.repeat(e),left:`${Qe}G`,hide:`${Qe}?25l`,show:`${Qe}?25h`,save:`${Ic}7`,restore:`${Ic}8`},vP={up:(e=1)=>`${Qe}S`.repeat(e),down:(e=1)=>`${Qe}T`.repeat(e)},wP={screen:`${Qe}2J`,up:(e=1)=>`${Qe}1J`.repeat(e),down:(e=1)=>`${Qe}J`.repeat(e),line:`${Qe}2K`,lineEnd:`${Qe}K`,lineStart:`${Qe}1K`,lines(e){let r="";for(let t=0;t<e;t++)r+=this.line+(t<e-1?_c.up():"");return e&&(r+=_c.left),r}};Om.exports={cursor:_c,scroll:vP,erase:wP,beep:SP}});var Gt=T((D$,Nc)=>{var Wa=process||{},Rm=Wa.argv||[],za=Wa.env||{},TP=!(za.NO_COLOR||Rm.includes("--no-color"))&&(!!za.FORCE_COLOR||Rm.includes("--color")||Wa.platform==="win32"||(Wa.stdout||{}).isTTY&&za.TERM!=="dumb"||!!za.CI),AP=(e,r,t=e)=>i=>{let n=""+i,s=n.indexOf(r,e.length);return~s?e+PP(n,r,t,s)+r:e+n+r},PP=(e,r,t,i)=>{let n="",s=0;do n+=e.substring(s,i)+t,s=i+r.length,i=e.indexOf(r,s);while(~i);return n+e.substring(s)},Lm=(e=TP)=>{let r=e?AP:()=>String;return{isColorSupported:e,reset:r("\x1B[0m","\x1B[0m"),bold:r("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:r("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:r("\x1B[3m","\x1B[23m"),underline:r("\x1B[4m","\x1B[24m"),inverse:r("\x1B[7m","\x1B[27m"),hidden:r("\x1B[8m","\x1B[28m"),strikethrough:r("\x1B[9m","\x1B[29m"),black:r("\x1B[30m","\x1B[39m"),red:r("\x1B[31m","\x1B[39m"),green:r("\x1B[32m","\x1B[39m"),yellow:r("\x1B[33m","\x1B[39m"),blue:r("\x1B[34m","\x1B[39m"),magenta:r("\x1B[35m","\x1B[39m"),cyan:r("\x1B[36m","\x1B[39m"),white:r("\x1B[37m","\x1B[39m"),gray:r("\x1B[90m","\x1B[39m"),bgBlack:r("\x1B[40m","\x1B[49m"),bgRed:r("\x1B[41m","\x1B[49m"),bgGreen:r("\x1B[42m","\x1B[49m"),bgYellow:r("\x1B[43m","\x1B[49m"),bgBlue:r("\x1B[44m","\x1B[49m"),bgMagenta:r("\x1B[45m","\x1B[49m"),bgCyan:r("\x1B[46m","\x1B[49m"),bgWhite:r("\x1B[47m","\x1B[49m"),blackBright:r("\x1B[90m","\x1B[39m"),redBright:r("\x1B[91m","\x1B[39m"),greenBright:r("\x1B[92m","\x1B[39m"),yellowBright:r("\x1B[93m","\x1B[39m"),blueBright:r("\x1B[94m","\x1B[39m"),magentaBright:r("\x1B[95m","\x1B[39m"),cyanBright:r("\x1B[96m","\x1B[39m"),whiteBright:r("\x1B[97m","\x1B[39m"),bgBlackBright:r("\x1B[100m","\x1B[49m"),bgRedBright:r("\x1B[101m","\x1B[49m"),bgGreenBright:r("\x1B[102m","\x1B[49m"),bgYellowBright:r("\x1B[103m","\x1B[49m"),bgBlueBright:r("\x1B[104m","\x1B[49m"),bgMagentaBright:r("\x1B[105m","\x1B[49m"),bgCyanBright:r("\x1B[106m","\x1B[49m"),bgWhiteBright:r("\x1B[107m","\x1B[49m")}};Nc.exports=Lm();Nc.exports.createColors=Lm});var qc=T((R$,ag)=>{"use strict";ag.exports=function(){if(process.env.npm_config_user_agent)return d1(process.env.npm_config_user_agent)};function d1(e){let r=e.split(" ")[0],t=r.lastIndexOf("/"),i=r.substring(0,t);return{name:i==="npminstall"?"cnpm":i,version:r.substring(t+1)}}});var Oy=T((mU,pl)=>{pl.exports.Space_Separator=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/;pl.exports.ID_Start=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/;pl.exports.ID_Continue=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/});var pp=T((gU,Ry)=>{var cp=Oy();Ry.exports={isSpaceSeparator(e){return typeof e=="string"&&cp.Space_Separator.test(e)},isIdStartChar(e){return typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="$"||e==="_"||cp.ID_Start.test(e))},isIdContinueChar(e){return typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||e==="$"||e==="_"||e==="\u200C"||e==="\u200D"||cp.ID_Continue.test(e))},isDigit(e){return typeof e=="string"&&/[0-9]/.test(e)},isHexDigit(e){return typeof e=="string"&&/[0-9A-Fa-f]/.test(e)}}});var Uy=T((yU,$y)=>{var bt=pp(),fp,$t,Ti,fl,an,Ir,Dt,gp,Ao;$y.exports=function(r,t){fp=String(r),$t="start",Ti=[],fl=0,an=1,Ir=0,Dt=void 0,gp=void 0,Ao=void 0;do Dt=I_(),F_[$t]();while(Dt.type!=="eof");return typeof t=="function"?hp({"":Ao},"",t):Ao};function hp(e,r,t){let i=e[r];if(i!=null&&typeof i=="object")if(Array.isArray(i))for(let n=0;n<i.length;n++){let s=String(n),o=hp(i,s,t);o===void 0?delete i[s]:Object.defineProperty(i,s,{value:o,writable:!0,enumerable:!0,configurable:!0})}else for(let n in i){let s=hp(i,n,t);s===void 0?delete i[n]:Object.defineProperty(i,n,{value:s,writable:!0,enumerable:!0,configurable:!0})}return t.call(e,r,i)}var ce,se,To,wi,ge;function I_(){for(ce="default",se="",To=!1,wi=1;;){ge=Ai();let e=My[ce]();if(e)return e}}function Ai(){if(fp[fl])return String.fromCodePoint(fp.codePointAt(fl))}function F(){let e=Ai();return e===`
`?(an++,Ir=0):e?Ir+=e.length:Ir++,e&&(fl+=e.length),e}var My={default(){switch(ge){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":F();return;case"/":F(),ce="comment";return;case void 0:return F(),ze("eof")}if(bt.isSpaceSeparator(ge)){F();return}return My[$t]()},comment(){switch(ge){case"*":F(),ce="multiLineComment";return;case"/":F(),ce="singleLineComment";return}throw We(F())},multiLineComment(){switch(ge){case"*":F(),ce="multiLineCommentAsterisk";return;case void 0:throw We(F())}F()},multiLineCommentAsterisk(){switch(ge){case"*":F();return;case"/":F(),ce="default";return;case void 0:throw We(F())}F(),ce="multiLineComment"},singleLineComment(){switch(ge){case`
`:case"\r":case"\u2028":case"\u2029":F(),ce="default";return;case void 0:return F(),ze("eof")}F()},value(){switch(ge){case"{":case"[":return ze("punctuator",F());case"n":return F(),Rn("ull"),ze("null",null);case"t":return F(),Rn("rue"),ze("boolean",!0);case"f":return F(),Rn("alse"),ze("boolean",!1);case"-":case"+":F()==="-"&&(wi=-1),ce="sign";return;case".":se=F(),ce="decimalPointLeading";return;case"0":se=F(),ce="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":se=F(),ce="decimalInteger";return;case"I":return F(),Rn("nfinity"),ze("numeric",1/0);case"N":return F(),Rn("aN"),ze("numeric",NaN);case'"':case"'":To=F()==='"',se="",ce="string";return}throw We(F())},identifierNameStartEscape(){if(ge!=="u")throw We(F());F();let e=mp();switch(e){case"$":case"_":break;default:if(!bt.isIdStartChar(e))throw Ly();break}se+=e,ce="identifierName"},identifierName(){switch(ge){case"$":case"_":case"\u200C":case"\u200D":se+=F();return;case"\\":F(),ce="identifierNameEscape";return}if(bt.isIdContinueChar(ge)){se+=F();return}return ze("identifier",se)},identifierNameEscape(){if(ge!=="u")throw We(F());F();let e=mp();switch(e){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!bt.isIdContinueChar(e))throw Ly();break}se+=e,ce="identifierName"},sign(){switch(ge){case".":se=F(),ce="decimalPointLeading";return;case"0":se=F(),ce="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":se=F(),ce="decimalInteger";return;case"I":return F(),Rn("nfinity"),ze("numeric",wi*(1/0));case"N":return F(),Rn("aN"),ze("numeric",NaN)}throw We(F())},zero(){switch(ge){case".":se+=F(),ce="decimalPoint";return;case"e":case"E":se+=F(),ce="decimalExponent";return;case"x":case"X":se+=F(),ce="hexadecimal";return}return ze("numeric",wi*0)},decimalInteger(){switch(ge){case".":se+=F(),ce="decimalPoint";return;case"e":case"E":se+=F(),ce="decimalExponent";return}if(bt.isDigit(ge)){se+=F();return}return ze("numeric",wi*Number(se))},decimalPointLeading(){if(bt.isDigit(ge)){se+=F(),ce="decimalFraction";return}throw We(F())},decimalPoint(){switch(ge){case"e":case"E":se+=F(),ce="decimalExponent";return}if(bt.isDigit(ge)){se+=F(),ce="decimalFraction";return}return ze("numeric",wi*Number(se))},decimalFraction(){switch(ge){case"e":case"E":se+=F(),ce="decimalExponent";return}if(bt.isDigit(ge)){se+=F();return}return ze("numeric",wi*Number(se))},decimalExponent(){switch(ge){case"+":case"-":se+=F(),ce="decimalExponentSign";return}if(bt.isDigit(ge)){se+=F(),ce="decimalExponentInteger";return}throw We(F())},decimalExponentSign(){if(bt.isDigit(ge)){se+=F(),ce="decimalExponentInteger";return}throw We(F())},decimalExponentInteger(){if(bt.isDigit(ge)){se+=F();return}return ze("numeric",wi*Number(se))},hexadecimal(){if(bt.isHexDigit(ge)){se+=F(),ce="hexadecimalInteger";return}throw We(F())},hexadecimalInteger(){if(bt.isHexDigit(ge)){se+=F();return}return ze("numeric",wi*Number(se))},string(){switch(ge){case"\\":F(),se+=__();return;case'"':if(To)return F(),ze("string",se);se+=F();return;case"'":if(!To)return F(),ze("string",se);se+=F();return;case`
`:case"\r":throw We(F());case"\u2028":case"\u2029":k_(ge);break;case void 0:throw We(F())}se+=F()},start(){switch(ge){case"{":case"[":return ze("punctuator",F())}ce="value"},beforePropertyName(){switch(ge){case"$":case"_":se=F(),ce="identifierName";return;case"\\":F(),ce="identifierNameStartEscape";return;case"}":return ze("punctuator",F());case'"':case"'":To=F()==='"',ce="string";return}if(bt.isIdStartChar(ge)){se+=F(),ce="identifierName";return}throw We(F())},afterPropertyName(){if(ge===":")return ze("punctuator",F());throw We(F())},beforePropertyValue(){ce="value"},afterPropertyValue(){switch(ge){case",":case"}":return ze("punctuator",F())}throw We(F())},beforeArrayValue(){if(ge==="]")return ze("punctuator",F());ce="value"},afterArrayValue(){switch(ge){case",":case"]":return ze("punctuator",F())}throw We(F())},end(){throw We(F())}};function ze(e,r){return{type:e,value:r,line:an,column:Ir}}function Rn(e){for(let r of e){if(Ai()!==r)throw We(F());F()}}function __(){switch(Ai()){case"b":return F(),"\b";case"f":return F(),"\f";case"n":return F(),`
`;case"r":return F(),"\r";case"t":return F(),"	";case"v":return F(),"\v";case"0":if(F(),bt.isDigit(Ai()))throw We(F());return"\0";case"x":return F(),N_();case"u":return F(),mp();case`
`:case"\u2028":case"\u2029":return F(),"";case"\r":return F(),Ai()===`
`&&F(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw We(F());case void 0:throw We(F())}return F()}function N_(){let e="",r=Ai();if(!bt.isHexDigit(r)||(e+=F(),r=Ai(),!bt.isHexDigit(r)))throw We(F());return e+=F(),String.fromCodePoint(parseInt(e,16))}function mp(){let e="",r=4;for(;r-- >0;){let t=Ai();if(!bt.isHexDigit(t))throw We(F());e+=F()}return String.fromCodePoint(parseInt(e,16))}var F_={start(){if(Dt.type==="eof")throw Ln();dp()},beforePropertyName(){switch(Dt.type){case"identifier":case"string":gp=Dt.value,$t="afterPropertyName";return;case"punctuator":dl();return;case"eof":throw Ln()}},afterPropertyName(){if(Dt.type==="eof")throw Ln();$t="beforePropertyValue"},beforePropertyValue(){if(Dt.type==="eof")throw Ln();dp()},beforeArrayValue(){if(Dt.type==="eof")throw Ln();if(Dt.type==="punctuator"&&Dt.value==="]"){dl();return}dp()},afterPropertyValue(){if(Dt.type==="eof")throw Ln();switch(Dt.value){case",":$t="beforePropertyName";return;case"}":dl()}},afterArrayValue(){if(Dt.type==="eof")throw Ln();switch(Dt.value){case",":$t="beforeArrayValue";return;case"]":dl()}},end(){}};function dp(){let e;switch(Dt.type){case"punctuator":switch(Dt.value){case"{":e={};break;case"[":e=[];break}break;case"null":case"boolean":case"numeric":case"string":e=Dt.value;break}if(Ao===void 0)Ao=e;else{let r=Ti[Ti.length-1];Array.isArray(r)?r.push(e):Object.defineProperty(r,gp,{value:e,writable:!0,enumerable:!0,configurable:!0})}if(e!==null&&typeof e=="object")Ti.push(e),Array.isArray(e)?$t="beforeArrayValue":$t="beforePropertyName";else{let r=Ti[Ti.length-1];r==null?$t="end":Array.isArray(r)?$t="afterArrayValue":$t="afterPropertyValue"}}function dl(){Ti.pop();let e=Ti[Ti.length-1];e==null?$t="end":Array.isArray(e)?$t="afterArrayValue":$t="afterPropertyValue"}function We(e){return hl(e===void 0?`JSON5: invalid end of input at ${an}:${Ir}`:`JSON5: invalid character '${By(e)}' at ${an}:${Ir}`)}function Ln(){return hl(`JSON5: invalid end of input at ${an}:${Ir}`)}function Ly(){return Ir-=5,hl(`JSON5: invalid identifier character at ${an}:${Ir}`)}function k_(e){console.warn(`JSON5: '${By(e)}' in strings is not valid ECMAScript; consider escaping`)}function By(e){let r={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(r[e])return r[e];if(e<" "){let t=e.charCodeAt(0).toString(16);return"\\x"+("00"+t).substring(t.length)}return e}function hl(e){let r=new SyntaxError(e);return r.lineNumber=an,r.columnNumber=Ir,r}});var qy=T((bU,jy)=>{var yp=pp();jy.exports=function(r,t,i){let n=[],s="",o,a,l="",u;if(t!=null&&typeof t=="object"&&!Array.isArray(t)&&(i=t.space,u=t.quote,t=t.replacer),typeof t=="function")a=t;else if(Array.isArray(t)){o=[];for(let g of t){let m;typeof g=="string"?m=g:(typeof g=="number"||g instanceof String||g instanceof Number)&&(m=String(g)),m!==void 0&&o.indexOf(m)<0&&o.push(m)}}return i instanceof Number?i=Number(i):i instanceof String&&(i=String(i)),typeof i=="number"?i>0&&(i=Math.min(10,Math.floor(i)),l="          ".substr(0,i)):typeof i=="string"&&(l=i.substr(0,10)),c("",{"":r});function c(g,m){let y=m[g];switch(y!=null&&(typeof y.toJSON5=="function"?y=y.toJSON5(g):typeof y.toJSON=="function"&&(y=y.toJSON(g))),a&&(y=a.call(m,g,y)),y instanceof Number?y=Number(y):y instanceof String?y=String(y):y instanceof Boolean&&(y=y.valueOf()),y){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof y=="string")return p(y,!1);if(typeof y=="number")return String(y);if(typeof y=="object")return Array.isArray(y)?f(y):d(y)}function p(g){let m={"'":.1,'"':.2},y={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},b="";for(let D=0;D<g.length;D++){let x=g[D];switch(x){case"'":case'"':m[x]++,b+=x;continue;case"\0":if(yp.isDigit(g[D+1])){b+="\\x00";continue}}if(y[x]){b+=y[x];continue}if(x<" "){let E=x.charCodeAt(0).toString(16);b+="\\x"+("00"+E).substring(E.length);continue}b+=x}let C=u||Object.keys(m).reduce((D,x)=>m[D]<m[x]?D:x);return b=b.replace(new RegExp(C,"g"),y[C]),C+b+C}function d(g){if(n.indexOf(g)>=0)throw TypeError("Converting circular structure to JSON5");n.push(g);let m=s;s=s+l;let y=o||Object.keys(g),b=[];for(let D of y){let x=c(D,g);if(x!==void 0){let E=h(D)+":";l!==""&&(E+=" "),E+=x,b.push(E)}}let C;if(b.length===0)C="{}";else{let D;if(l==="")D=b.join(","),C="{"+D+"}";else{let x=`,
`+s;D=b.join(x),C=`{
`+s+D+`,
`+m+"}"}}return n.pop(),s=m,C}function h(g){if(g.length===0)return p(g,!0);let m=String.fromCodePoint(g.codePointAt(0));if(!yp.isIdStartChar(m))return p(g,!0);for(let y=m.length;y<g.length;y++)if(!yp.isIdContinueChar(String.fromCodePoint(g.codePointAt(y))))return p(g,!0);return g}function f(g){if(n.indexOf(g)>=0)throw TypeError("Converting circular structure to JSON5");n.push(g);let m=s;s=s+l;let y=[];for(let C=0;C<g.length;C++){let D=c(String(C),g);y.push(D!==void 0?D:"null")}let b;if(y.length===0)b="[]";else if(l==="")b="["+y.join(",")+"]";else{let C=`,
`+s,D=y.join(C);b=`[
`+s+D+`,
`+m+"]"}return n.pop(),s=m,b}}});var Vy=T((DU,Ky)=>{var O_=Uy(),R_=qy(),L_={parse:O_,stringify:R_};Ky.exports=L_});var Dp=T(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});function Zy(e){return Object.prototype.toString.call(e)}gl.getType=Zy;function G_(e){throw new TypeError("unsupported data type: "+Zy(e))}gl.throwUnknownDataType=G_});var vp=T(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});var Pi="";for(let e=0;e<10;e++){let r=String.fromCharCode(48+e);Pi+=r}for(let e=0;e<26;e++){let r=String.fromCharCode(65+e);Pi+=r}for(let e=0;e<26;e++){let r=String.fromCharCode(97+e);Pi+=r}var ms=Pi.length,Ep={};for(let e=0;e<ms;e++){let r=Pi[e];Ep[r]=e}function Cp(e){let r=0,t=1;for(let i=e.length-1;i>=0;i--){let n=e[i],s=Ep[n];s*=t,r+=s,t*=ms}return r}Ii.s_to_int=Cp;function eb(e){let r=BigInt(0),t=BigInt(1),i=BigInt(ms);for(let n=e.length-1;n>=0;n--){let s=e[n],o=BigInt(Ep[s]);o*=t,r+=o,t*=i}return r}Ii.s_to_big_int=eb;function Sp(e){if(e===0)return Pi[0];let r=[];for(;e!==0;){let t=e%ms,i=Pi[t];r.push(i),e-=t,e/=ms}return r.reverse().join("")}Ii.int_to_s=Sp;function tb(e){let r=BigInt(0),t=BigInt(ms);if(e===r)return Pi[0];let i=[];for(;e!==r;){let n=e%t,s=Pi[Number(n)];i.push(s),e-=n,e/=t}return i.reverse().join("")}Ii.big_int_to_s=tb;function bl(e){return e.split("").reverse().join("")}function rb(e){if(e<0)return"-"+rb(-e);let[r,t]=e.toString().split(".");if(!t)return Sp(e);let i;t&&([t,i]=t.split("e")),r=yl(r),t=bl(t),t=yl(t);let n=r+"."+t;if(i){switch(n+=".",i[0]){case"+":i=i.slice(1);break;case"-":n+="-",i=i.slice(1);break}i=bl(i),i=yl(i),n+=i}return n}Ii.num_to_s=rb;function yl(e){let r=+e;return r.toString()===e?Sp(r):":"+tb(BigInt(e))}Ii.int_str_to_s=yl;function xp(e){return e[0]===":"?eb(e.substring(1)).toString():Cp(e).toString()}function ib(e){if(e[0]==="-")return-ib(e.substr(1));let[r,t,i]=e.split(".");if(!t)return Cp(r);r=xp(r),t=xp(t),t=bl(t);let n=r+"."+t;if(i){n+="e";let s=!1;i[0]==="-"&&(s=!0,i=i.slice(1)),i=xp(i),i=bl(i),n+=s?-i:+i}return+n}Ii.s_to_num=ib});var Tp=T(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});var wp=vp();function H_(e){return"n|"+wp.num_to_s(e)}_i.encodeNum=H_;function J_(e){return e=e.replace("n|",""),wp.s_to_num(e)}_i.decodeNum=J_;function Y_(e){return typeof e=="number"?e:wp.s_to_int(e)}_i.decodeKey=Y_;function X_(e){return e?"b|T":"b|F"}_i.encodeBool=X_;function Q_(e){switch(e){case"b|T":return!0;case"b|F":return!1}return!!e}_i.decodeBool=Q_;function Z_(e){switch(e[0]+e[1]){case"b|":case"o|":case"n|":case"a|":case"s|":e="s|"+e}return e}_i.encodeStr=Z_;function eN(e){return e[0]+e[1]==="s|"?e.substr(2):e}_i.decodeStr=eN});var nb=T(Ap=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});Ap.config={sort_key:!1}});var Ip=T(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});var tN=nb(),rN=Dp(),Pp=Tp(),iN=vp();function nN(e){return e.store.toArray()}Bn.memToValues=nN;function sb(){let e=[];return{forEach(r){for(let t=0;t<e.length;t++)if(r(e[t])==="break")return},add(r){e.push(r)},toArray(){return e}}}Bn.makeInMemoryStore=sb;function ob(){let e=Object.create(null),r=Object.create(null);return{getValue(t){return e[t]},getSchema(t){return r[t]},forEachValue(t){for(let[i,n]of Object.entries(e))if(t(i,n)==="break")return},forEachSchema(t){for(let[i,n]of Object.entries(r))if(t(i,n)==="break")return},setValue(t,i){e[t]=i},setSchema(t,i){r[t]=i},hasValue(t){return t in e},hasSchema(t){return t in r}}}Bn.makeInMemoryCache=ob;function sN(){return{store:sb(),cache:ob(),keyCount:0}}Bn.makeInMemoryMemory=sN;function Mn(e,r){if(e.cache.hasValue(r))return e.cache.getValue(r);let t=e.keyCount++,i=iN.num_to_s(t);return e.store.add(r),e.cache.setValue(r,i),i}function oN(e,r){tN.config.sort_key&&r.sort();let t=r.join(",");if(e.cache.hasSchema(t))return e.cache.getSchema(t);let i=Po(e,r,void 0);return e.cache.setSchema(t,i),i}function Po(e,r,t){if(r===null)return"";switch(typeof r){case"undefined":if(Array.isArray(t))return Po(e,null,t);break;case"object":if(r===null)return Mn(e,null);if(Array.isArray(r)){let i="a";for(let n=0;n<r.length;n++){let s=r[n],o=s===null?"_":Po(e,s,r);i+="|"+o}return i==="a"&&(i="a|"),Mn(e,i)}else{let i=Object.keys(r);if(i.length===0)return Mn(e,"o|");let n="o",s=oN(e,i);n+="|"+s;for(let o of i){let a=r[o],l=Po(e,a,r);n+="|"+l}return Mn(e,n)}case"boolean":return Mn(e,Pp.encodeBool(r));case"number":return Mn(e,Pp.encodeNum(r));case"string":return Mn(e,Pp.encodeStr(r))}return rN.throwUnknownDataType(r)}Bn.addValue=Po});var Np=T(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});var aN=Dp(),Dl=Tp(),_p=Ip();function lN(e){let r=_p.makeInMemoryMemory(),t=_p.addValue(r,e,void 0);return[_p.memToValues(r),t]}_o.compress=lN;function uN(e,r){if(r==="o|")return{};let t={},i=r.split("|"),n=i[1],s=Io(e,n),o=i.length;o-2===1&&!Array.isArray(s)&&(s=[s]);for(let a=2;a<o;a++){let l=s[a-2],u=i[a];u=Io(e,u),t[l]=u}return t}function cN(e,r){if(r==="a|")return[];let t=r.split("|"),i=t.length-1,n=new Array(i);for(let s=0;s<i;s++){let o=t[s+1];o=Io(e,o),n[s]=o}return n}function Io(e,r){if(r===""||r==="_")return null;let t=Dl.decodeKey(r),i=e[t];if(i===null)return i;switch(typeof i){case"undefined":return i;case"number":return i;case"string":switch(i[0]+i[1]){case"b|":return Dl.decodeBool(i);case"o|":return uN(e,i);case"n|":return Dl.decodeNum(i);case"a|":return cN(e,i);default:return Dl.decodeStr(i)}}return aN.throwUnknownDataType(i)}_o.decode=Io;function pN(e){let[r,t]=e;return Io(r,t)}_o.decompress=pN});var lb=T(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});function dN(e){for(let r in e)e[r]===void 0&&delete e[r]}xl.trimUndefined=dN;function fN(e){ab(e,new Set)}xl.trimUndefinedRecursively=fN;function ab(e,r){r.add(e);for(let t in e)if(e[t]===void 0)delete e[t];else{let i=e[t];i&&typeof i=="object"&&!r.has(i)&&ab(i,r)}}});var pb=T(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});var ub=Np();ln.compress=ub.compress;ln.decompress=ub.decompress;var hN=Np();ln.decode=hN.decode;var mN=Ip();ln.addValue=mN.addValue;var cb=lb();ln.trimUndefined=cb.trimUndefined;ln.trimUndefinedRecursively=cb.trimUndefinedRecursively});var Ze=T((Aq,gb)=>{"use strict";var{FORCE_COLOR:bN,NODE_DISABLE_COLORS:DN,TERM:xN}=process.env,Re={enabled:!DN&&xN!=="dumb"&&bN!=="0",reset:qe(0,0),bold:qe(1,22),dim:qe(2,22),italic:qe(3,23),underline:qe(4,24),inverse:qe(7,27),hidden:qe(8,28),strikethrough:qe(9,29),black:qe(30,39),red:qe(31,39),green:qe(32,39),yellow:qe(33,39),blue:qe(34,39),magenta:qe(35,39),cyan:qe(36,39),white:qe(37,39),gray:qe(90,39),grey:qe(90,39),bgBlack:qe(40,49),bgRed:qe(41,49),bgGreen:qe(42,49),bgYellow:qe(43,49),bgBlue:qe(44,49),bgMagenta:qe(45,49),bgCyan:qe(46,49),bgWhite:qe(47,49)};function mb(e,r){let t=0,i,n="",s="";for(;t<e.length;t++)i=e[t],n+=i.open,s+=i.close,r.includes(i.close)&&(r=r.replace(i.rgx,i.close+i.open));return n+r+s}function EN(e,r){let t={has:e,keys:r};return t.reset=Re.reset.bind(t),t.bold=Re.bold.bind(t),t.dim=Re.dim.bind(t),t.italic=Re.italic.bind(t),t.underline=Re.underline.bind(t),t.inverse=Re.inverse.bind(t),t.hidden=Re.hidden.bind(t),t.strikethrough=Re.strikethrough.bind(t),t.black=Re.black.bind(t),t.red=Re.red.bind(t),t.green=Re.green.bind(t),t.yellow=Re.yellow.bind(t),t.blue=Re.blue.bind(t),t.magenta=Re.magenta.bind(t),t.cyan=Re.cyan.bind(t),t.white=Re.white.bind(t),t.gray=Re.gray.bind(t),t.grey=Re.grey.bind(t),t.bgBlack=Re.bgBlack.bind(t),t.bgRed=Re.bgRed.bind(t),t.bgGreen=Re.bgGreen.bind(t),t.bgYellow=Re.bgYellow.bind(t),t.bgBlue=Re.bgBlue.bind(t),t.bgMagenta=Re.bgMagenta.bind(t),t.bgCyan=Re.bgCyan.bind(t),t.bgWhite=Re.bgWhite.bind(t),t}function qe(e,r){let t={open:`\x1B[${e}m`,close:`\x1B[${r}m`,rgx:new RegExp(`\\x1b\\[${r}m`,"g")};return function(i){return this!==void 0&&this.has!==void 0?(this.has.includes(e)||(this.has.push(e),this.keys.push(t)),i===void 0?this:Re.enabled?mb(this.keys,i+""):i+""):i===void 0?EN([e],[t]):Re.enabled?mb([t],i+""):i+""}}gb.exports=Re});var bb=T((Pq,yb)=>{"use strict";yb.exports=(e,r)=>{if(!(e.meta&&e.name!=="escape")){if(e.ctrl){if(e.name==="a")return"first";if(e.name==="c"||e.name==="d")return"abort";if(e.name==="e")return"last";if(e.name==="g")return"reset"}if(r){if(e.name==="j")return"down";if(e.name==="k")return"up"}return e.name==="return"||e.name==="enter"?"submit":e.name==="backspace"?"delete":e.name==="delete"?"deleteForward":e.name==="abort"?"abort":e.name==="escape"?"exit":e.name==="tab"?"next":e.name==="pagedown"?"nextPage":e.name==="pageup"?"prevPage":e.name==="home"?"home":e.name==="end"?"end":e.name==="up"?"up":e.name==="down"?"down":e.name==="right"?"right":e.name==="left"?"left":!1}}});var Cl=T((Iq,Db)=>{"use strict";Db.exports=e=>{let r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),t=new RegExp(r,"g");return typeof e=="string"?e.replace(t,""):e}});var vb=T((_q,Sb)=>{"use strict";function CN(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=SN(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){t=t.call(e)},n:function(){var u=t.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(o)throw a}}}}function SN(e,r){if(e){if(typeof e=="string")return xb(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xb(e,r)}}function xb(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,i=new Array(r);t<r;t++)i[t]=e[t];return i}var vN=Cl(),Cb=$e(),Eb=Cb.erase,wN=Cb.cursor,TN=e=>[...vN(e)].length;Sb.exports=function(e,r){if(!r)return Eb.line+wN.to(0);let t=0,i=e.split(/\r?\n/);var n=CN(i),s;try{for(n.s();!(s=n.n()).done;){let o=s.value;t+=1+Math.floor(Math.max(TN(o)-1,0)/r)}}catch(o){n.e(o)}finally{n.f()}return Eb.lines(t)}});var Fp=T((Nq,wb)=>{"use strict";var No={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},AN={arrowUp:No.arrowUp,arrowDown:No.arrowDown,arrowLeft:No.arrowLeft,arrowRight:No.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},PN=process.platform==="win32"?AN:No;wb.exports=PN});var Ab=T((Fq,Tb)=>{"use strict";var gs=Ze(),$n=Fp(),kp=Object.freeze({password:{scale:1,render:e=>"*".repeat(e.length)},emoji:{scale:2,render:e=>"\u{1F603}".repeat(e.length)},invisible:{scale:0,render:e=>""},default:{scale:1,render:e=>`${e}`}}),IN=e=>kp[e]||kp.default,Fo=Object.freeze({aborted:gs.red($n.cross),done:gs.green($n.tick),exited:gs.yellow($n.cross),default:gs.cyan("?")}),_N=(e,r,t)=>r?Fo.aborted:t?Fo.exited:e?Fo.done:Fo.default,NN=e=>gs.gray(e?$n.ellipsis:$n.pointerSmall),FN=(e,r)=>gs.gray(e?r?$n.pointerSmall:"+":$n.line);Tb.exports={styles:kp,render:IN,symbols:Fo,symbol:_N,delimiter:NN,item:FN}});var Ib=T((kq,Pb)=>{"use strict";var kN=Cl();Pb.exports=function(e,r){let t=String(kN(e)||"").split(/\r?\n/);return r?t.map(i=>Math.ceil(i.length/r)).reduce((i,n)=>i+n):t.length}});var Nb=T((Oq,_b)=>{"use strict";_b.exports=(e,r={})=>{let t=Number.isSafeInteger(parseInt(r.margin))?new Array(parseInt(r.margin)).fill(" ").join(""):r.margin||"",i=r.width;return(e||"").split(/\r?\n/g).map(n=>n.split(/\s+/g).reduce((s,o)=>(o.length+t.length>=i||s[s.length-1].length+o.length+1<i?s[s.length-1]+=` ${o}`:s.push(`${t}${o}`),s),[t]).join(`
`)).join(`
`)}});var kb=T((Rq,Fb)=>{"use strict";Fb.exports=(e,r,t)=>{t=t||r;let i=Math.min(r-t,e-Math.floor(t/2));i<0&&(i=0);let n=Math.min(i+t,r);return{startIndex:i,endIndex:n}}});var Nr=T((Lq,Ob)=>{"use strict";Ob.exports={action:bb(),clear:vb(),style:Ab(),strip:Cl(),figures:Fp(),lines:Ib(),wrap:Nb(),entriesToDisplay:kb()}});var Ni=T((Mq,Mb)=>{"use strict";var Rb=require("readline"),ON=Nr(),RN=ON.action,LN=require("events"),Lb=$e(),MN=Lb.beep,BN=Lb.cursor,$N=Ze(),Op=class extends LN{constructor(r={}){super(),this.firstRender=!0,this.in=r.stdin||process.stdin,this.out=r.stdout||process.stdout,this.onRender=(r.onRender||(()=>{})).bind(this);let t=Rb.createInterface({input:this.in,escapeCodeTimeout:50});Rb.emitKeypressEvents(this.in,t),this.in.isTTY&&this.in.setRawMode(!0);let i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,n=(s,o)=>{let a=RN(o,i);a===!1?this._&&this._(s,o):typeof this[a]=="function"?this[a](o):this.bell()};this.close=()=>{this.out.write(BN.show),this.in.removeListener("keypress",n),this.in.isTTY&&this.in.setRawMode(!1),t.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",n)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(MN)}render(){this.onRender($N),this.firstRender&&(this.firstRender=!1)}};Mb.exports=Op});var qb=T((Bq,jb)=>{"use strict";function Bb(e,r,t,i,n,s,o){try{var a=e[s](o),l=a.value}catch(u){t(u);return}a.done?r(l):Promise.resolve(l).then(i,n)}function $b(e){return function(){var r=this,t=arguments;return new Promise(function(i,n){var s=e.apply(r,t);function o(l){Bb(s,i,n,o,a,"next",l)}function a(l){Bb(s,i,n,o,a,"throw",l)}o(void 0)})}}var Sl=Ze(),UN=Ni(),Ub=$e(),jN=Ub.erase,ko=Ub.cursor,vl=Nr(),Rp=vl.style,Lp=vl.clear,qN=vl.lines,KN=vl.figures,Mp=class extends UN{constructor(r={}){super(r),this.transform=Rp.render(r.style),this.scale=this.transform.scale,this.msg=r.message,this.initial=r.initial||"",this.validator=r.validate||(()=>!0),this.value="",this.errorMsg=r.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=Lp("",this.out.columns),this.render()}set value(r){!r&&this.initial?(this.placeholder=!0,this.rendered=Sl.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(r)),this._value=r,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var r=this;return $b(function*(){let t=yield r.validator(r.value);typeof t=="string"&&(r.errorMsg=t,t=!1),r.error=!t})()}submit(){var r=this;return $b(function*(){if(r.value=r.value||r.initial,r.cursorOffset=0,r.cursor=r.rendered.length,yield r.validate(),r.error){r.red=!0,r.fire(),r.render();return}r.done=!0,r.aborted=!1,r.fire(),r.render(),r.out.write(`
`),r.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(r){this.placeholder||(this.cursor=this.cursor+r,this.cursorOffset+=r)}_(r,t){let i=this.value.slice(0,this.cursor),n=this.value.slice(this.cursor);this.value=`${i}${r}${n}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let r=this.value.slice(0,this.cursor-1),t=this.value.slice(this.cursor);this.value=`${r}${t}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let r=this.value.slice(0,this.cursor),t=this.value.slice(this.cursor+1);this.value=`${r}${t}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(ko.down(qN(this.outputError,this.out.columns)-1)+Lp(this.outputError,this.out.columns)),this.out.write(Lp(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Rp.symbol(this.done,this.aborted),Sl.bold(this.msg),Rp.delimiter(this.done),this.red?Sl.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((r,t,i)=>r+`
${i?" ":KN.pointerSmall} ${Sl.red().italic(t)}`,"")),this.out.write(jN.line+ko.to(0)+this.outputText+ko.save+this.outputError+ko.restore+ko.move(this.cursorOffset,0)))}};jb.exports=Mp});var Wb=T(($q,zb)=>{"use strict";var Fi=Ze(),VN=Ni(),Oo=Nr(),Kb=Oo.style,Vb=Oo.clear,wl=Oo.figures,zN=Oo.wrap,WN=Oo.entriesToDisplay,GN=$e(),HN=GN.cursor,Bp=class extends VN{constructor(r={}){super(r),this.msg=r.message,this.hint=r.hint||"- Use arrow-keys. Return to submit.",this.warn=r.warn||"- This option is disabled",this.cursor=r.initial||0,this.choices=r.choices.map((t,i)=>(typeof t=="string"&&(t={title:t,value:i}),{title:t&&(t.title||t.value||t),value:t&&(t.value===void 0?i:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled})),this.optionsPerPage=r.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=Vb("",this.out.columns),this.render()}moveCursor(r){this.cursor=r,this.value=this.choices[r].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(r,t){if(r===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(HN.hide):this.out.write(Vb(this.outputText,this.out.columns)),super.render();let r=WN(this.cursor,this.choices.length,this.optionsPerPage),t=r.startIndex,i=r.endIndex;if(this.outputText=[Kb.symbol(this.done,this.aborted),Fi.bold(this.msg),Kb.delimiter(!1),this.done?this.selection.title:this.selection.disabled?Fi.yellow(this.warn):Fi.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let n=t;n<i;n++){let s,o,a="",l=this.choices[n];n===t&&t>0?o=wl.arrowUp:n===i-1&&i<this.choices.length?o=wl.arrowDown:o=" ",l.disabled?(s=this.cursor===n?Fi.gray().underline(l.title):Fi.strikethrough().gray(l.title),o=(this.cursor===n?Fi.bold().gray(wl.pointer)+" ":"  ")+o):(s=this.cursor===n?Fi.cyan().underline(l.title):l.title,o=(this.cursor===n?Fi.cyan(wl.pointer)+" ":"  ")+o,l.description&&this.cursor===n&&(a=` - ${l.description}`,(o.length+s.length+a.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(a=`
`+zN(l.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${s}${Fi.gray(a)}
`}}this.out.write(this.outputText)}};zb.exports=Bp});var Qb=T((Uq,Xb)=>{"use strict";var Tl=Ze(),JN=Ni(),Jb=Nr(),Gb=Jb.style,YN=Jb.clear,Yb=$e(),Hb=Yb.cursor,XN=Yb.erase,$p=class extends JN{constructor(r={}){super(r),this.msg=r.message,this.value=!!r.initial,this.active=r.active||"on",this.inactive=r.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(r,t){if(r===" ")this.value=!this.value;else if(r==="1")this.value=!0;else if(r==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(Hb.hide):this.out.write(YN(this.outputText,this.out.columns)),super.render(),this.outputText=[Gb.symbol(this.done,this.aborted),Tl.bold(this.msg),Gb.delimiter(this.done),this.value?this.inactive:Tl.cyan().underline(this.inactive),Tl.gray("/"),this.value?Tl.cyan().underline(this.active):this.active].join(" "),this.out.write(XN.line+Hb.to(0)+this.outputText))}};Xb.exports=$p});var ii=T((jq,Zb)=>{"use strict";var Up=class e{constructor({token:r,date:t,parts:i,locales:n}){this.token=r,this.date=t||new Date,this.parts=i||[this],this.locales=n||{}}up(){}down(){}next(){let r=this.parts.indexOf(this);return this.parts.find((t,i)=>i>r&&t instanceof e)}setTo(r){}prev(){let r=[].concat(this.parts).reverse(),t=r.indexOf(this);return r.find((i,n)=>n>t&&i instanceof e)}toString(){return String(this.date)}};Zb.exports=Up});var tD=T((qq,eD)=>{"use strict";var QN=ii(),jp=class extends QN{constructor(r={}){super(r)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let r=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?r.toUpperCase():r}};eD.exports=jp});var iD=T((Kq,rD)=>{"use strict";var ZN=ii(),eF=e=>(e=e%10,e===1?"st":e===2?"nd":e===3?"rd":"th"),qp=class extends ZN{constructor(r={}){super(r)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(r){this.date.setDate(parseInt(r.substr(-2)))}toString(){let r=this.date.getDate(),t=this.date.getDay();return this.token==="DD"?String(r).padStart(2,"0"):this.token==="Do"?r+eF(r):this.token==="d"?t+1:this.token==="ddd"?this.locales.weekdaysShort[t]:this.token==="dddd"?this.locales.weekdays[t]:r}};rD.exports=qp});var sD=T((Vq,nD)=>{"use strict";var tF=ii(),Kp=class extends tF{constructor(r={}){super(r)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(r){this.date.setHours(parseInt(r.substr(-2)))}toString(){let r=this.date.getHours();return/h/.test(this.token)&&(r=r%12||12),this.token.length>1?String(r).padStart(2,"0"):r}};nD.exports=Kp});var aD=T((zq,oD)=>{"use strict";var rF=ii(),Vp=class extends rF{constructor(r={}){super(r)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(r){this.date.setMilliseconds(parseInt(r.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};oD.exports=Vp});var uD=T((Wq,lD)=>{"use strict";var iF=ii(),zp=class extends iF{constructor(r={}){super(r)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(r){this.date.setMinutes(parseInt(r.substr(-2)))}toString(){let r=this.date.getMinutes();return this.token.length>1?String(r).padStart(2,"0"):r}};lD.exports=zp});var pD=T((Gq,cD)=>{"use strict";var nF=ii(),Wp=class extends nF{constructor(r={}){super(r)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(r){r=parseInt(r.substr(-2))-1,this.date.setMonth(r<0?0:r)}toString(){let r=this.date.getMonth(),t=this.token.length;return t===2?String(r+1).padStart(2,"0"):t===3?this.locales.monthsShort[r]:t===4?this.locales.months[r]:String(r+1)}};cD.exports=Wp});var fD=T((Hq,dD)=>{"use strict";var sF=ii(),Gp=class extends sF{constructor(r={}){super(r)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(r){this.date.setSeconds(parseInt(r.substr(-2)))}toString(){let r=this.date.getSeconds();return this.token.length>1?String(r).padStart(2,"0"):r}};dD.exports=Gp});var mD=T((Jq,hD)=>{"use strict";var oF=ii(),Hp=class extends oF{constructor(r={}){super(r)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(r){this.date.setFullYear(r.substr(-4))}toString(){let r=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?r.substr(-2):r}};hD.exports=Hp});var yD=T((Yq,gD)=>{"use strict";gD.exports={DatePart:ii(),Meridiem:tD(),Day:iD(),Hours:sD(),Milliseconds:aD(),Minutes:uD(),Month:pD(),Seconds:fD(),Year:mD()}});var AD=T((Xq,TD)=>{"use strict";function bD(e,r,t,i,n,s,o){try{var a=e[s](o),l=a.value}catch(u){t(u);return}a.done?r(l):Promise.resolve(l).then(i,n)}function DD(e){return function(){var r=this,t=arguments;return new Promise(function(i,n){var s=e.apply(r,t);function o(l){bD(s,i,n,o,a,"next",l)}function a(l){bD(s,i,n,o,a,"throw",l)}o(void 0)})}}var Jp=Ze(),aF=Ni(),Xp=Nr(),xD=Xp.style,ED=Xp.clear,lF=Xp.figures,wD=$e(),uF=wD.erase,CD=wD.cursor,ki=yD(),SD=ki.DatePart,cF=ki.Meridiem,pF=ki.Day,dF=ki.Hours,fF=ki.Milliseconds,hF=ki.Minutes,mF=ki.Month,gF=ki.Seconds,yF=ki.Year,bF=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,vD={1:({token:e})=>e.replace(/\\(.)/g,"$1"),2:e=>new pF(e),3:e=>new mF(e),4:e=>new yF(e),5:e=>new cF(e),6:e=>new dF(e),7:e=>new hF(e),8:e=>new gF(e),9:e=>new fF(e)},DF={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},Yp=class extends aF{constructor(r={}){super(r),this.msg=r.message,this.cursor=0,this.typed="",this.locales=Object.assign(DF,r.locales),this._date=r.initial||new Date,this.errorMsg=r.error||"Please Enter A Valid Value",this.validator=r.validate||(()=>!0),this.mask=r.mask||"YYYY-MM-DD HH:mm:ss",this.clear=ED("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(r){r&&this._date.setTime(r.getTime())}set mask(r){let t;for(this.parts=[];t=bF.exec(r);){let n=t.shift(),s=t.findIndex(o=>o!=null);this.parts.push(s in vD?vD[s]({token:t[s]||n,date:this.date,parts:this.parts,locales:this.locales}):t[s]||n)}let i=this.parts.reduce((n,s)=>(typeof s=="string"&&typeof n[n.length-1]=="string"?n[n.length-1]+=s:n.push(s),n),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(r){this.typed="",this.cursor=r,this.fire()}reset(){this.moveCursor(this.parts.findIndex(r=>r instanceof SD)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var r=this;return DD(function*(){let t=yield r.validator(r.value);typeof t=="string"&&(r.errorMsg=t,t=!1),r.error=!t})()}submit(){var r=this;return DD(function*(){if(yield r.validate(),r.error){r.color="red",r.fire(),r.render();return}r.done=!0,r.aborted=!1,r.fire(),r.render(),r.out.write(`
`),r.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let r=this.parts[this.cursor].prev();if(r==null)return this.bell();this.moveCursor(this.parts.indexOf(r)),this.render()}right(){let r=this.parts[this.cursor].next();if(r==null)return this.bell();this.moveCursor(this.parts.indexOf(r)),this.render()}next(){let r=this.parts[this.cursor].next();this.moveCursor(r?this.parts.indexOf(r):this.parts.findIndex(t=>t instanceof SD)),this.render()}_(r){/\d/.test(r)&&(this.typed+=r,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(CD.hide):this.out.write(ED(this.outputText,this.out.columns)),super.render(),this.outputText=[xD.symbol(this.done,this.aborted),Jp.bold(this.msg),xD.delimiter(!1),this.parts.reduce((r,t,i)=>r.concat(i===this.cursor&&!this.done?Jp.cyan().underline(t.toString()):t),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((r,t,i)=>r+`
${i?" ":lF.pointerSmall} ${Jp.red().italic(t)}`,"")),this.out.write(uF.line+CD.to(0)+this.outputText))}};TD.exports=Yp});var OD=T((Qq,kD)=>{"use strict";function PD(e,r,t,i,n,s,o){try{var a=e[s](o),l=a.value}catch(u){t(u);return}a.done?r(l):Promise.resolve(l).then(i,n)}function ID(e){return function(){var r=this,t=arguments;return new Promise(function(i,n){var s=e.apply(r,t);function o(l){PD(s,i,n,o,a,"next",l)}function a(l){PD(s,i,n,o,a,"throw",l)}o(void 0)})}}var Al=Ze(),xF=Ni(),FD=$e(),Pl=FD.cursor,EF=FD.erase,Il=Nr(),Qp=Il.style,CF=Il.figures,_D=Il.clear,SF=Il.lines,vF=/[0-9]/,Zp=e=>e!==void 0,ND=(e,r)=>{let t=Math.pow(10,r);return Math.round(e*t)/t},ed=class extends xF{constructor(r={}){super(r),this.transform=Qp.render(r.style),this.msg=r.message,this.initial=Zp(r.initial)?r.initial:"",this.float=!!r.float,this.round=r.round||2,this.inc=r.increment||1,this.min=Zp(r.min)?r.min:-1/0,this.max=Zp(r.max)?r.max:1/0,this.errorMsg=r.error||"Please Enter A Valid Value",this.validator=r.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(r){!r&&r!==0?(this.placeholder=!0,this.rendered=Al.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${ND(r,this.round)}`),this._value=ND(r,this.round)),this.fire()}get value(){return this._value}parse(r){return this.float?parseFloat(r):parseInt(r)}valid(r){return r==="-"||r==="."&&this.float||vF.test(r)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let r=this.value;this.value=r!==""?r:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var r=this;return ID(function*(){let t=yield r.validator(r.value);typeof t=="string"&&(r.errorMsg=t,t=!1),r.error=!t})()}submit(){var r=this;return ID(function*(){if(yield r.validate(),r.error){r.color="red",r.fire(),r.render();return}let t=r.value;r.value=t!==""?t:r.initial,r.done=!0,r.aborted=!1,r.error=!1,r.fire(),r.render(),r.out.write(`
`),r.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let r=this.value.toString();if(r.length===0)return this.bell();this.value=this.parse(r=r.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(r,t){if(!this.valid(r))return this.bell();let i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=r,this.lastHit=i,this.color="cyan",r===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Pl.down(SF(this.outputError,this.out.columns)-1)+_D(this.outputError,this.out.columns)),this.out.write(_D(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Qp.symbol(this.done,this.aborted),Al.bold(this.msg),Qp.delimiter(this.done),!this.done||!this.done&&!this.placeholder?Al[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((r,t,i)=>r+`
${i?" ":CF.pointerSmall} ${Al.red().italic(t)}`,"")),this.out.write(EF.line+Pl.to(0)+this.outputText+Pl.save+this.outputError+Pl.restore))}};kD.exports=ed});var rd=T((Zq,MD)=>{"use strict";var ni=Ze(),wF=$e(),TF=wF.cursor,AF=Ni(),Ro=Nr(),RD=Ro.clear,cn=Ro.figures,LD=Ro.style,PF=Ro.wrap,IF=Ro.entriesToDisplay,td=class extends AF{constructor(r={}){super(r),this.msg=r.message,this.cursor=r.cursor||0,this.scrollIndex=r.cursor||0,this.hint=r.hint||"",this.warn=r.warn||"- This option is disabled -",this.minSelected=r.min,this.showMinError=!1,this.maxChoices=r.max,this.instructions=r.instructions,this.optionsPerPage=r.optionsPerPage||10,this.value=r.choices.map((t,i)=>(typeof t=="string"&&(t={title:t,value:i}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(t.value===void 0?i:t.value),selected:t&&t.selected,disabled:t&&t.disabled})),this.clear=RD("",this.out.columns),r.overrideRender||this.render()}reset(){this.value.map(r=>!r.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(r=>r.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let r=this.value.filter(t=>t.selected);this.minSelected&&r.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let r=this.value[this.cursor];if(r.selected)r.selected=!1,this.render();else{if(r.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();r.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let r=!this.value[this.cursor].selected;this.value.filter(t=>!t.disabled).forEach(t=>t.selected=r),this.render()}_(r,t){if(r===" ")this.handleSpaceToggle();else if(r==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${cn.arrowUp}/${cn.arrowDown}: Highlight option
    ${cn.arrowLeft}/${cn.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(r,t,i,n){let s=(t.selected?ni.green(cn.radioOn):cn.radioOff)+" "+n+" ",o,a;return t.disabled?o=r===i?ni.gray().underline(t.title):ni.strikethrough().gray(t.title):(o=r===i?ni.cyan().underline(t.title):t.title,r===i&&t.description&&(a=` - ${t.description}`,(s.length+o.length+a.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(a=`
`+PF(t.description,{margin:s.length,width:this.out.columns})))),s+o+ni.gray(a||"")}paginateOptions(r){if(r.length===0)return ni.red("No matches for this query.");let t=IF(this.cursor,r.length,this.optionsPerPage),i=t.startIndex,n=t.endIndex,s,o=[];for(let a=i;a<n;a++)a===i&&i>0?s=cn.arrowUp:a===n-1&&n<r.length?s=cn.arrowDown:s=" ",o.push(this.renderOption(this.cursor,r[a],a,s));return`
`+o.join(`
`)}renderOptions(r){return this.done?"":this.paginateOptions(r)}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let r=[ni.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&r.push(ni.yellow(this.warn)),r.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(TF.hide),super.render();let r=[LD.symbol(this.done,this.aborted),ni.bold(this.msg),LD.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(r+=ni.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),r+=this.renderOptions(this.value),this.out.write(this.clear+r),this.clear=RD(r,this.out.columns)}};MD.exports=td});var VD=T((eK,KD)=>{"use strict";function BD(e,r,t,i,n,s,o){try{var a=e[s](o),l=a.value}catch(u){t(u);return}a.done?r(l):Promise.resolve(l).then(i,n)}function _F(e){return function(){var r=this,t=arguments;return new Promise(function(i,n){var s=e.apply(r,t);function o(l){BD(s,i,n,o,a,"next",l)}function a(l){BD(s,i,n,o,a,"throw",l)}o(void 0)})}}var Lo=Ze(),NF=Ni(),qD=$e(),FF=qD.erase,$D=qD.cursor,Mo=Nr(),id=Mo.style,UD=Mo.clear,nd=Mo.figures,kF=Mo.wrap,OF=Mo.entriesToDisplay,jD=(e,r)=>e[r]&&(e[r].value||e[r].title||e[r]),RF=(e,r)=>e[r]&&(e[r].title||e[r].value||e[r]),LF=(e,r)=>{let t=e.findIndex(i=>i.value===r||i.title===r);return t>-1?t:void 0},sd=class extends NF{constructor(r={}){super(r),this.msg=r.message,this.suggest=r.suggest,this.choices=r.choices,this.initial=typeof r.initial=="number"?r.initial:LF(r.choices,r.initial),this.select=this.initial||r.cursor||0,this.i18n={noMatches:r.noMatches||"no matches found"},this.fallback=r.fallback||this.initial,this.clearFirst=r.clearFirst||!1,this.suggestions=[],this.input="",this.limit=r.limit||10,this.cursor=0,this.transform=id.render(r.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=UD("",this.out.columns),this.complete(this.render),this.render()}set fallback(r){this._fb=Number.isSafeInteger(parseInt(r))?parseInt(r):r}get fallback(){let r;return typeof this._fb=="number"?r=this.choices[this._fb]:typeof this._fb=="string"&&(r={title:this._fb}),r||this._fb||{title:this.i18n.noMatches}}moveSelect(r){this.select=r,this.suggestions.length>0?this.value=jD(this.suggestions,r):this.value=this.fallback.value,this.fire()}complete(r){var t=this;return _F(function*(){let i=t.completing=t.suggest(t.input,t.choices),n=yield i;if(t.completing!==i)return;t.suggestions=n.map((o,a,l)=>({title:RF(l,a),value:jD(l,a),description:o.description})),t.completing=!1;let s=Math.max(n.length-1,0);t.moveSelect(Math.min(s,t.select)),r&&r()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(r,t){let i=this.input.slice(0,this.cursor),n=this.input.slice(this.cursor);this.input=`${i}${r}${n}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let r=this.input.slice(0,this.cursor-1),t=this.input.slice(this.cursor);this.input=`${r}${t}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let r=this.input.slice(0,this.cursor),t=this.input.slice(this.cursor+1);this.input=`${r}${t}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(r,t,i,n){let s,o=i?nd.arrowUp:n?nd.arrowDown:" ",a=t?Lo.cyan().underline(r.title):r.title;return o=(t?Lo.cyan(nd.pointer)+" ":"  ")+o,r.description&&(s=` - ${r.description}`,(o.length+a.length+s.length>=this.out.columns||r.description.split(/\r?\n/).length>1)&&(s=`
`+kF(r.description,{margin:3,width:this.out.columns}))),o+" "+a+Lo.gray(s||"")}render(){if(this.closed)return;this.firstRender?this.out.write($D.hide):this.out.write(UD(this.outputText,this.out.columns)),super.render();let r=OF(this.select,this.choices.length,this.limit),t=r.startIndex,i=r.endIndex;if(this.outputText=[id.symbol(this.done,this.aborted,this.exited),Lo.bold(this.msg),id.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let n=this.suggestions.slice(t,i).map((s,o)=>this.renderOption(s,this.select===o+t,o===0&&t>0,o+t===i-1&&i<this.choices.length)).join(`
`);this.outputText+=`
`+(n||Lo.gray(this.fallback.title))}this.out.write(FF.line+$D.to(0)+this.outputText)}};KD.exports=sd});var HD=T((tK,GD)=>{"use strict";var Oi=Ze(),MF=$e(),BF=MF.cursor,$F=rd(),ad=Nr(),zD=ad.clear,WD=ad.style,ys=ad.figures,od=class extends $F{constructor(r={}){r.overrideRender=!0,super(r),this.inputValue="",this.clear=zD("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let r=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(i=>this.inputValue?!!(typeof i.title=="string"&&i.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof i.value=="string"&&i.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let t=this.filteredOptions.findIndex(i=>i===r);this.cursor=t<0?0:t,this.render()}handleSpaceToggle(){let r=this.filteredOptions[this.cursor];if(r.selected)r.selected=!1,this.render();else{if(r.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();r.selected=!0,this.render()}}handleInputChange(r){this.inputValue=this.inputValue+r,this.updateFilteredOptions()}_(r,t){r===" "?this.handleSpaceToggle():this.handleInputChange(r)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${ys.arrowUp}/${ys.arrowDown}: Highlight option
    ${ys.arrowLeft}/${ys.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:Oi.gray("Enter something to filter")}
`}renderOption(r,t,i){let n;return t.disabled?n=r===i?Oi.gray().underline(t.title):Oi.strikethrough().gray(t.title):n=r===i?Oi.cyan().underline(t.title):t.title,(t.selected?Oi.green(ys.radioOn):ys.radioOff)+"  "+n}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let r=[Oi.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&r.push(Oi.yellow(this.warn)),r.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(BF.hide),super.render();let r=[WD.symbol(this.done,this.aborted),Oi.bold(this.msg),WD.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(r+=Oi.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),r+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+r),this.clear=zD(r,this.out.columns)}};GD.exports=od});var tx=T((rK,ex)=>{"use strict";var JD=Ze(),UF=Ni(),QD=Nr(),YD=QD.style,jF=QD.clear,ZD=$e(),qF=ZD.erase,XD=ZD.cursor,ld=class extends UF{constructor(r={}){super(r),this.msg=r.message,this.value=r.initial,this.initialValue=!!r.initial,this.yesMsg=r.yes||"yes",this.yesOption=r.yesOption||"(Y/n)",this.noMsg=r.no||"no",this.noOption=r.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(r,t){return r.toLowerCase()==="y"?(this.value=!0,this.submit()):r.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(XD.hide):this.out.write(jF(this.outputText,this.out.columns)),super.render(),this.outputText=[YD.symbol(this.done,this.aborted),JD.bold(this.msg),YD.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:JD.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(qF.line+XD.to(0)+this.outputText))}};ex.exports=ld});var ix=T((iK,rx)=>{"use strict";rx.exports={TextPrompt:qb(),SelectPrompt:Wb(),TogglePrompt:Qb(),DatePrompt:AD(),NumberPrompt:OD(),MultiselectPrompt:rd(),AutocompletePrompt:VD(),AutocompleteMultiselectPrompt:HD(),ConfirmPrompt:tx()}});var sx=T(nx=>{"use strict";var Yt=nx,KF=ix(),_l=e=>e;function si(e,r,t={}){return new Promise((i,n)=>{let s=new KF[e](r),o=t.onAbort||_l,a=t.onSubmit||_l,l=t.onExit||_l;s.on("state",r.onState||_l),s.on("submit",u=>i(a(u))),s.on("exit",u=>i(l(u))),s.on("abort",u=>n(o(u)))})}Yt.text=e=>si("TextPrompt",e);Yt.password=e=>(e.style="password",Yt.text(e));Yt.invisible=e=>(e.style="invisible",Yt.text(e));Yt.number=e=>si("NumberPrompt",e);Yt.date=e=>si("DatePrompt",e);Yt.confirm=e=>si("ConfirmPrompt",e);Yt.list=e=>{let r=e.separator||",";return si("TextPrompt",e,{onSubmit:t=>t.split(r).map(i=>i.trim())})};Yt.toggle=e=>si("TogglePrompt",e);Yt.select=e=>si("SelectPrompt",e);Yt.multiselect=e=>{e.choices=[].concat(e.choices||[]);let r=t=>t.filter(i=>i.selected).map(i=>i.value);return si("MultiselectPrompt",e,{onAbort:r,onSubmit:r})};Yt.autocompleteMultiselect=e=>{e.choices=[].concat(e.choices||[]);let r=t=>t.filter(i=>i.selected).map(i=>i.value);return si("AutocompleteMultiselectPrompt",e,{onAbort:r,onSubmit:r})};var VF=(e,r)=>Promise.resolve(r.filter(t=>t.title.slice(0,e.length).toLowerCase()===e.toLowerCase()));Yt.autocomplete=e=>(e.suggest=e.suggest||VF,e.choices=[].concat(e.choices||[]),si("AutocompletePrompt",e))});var fx=T((sK,dx)=>{"use strict";function ox(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function ax(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ox(Object(t),!0).forEach(function(i){zF(e,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ox(Object(t)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}return e}function zF(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function WF(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=GF(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){t=t.call(e)},n:function(){var u=t.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(o)throw a}}}}function GF(e,r){if(e){if(typeof e=="string")return lx(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lx(e,r)}}function lx(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,i=new Array(r);t<r;t++)i[t]=e[t];return i}function ux(e,r,t,i,n,s,o){try{var a=e[s](o),l=a.value}catch(u){t(u);return}a.done?r(l):Promise.resolve(l).then(i,n)}function cx(e){return function(){var r=this,t=arguments;return new Promise(function(i,n){var s=e.apply(r,t);function o(l){ux(s,i,n,o,a,"next",l)}function a(l){ux(s,i,n,o,a,"throw",l)}o(void 0)})}}var ud=sx(),HF=["suggest","format","onState","validate","onRender","type"],px=()=>{};function pn(){return cd.apply(this,arguments)}function cd(){return cd=cx(function*(e=[],{onSubmit:r=px,onCancel:t=px}={}){let i={},n=pn._override||{};e=[].concat(e);let s,o,a,l,u,c,p=function(){var m=cx(function*(y,b,C=!1){if(!(!C&&y.validate&&y.validate(b)!==!0))return y.format?yield y.format(b,i):b});return function(b,C){return m.apply(this,arguments)}}();var d=WF(e),h;try{for(d.s();!(h=d.n()).done;){o=h.value;var f=o;if(l=f.name,u=f.type,typeof u=="function"&&(u=yield u(s,ax({},i),o),o.type=u),!!u){for(let m in o){if(HF.includes(m))continue;let y=o[m];o[m]=typeof y=="function"?yield y(s,ax({},i),c):y}if(c=o,typeof o.message!="string")throw new Error("prompt message is required");var g=o;if(l=g.name,u=g.type,ud[u]===void 0)throw new Error(`prompt type (${u}) is not defined`);if(n[o.name]!==void 0&&(s=yield p(o,n[o.name]),s!==void 0)){i[l]=s;continue}try{s=pn._injected?JF(pn._injected,o.initial):yield ud[u](o),i[l]=s=yield p(o,s,!0),a=yield r(o,s,i)}catch{a=!(yield t(o,i))}if(a)return i}}}catch(m){d.e(m)}finally{d.f()}return i}),cd.apply(this,arguments)}function JF(e,r){let t=e.shift();if(t instanceof Error)throw t;return t===void 0?r:t}function YF(e){pn._injected=(pn._injected||[]).concat(e)}function XF(e){pn._override=Object.assign({},e)}dx.exports=Object.assign(pn,{prompt:pn,prompts:ud,inject:YF,override:XF})});var mx=T((oK,hx)=>{"use strict";hx.exports=(e,r)=>{if(!(e.meta&&e.name!=="escape")){if(e.ctrl){if(e.name==="a")return"first";if(e.name==="c"||e.name==="d")return"abort";if(e.name==="e")return"last";if(e.name==="g")return"reset"}if(r){if(e.name==="j")return"down";if(e.name==="k")return"up"}return e.name==="return"||e.name==="enter"?"submit":e.name==="backspace"?"delete":e.name==="delete"?"deleteForward":e.name==="abort"?"abort":e.name==="escape"?"exit":e.name==="tab"?"next":e.name==="pagedown"?"nextPage":e.name==="pageup"?"prevPage":e.name==="home"?"home":e.name==="end"?"end":e.name==="up"?"up":e.name==="down"?"down":e.name==="right"?"right":e.name==="left"?"left":!1}}});var Nl=T((aK,gx)=>{"use strict";gx.exports=e=>{let r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),t=new RegExp(r,"g");return typeof e=="string"?e.replace(t,""):e}});var Dx=T((lK,bx)=>{"use strict";var QF=Nl(),{erase:yx,cursor:ZF}=$e(),ek=e=>[...QF(e)].length;bx.exports=function(e,r){if(!r)return yx.line+ZF.to(0);let t=0,i=e.split(/\r?\n/);for(let n of i)t+=1+Math.floor(Math.max(ek(n)-1,0)/r);return yx.lines(t)}});var pd=T((uK,xx)=>{"use strict";var Bo={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},tk={arrowUp:Bo.arrowUp,arrowDown:Bo.arrowDown,arrowLeft:Bo.arrowLeft,arrowRight:Bo.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},rk=process.platform==="win32"?tk:Bo;xx.exports=rk});var Cx=T((cK,Ex)=>{"use strict";var bs=Ze(),Un=pd(),dd=Object.freeze({password:{scale:1,render:e=>"*".repeat(e.length)},emoji:{scale:2,render:e=>"\u{1F603}".repeat(e.length)},invisible:{scale:0,render:e=>""},default:{scale:1,render:e=>`${e}`}}),ik=e=>dd[e]||dd.default,$o=Object.freeze({aborted:bs.red(Un.cross),done:bs.green(Un.tick),exited:bs.yellow(Un.cross),default:bs.cyan("?")}),nk=(e,r,t)=>r?$o.aborted:t?$o.exited:e?$o.done:$o.default,sk=e=>bs.gray(e?Un.ellipsis:Un.pointerSmall),ok=(e,r)=>bs.gray(e?r?Un.pointerSmall:"+":Un.line);Ex.exports={styles:dd,render:ik,symbols:$o,symbol:nk,delimiter:sk,item:ok}});var vx=T((pK,Sx)=>{"use strict";var ak=Nl();Sx.exports=function(e,r){let t=String(ak(e)||"").split(/\r?\n/);return r?t.map(i=>Math.ceil(i.length/r)).reduce((i,n)=>i+n):t.length}});var Tx=T((dK,wx)=>{"use strict";wx.exports=(e,r={})=>{let t=Number.isSafeInteger(parseInt(r.margin))?new Array(parseInt(r.margin)).fill(" ").join(""):r.margin||"",i=r.width;return(e||"").split(/\r?\n/g).map(n=>n.split(/\s+/g).reduce((s,o)=>(o.length+t.length>=i||s[s.length-1].length+o.length+1<i?s[s.length-1]+=` ${o}`:s.push(`${t}${o}`),s),[t]).join(`
`)).join(`
`)}});var Px=T((fK,Ax)=>{"use strict";Ax.exports=(e,r,t)=>{t=t||r;let i=Math.min(r-t,e-Math.floor(t/2));i<0&&(i=0);let n=Math.min(i+t,r);return{startIndex:i,endIndex:n}}});var Fr=T((hK,Ix)=>{"use strict";Ix.exports={action:mx(),clear:Dx(),style:Cx(),strip:Nl(),figures:pd(),lines:vx(),wrap:Tx(),entriesToDisplay:Px()}});var Ri=T((mK,Nx)=>{"use strict";var _x=require("readline"),{action:lk}=Fr(),uk=require("events"),{beep:ck,cursor:pk}=$e(),dk=Ze(),fd=class extends uk{constructor(r={}){super(),this.firstRender=!0,this.in=r.stdin||process.stdin,this.out=r.stdout||process.stdout,this.onRender=(r.onRender||(()=>{})).bind(this);let t=_x.createInterface({input:this.in,escapeCodeTimeout:50});_x.emitKeypressEvents(this.in,t),this.in.isTTY&&this.in.setRawMode(!0);let i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,n=(s,o)=>{let a=lk(o,i);a===!1?this._&&this._(s,o):typeof this[a]=="function"?this[a](o):this.bell()};this.close=()=>{this.out.write(pk.show),this.in.removeListener("keypress",n),this.in.isTTY&&this.in.setRawMode(!1),t.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",n)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(ck)}render(){this.onRender(dk),this.firstRender&&(this.firstRender=!1)}};Nx.exports=fd});var kx=T((gK,Fx)=>{var Fl=Ze(),fk=Ri(),{erase:hk,cursor:Uo}=$e(),{style:hd,clear:md,lines:mk,figures:gk}=Fr(),gd=class extends fk{constructor(r={}){super(r),this.transform=hd.render(r.style),this.scale=this.transform.scale,this.msg=r.message,this.initial=r.initial||"",this.validator=r.validate||(()=>!0),this.value="",this.errorMsg=r.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=md("",this.out.columns),this.render()}set value(r){!r&&this.initial?(this.placeholder=!0,this.rendered=Fl.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(r)),this._value=r,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let r=await this.validator(this.value);typeof r=="string"&&(this.errorMsg=r,r=!1),this.error=!r}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(r){this.placeholder||(this.cursor=this.cursor+r,this.cursorOffset+=r)}_(r,t){let i=this.value.slice(0,this.cursor),n=this.value.slice(this.cursor);this.value=`${i}${r}${n}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let r=this.value.slice(0,this.cursor-1),t=this.value.slice(this.cursor);this.value=`${r}${t}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let r=this.value.slice(0,this.cursor),t=this.value.slice(this.cursor+1);this.value=`${r}${t}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Uo.down(mk(this.outputError,this.out.columns)-1)+md(this.outputError,this.out.columns)),this.out.write(md(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[hd.symbol(this.done,this.aborted),Fl.bold(this.msg),hd.delimiter(this.done),this.red?Fl.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((r,t,i)=>r+`
${i?" ":gk.pointerSmall} ${Fl.red().italic(t)}`,"")),this.out.write(hk.line+Uo.to(0)+this.outputText+Uo.save+this.outputError+Uo.restore+Uo.move(this.cursorOffset,0)))}};Fx.exports=gd});var Mx=T((yK,Lx)=>{"use strict";var Li=Ze(),yk=Ri(),{style:Ox,clear:Rx,figures:kl,wrap:bk,entriesToDisplay:Dk}=Fr(),{cursor:xk}=$e(),yd=class extends yk{constructor(r={}){super(r),this.msg=r.message,this.hint=r.hint||"- Use arrow-keys. Return to submit.",this.warn=r.warn||"- This option is disabled",this.cursor=r.initial||0,this.choices=r.choices.map((t,i)=>(typeof t=="string"&&(t={title:t,value:i}),{title:t&&(t.title||t.value||t),value:t&&(t.value===void 0?i:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled})),this.optionsPerPage=r.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=Rx("",this.out.columns),this.render()}moveCursor(r){this.cursor=r,this.value=this.choices[r].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(r,t){if(r===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(xk.hide):this.out.write(Rx(this.outputText,this.out.columns)),super.render();let{startIndex:r,endIndex:t}=Dk(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[Ox.symbol(this.done,this.aborted),Li.bold(this.msg),Ox.delimiter(!1),this.done?this.selection.title:this.selection.disabled?Li.yellow(this.warn):Li.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let i=r;i<t;i++){let n,s,o="",a=this.choices[i];i===r&&r>0?s=kl.arrowUp:i===t-1&&t<this.choices.length?s=kl.arrowDown:s=" ",a.disabled?(n=this.cursor===i?Li.gray().underline(a.title):Li.strikethrough().gray(a.title),s=(this.cursor===i?Li.bold().gray(kl.pointer)+" ":"  ")+s):(n=this.cursor===i?Li.cyan().underline(a.title):a.title,s=(this.cursor===i?Li.cyan(kl.pointer)+" ":"  ")+s,a.description&&this.cursor===i&&(o=` - ${a.description}`,(s.length+n.length+o.length>=this.out.columns||a.description.split(/\r?\n/).length>1)&&(o=`
`+bk(a.description,{margin:3,width:this.out.columns})))),this.outputText+=`${s} ${n}${Li.gray(o)}
`}}this.out.write(this.outputText)}};Lx.exports=yd});var jx=T((bK,Ux)=>{var Ol=Ze(),Ek=Ri(),{style:Bx,clear:Ck}=Fr(),{cursor:$x,erase:Sk}=$e(),bd=class extends Ek{constructor(r={}){super(r),this.msg=r.message,this.value=!!r.initial,this.active=r.active||"on",this.inactive=r.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(r,t){if(r===" ")this.value=!this.value;else if(r==="1")this.value=!0;else if(r==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write($x.hide):this.out.write(Ck(this.outputText,this.out.columns)),super.render(),this.outputText=[Bx.symbol(this.done,this.aborted),Ol.bold(this.msg),Bx.delimiter(this.done),this.value?this.inactive:Ol.cyan().underline(this.inactive),Ol.gray("/"),this.value?Ol.cyan().underline(this.active):this.active].join(" "),this.out.write(Sk.line+$x.to(0)+this.outputText))}};Ux.exports=bd});var oi=T((DK,qx)=>{"use strict";var Dd=class e{constructor({token:r,date:t,parts:i,locales:n}){this.token=r,this.date=t||new Date,this.parts=i||[this],this.locales=n||{}}up(){}down(){}next(){let r=this.parts.indexOf(this);return this.parts.find((t,i)=>i>r&&t instanceof e)}setTo(r){}prev(){let r=[].concat(this.parts).reverse(),t=r.indexOf(this);return r.find((i,n)=>n>t&&i instanceof e)}toString(){return String(this.date)}};qx.exports=Dd});var Vx=T((xK,Kx)=>{"use strict";var vk=oi(),xd=class extends vk{constructor(r={}){super(r)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let r=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?r.toUpperCase():r}};Kx.exports=xd});var Wx=T((EK,zx)=>{"use strict";var wk=oi(),Tk=e=>(e=e%10,e===1?"st":e===2?"nd":e===3?"rd":"th"),Ed=class extends wk{constructor(r={}){super(r)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(r){this.date.setDate(parseInt(r.substr(-2)))}toString(){let r=this.date.getDate(),t=this.date.getDay();return this.token==="DD"?String(r).padStart(2,"0"):this.token==="Do"?r+Tk(r):this.token==="d"?t+1:this.token==="ddd"?this.locales.weekdaysShort[t]:this.token==="dddd"?this.locales.weekdays[t]:r}};zx.exports=Ed});var Hx=T((CK,Gx)=>{"use strict";var Ak=oi(),Cd=class extends Ak{constructor(r={}){super(r)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(r){this.date.setHours(parseInt(r.substr(-2)))}toString(){let r=this.date.getHours();return/h/.test(this.token)&&(r=r%12||12),this.token.length>1?String(r).padStart(2,"0"):r}};Gx.exports=Cd});var Yx=T((SK,Jx)=>{"use strict";var Pk=oi(),Sd=class extends Pk{constructor(r={}){super(r)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(r){this.date.setMilliseconds(parseInt(r.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};Jx.exports=Sd});var Qx=T((vK,Xx)=>{"use strict";var Ik=oi(),vd=class extends Ik{constructor(r={}){super(r)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(r){this.date.setMinutes(parseInt(r.substr(-2)))}toString(){let r=this.date.getMinutes();return this.token.length>1?String(r).padStart(2,"0"):r}};Xx.exports=vd});var eE=T((wK,Zx)=>{"use strict";var _k=oi(),wd=class extends _k{constructor(r={}){super(r)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(r){r=parseInt(r.substr(-2))-1,this.date.setMonth(r<0?0:r)}toString(){let r=this.date.getMonth(),t=this.token.length;return t===2?String(r+1).padStart(2,"0"):t===3?this.locales.monthsShort[r]:t===4?this.locales.months[r]:String(r+1)}};Zx.exports=wd});var rE=T((TK,tE)=>{"use strict";var Nk=oi(),Td=class extends Nk{constructor(r={}){super(r)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(r){this.date.setSeconds(parseInt(r.substr(-2)))}toString(){let r=this.date.getSeconds();return this.token.length>1?String(r).padStart(2,"0"):r}};tE.exports=Td});var nE=T((AK,iE)=>{"use strict";var Fk=oi(),Ad=class extends Fk{constructor(r={}){super(r)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(r){this.date.setFullYear(r.substr(-4))}toString(){let r=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?r.substr(-2):r}};iE.exports=Ad});var oE=T((PK,sE)=>{"use strict";sE.exports={DatePart:oi(),Meridiem:Vx(),Day:Wx(),Hours:Hx(),Milliseconds:Yx(),Minutes:Qx(),Month:eE(),Seconds:rE(),Year:nE()}});var fE=T((IK,dE)=>{"use strict";var Pd=Ze(),kk=Ri(),{style:aE,clear:lE,figures:Ok}=Fr(),{erase:Rk,cursor:uE}=$e(),{DatePart:cE,Meridiem:Lk,Day:Mk,Hours:Bk,Milliseconds:$k,Minutes:Uk,Month:jk,Seconds:qk,Year:Kk}=oE(),Vk=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,pE={1:({token:e})=>e.replace(/\\(.)/g,"$1"),2:e=>new Mk(e),3:e=>new jk(e),4:e=>new Kk(e),5:e=>new Lk(e),6:e=>new Bk(e),7:e=>new Uk(e),8:e=>new qk(e),9:e=>new $k(e)},zk={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},Id=class extends kk{constructor(r={}){super(r),this.msg=r.message,this.cursor=0,this.typed="",this.locales=Object.assign(zk,r.locales),this._date=r.initial||new Date,this.errorMsg=r.error||"Please Enter A Valid Value",this.validator=r.validate||(()=>!0),this.mask=r.mask||"YYYY-MM-DD HH:mm:ss",this.clear=lE("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(r){r&&this._date.setTime(r.getTime())}set mask(r){let t;for(this.parts=[];t=Vk.exec(r);){let n=t.shift(),s=t.findIndex(o=>o!=null);this.parts.push(s in pE?pE[s]({token:t[s]||n,date:this.date,parts:this.parts,locales:this.locales}):t[s]||n)}let i=this.parts.reduce((n,s)=>(typeof s=="string"&&typeof n[n.length-1]=="string"?n[n.length-1]+=s:n.push(s),n),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(r){this.typed="",this.cursor=r,this.fire()}reset(){this.moveCursor(this.parts.findIndex(r=>r instanceof cE)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let r=await this.validator(this.value);typeof r=="string"&&(this.errorMsg=r,r=!1),this.error=!r}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let r=this.parts[this.cursor].prev();if(r==null)return this.bell();this.moveCursor(this.parts.indexOf(r)),this.render()}right(){let r=this.parts[this.cursor].next();if(r==null)return this.bell();this.moveCursor(this.parts.indexOf(r)),this.render()}next(){let r=this.parts[this.cursor].next();this.moveCursor(r?this.parts.indexOf(r):this.parts.findIndex(t=>t instanceof cE)),this.render()}_(r){/\d/.test(r)&&(this.typed+=r,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(uE.hide):this.out.write(lE(this.outputText,this.out.columns)),super.render(),this.outputText=[aE.symbol(this.done,this.aborted),Pd.bold(this.msg),aE.delimiter(!1),this.parts.reduce((r,t,i)=>r.concat(i===this.cursor&&!this.done?Pd.cyan().underline(t.toString()):t),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((r,t,i)=>r+`
${i?" ":Ok.pointerSmall} ${Pd.red().italic(t)}`,"")),this.out.write(Rk.line+uE.to(0)+this.outputText))}};dE.exports=Id});var yE=T((_K,gE)=>{var Rl=Ze(),Wk=Ri(),{cursor:Ll,erase:Gk}=$e(),{style:_d,figures:Hk,clear:hE,lines:Jk}=Fr(),Yk=/[0-9]/,Nd=e=>e!==void 0,mE=(e,r)=>{let t=Math.pow(10,r);return Math.round(e*t)/t},Fd=class extends Wk{constructor(r={}){super(r),this.transform=_d.render(r.style),this.msg=r.message,this.initial=Nd(r.initial)?r.initial:"",this.float=!!r.float,this.round=r.round||2,this.inc=r.increment||1,this.min=Nd(r.min)?r.min:-1/0,this.max=Nd(r.max)?r.max:1/0,this.errorMsg=r.error||"Please Enter A Valid Value",this.validator=r.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(r){!r&&r!==0?(this.placeholder=!0,this.rendered=Rl.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${mE(r,this.round)}`),this._value=mE(r,this.round)),this.fire()}get value(){return this._value}parse(r){return this.float?parseFloat(r):parseInt(r)}valid(r){return r==="-"||r==="."&&this.float||Yk.test(r)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let r=this.value;this.value=r!==""?r:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let r=await this.validator(this.value);typeof r=="string"&&(this.errorMsg=r,r=!1),this.error=!r}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let r=this.value;this.value=r!==""?r:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let r=this.value.toString();if(r.length===0)return this.bell();this.value=this.parse(r=r.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(r,t){if(!this.valid(r))return this.bell();let i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=r,this.lastHit=i,this.color="cyan",r===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Ll.down(Jk(this.outputError,this.out.columns)-1)+hE(this.outputError,this.out.columns)),this.out.write(hE(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[_d.symbol(this.done,this.aborted),Rl.bold(this.msg),_d.delimiter(this.done),!this.done||!this.done&&!this.placeholder?Rl[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((r,t,i)=>r+`
${i?" ":Hk.pointerSmall} ${Rl.red().italic(t)}`,"")),this.out.write(Gk.line+Ll.to(0)+this.outputText+Ll.save+this.outputError+Ll.restore))}};gE.exports=Fd});var Od=T((NK,xE)=>{"use strict";var ai=Ze(),{cursor:Xk}=$e(),Qk=Ri(),{clear:bE,figures:dn,style:DE,wrap:Zk,entriesToDisplay:e2}=Fr(),kd=class extends Qk{constructor(r={}){super(r),this.msg=r.message,this.cursor=r.cursor||0,this.scrollIndex=r.cursor||0,this.hint=r.hint||"",this.warn=r.warn||"- This option is disabled -",this.minSelected=r.min,this.showMinError=!1,this.maxChoices=r.max,this.instructions=r.instructions,this.optionsPerPage=r.optionsPerPage||10,this.value=r.choices.map((t,i)=>(typeof t=="string"&&(t={title:t,value:i}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(t.value===void 0?i:t.value),selected:t&&t.selected,disabled:t&&t.disabled})),this.clear=bE("",this.out.columns),r.overrideRender||this.render()}reset(){this.value.map(r=>!r.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(r=>r.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let r=this.value.filter(t=>t.selected);this.minSelected&&r.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let r=this.value[this.cursor];if(r.selected)r.selected=!1,this.render();else{if(r.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();r.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let r=!this.value[this.cursor].selected;this.value.filter(t=>!t.disabled).forEach(t=>t.selected=r),this.render()}_(r,t){if(r===" ")this.handleSpaceToggle();else if(r==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${dn.arrowUp}/${dn.arrowDown}: Highlight option
    ${dn.arrowLeft}/${dn.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(r,t,i,n){let s=(t.selected?ai.green(dn.radioOn):dn.radioOff)+" "+n+" ",o,a;return t.disabled?o=r===i?ai.gray().underline(t.title):ai.strikethrough().gray(t.title):(o=r===i?ai.cyan().underline(t.title):t.title,r===i&&t.description&&(a=` - ${t.description}`,(s.length+o.length+a.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(a=`
`+Zk(t.description,{margin:s.length,width:this.out.columns})))),s+o+ai.gray(a||"")}paginateOptions(r){if(r.length===0)return ai.red("No matches for this query.");let{startIndex:t,endIndex:i}=e2(this.cursor,r.length,this.optionsPerPage),n,s=[];for(let o=t;o<i;o++)o===t&&t>0?n=dn.arrowUp:o===i-1&&i<r.length?n=dn.arrowDown:n=" ",s.push(this.renderOption(this.cursor,r[o],o,n));return`
`+s.join(`
`)}renderOptions(r){return this.done?"":this.paginateOptions(r)}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let r=[ai.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&r.push(ai.yellow(this.warn)),r.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Xk.hide),super.render();let r=[DE.symbol(this.done,this.aborted),ai.bold(this.msg),DE.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(r+=ai.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),r+=this.renderOptions(this.value),this.out.write(this.clear+r),this.clear=bE(r,this.out.columns)}};xE.exports=kd});var wE=T((FK,vE)=>{"use strict";var jo=Ze(),t2=Ri(),{erase:r2,cursor:EE}=$e(),{style:Rd,clear:CE,figures:Ld,wrap:i2,entriesToDisplay:n2}=Fr(),SE=(e,r)=>e[r]&&(e[r].value||e[r].title||e[r]),s2=(e,r)=>e[r]&&(e[r].title||e[r].value||e[r]),o2=(e,r)=>{let t=e.findIndex(i=>i.value===r||i.title===r);return t>-1?t:void 0},Md=class extends t2{constructor(r={}){super(r),this.msg=r.message,this.suggest=r.suggest,this.choices=r.choices,this.initial=typeof r.initial=="number"?r.initial:o2(r.choices,r.initial),this.select=this.initial||r.cursor||0,this.i18n={noMatches:r.noMatches||"no matches found"},this.fallback=r.fallback||this.initial,this.clearFirst=r.clearFirst||!1,this.suggestions=[],this.input="",this.limit=r.limit||10,this.cursor=0,this.transform=Rd.render(r.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=CE("",this.out.columns),this.complete(this.render),this.render()}set fallback(r){this._fb=Number.isSafeInteger(parseInt(r))?parseInt(r):r}get fallback(){let r;return typeof this._fb=="number"?r=this.choices[this._fb]:typeof this._fb=="string"&&(r={title:this._fb}),r||this._fb||{title:this.i18n.noMatches}}moveSelect(r){this.select=r,this.suggestions.length>0?this.value=SE(this.suggestions,r):this.value=this.fallback.value,this.fire()}async complete(r){let t=this.completing=this.suggest(this.input,this.choices),i=await t;if(this.completing!==t)return;this.suggestions=i.map((s,o,a)=>({title:s2(a,o),value:SE(a,o),description:s.description})),this.completing=!1;let n=Math.max(i.length-1,0);this.moveSelect(Math.min(n,this.select)),r&&r()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(r,t){let i=this.input.slice(0,this.cursor),n=this.input.slice(this.cursor);this.input=`${i}${r}${n}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let r=this.input.slice(0,this.cursor-1),t=this.input.slice(this.cursor);this.input=`${r}${t}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let r=this.input.slice(0,this.cursor),t=this.input.slice(this.cursor+1);this.input=`${r}${t}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(r,t,i,n){let s,o=i?Ld.arrowUp:n?Ld.arrowDown:" ",a=t?jo.cyan().underline(r.title):r.title;return o=(t?jo.cyan(Ld.pointer)+" ":"  ")+o,r.description&&(s=` - ${r.description}`,(o.length+a.length+s.length>=this.out.columns||r.description.split(/\r?\n/).length>1)&&(s=`
`+i2(r.description,{margin:3,width:this.out.columns}))),o+" "+a+jo.gray(s||"")}render(){if(this.closed)return;this.firstRender?this.out.write(EE.hide):this.out.write(CE(this.outputText,this.out.columns)),super.render();let{startIndex:r,endIndex:t}=n2(this.select,this.choices.length,this.limit);if(this.outputText=[Rd.symbol(this.done,this.aborted,this.exited),jo.bold(this.msg),Rd.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let i=this.suggestions.slice(r,t).map((n,s)=>this.renderOption(n,this.select===s+r,s===0&&r>0,s+r===t-1&&t<this.choices.length)).join(`
`);this.outputText+=`
`+(i||jo.gray(this.fallback.title))}this.out.write(r2.line+EE.to(0)+this.outputText)}};vE.exports=Md});var IE=T((kK,PE)=>{"use strict";var Mi=Ze(),{cursor:a2}=$e(),l2=Od(),{clear:TE,style:AE,figures:Ds}=Fr(),Bd=class extends l2{constructor(r={}){r.overrideRender=!0,super(r),this.inputValue="",this.clear=TE("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let r=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(i=>this.inputValue?!!(typeof i.title=="string"&&i.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof i.value=="string"&&i.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let t=this.filteredOptions.findIndex(i=>i===r);this.cursor=t<0?0:t,this.render()}handleSpaceToggle(){let r=this.filteredOptions[this.cursor];if(r.selected)r.selected=!1,this.render();else{if(r.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();r.selected=!0,this.render()}}handleInputChange(r){this.inputValue=this.inputValue+r,this.updateFilteredOptions()}_(r,t){r===" "?this.handleSpaceToggle():this.handleInputChange(r)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${Ds.arrowUp}/${Ds.arrowDown}: Highlight option
    ${Ds.arrowLeft}/${Ds.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:Mi.gray("Enter something to filter")}
`}renderOption(r,t,i){let n;return t.disabled?n=r===i?Mi.gray().underline(t.title):Mi.strikethrough().gray(t.title):n=r===i?Mi.cyan().underline(t.title):t.title,(t.selected?Mi.green(Ds.radioOn):Ds.radioOff)+"  "+n}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let r=[Mi.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&r.push(Mi.yellow(this.warn)),r.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(a2.hide),super.render();let r=[AE.symbol(this.done,this.aborted),Mi.bold(this.msg),AE.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(r+=Mi.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),r+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+r),this.clear=TE(r,this.out.columns)}};PE.exports=Bd});var OE=T((OK,kE)=>{var _E=Ze(),u2=Ri(),{style:NE,clear:c2}=Fr(),{erase:p2,cursor:FE}=$e(),$d=class extends u2{constructor(r={}){super(r),this.msg=r.message,this.value=r.initial,this.initialValue=!!r.initial,this.yesMsg=r.yes||"yes",this.yesOption=r.yesOption||"(Y/n)",this.noMsg=r.no||"no",this.noOption=r.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(r,t){return r.toLowerCase()==="y"?(this.value=!0,this.submit()):r.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(FE.hide):this.out.write(c2(this.outputText,this.out.columns)),super.render(),this.outputText=[NE.symbol(this.done,this.aborted),_E.bold(this.msg),NE.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:_E.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(p2.line+FE.to(0)+this.outputText))}};kE.exports=$d});var LE=T((RK,RE)=>{"use strict";RE.exports={TextPrompt:kx(),SelectPrompt:Mx(),TogglePrompt:jx(),DatePrompt:fE(),NumberPrompt:yE(),MultiselectPrompt:Od(),AutocompletePrompt:wE(),AutocompleteMultiselectPrompt:IE(),ConfirmPrompt:OE()}});var BE=T(ME=>{"use strict";var Xt=ME,d2=LE(),Ml=e=>e;function li(e,r,t={}){return new Promise((i,n)=>{let s=new d2[e](r),o=t.onAbort||Ml,a=t.onSubmit||Ml,l=t.onExit||Ml;s.on("state",r.onState||Ml),s.on("submit",u=>i(a(u))),s.on("exit",u=>i(l(u))),s.on("abort",u=>n(o(u)))})}Xt.text=e=>li("TextPrompt",e);Xt.password=e=>(e.style="password",Xt.text(e));Xt.invisible=e=>(e.style="invisible",Xt.text(e));Xt.number=e=>li("NumberPrompt",e);Xt.date=e=>li("DatePrompt",e);Xt.confirm=e=>li("ConfirmPrompt",e);Xt.list=e=>{let r=e.separator||",";return li("TextPrompt",e,{onSubmit:t=>t.split(r).map(i=>i.trim())})};Xt.toggle=e=>li("TogglePrompt",e);Xt.select=e=>li("SelectPrompt",e);Xt.multiselect=e=>{e.choices=[].concat(e.choices||[]);let r=t=>t.filter(i=>i.selected).map(i=>i.value);return li("MultiselectPrompt",e,{onAbort:r,onSubmit:r})};Xt.autocompleteMultiselect=e=>{e.choices=[].concat(e.choices||[]);let r=t=>t.filter(i=>i.selected).map(i=>i.value);return li("AutocompleteMultiselectPrompt",e,{onAbort:r,onSubmit:r})};var f2=(e,r)=>Promise.resolve(r.filter(t=>t.title.slice(0,e.length).toLowerCase()===e.toLowerCase()));Xt.autocomplete=e=>(e.suggest=e.suggest||f2,e.choices=[].concat(e.choices||[]),li("AutocompletePrompt",e))});var jE=T((MK,UE)=>{"use strict";var Ud=BE(),h2=["suggest","format","onState","validate","onRender","type"],$E=()=>{};async function fn(e=[],{onSubmit:r=$E,onCancel:t=$E}={}){let i={},n=fn._override||{};e=[].concat(e);let s,o,a,l,u,c,p=async(d,h,f=!1)=>{if(!(!f&&d.validate&&d.validate(h)!==!0))return d.format?await d.format(h,i):h};for(o of e)if({name:l,type:u}=o,typeof u=="function"&&(u=await u(s,{...i},o),o.type=u),!!u){for(let d in o){if(h2.includes(d))continue;let h=o[d];o[d]=typeof h=="function"?await h(s,{...i},c):h}if(c=o,typeof o.message!="string")throw new Error("prompt message is required");if({name:l,type:u}=o,Ud[u]===void 0)throw new Error(`prompt type (${u}) is not defined`);if(n[o.name]!==void 0&&(s=await p(o,n[o.name]),s!==void 0)){i[l]=s;continue}try{s=fn._injected?m2(fn._injected,o.initial):await Ud[u](o),i[l]=s=await p(o,s,!0),a=await r(o,s,i)}catch{a=!await t(o,i)}if(a)return i}return i}function m2(e,r){let t=e.shift();if(t instanceof Error)throw t;return t===void 0?r:t}function g2(e){fn._injected=(fn._injected||[]).concat(e)}function y2(e){fn._override=Object.assign({},e)}UE.exports=Object.assign(fn,{prompt:fn,prompts:Ud,inject:g2,override:y2})});var KE=T((BK,qE)=>{function b2(e){e=(Array.isArray(e)?e:e.split(".")).map(Number);let r=0,t=process.versions.node.split(".").map(Number);for(;r<e.length;r++){if(t[r]>e[r])return!1;if(e[r]>t[r])return!0}return!1}qE.exports=b2("8.6.0")?fx():jE()});var hC=T((oz,fC)=>{function tC(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(r=>{let t=e[r],i=typeof t;(i==="object"||i==="function")&&!Object.isFrozen(t)&&tC(t)}),e}var Wl=class{constructor(r){r.data===void 0&&(r.data={}),this.data=r.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function rC(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function mn(e,...r){let t=Object.create(null);for(let i in e)t[i]=e[i];return r.forEach(function(i){for(let n in i)t[n]=i[n]}),t}var Y2="</span>",J0=e=>!!e.scope,X2=(e,{prefix:r})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){let t=e.split(".");return[`${r}${t.shift()}`,...t.map((i,n)=>`${i}${"_".repeat(n+1)}`)].join(" ")}return`${r}${e}`},Wd=class{constructor(r,t){this.buffer="",this.classPrefix=t.classPrefix,r.walk(this)}addText(r){this.buffer+=rC(r)}openNode(r){if(!J0(r))return;let t=X2(r.scope,{prefix:this.classPrefix});this.span(t)}closeNode(r){J0(r)&&(this.buffer+=Y2)}value(){return this.buffer}span(r){this.buffer+=`<span class="${r}">`}},Y0=(e={})=>{let r={children:[]};return Object.assign(r,e),r},Gd=class e{constructor(){this.rootNode=Y0(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(r){this.top.children.push(r)}openNode(r){let t=Y0({scope:r});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(r){return this.constructor._walk(r,this.rootNode)}static _walk(r,t){return typeof t=="string"?r.addText(t):t.children&&(r.openNode(t),t.children.forEach(i=>this._walk(r,i)),r.closeNode(t)),r}static _collapse(r){typeof r!="string"&&r.children&&(r.children.every(t=>typeof t=="string")?r.children=[r.children.join("")]:r.children.forEach(t=>{e._collapse(t)}))}},Hd=class extends Gd{constructor(r){super(),this.options=r}addText(r){r!==""&&this.add(r)}startScope(r){this.openNode(r)}endScope(){this.closeNode()}__addSublanguage(r,t){let i=r.root;t&&(i.scope=`language:${t}`),this.add(i)}toHTML(){return new Wd(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}};function qo(e){return e?typeof e=="string"?e:e.source:null}function iC(e){return qn("(?=",e,")")}function Q2(e){return qn("(?:",e,")*")}function Z2(e){return qn("(?:",e,")?")}function qn(...e){return e.map(t=>qo(t)).join("")}function eO(e){let r=e[e.length-1];return typeof r=="object"&&r.constructor===Object?(e.splice(e.length-1,1),r):{}}function Yd(...e){return"("+(eO(e).capture?"":"?:")+e.map(i=>qo(i)).join("|")+")"}function nC(e){return new RegExp(e.toString()+"|").exec("").length-1}function tO(e,r){let t=e&&e.exec(r);return t&&t.index===0}var rO=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Xd(e,{joinWith:r}){let t=0;return e.map(i=>{t+=1;let n=t,s=qo(i),o="";for(;s.length>0;){let a=rO.exec(s);if(!a){o+=s;break}o+=s.substring(0,a.index),s=s.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?o+="\\"+String(Number(a[1])+n):(o+=a[0],a[0]==="("&&t++)}return o}).map(i=>`(${i})`).join(r)}var iO=/\b\B/,sC="[a-zA-Z]\\w*",Qd="[a-zA-Z_]\\w*",oC="\\b\\d+(\\.\\d+)?",aC="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",lC="\\b(0b[01]+)",nO="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",sO=(e={})=>{let r=/^#![ ]*\//;return e.binary&&(e.begin=qn(r,/.*\b/,e.binary,/\b.*/)),mn({scope:"meta",begin:r,end:/$/,relevance:0,"on:begin":(t,i)=>{t.index!==0&&i.ignoreMatch()}},e)},Ko={begin:"\\\\[\\s\\S]",relevance:0},oO={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Ko]},aO={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Ko]},lO={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Hl=function(e,r,t={}){let i=mn({scope:"comment",begin:e,end:r,contains:[]},t);i.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});let n=Yd("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return i.contains.push({begin:qn(/[ ]+/,"(",n,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),i},uO=Hl("//","$"),cO=Hl("/\\*","\\*/"),pO=Hl("#","$"),dO={scope:"number",begin:oC,relevance:0},fO={scope:"number",begin:aC,relevance:0},hO={scope:"number",begin:lC,relevance:0},mO={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Ko,{begin:/\[/,end:/\]/,relevance:0,contains:[Ko]}]},gO={scope:"title",begin:sC,relevance:0},yO={scope:"title",begin:Qd,relevance:0},bO={begin:"\\.\\s*"+Qd,relevance:0},DO=function(e){return Object.assign(e,{"on:begin":(r,t)=>{t.data._beginMatch=r[1]},"on:end":(r,t)=>{t.data._beginMatch!==r[1]&&t.ignoreMatch()}})},zl=Object.freeze({__proto__:null,APOS_STRING_MODE:oO,BACKSLASH_ESCAPE:Ko,BINARY_NUMBER_MODE:hO,BINARY_NUMBER_RE:lC,COMMENT:Hl,C_BLOCK_COMMENT_MODE:cO,C_LINE_COMMENT_MODE:uO,C_NUMBER_MODE:fO,C_NUMBER_RE:aC,END_SAME_AS_BEGIN:DO,HASH_COMMENT_MODE:pO,IDENT_RE:sC,MATCH_NOTHING_RE:iO,METHOD_GUARD:bO,NUMBER_MODE:dO,NUMBER_RE:oC,PHRASAL_WORDS_MODE:lO,QUOTE_STRING_MODE:aO,REGEXP_MODE:mO,RE_STARTERS_RE:nO,SHEBANG:sO,TITLE_MODE:gO,UNDERSCORE_IDENT_RE:Qd,UNDERSCORE_TITLE_MODE:yO});function xO(e,r){e.input[e.index-1]==="."&&r.ignoreMatch()}function EO(e,r){e.className!==void 0&&(e.scope=e.className,delete e.className)}function CO(e,r){r&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=xO,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function SO(e,r){Array.isArray(e.illegal)&&(e.illegal=Yd(...e.illegal))}function vO(e,r){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function wO(e,r){e.relevance===void 0&&(e.relevance=1)}var TO=(e,r)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");let t=Object.assign({},e);Object.keys(e).forEach(i=>{delete e[i]}),e.keywords=t.keywords,e.begin=qn(t.beforeMatch,iC(t.begin)),e.starts={relevance:0,contains:[Object.assign(t,{endsParent:!0})]},e.relevance=0,delete t.beforeMatch},AO=["of","and","for","in","not","or","if","then","parent","list","value"],PO="keyword";function uC(e,r,t=PO){let i=Object.create(null);return typeof e=="string"?n(t,e.split(" ")):Array.isArray(e)?n(t,e):Object.keys(e).forEach(function(s){Object.assign(i,uC(e[s],r,s))}),i;function n(s,o){r&&(o=o.map(a=>a.toLowerCase())),o.forEach(function(a){let l=a.split("|");i[l[0]]=[s,IO(l[0],l[1])]})}}function IO(e,r){return r?Number(r):_O(e)?0:1}function _O(e){return AO.includes(e.toLowerCase())}var X0={},jn=e=>{console.error(e)},Q0=(e,...r)=>{console.log(`WARN: ${e}`,...r)},Cs=(e,r)=>{X0[`${e}/${r}`]||(console.log(`Deprecated as of ${e}. ${r}`),X0[`${e}/${r}`]=!0)},Gl=new Error;function cC(e,r,{key:t}){let i=0,n=e[t],s={},o={};for(let a=1;a<=r.length;a++)o[a+i]=n[a],s[a+i]=!0,i+=nC(r[a-1]);e[t]=o,e[t]._emit=s,e[t]._multi=!0}function NO(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw jn("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Gl;if(typeof e.beginScope!="object"||e.beginScope===null)throw jn("beginScope must be object"),Gl;cC(e,e.begin,{key:"beginScope"}),e.begin=Xd(e.begin,{joinWith:""})}}function FO(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw jn("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Gl;if(typeof e.endScope!="object"||e.endScope===null)throw jn("endScope must be object"),Gl;cC(e,e.end,{key:"endScope"}),e.end=Xd(e.end,{joinWith:""})}}function kO(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function OO(e){kO(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),NO(e),FO(e)}function RO(e){function r(o,a){return new RegExp(qo(o),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(a?"g":""))}class t{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,a]),this.matchAt+=nC(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);let a=this.regexes.map(l=>l[1]);this.matcherRe=r(Xd(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;let l=this.matcherRe.exec(a);if(!l)return null;let u=l.findIndex((p,d)=>d>0&&p!==void 0),c=this.matchIndexes[u];return l.splice(0,u),Object.assign(l,c)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];let l=new t;return this.rules.slice(a).forEach(([u,c])=>l.addRule(u,c)),l.compile(),this.multiRegexes[a]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,l){this.rules.push([a,l]),l.type==="begin"&&this.count++}exec(a){let l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let u=l.exec(a);if(this.resumingScanAtSamePosition()&&!(u&&u.index===this.lastIndex)){let c=this.getMatcher(0);c.lastIndex=this.lastIndex+1,u=c.exec(a)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}function n(o){let a=new i;return o.contains.forEach(l=>a.addRule(l.begin,{rule:l,type:"begin"})),o.terminatorEnd&&a.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&a.addRule(o.illegal,{type:"illegal"}),a}function s(o,a){let l=o;if(o.isCompiled)return l;[EO,vO,OO,TO].forEach(c=>c(o,a)),e.compilerExtensions.forEach(c=>c(o,a)),o.__beforeBegin=null,[CO,SO,wO].forEach(c=>c(o,a)),o.isCompiled=!0;let u=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),u=o.keywords.$pattern,delete o.keywords.$pattern),u=u||/\w+/,o.keywords&&(o.keywords=uC(o.keywords,e.case_insensitive)),l.keywordPatternRe=r(u,!0),a&&(o.begin||(o.begin=/\B|\b/),l.beginRe=r(l.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(l.endRe=r(l.end)),l.terminatorEnd=qo(l.end)||"",o.endsWithParent&&a.terminatorEnd&&(l.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(l.illegalRe=r(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(c){return LO(c==="self"?o:c)})),o.contains.forEach(function(c){s(c,l)}),o.starts&&s(o.starts,a),l.matcher=n(l),l}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=mn(e.classNameAliases||{}),s(e)}function pC(e){return e?e.endsWithParent||pC(e.starts):!1}function LO(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(r){return mn(e,{variants:null},r)})),e.cachedVariants?e.cachedVariants:pC(e)?mn(e,{starts:e.starts?mn(e.starts):null}):Object.isFrozen(e)?mn(e):e}var MO="11.9.0",Jd=class extends Error{constructor(r,t){super(r),this.name="HTMLInjectionError",this.html=t}},zd=rC,Z0=mn,eC=Symbol("nomatch"),BO=7,dC=function(e){let r=Object.create(null),t=Object.create(null),i=[],n=!0,s="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]},a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Hd};function l(I){return a.noHighlightRe.test(I)}function u(I){let B=I.className+" ";B+=I.parentNode?I.parentNode.className:"";let H=a.languageDetectRe.exec(B);if(H){let A=M(H[1]);return A||(Q0(s.replace("{}",H[1])),Q0("Falling back to no-highlight mode for this block.",I)),A?H[1]:"no-highlight"}return B.split(/\s+/).find(A=>l(A)||M(A))}function c(I,B,H){let A="",_="";typeof B=="object"?(A=I,H=B.ignoreIllegals,_=B.language):(Cs("10.7.0","highlight(lang, code, ...args) has been deprecated."),Cs("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),_=I,A=B),H===void 0&&(H=!0);let L={code:A,language:_};ee("before:highlight",L);let z=L.result?L.result:p(L.language,L.code,H);return z.code=L.code,ee("after:highlight",z),z}function p(I,B,H,A){let _=Object.create(null);function L(j,X){return j.keywords[X]}function z(){if(!ne.keywords){St.addText(Ke);return}let j=0;ne.keywordPatternRe.lastIndex=0;let X=ne.keywordPatternRe.exec(Ke),de="";for(;X;){de+=Ke.substring(j,X.index);let ke=dr.case_insensitive?X[0].toLowerCase():X[0],At=L(ne,ke);if(At){let[Ci,mP]=At;if(St.addText(de),de="",_[ke]=(_[ke]||0)+1,_[ke]<=BO&&(ja+=mP),Ci.startsWith("_"))de+=X[0];else{let gP=dr.classNameAliases[Ci]||Ci;ae(X[0],gP)}}else de+=X[0];j=ne.keywordPatternRe.lastIndex,X=ne.keywordPatternRe.exec(Ke)}de+=Ke.substring(j),St.addText(de)}function pe(){if(Ke==="")return;let j=null;if(typeof ne.subLanguage=="string"){if(!r[ne.subLanguage]){St.addText(Ke);return}j=p(ne.subLanguage,Ke,!0,Pm[ne.subLanguage]),Pm[ne.subLanguage]=j._top}else j=h(Ke,ne.subLanguage.length?ne.subLanguage:null);ne.relevance>0&&(ja+=j.relevance),St.__addSublanguage(j._emitter,j.language)}function te(){ne.subLanguage!=null?pe():z(),Ke=""}function ae(j,X){j!==""&&(St.startScope(X),St.addText(j),St.endScope())}function ct(j,X){let de=1,ke=X.length-1;for(;de<=ke;){if(!j._emit[de]){de++;continue}let At=dr.classNameAliases[j[de]]||j[de],Ci=X[de];At?ae(Ci,At):(Ke=Ci,z(),Ke=""),de++}}function gt(j,X){return j.scope&&typeof j.scope=="string"&&St.openNode(dr.classNameAliases[j.scope]||j.scope),j.beginScope&&(j.beginScope._wrap?(ae(Ke,dr.classNameAliases[j.beginScope._wrap]||j.beginScope._wrap),Ke=""):j.beginScope._multi&&(ct(j.beginScope,X),Ke="")),ne=Object.create(j,{parent:{value:ne}}),ne}function Di(j,X,de){let ke=tO(j.endRe,de);if(ke){if(j["on:end"]){let At=new Wl(j);j["on:end"](X,At),At.isMatchIgnored&&(ke=!1)}if(ke){for(;j.endsParent&&j.parent;)j=j.parent;return j}}if(j.endsWithParent)return Di(j.parent,X,de)}function lo(j){return ne.matcher.regexIndex===0?(Ke+=j[0],1):(Sc=!0,0)}function xi(j){let X=j[0],de=j.rule,ke=new Wl(de),At=[de.__beforeBegin,de["on:begin"]];for(let Ci of At)if(Ci&&(Ci(j,ke),ke.isMatchIgnored))return lo(X);return de.skip?Ke+=X:(de.excludeBegin&&(Ke+=X),te(),!de.returnBegin&&!de.excludeBegin&&(Ke=X)),gt(de,j),de.returnBegin?0:X.length}function uo(j){let X=j[0],de=B.substring(j.index),ke=Di(ne,j,de);if(!ke)return eC;let At=ne;ne.endScope&&ne.endScope._wrap?(te(),ae(X,ne.endScope._wrap)):ne.endScope&&ne.endScope._multi?(te(),ct(ne.endScope,j)):At.skip?Ke+=X:(At.returnEnd||At.excludeEnd||(Ke+=X),te(),At.excludeEnd&&(Ke=X));do ne.scope&&St.closeNode(),!ne.skip&&!ne.subLanguage&&(ja+=ne.relevance),ne=ne.parent;while(ne!==ke.parent);return ke.starts&&gt(ke.starts,j),At.returnEnd?0:X.length}function Ie(){let j=[];for(let X=ne;X!==dr;X=X.parent)X.scope&&j.unshift(X.scope);j.forEach(X=>St.openNode(X))}let Ei={};function Zi(j,X){let de=X&&X[0];if(Ke+=j,de==null)return te(),0;if(Ei.type==="begin"&&X.type==="end"&&Ei.index===X.index&&de===""){if(Ke+=B.slice(X.index,X.index+1),!n){let ke=new Error(`0 width match regex (${I})`);throw ke.languageName=I,ke.badRule=Ei.rule,ke}return 1}if(Ei=X,X.type==="begin")return xi(X);if(X.type==="illegal"&&!H){let ke=new Error('Illegal lexeme "'+de+'" for mode "'+(ne.scope||"<unnamed>")+'"');throw ke.mode=ne,ke}else if(X.type==="end"){let ke=uo(X);if(ke!==eC)return ke}if(X.type==="illegal"&&de==="")return 1;if(Cc>1e5&&Cc>X.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Ke+=de,de.length}let dr=M(I);if(!dr)throw jn(s.replace("{}",I)),new Error('Unknown language: "'+I+'"');let hP=RO(dr),Ec="",ne=A||hP,Pm={},St=new a.__emitter(a);Ie();let Ke="",ja=0,An=0,Cc=0,Sc=!1;try{if(dr.__emitTokens)dr.__emitTokens(B,St);else{for(ne.matcher.considerAll();;){Cc++,Sc?Sc=!1:ne.matcher.considerAll(),ne.matcher.lastIndex=An;let j=ne.matcher.exec(B);if(!j)break;let X=B.substring(An,j.index),de=Zi(X,j);An=j.index+de}Zi(B.substring(An))}return St.finalize(),Ec=St.toHTML(),{language:I,value:Ec,relevance:ja,illegal:!1,_emitter:St,_top:ne}}catch(j){if(j.message&&j.message.includes("Illegal"))return{language:I,value:zd(B),illegal:!0,relevance:0,_illegalBy:{message:j.message,index:An,context:B.slice(An-100,An+100),mode:j.mode,resultSoFar:Ec},_emitter:St};if(n)return{language:I,value:zd(B),illegal:!1,relevance:0,errorRaised:j,_emitter:St,_top:ne};throw j}}function d(I){let B={value:zd(I),illegal:!1,relevance:0,_top:o,_emitter:new a.__emitter(a)};return B._emitter.addText(I),B}function h(I,B){B=B||a.languages||Object.keys(r);let H=d(I),A=B.filter(M).filter(N).map(te=>p(te,I,!1));A.unshift(H);let _=A.sort((te,ae)=>{if(te.relevance!==ae.relevance)return ae.relevance-te.relevance;if(te.language&&ae.language){if(M(te.language).supersetOf===ae.language)return 1;if(M(ae.language).supersetOf===te.language)return-1}return 0}),[L,z]=_,pe=L;return pe.secondBest=z,pe}function f(I,B,H){let A=B&&t[B]||H;I.classList.add("hljs"),I.classList.add(`language-${A}`)}function g(I){let B=null,H=u(I);if(l(H))return;if(ee("before:highlightElement",{el:I,language:H}),I.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",I);return}if(I.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(I)),a.throwUnescapedHTML))throw new Jd("One of your code blocks includes unescaped HTML.",I.innerHTML);B=I;let A=B.textContent,_=H?c(A,{language:H,ignoreIllegals:!0}):h(A);I.innerHTML=_.value,I.dataset.highlighted="yes",f(I,H,_.language),I.result={language:_.language,re:_.relevance,relevance:_.relevance},_.secondBest&&(I.secondBest={language:_.secondBest.language,relevance:_.secondBest.relevance}),ee("after:highlightElement",{el:I,result:_,text:A})}function m(I){a=Z0(a,I)}let y=()=>{D(),Cs("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function b(){D(),Cs("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let C=!1;function D(){if(document.readyState==="loading"){C=!0;return}document.querySelectorAll(a.cssSelector).forEach(g)}function x(){C&&D()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",x,!1);function E(I,B){let H=null;try{H=B(e)}catch(A){if(jn("Language definition for '{}' could not be registered.".replace("{}",I)),n)jn(A);else throw A;H=o}H.name||(H.name=I),r[I]=H,H.rawDefinition=B.bind(null,e),H.aliases&&R(H.aliases,{languageName:I})}function w(I){delete r[I];for(let B of Object.keys(t))t[B]===I&&delete t[B]}function k(){return Object.keys(r)}function M(I){return I=(I||"").toLowerCase(),r[I]||r[t[I]]}function R(I,{languageName:B}){typeof I=="string"&&(I=[I]),I.forEach(H=>{t[H.toLowerCase()]=B})}function N(I){let B=M(I);return B&&!B.disableAutodetect}function K(I){I["before:highlightBlock"]&&!I["before:highlightElement"]&&(I["before:highlightElement"]=B=>{I["before:highlightBlock"](Object.assign({block:B.el},B))}),I["after:highlightBlock"]&&!I["after:highlightElement"]&&(I["after:highlightElement"]=B=>{I["after:highlightBlock"](Object.assign({block:B.el},B))})}function Z(I){K(I),i.push(I)}function re(I){let B=i.indexOf(I);B!==-1&&i.splice(B,1)}function ee(I,B){let H=I;i.forEach(function(A){A[H]&&A[H](B)})}function Pe(I){return Cs("10.7.0","highlightBlock will be removed entirely in v12.0"),Cs("10.7.0","Please use highlightElement now."),g(I)}Object.assign(e,{highlight:c,highlightAuto:h,highlightAll:D,highlightElement:g,highlightBlock:Pe,configure:m,initHighlighting:y,initHighlightingOnLoad:b,registerLanguage:E,unregisterLanguage:w,listLanguages:k,getLanguage:M,registerAliases:R,autoDetection:N,inherit:Z0,addPlugin:Z,removePlugin:re}),e.debugMode=function(){n=!1},e.safeMode=function(){n=!0},e.versionString=MO,e.regex={concat:qn,lookahead:iC,either:Yd,optional:Z2,anyNumberOfTimes:Q2};for(let I in zl)typeof zl[I]=="object"&&tC(zl[I]);return Object.assign(e,zl),e},Ss=dC({});Ss.newInstance=()=>dC({});fC.exports=Ss;Ss.HighlightJS=Ss;Ss.default=Ss});var Wo={};vc(Wo,{__addDisposableResource:()=>XC,__assign:()=>Zl,__asyncDelegator:()=>KC,__asyncGenerator:()=>qC,__asyncValues:()=>VC,__await:()=>Ts,__awaiter:()=>LC,__classPrivateFieldGet:()=>HC,__classPrivateFieldIn:()=>YC,__classPrivateFieldSet:()=>JC,__createBinding:()=>tu,__decorate:()=>kC,__disposeResources:()=>QC,__esDecorate:()=>ZO,__exportStar:()=>BC,__extends:()=>NC,__generator:()=>MC,__importDefault:()=>GC,__importStar:()=>WC,__makeTemplateObject:()=>zC,__metadata:()=>RC,__param:()=>OC,__propKey:()=>tR,__read:()=>lf,__rest:()=>FC,__runInitializers:()=>eR,__setFunctionName:()=>rR,__spread:()=>$C,__spreadArray:()=>jC,__spreadArrays:()=>UC,__values:()=>eu,default:()=>sR});function NC(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");af(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}function FC(e,r){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)r.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(t[i[n]]=e[i[n]]);return t}function kC(e,r,t,i){var n=arguments.length,s=n<3?r:i===null?i=Object.getOwnPropertyDescriptor(r,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,r,t,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(r,t,s):o(r,t))||s);return n>3&&s&&Object.defineProperty(r,t,s),s}function OC(e,r){return function(t,i){r(t,i,e)}}function ZO(e,r,t,i,n,s){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=i.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!r&&e?i.static?e:e.prototype:null,c=r||(u?Object.getOwnPropertyDescriptor(u,i.name):{}),p,d=!1,h=t.length-1;h>=0;h--){var f={};for(var g in i)f[g]=g==="access"?{}:i[g];for(var g in i.access)f.access[g]=i.access[g];f.addInitializer=function(y){if(d)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(y||null))};var m=(0,t[h])(a==="accessor"?{get:c.get,set:c.set}:c[l],f);if(a==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(p=o(m.get))&&(c.get=p),(p=o(m.set))&&(c.set=p),(p=o(m.init))&&n.unshift(p)}else(p=o(m))&&(a==="field"?n.unshift(p):c[l]=p)}u&&Object.defineProperty(u,i.name,c),d=!0}function eR(e,r,t){for(var i=arguments.length>2,n=0;n<r.length;n++)t=i?r[n].call(e,t):r[n].call(e);return i?t:void 0}function tR(e){return typeof e=="symbol"?e:"".concat(e)}function rR(e,r,t){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:t?"".concat(t," ",r):r})}function RC(e,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)}function LC(e,r,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(p){o(p)}}function l(c){try{u(i.throw(c))}catch(p){o(p)}}function u(c){c.done?s(c.value):n(c.value).then(a,l)}u((i=i.apply(e,r||[])).next())})}function MC(e,r){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(i=1,n&&(s=u[0]&2?n.return:u[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,u[1])).done)return s;switch(n=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(e,t)}catch(c){u=[6,c],n=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function BC(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&tu(r,e,t)}function eu(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function lf(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),n,s=[],o;try{for(;(r===void 0||r-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s}function $C(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(lf(arguments[r]));return e}function UC(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var i=Array(e),n=0,r=0;r<t;r++)for(var s=arguments[r],o=0,a=s.length;o<a;o++,n++)i[n]=s[o];return i}function jC(e,r,t){if(t||arguments.length===2)for(var i=0,n=r.length,s;i<n;i++)(s||!(i in r))&&(s||(s=Array.prototype.slice.call(r,0,i)),s[i]=r[i]);return e.concat(s||Array.prototype.slice.call(r))}function Ts(e){return this instanceof Ts?(this.v=e,this):new Ts(e)}function qC(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(e,r||[]),n,s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(d){i[d]&&(n[d]=function(h){return new Promise(function(f,g){s.push([d,h,f,g])>1||a(d,h)})})}function a(d,h){try{l(i[d](h))}catch(f){p(s[0][3],f)}}function l(d){d.value instanceof Ts?Promise.resolve(d.value.v).then(u,c):p(s[0][2],d)}function u(d){a("next",d)}function c(d){a("throw",d)}function p(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function KC(e){var r,t;return r={},i("next"),i("throw",function(n){throw n}),i("return"),r[Symbol.iterator]=function(){return this},r;function i(n,s){r[n]=e[n]?function(o){return(t=!t)?{value:Ts(e[n](o)),done:!1}:s?s(o):o}:s}}function VC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof eu=="function"?eu(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=e[s]&&function(o){return new Promise(function(a,l){o=e[s](o),n(a,l,o.done,o.value)})}}function n(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function zC(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}function WC(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&tu(r,e,t);return iR(r,e),r}function GC(e){return e&&e.__esModule?e:{default:e}}function HC(e,r,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(e):i?i.value:r.get(e)}function JC(e,r,t,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!n:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(e,t):n?n.value=t:r.set(e,t),t}function YC(e,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?r===e:e.has(r)}function XC(e,r,t){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=r[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=r[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");e.stack.push({value:r,dispose:i,async:t})}else t&&e.stack.push({async:!0});return r}function QC(e){function r(i){e.error=e.hasError?new nR(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}function t(){for(;e.stack.length;){var i=e.stack.pop();try{var n=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(n).then(t,function(s){return r(s),t()})}catch(s){r(s)}}if(e.hasError)throw e.error}return t()}var af,Zl,tu,iR,nR,sR,Go=Im(()=>{af=function(e,r){return af=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},af(e,r)};Zl=function(){return Zl=Object.assign||function(r){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Zl.apply(this,arguments)};tu=Object.create?function(e,r,t,i){i===void 0&&(i=t);var n=Object.getOwnPropertyDescriptor(r,t);(!n||("get"in n?!r.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,i,n)}:function(e,r,t,i){i===void 0&&(i=t),e[i]=r[t]};iR=Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r};nR=typeof SuppressedError=="function"?SuppressedError:function(e,r,t){var i=new Error(t);return i.name="SuppressedError",i.error=e,i.suppressed=r,i};sR={__extends:NC,__assign:Zl,__rest:FC,__decorate:kC,__param:OC,__metadata:RC,__awaiter:LC,__generator:MC,__createBinding:tu,__exportStar:BC,__values:eu,__read:lf,__spread:$C,__spreadArrays:UC,__spreadArray:jC,__await:Ts,__asyncGenerator:qC,__asyncDelegator:KC,__asyncValues:VC,__makeTemplateObject:zC,__importStar:WC,__importDefault:GC,__classPrivateFieldGet:HC,__classPrivateFieldSet:JC,__classPrivateFieldIn:YC,__addDisposableResource:XC,__disposeResources:QC}});var ui={};vc(ui,{__addDisposableResource:()=>DS,__assign:()=>ru,__asyncDelegator:()=>pS,__asyncGenerator:()=>cS,__asyncValues:()=>dS,__await:()=>As,__awaiter:()=>nS,__classPrivateFieldGet:()=>gS,__classPrivateFieldIn:()=>bS,__classPrivateFieldSet:()=>yS,__createBinding:()=>nu,__decorate:()=>tS,__disposeResources:()=>xS,__esDecorate:()=>oR,__exportStar:()=>oS,__extends:()=>ZC,__generator:()=>sS,__importDefault:()=>mS,__importStar:()=>hS,__makeTemplateObject:()=>fS,__metadata:()=>iS,__param:()=>rS,__propKey:()=>lR,__read:()=>cf,__rest:()=>eS,__runInitializers:()=>aR,__setFunctionName:()=>uR,__spread:()=>aS,__spreadArray:()=>uS,__spreadArrays:()=>lS,__values:()=>iu,default:()=>dR});function ZC(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");uf(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}function eS(e,r){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)r.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(t[i[n]]=e[i[n]]);return t}function tS(e,r,t,i){var n=arguments.length,s=n<3?r:i===null?i=Object.getOwnPropertyDescriptor(r,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,r,t,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(r,t,s):o(r,t))||s);return n>3&&s&&Object.defineProperty(r,t,s),s}function rS(e,r){return function(t,i){r(t,i,e)}}function oR(e,r,t,i,n,s){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=i.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!r&&e?i.static?e:e.prototype:null,c=r||(u?Object.getOwnPropertyDescriptor(u,i.name):{}),p,d=!1,h=t.length-1;h>=0;h--){var f={};for(var g in i)f[g]=g==="access"?{}:i[g];for(var g in i.access)f.access[g]=i.access[g];f.addInitializer=function(y){if(d)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(y||null))};var m=(0,t[h])(a==="accessor"?{get:c.get,set:c.set}:c[l],f);if(a==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(p=o(m.get))&&(c.get=p),(p=o(m.set))&&(c.set=p),(p=o(m.init))&&n.unshift(p)}else(p=o(m))&&(a==="field"?n.unshift(p):c[l]=p)}u&&Object.defineProperty(u,i.name,c),d=!0}function aR(e,r,t){for(var i=arguments.length>2,n=0;n<r.length;n++)t=i?r[n].call(e,t):r[n].call(e);return i?t:void 0}function lR(e){return typeof e=="symbol"?e:"".concat(e)}function uR(e,r,t){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:t?"".concat(t," ",r):r})}function iS(e,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)}function nS(e,r,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(p){o(p)}}function l(c){try{u(i.throw(c))}catch(p){o(p)}}function u(c){c.done?s(c.value):n(c.value).then(a,l)}u((i=i.apply(e,r||[])).next())})}function sS(e,r){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(i=1,n&&(s=u[0]&2?n.return:u[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,u[1])).done)return s;switch(n=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(e,t)}catch(c){u=[6,c],n=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function oS(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&nu(r,e,t)}function iu(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function cf(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),n,s=[],o;try{for(;(r===void 0||r-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s}function aS(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(cf(arguments[r]));return e}function lS(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var i=Array(e),n=0,r=0;r<t;r++)for(var s=arguments[r],o=0,a=s.length;o<a;o++,n++)i[n]=s[o];return i}function uS(e,r,t){if(t||arguments.length===2)for(var i=0,n=r.length,s;i<n;i++)(s||!(i in r))&&(s||(s=Array.prototype.slice.call(r,0,i)),s[i]=r[i]);return e.concat(s||Array.prototype.slice.call(r))}function As(e){return this instanceof As?(this.v=e,this):new As(e)}function cS(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(e,r||[]),n,s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(d){i[d]&&(n[d]=function(h){return new Promise(function(f,g){s.push([d,h,f,g])>1||a(d,h)})})}function a(d,h){try{l(i[d](h))}catch(f){p(s[0][3],f)}}function l(d){d.value instanceof As?Promise.resolve(d.value.v).then(u,c):p(s[0][2],d)}function u(d){a("next",d)}function c(d){a("throw",d)}function p(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function pS(e){var r,t;return r={},i("next"),i("throw",function(n){throw n}),i("return"),r[Symbol.iterator]=function(){return this},r;function i(n,s){r[n]=e[n]?function(o){return(t=!t)?{value:As(e[n](o)),done:!1}:s?s(o):o}:s}}function dS(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof iu=="function"?iu(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=e[s]&&function(o){return new Promise(function(a,l){o=e[s](o),n(a,l,o.done,o.value)})}}function n(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function fS(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}function hS(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&nu(r,e,t);return cR(r,e),r}function mS(e){return e&&e.__esModule?e:{default:e}}function gS(e,r,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(e):i?i.value:r.get(e)}function yS(e,r,t,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!n:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(e,t):n?n.value=t:r.set(e,t),t}function bS(e,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?r===e:e.has(r)}function DS(e,r,t){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=r[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=r[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");e.stack.push({value:r,dispose:i,async:t})}else t&&e.stack.push({async:!0});return r}function xS(e){function r(i){e.error=e.hasError?new pR(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}function t(){for(;e.stack.length;){var i=e.stack.pop();try{var n=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(n).then(t,function(s){return r(s),t()})}catch(s){r(s)}}if(e.hasError)throw e.error}return t()}var uf,ru,nu,cR,pR,dR,ci=Im(()=>{uf=function(e,r){return uf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},uf(e,r)};ru=function(){return ru=Object.assign||function(r){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},ru.apply(this,arguments)};nu=Object.create?function(e,r,t,i){i===void 0&&(i=t);var n=Object.getOwnPropertyDescriptor(r,t);(!n||("get"in n?!r.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,i,n)}:function(e,r,t,i){i===void 0&&(i=t),e[i]=r[t]};cR=Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r};pR=typeof SuppressedError=="function"?SuppressedError:function(e,r,t){var i=new Error(t);return i.name="SuppressedError",i.error=e,i.suppressed=r,i};dR={__extends:ZC,__assign:ru,__rest:eS,__decorate:tS,__param:rS,__metadata:iS,__awaiter:nS,__generator:sS,__createBinding:nu,__exportStar:oS,__values:iu,__read:cf,__spread:aS,__spreadArrays:lS,__spreadArray:uS,__await:As,__asyncGenerator:cS,__asyncDelegator:pS,__asyncValues:dS,__makeTemplateObject:fS,__importStar:hS,__importDefault:mS,__classPrivateFieldGet:gS,__classPrivateFieldSet:yS,__classPrivateFieldIn:bS,__addDisposableResource:DS,__disposeResources:xS}});var ES=T(Or=>{Object.defineProperty(Or,"__esModule",{value:!0});Or.SpecialEventType=Or.RevenueProperty=Or.IdentifyOperation=void 0;var fR;(function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"})(fR=Or.IdentifyOperation||(Or.IdentifyOperation={}));var hR;(function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE="$revenue"})(hR=Or.RevenueProperty||(Or.RevenueProperty={}));var mR;(function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"})(mR=Or.SpecialEventType||(Or.SpecialEventType={}))});var CS=T(Ho=>{Object.defineProperty(Ho,"__esModule",{value:!0});Ho.LogLevel=void 0;var gR;(function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose",e[e.Debug=4]="Debug"})(gR=Ho.LogLevel||(Ho.LogLevel={}))});var SS=T(Jo=>{Object.defineProperty(Jo,"__esModule",{value:!0});Jo.PluginType=void 0;var yR;(function(e){e.BEFORE="before",e.ENRICHMENT="enrichment",e.DESTINATION="destination"})(yR=Jo.PluginType||(Jo.PluginType={}))});var vS=T(Yo=>{Object.defineProperty(Yo,"__esModule",{value:!0});Yo.ServerZone=void 0;var bR;(function(e){e.US="US",e.EU="EU",e.STAGING="STAGING"})(bR=Yo.ServerZone||(Yo.ServerZone={}))});var wS=T(Xo=>{Object.defineProperty(Xo,"__esModule",{value:!0});Xo.Status=void 0;var DR;(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"})(DR=Xo.Status||(Xo.Status={}))});var TS=T(Qo=>{Object.defineProperty(Qo,"__esModule",{value:!0});Qo.TransportType=void 0;var xR;(function(e){e.XHR="xhr",e.SendBeacon="beacon",e.Fetch="fetch"})(xR=Qo.TransportType||(Qo.TransportType={}))});var lr=T(xt=>{Object.defineProperty(xt,"__esModule",{value:!0});xt.TransportType=xt.Status=xt.ServerZone=xt.PluginType=xt.LogLevel=xt.RevenueProperty=xt.IdentifyOperation=xt.SpecialEventType=void 0;var pf=ES();Object.defineProperty(xt,"SpecialEventType",{enumerable:!0,get:function(){return pf.SpecialEventType}});Object.defineProperty(xt,"IdentifyOperation",{enumerable:!0,get:function(){return pf.IdentifyOperation}});Object.defineProperty(xt,"RevenueProperty",{enumerable:!0,get:function(){return pf.RevenueProperty}});var ER=CS();Object.defineProperty(xt,"LogLevel",{enumerable:!0,get:function(){return ER.LogLevel}});var CR=SS();Object.defineProperty(xt,"PluginType",{enumerable:!0,get:function(){return CR.PluginType}});var SR=vS();Object.defineProperty(xt,"ServerZone",{enumerable:!0,get:function(){return SR.ServerZone}});var vR=wS();Object.defineProperty(xt,"Status",{enumerable:!0,get:function(){return vR.Status}});var wR=TS();Object.defineProperty(xt,"TransportType",{enumerable:!0,get:function(){return wR.TransportType}})});var Zo=T(vt=>{Object.defineProperty(vt,"__esModule",{value:!0});vt.EU_AMPLITUDE_BATCH_SERVER_URL=vt.AMPLITUDE_BATCH_SERVER_URL=vt.EU_AMPLITUDE_SERVER_URL=vt.AMPLITUDE_SERVER_URL=vt.STORAGE_PREFIX=vt.AMPLITUDE_PREFIX=vt.UNSET_VALUE=void 0;vt.UNSET_VALUE="-";vt.AMPLITUDE_PREFIX="AMP";vt.STORAGE_PREFIX="".concat(vt.AMPLITUDE_PREFIX,"_unsent");vt.AMPLITUDE_SERVER_URL="https://api2.amplitude.com/2/httpapi";vt.EU_AMPLITUDE_SERVER_URL="https://api.eu.amplitude.com/2/httpapi";vt.AMPLITUDE_BATCH_SERVER_URL="https://api2.amplitude.com/batch";vt.EU_AMPLITUDE_BATCH_SERVER_URL="https://api.eu.amplitude.com/batch"});var df=T($i=>{Object.defineProperty($i,"__esModule",{value:!0});$i.isValidProperties=$i.isValidObject=void 0;var TR=(ci(),Wt(ui)),AR=1e3,PR=function(e){if(Object.keys(e).length>AR)return!1;for(var r in e){var t=e[r];if(!(0,$i.isValidProperties)(r,t))return!1}return!0};$i.isValidObject=PR;var IR=function(e,r){var t,i;if(typeof e!="string")return!1;if(Array.isArray(r)){var n=!0;try{for(var s=TR.__values(r),o=s.next();!o.done;o=s.next()){var a=o.value;if(Array.isArray(a))return!1;if(typeof a=="object")n=n&&(0,$i.isValidObject)(a);else if(!["number","string"].includes(typeof a))return!1;if(!n)return!1}}catch(l){t={error:l}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}}else{if(r==null)return!1;if(typeof r=="object")return(0,$i.isValidObject)(r);if(!["number","string","boolean"].includes(typeof r))return!1}return!0};$i.isValidProperties=IR});var ff=T(su=>{Object.defineProperty(su,"__esModule",{value:!0});su.Identify=void 0;var _R=(ci(),Wt(ui)),Zt=lr(),AS=Zo(),NR=df(),FR=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return _R.__assign({},this._properties)},e.prototype.set=function(r,t){return this._safeSet(Zt.IdentifyOperation.SET,r,t),this},e.prototype.setOnce=function(r,t){return this._safeSet(Zt.IdentifyOperation.SET_ONCE,r,t),this},e.prototype.append=function(r,t){return this._safeSet(Zt.IdentifyOperation.APPEND,r,t),this},e.prototype.prepend=function(r,t){return this._safeSet(Zt.IdentifyOperation.PREPEND,r,t),this},e.prototype.postInsert=function(r,t){return this._safeSet(Zt.IdentifyOperation.POSTINSERT,r,t),this},e.prototype.preInsert=function(r,t){return this._safeSet(Zt.IdentifyOperation.PREINSERT,r,t),this},e.prototype.remove=function(r,t){return this._safeSet(Zt.IdentifyOperation.REMOVE,r,t),this},e.prototype.add=function(r,t){return this._safeSet(Zt.IdentifyOperation.ADD,r,t),this},e.prototype.unset=function(r){return this._safeSet(Zt.IdentifyOperation.UNSET,r,AS.UNSET_VALUE),this},e.prototype.clearAll=function(){return this._properties={},this._properties[Zt.IdentifyOperation.CLEAR_ALL]=AS.UNSET_VALUE,this},e.prototype._safeSet=function(r,t,i){if(this._validate(r,t,i)){var n=this._properties[r];return n===void 0&&(n={},this._properties[r]=n),n[t]=i,this._propertySet.add(t),!0}return!1},e.prototype._validate=function(r,t,i){return this._properties[Zt.IdentifyOperation.CLEAR_ALL]!==void 0||this._propertySet.has(t)?!1:r===Zt.IdentifyOperation.ADD?typeof i=="number":r!==Zt.IdentifyOperation.UNSET&&r!==Zt.IdentifyOperation.REMOVE?(0,NR.isValidProperties)(t,i):!0},e}();su.Identify=FR});var hf=T(Dr=>{Object.defineProperty(Dr,"__esModule",{value:!0});Dr.createRevenueEvent=Dr.createGroupEvent=Dr.createGroupIdentifyEvent=Dr.createIdentifyEvent=Dr.createTrackEvent=void 0;var Rr=(ci(),Wt(ui)),ou=lr(),kR=ff(),OR=function(e,r,t){var i=typeof e=="string"?{event_type:e}:e;return Rr.__assign(Rr.__assign(Rr.__assign({},i),t),r&&{event_properties:r})};Dr.createTrackEvent=OR;var RR=function(e,r){var t=Rr.__assign(Rr.__assign({},r),{event_type:ou.SpecialEventType.IDENTIFY,user_properties:e.getUserProperties()});return t};Dr.createIdentifyEvent=RR;var LR=function(e,r,t,i){var n,s=Rr.__assign(Rr.__assign({},i),{event_type:ou.SpecialEventType.GROUP_IDENTIFY,group_properties:t.getUserProperties(),groups:(n={},n[e]=r,n)});return s};Dr.createGroupIdentifyEvent=LR;var MR=function(e,r,t){var i,n=new kR.Identify;n.set(e,r);var s=Rr.__assign(Rr.__assign({},t),{event_type:ou.SpecialEventType.IDENTIFY,user_properties:n.getUserProperties(),groups:(i={},i[e]=r,i)});return s};Dr.createGroupEvent=MR;var BR=function(e,r){return Rr.__assign(Rr.__assign({},r),{event_type:ou.SpecialEventType.REVENUE,event_properties:e.getEventProperties()})};Dr.createRevenueEvent=BR});var lu=T(au=>{Object.defineProperty(au,"__esModule",{value:!0});au.buildResult=void 0;var $R=lr(),UR=function(e,r,t){return r===void 0&&(r=0),t===void 0&&(t=$R.Status.Unknown),{event:e,code:r,message:t}};au.buildResult=UR});var PS=T(cu=>{Object.defineProperty(cu,"__esModule",{value:!0});cu.Timeline=void 0;var _t=(ci(),Wt(ui)),uu=lr(),jR=lu(),qR=function(){function e(r){this.client=r,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(r,t){return _t.__awaiter(this,void 0,void 0,function(){return _t.__generator(this,function(i){switch(i.label){case 0:return[4,r.setup(t,this.client)];case 1:return i.sent(),this.plugins.push(r),[2]}})})},e.prototype.deregister=function(r){var t;return _t.__awaiter(this,void 0,void 0,function(){var i,n;return _t.__generator(this,function(s){switch(s.label){case 0:return i=this.plugins.findIndex(function(o){return o.name===r}),n=this.plugins[i],this.plugins.splice(i,1),[4,(t=n.teardown)===null||t===void 0?void 0:t.call(n)];case 1:return s.sent(),[2]}})})},e.prototype.reset=function(r){this.applying=!1;var t=this.plugins;t.map(function(i){var n;return(n=i.teardown)===null||n===void 0?void 0:n.call(i)}),this.plugins=[],this.client=r},e.prototype.push=function(r){var t=this;return new Promise(function(i){t.queue.push([r,i]),t.scheduleApply(0)})},e.prototype.scheduleApply=function(r){var t=this;this.applying||(this.applying=!0,setTimeout(function(){t.apply(t.queue.shift()).then(function(){t.applying=!1,t.queue.length>0&&t.scheduleApply(0)})},r))},e.prototype.apply=function(r){return _t.__awaiter(this,void 0,void 0,function(){var t,i,n,s,o,a,l,h,f,u,c,p,d,h,f,g,m,y,b,C,D,x;return _t.__generator(this,function(E){switch(E.label){case 0:if(!r)return[2];t=_t.__read(r,1),i=t[0],n=_t.__read(r,2),s=n[1],o=this.plugins.filter(function(w){return w.type===uu.PluginType.BEFORE}),E.label=1;case 1:E.trys.push([1,6,7,8]),a=_t.__values(o),l=a.next(),E.label=2;case 2:return l.done?[3,5]:(h=l.value,[4,h.execute(_t.__assign({},i))]);case 3:if(f=E.sent(),f===null)return s({event:i,code:0,message:""}),[2];i=f,E.label=4;case 4:return l=a.next(),[3,2];case 5:return[3,8];case 6:return u=E.sent(),b={error:u},[3,8];case 7:try{l&&!l.done&&(C=a.return)&&C.call(a)}finally{if(b)throw b.error}return[7];case 8:c=this.plugins.filter(function(w){return w.type===uu.PluginType.ENRICHMENT}),E.label=9;case 9:E.trys.push([9,14,15,16]),p=_t.__values(c),d=p.next(),E.label=10;case 10:return d.done?[3,13]:(h=d.value,[4,h.execute(_t.__assign({},i))]);case 11:if(f=E.sent(),f===null)return s({event:i,code:0,message:""}),[2];i=f,E.label=12;case 12:return d=p.next(),[3,10];case 13:return[3,16];case 14:return g=E.sent(),D={error:g},[3,16];case 15:try{d&&!d.done&&(x=p.return)&&x.call(p)}finally{if(D)throw D.error}return[7];case 16:return m=this.plugins.filter(function(w){return w.type===uu.PluginType.DESTINATION}),y=m.map(function(w){var k=_t.__assign({},i);return w.execute(k).catch(function(M){return(0,jR.buildResult)(k,0,String(M))})}),Promise.all(y).then(function(w){var k=_t.__read(w,1),M=k[0];s(M)}),[2]}})})},e.prototype.flush=function(){return _t.__awaiter(this,void 0,void 0,function(){var r,t,i,n=this;return _t.__generator(this,function(s){switch(s.label){case 0:return r=this.queue,this.queue=[],[4,Promise.all(r.map(function(o){return n.apply(o)}))];case 1:return s.sent(),t=this.plugins.filter(function(o){return o.type===uu.PluginType.DESTINATION}),i=t.map(function(o){return o.flush&&o.flush()}),[4,Promise.all(i)];case 2:return s.sent(),[2]}})})},e}();cu.Timeline=qR});var mf=T(Nt=>{Object.defineProperty(Nt,"__esModule",{value:!0});Nt.CLIENT_NOT_INITIALIZED=Nt.INVALID_API_KEY=Nt.MISSING_API_KEY_MESSAGE=Nt.OPT_OUT_MESSAGE=Nt.MAX_RETRIES_EXCEEDED_MESSAGE=Nt.UNEXPECTED_ERROR_MESSAGE=Nt.SUCCESS_MESSAGE=void 0;Nt.SUCCESS_MESSAGE="Event tracked successfully";Nt.UNEXPECTED_ERROR_MESSAGE="Unexpected error occurred";Nt.MAX_RETRIES_EXCEEDED_MESSAGE="Event rejected due to exceeded retry count";Nt.OPT_OUT_MESSAGE="Event skipped due to optOut config";Nt.MISSING_API_KEY_MESSAGE="Event rejected due to missing API key";Nt.INVALID_API_KEY="Invalid API key";Nt.CLIENT_NOT_INITIALIZED="Client not initialized"});var gf=T(pu=>{Object.defineProperty(pu,"__esModule",{value:!0});pu.returnWrapper=void 0;var KR=function(e){return{promise:e||Promise.resolve()}};pu.returnWrapper=KR});var _S=T(du=>{Object.defineProperty(du,"__esModule",{value:!0});du.AmplitudeCore=void 0;var Ui=(ci(),Wt(ui)),ea=hf(),VR=PS(),yf=lu(),IS=mf(),pi=gf(),zR=function(){function e(r){r===void 0&&(r="$default"),this.initializing=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new VR.Timeline(this),this.name=r}return e.prototype._init=function(r){return Ui.__awaiter(this,void 0,void 0,function(){return Ui.__generator(this,function(t){switch(t.label){case 0:return this.config=r,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return t.sent(),[2]}})})},e.prototype.runQueuedFunctions=function(r){return Ui.__awaiter(this,void 0,void 0,function(){var t,i,n,s,o,a,l;return Ui.__generator(this,function(u){switch(u.label){case 0:t=this[r],this[r]=[],u.label=1;case 1:u.trys.push([1,6,7,8]),i=Ui.__values(t),n=i.next(),u.label=2;case 2:return n.done?[3,5]:(s=n.value,[4,s()]);case 3:u.sent(),u.label=4;case 4:return n=i.next(),[3,2];case 5:return[3,8];case 6:return o=u.sent(),a={error:o},[3,8];case 7:try{n&&!n.done&&(l=i.return)&&l.call(i)}finally{if(a)throw a.error}return[7];case 8:return[2]}})})},e.prototype.track=function(r,t,i){var n=(0,ea.createTrackEvent)(r,t,i);return(0,pi.returnWrapper)(this.dispatch(n))},e.prototype.identify=function(r,t){var i=(0,ea.createIdentifyEvent)(r,t);return(0,pi.returnWrapper)(this.dispatch(i))},e.prototype.groupIdentify=function(r,t,i,n){var s=(0,ea.createGroupIdentifyEvent)(r,t,i,n);return(0,pi.returnWrapper)(this.dispatch(s))},e.prototype.setGroup=function(r,t,i){var n=(0,ea.createGroupEvent)(r,t,i);return(0,pi.returnWrapper)(this.dispatch(n))},e.prototype.revenue=function(r,t){var i=(0,ea.createRevenueEvent)(r,t);return(0,pi.returnWrapper)(this.dispatch(i))},e.prototype.add=function(r){return this.config?(0,pi.returnWrapper)(this.timeline.register(r,this.config)):(this.q.push(this.add.bind(this,r)),(0,pi.returnWrapper)())},e.prototype.remove=function(r){return this.config?(0,pi.returnWrapper)(this.timeline.deregister(r)):(this.q.push(this.remove.bind(this,r)),(0,pi.returnWrapper)())},e.prototype.dispatchWithCallback=function(r,t){if(!this.config)return t((0,yf.buildResult)(r,0,IS.CLIENT_NOT_INITIALIZED));this.process(r).then(t)},e.prototype.dispatch=function(r){return Ui.__awaiter(this,void 0,void 0,function(){var t=this;return Ui.__generator(this,function(i){return this.config?[2,this.process(r)]:[2,new Promise(function(n){t.dispatchQ.push(t.dispatchWithCallback.bind(t,r,n))})]})})},e.prototype.process=function(r){return Ui.__awaiter(this,void 0,void 0,function(){var n,t,i,n;return Ui.__generator(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),this.config.optOut?[2,(0,yf.buildResult)(r,0,IS.OPT_OUT_MESSAGE)]:[4,this.timeline.push(r)];case 1:return n=s.sent(),n.code===200?this.config.loggerProvider.log(n.message):this.config.loggerProvider.error(n.message),[2,n];case 2:return t=s.sent(),this.config.loggerProvider.error(t),i=String(t),n=(0,yf.buildResult)(r,0,i),[2,n];case 3:return[2]}})})},e.prototype.setOptOut=function(r){if(!this.config){this.q.push(this.setOptOut.bind(this,!!r));return}this.config.optOut=!!r},e.prototype.flush=function(){return(0,pi.returnWrapper)(this.timeline.flush())},e}();du.AmplitudeCore=zR});var NS=T(fu=>{Object.defineProperty(fu,"__esModule",{value:!0});fu.Revenue=void 0;var WR=(ci(),Wt(ui)),ta=lr(),GR=df(),HR=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(r){return this.productId=r,this},e.prototype.setQuantity=function(r){return r>0&&(this.quantity=r),this},e.prototype.setPrice=function(r){return this.price=r,this},e.prototype.setRevenueType=function(r){return this.revenueType=r,this},e.prototype.setRevenue=function(r){return this.revenue=r,this},e.prototype.setEventProperties=function(r){return(0,GR.isValidObject)(r)&&(this.properties=r),this},e.prototype.getEventProperties=function(){var r=this.properties?WR.__assign({},this.properties):{};return r[ta.RevenueProperty.REVENUE_PRODUCT_ID]=this.productId,r[ta.RevenueProperty.REVENUE_QUANTITY]=this.quantity,r[ta.RevenueProperty.REVENUE_PRICE]=this.price,r[ta.RevenueProperty.REVENUE_TYPE]=this.revenueType,r[ta.RevenueProperty.REVENUE]=this.revenue,r},e}();fu.Revenue=HR});var FS=T(hu=>{Object.defineProperty(hu,"__esModule",{value:!0});hu.chunk=void 0;var JR=function(e,r){var t=Math.max(r,1);return e.reduce(function(i,n,s){var o=Math.floor(s/t);return i[o]||(i[o]=[]),i[o].push(n),i},[])};hu.chunk=JR});var bf=T(gu=>{Object.defineProperty(gu,"__esModule",{value:!0});gu.Logger=void 0;var Vn=lr(),mu="Amplitude Logger ",YR=function(){function e(){this.logLevel=Vn.LogLevel.None}return e.prototype.disable=function(){this.logLevel=Vn.LogLevel.None},e.prototype.enable=function(r){r===void 0&&(r=Vn.LogLevel.Warn),this.logLevel=r},e.prototype.log=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.logLevel<Vn.LogLevel.Verbose||console.log("".concat(mu,"[Log]: ").concat(r.join(" ")))},e.prototype.warn=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.logLevel<Vn.LogLevel.Warn||console.warn("".concat(mu,"[Warn]: ").concat(r.join(" ")))},e.prototype.error=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.logLevel<Vn.LogLevel.Error||console.error("".concat(mu,"[Error]: ").concat(r.join(" ")))},e.prototype.debug=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.logLevel<Vn.LogLevel.Debug||console.log("".concat(mu,"[Debug]: ").concat(r.join(" ")))},e}();gu.Logger=YR});var xf=T(Ft=>{Object.defineProperty(Ft,"__esModule",{value:!0});Ft.createServerConfig=Ft.getServerUrl=Ft.Config=Ft.getDefaultConfig=void 0;var Df=lr(),ra=Zo(),XR=bf(),QR=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:Df.LogLevel.Warn,loggerProvider:new XR.Logger,optOut:!1,serverUrl:ra.AMPLITUDE_SERVER_URL,serverZone:Df.ServerZone.US,useBatch:!1}};Ft.getDefaultConfig=QR;var ZR=function(){function e(r){var t,i,n,s;this._optOut=!1;var o=(0,Ft.getDefaultConfig)();this.apiKey=r.apiKey,this.flushIntervalMillis=(t=r.flushIntervalMillis)!==null&&t!==void 0?t:o.flushIntervalMillis,this.flushMaxRetries=r.flushMaxRetries||o.flushMaxRetries,this.flushQueueSize=r.flushQueueSize||o.flushQueueSize,this.instanceName=r.instanceName||o.instanceName,this.loggerProvider=r.loggerProvider||o.loggerProvider,this.logLevel=(i=r.logLevel)!==null&&i!==void 0?i:o.logLevel,this.minIdLength=r.minIdLength,this.plan=r.plan,this.ingestionMetadata=r.ingestionMetadata,this.optOut=(n=r.optOut)!==null&&n!==void 0?n:o.optOut,this.serverUrl=r.serverUrl,this.serverZone=r.serverZone||o.serverZone,this.storageProvider=r.storageProvider,this.transportProvider=r.transportProvider,this.useBatch=(s=r.useBatch)!==null&&s!==void 0?s:o.useBatch,this.loggerProvider.enable(this.logLevel);var a=(0,Ft.createServerConfig)(r.serverUrl,r.serverZone,r.useBatch);this.serverZone=a.serverZone,this.serverUrl=a.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(r){this._optOut=r},enumerable:!1,configurable:!0}),e}();Ft.Config=ZR;var eL=function(e,r){return e===Df.ServerZone.EU?r?ra.EU_AMPLITUDE_BATCH_SERVER_URL:ra.EU_AMPLITUDE_SERVER_URL:r?ra.AMPLITUDE_BATCH_SERVER_URL:ra.AMPLITUDE_SERVER_URL};Ft.getServerUrl=eL;var tL=function(e,r,t){if(e===void 0&&(e=""),r===void 0&&(r=(0,Ft.getDefaultConfig)().serverZone),t===void 0&&(t=(0,Ft.getDefaultConfig)().useBatch),e)return{serverUrl:e,serverZone:void 0};var i=["US","EU"].includes(r)?r:(0,Ft.getDefaultConfig)().serverZone;return{serverZone:i,serverUrl:(0,Ft.getServerUrl)(i,t)}};Ft.createServerConfig=tL});var kS=T(Ps=>{Object.defineProperty(Ps,"__esModule",{value:!0});Ps.Destination=Ps.getResponseBodyString=void 0;var tt=(ci(),Wt(ui)),ia=lr(),na=mf(),rL=Zo(),iL=FS(),nL=lu(),sL=xf();function oL(e){return e instanceof Error?e.message:String(e)}function sa(e){var r="";try{"body"in e&&(r=JSON.stringify(e.body))}catch{}return r}Ps.getResponseBodyString=sa;var aL=function(){function e(){this.name="amplitude",this.type=ia.PluginType.DESTINATION,this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return e.prototype.setup=function(r){var t;return tt.__awaiter(this,void 0,void 0,function(){var i,n=this;return tt.__generator(this,function(s){switch(s.label){case 0:return this.config=r,this.storageKey="".concat(rL.STORAGE_PREFIX,"_").concat(this.config.apiKey.substring(0,10)),[4,(t=this.config.storageProvider)===null||t===void 0?void 0:t.get(this.storageKey)];case 1:return i=s.sent(),this.saveEvents(),i&&i.length>0&&Promise.all(i.map(function(o){return n.execute(o)})).catch(),[2,Promise.resolve(void 0)]}})})},e.prototype.execute=function(r){var t=this;return new Promise(function(i){var n={event:r,attempts:0,callback:function(s){return i(s)},timeout:0};t.addToQueue(n)})},e.prototype.addToQueue=function(){for(var r=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=t.filter(function(s){return s.attempts<r.config.flushMaxRetries?(s.attempts+=1,!0):(r.fulfillRequest([s],500,na.MAX_RETRIES_EXCEEDED_MESSAGE),!1)});n.forEach(function(s){if(r.queue=r.queue.concat(s),s.timeout===0){r.schedule(r.config.flushIntervalMillis);return}setTimeout(function(){s.timeout=0,r.schedule(0)},s.timeout)}),this.saveEvents()},e.prototype.schedule=function(r){var t=this;this.scheduled||(this.scheduled=setTimeout(function(){t.flush(!0).then(function(){t.queue.length>0&&t.schedule(r)})},r))},e.prototype.flush=function(r){return r===void 0&&(r=!1),tt.__awaiter(this,void 0,void 0,function(){var t,i,n,s=this;return tt.__generator(this,function(o){switch(o.label){case 0:return t=[],i=[],this.queue.forEach(function(a){return a.timeout===0?t.push(a):i.push(a)}),this.queue=i,this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),n=(0,iL.chunk)(t,this.config.flushQueueSize),[4,Promise.all(n.map(function(a){return s.send(a,r)}))];case 1:return o.sent(),[2]}})})},e.prototype.send=function(r,t){return t===void 0&&(t=!0),tt.__awaiter(this,void 0,void 0,function(){var i,n,s,o,a;return tt.__generator(this,function(l){switch(l.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(r,400,na.MISSING_API_KEY_MESSAGE)];i={api_key:this.config.apiKey,events:r.map(function(u){var c=u.event,p=c.extra,d=tt.__rest(c,["extra"]);return d}),options:{min_id_length:this.config.minIdLength}},l.label=1;case 1:return l.trys.push([1,3,,4]),n=(0,sL.createServerConfig)(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(n,i)];case 2:return s=l.sent(),s===null?(this.fulfillRequest(r,0,na.UNEXPECTED_ERROR_MESSAGE),[2]):t?(this.handleResponse(s,r),[3,4]):("body"in s?this.fulfillRequest(r,s.statusCode,"".concat(s.status,": ").concat(sa(s))):this.fulfillRequest(r,s.statusCode,s.status),[2]);case 3:return o=l.sent(),this.config.loggerProvider.error(o),a=oL(o),this.fulfillRequest(r,0,a),[3,4];case 4:return[2]}})})},e.prototype.handleResponse=function(r,t){var i=r.status;switch(i){case ia.Status.Success:{this.handleSuccessResponse(r,t);break}case ia.Status.Invalid:{this.handleInvalidResponse(r,t);break}case ia.Status.PayloadTooLarge:{this.handlePayloadTooLargeResponse(r,t);break}case ia.Status.RateLimit:{this.handleRateLimitResponse(r,t);break}default:{this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(i,"' provided for ").concat(t.length,' events"}')),this.handleOtherResponse(t);break}}},e.prototype.handleSuccessResponse=function(r,t){this.fulfillRequest(t,r.statusCode,na.SUCCESS_MESSAGE)},e.prototype.handleInvalidResponse=function(r,t){var i=this;if(r.body.missingField||r.body.error.startsWith(na.INVALID_API_KEY)){this.fulfillRequest(t,r.statusCode,r.body.error);return}var n=tt.__spreadArray(tt.__spreadArray(tt.__spreadArray(tt.__spreadArray([],tt.__read(Object.values(r.body.eventsWithInvalidFields)),!1),tt.__read(Object.values(r.body.eventsWithMissingFields)),!1),tt.__read(Object.values(r.body.eventsWithInvalidIdLengths)),!1),tt.__read(r.body.silencedEvents),!1).flat(),s=new Set(n),o=t.filter(function(a,l){if(s.has(l)){i.fulfillRequest([a],r.statusCode,r.body.error);return}return!0});o.length>0&&this.config.loggerProvider.warn(sa(r)),this.addToQueue.apply(this,tt.__spreadArray([],tt.__read(o),!1))},e.prototype.handlePayloadTooLargeResponse=function(r,t){if(t.length===1){this.fulfillRequest(t,r.statusCode,r.body.error);return}this.config.loggerProvider.warn(sa(r)),this.config.flushQueueSize/=2,this.addToQueue.apply(this,tt.__spreadArray([],tt.__read(t),!1))},e.prototype.handleRateLimitResponse=function(r,t){var i=this,n=Object.keys(r.body.exceededDailyQuotaUsers),s=Object.keys(r.body.exceededDailyQuotaDevices),o=r.body.throttledEvents,a=new Set(n),l=new Set(s),u=new Set(o),c=t.filter(function(p,d){if(p.event.user_id&&a.has(p.event.user_id)||p.event.device_id&&l.has(p.event.device_id)){i.fulfillRequest([p],r.statusCode,r.body.error);return}return u.has(d)&&(p.timeout=i.throttleTimeout),!0});c.length>0&&this.config.loggerProvider.warn(sa(r)),this.addToQueue.apply(this,tt.__spreadArray([],tt.__read(c),!1))},e.prototype.handleOtherResponse=function(r){var t=this;this.addToQueue.apply(this,tt.__spreadArray([],tt.__read(r.map(function(i){return i.timeout=i.attempts*t.retryTimeout,i})),!1))},e.prototype.fulfillRequest=function(r,t,i){this.saveEvents(),r.forEach(function(n){return n.callback((0,nL.buildResult)(n.event,t,i))})},e.prototype.saveEvents=function(){if(this.config.storageProvider){var r=Array.from(this.queue.map(function(t){return t.event}));this.config.storageProvider.set(this.storageKey,r)}},e}();Ps.Destination=aL});var OS=T(er=>{Object.defineProperty(er,"__esModule",{value:!0});er.debugWrapper=er.getClientStates=er.getValueByStringPath=er.getClientLogConfig=er.getStacktrace=void 0;var Ef=(ci(),Wt(ui)),lL=lr(),uL=function(e){e===void 0&&(e=0);var r=new Error().stack||"";return r.split(`
`).slice(2+e).map(function(t){return t.trim()})};er.getStacktrace=uL;var cL=function(e){return function(){var r=Ef.__assign({},e.config),t=r.loggerProvider,i=r.logLevel;return{logger:t,logLevel:i}}};er.getClientLogConfig=cL;var pL=function(e,r){var t,i;r=r.replace(/\[(\w+)\]/g,".$1"),r=r.replace(/^\./,"");try{for(var n=Ef.__values(r.split(".")),s=n.next();!s.done;s=n.next()){var o=s.value;if(o in e)e=e[o];else return}}catch(a){t={error:a}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}return e};er.getValueByStringPath=pL;var dL=function(e,r){return function(){var t,i,n={};try{for(var s=Ef.__values(r),o=s.next();!o.done;o=s.next()){var a=o.value;n[a]=(0,er.getValueByStringPath)(e,a)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}return n}};er.getClientStates=dL;var fL=function(e,r,t,i,n){return n===void 0&&(n=null),function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var a=t(),l=a.logger,u=a.logLevel;if(u&&u<lL.LogLevel.Debug||!u||!l)return e.apply(n,s);var c={type:"invoke public method",name:r,args:s,stacktrace:(0,er.getStacktrace)(1),time:{start:new Date().toISOString()},states:{}};i&&c.states&&(c.states.before=i());var p=e.apply(n,s);return p&&p.promise?p.promise.then(function(){i&&c.states&&(c.states.after=i()),c.time&&(c.time.end=new Date().toISOString()),l.debug(JSON.stringify(c,null,2))}):(i&&c.states&&(c.states.after=i()),c.time&&(c.time.end=new Date().toISOString()),l.debug(JSON.stringify(c,null,2))),p}};er.debugWrapper=fL});var RS=T(oa=>{Object.defineProperty(oa,"__esModule",{value:!0});oa.UUID=void 0;var hL=function(e){return e?(e^Math.random()*16>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,oa.UUID)};oa.UUID=hL});var LS=T(yu=>{Object.defineProperty(yu,"__esModule",{value:!0});yu.MemoryStorage=void 0;var xr=(ci(),Wt(ui)),mL=function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return xr.__awaiter(this,void 0,void 0,function(){return xr.__generator(this,function(r){return[2,!0]})})},e.prototype.get=function(r){return xr.__awaiter(this,void 0,void 0,function(){return xr.__generator(this,function(t){return[2,this.memoryStorage.get(r)]})})},e.prototype.getRaw=function(r){return xr.__awaiter(this,void 0,void 0,function(){var t;return xr.__generator(this,function(i){switch(i.label){case 0:return[4,this.get(r)];case 1:return t=i.sent(),[2,t?JSON.stringify(t):void 0]}})})},e.prototype.set=function(r,t){return xr.__awaiter(this,void 0,void 0,function(){return xr.__generator(this,function(i){return this.memoryStorage.set(r,t),[2]})})},e.prototype.remove=function(r){return xr.__awaiter(this,void 0,void 0,function(){return xr.__generator(this,function(t){return this.memoryStorage.delete(r),[2]})})},e.prototype.reset=function(){return xr.__awaiter(this,void 0,void 0,function(){return xr.__generator(this,function(r){return this.memoryStorage.clear(),[2]})})},e}();yu.MemoryStorage=mL});var MS=T(bu=>{Object.defineProperty(bu,"__esModule",{value:!0});bu.BaseTransport=void 0;var Er=lr(),gL=function(){function e(){}return e.prototype.send=function(r,t){return Promise.resolve(null)},e.prototype.buildResponse=function(r){var t,i,n,s,o,a,l,u,c,p,d,h,f,g,m,y,b,C,D,x,E,w;if(typeof r!="object")return null;var k=r.code||0,M=this.buildStatus(k);switch(M){case Er.Status.Success:return{status:M,statusCode:k,body:{eventsIngested:(t=r.events_ingested)!==null&&t!==void 0?t:0,payloadSizeBytes:(i=r.payload_size_bytes)!==null&&i!==void 0?i:0,serverUploadTime:(n=r.server_upload_time)!==null&&n!==void 0?n:0}};case Er.Status.Invalid:return{status:M,statusCode:k,body:{error:(s=r.error)!==null&&s!==void 0?s:"",missingField:(o=r.missing_field)!==null&&o!==void 0?o:"",eventsWithInvalidFields:(a=r.events_with_invalid_fields)!==null&&a!==void 0?a:{},eventsWithMissingFields:(l=r.events_with_missing_fields)!==null&&l!==void 0?l:{},eventsWithInvalidIdLengths:(u=r.events_with_invalid_id_lengths)!==null&&u!==void 0?u:{},epsThreshold:(c=r.eps_threshold)!==null&&c!==void 0?c:0,exceededDailyQuotaDevices:(p=r.exceeded_daily_quota_devices)!==null&&p!==void 0?p:{},silencedDevices:(d=r.silenced_devices)!==null&&d!==void 0?d:[],silencedEvents:(h=r.silenced_events)!==null&&h!==void 0?h:[],throttledDevices:(f=r.throttled_devices)!==null&&f!==void 0?f:{},throttledEvents:(g=r.throttled_events)!==null&&g!==void 0?g:[]}};case Er.Status.PayloadTooLarge:return{status:M,statusCode:k,body:{error:(m=r.error)!==null&&m!==void 0?m:""}};case Er.Status.RateLimit:return{status:M,statusCode:k,body:{error:(y=r.error)!==null&&y!==void 0?y:"",epsThreshold:(b=r.eps_threshold)!==null&&b!==void 0?b:0,throttledDevices:(C=r.throttled_devices)!==null&&C!==void 0?C:{},throttledUsers:(D=r.throttled_users)!==null&&D!==void 0?D:{},exceededDailyQuotaDevices:(x=r.exceeded_daily_quota_devices)!==null&&x!==void 0?x:{},exceededDailyQuotaUsers:(E=r.exceeded_daily_quota_users)!==null&&E!==void 0?E:{},throttledEvents:(w=r.throttled_events)!==null&&w!==void 0?w:[]}};case Er.Status.Timeout:default:return{status:M,statusCode:k}}},e.prototype.buildStatus=function(r){return r>=200&&r<300?Er.Status.Success:r===429?Er.Status.RateLimit:r===413?Er.Status.PayloadTooLarge:r===408?Er.Status.Timeout:r>=400&&r<500?Er.Status.Invalid:r>=500?Er.Status.Failed:Er.Status.Unknown},e}();bu.BaseTransport=gL});var Is=T(Ee=>{Object.defineProperty(Ee,"__esModule",{value:!0});Ee.createIdentifyEvent=Ee.BaseTransport=Ee.MemoryStorage=Ee.UUID=Ee.getClientStates=Ee.getClientLogConfig=Ee.debugWrapper=Ee.returnWrapper=Ee.STORAGE_PREFIX=Ee.AMPLITUDE_PREFIX=Ee.Logger=Ee.Config=Ee.Destination=Ee.Revenue=Ee.Identify=Ee.AmplitudeCore=void 0;var yL=_S();Object.defineProperty(Ee,"AmplitudeCore",{enumerable:!0,get:function(){return yL.AmplitudeCore}});var bL=ff();Object.defineProperty(Ee,"Identify",{enumerable:!0,get:function(){return bL.Identify}});var DL=NS();Object.defineProperty(Ee,"Revenue",{enumerable:!0,get:function(){return DL.Revenue}});var xL=kS();Object.defineProperty(Ee,"Destination",{enumerable:!0,get:function(){return xL.Destination}});var EL=xf();Object.defineProperty(Ee,"Config",{enumerable:!0,get:function(){return EL.Config}});var CL=bf();Object.defineProperty(Ee,"Logger",{enumerable:!0,get:function(){return CL.Logger}});var BS=Zo();Object.defineProperty(Ee,"AMPLITUDE_PREFIX",{enumerable:!0,get:function(){return BS.AMPLITUDE_PREFIX}});Object.defineProperty(Ee,"STORAGE_PREFIX",{enumerable:!0,get:function(){return BS.STORAGE_PREFIX}});var SL=gf();Object.defineProperty(Ee,"returnWrapper",{enumerable:!0,get:function(){return SL.returnWrapper}});var Cf=OS();Object.defineProperty(Ee,"debugWrapper",{enumerable:!0,get:function(){return Cf.debugWrapper}});Object.defineProperty(Ee,"getClientLogConfig",{enumerable:!0,get:function(){return Cf.getClientLogConfig}});Object.defineProperty(Ee,"getClientStates",{enumerable:!0,get:function(){return Cf.getClientStates}});var vL=RS();Object.defineProperty(Ee,"UUID",{enumerable:!0,get:function(){return vL.UUID}});var wL=LS();Object.defineProperty(Ee,"MemoryStorage",{enumerable:!0,get:function(){return wL.MemoryStorage}});var TL=MS();Object.defineProperty(Ee,"BaseTransport",{enumerable:!0,get:function(){return TL.BaseTransport}});var AL=hf();Object.defineProperty(Ee,"createIdentifyEvent",{enumerable:!0,get:function(){return AL.createIdentifyEvent}})});var $S=T(Du=>{Object.defineProperty(Du,"__esModule",{value:!0});Du.VERSION=void 0;Du.VERSION="1.3.5"});var US=T(xu=>{Object.defineProperty(xu,"__esModule",{value:!0});xu.Context=void 0;var Sf=(Go(),Wt(Wo)),PL=lr(),IL=Is(),_L=$S(),NL=function(){function e(){this.name="context",this.type=PL.PluginType.BEFORE,this.eventId=0,this.library="amplitude-node-ts/".concat(_L.VERSION)}return e.prototype.setup=function(r){return this.config=r,Promise.resolve(void 0)},e.prototype.execute=function(r){var t=this;return new Promise(function(i){var n=new Date().getTime(),s=Sf.__assign(Sf.__assign(Sf.__assign({time:n,insert_id:(0,IL.UUID)(),plan:t.config.plan},t.config.ingestionMetadata&&{ingestion_metadata:{source_name:t.config.ingestionMetadata.sourceName,source_version:t.config.ingestionMetadata.sourceVersion}}),r),{event_id:t.eventId++,library:t.library});return i(s)})},e}();xu.Context=NL});var jS=T(Eu=>{Object.defineProperty(Eu,"__esModule",{value:!0});Eu.Http=void 0;var FL=(Go(),Wt(Wo)),kL=Is(),OL=require("http"),RL=require("https"),LL=function(e){FL.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.send=function(t,i){var n=this,s;if(t.startsWith("http://"))s=OL;else if(t.startsWith("https://"))s=RL;else throw new Error("Invalid server url");var o=new URL(t),a=JSON.stringify(i),l={headers:{"Content-Type":"application/json","Content-Length":Buffer.byteLength(a)},hostname:o.hostname,method:"POST",path:o.pathname,port:o.port,protocol:o.protocol};return new Promise(function(u){var c=s.request(l,function(p){p.setEncoding("utf8");var d="";p.on("data",function(h){d+=h}),p.on("end",function(){if(p.complete&&d.length>0)try{var h=JSON.parse(d),f=n.buildResponse(h);u(f);return}catch{u(null)}})});c.on("error",function(){return u(null)}),c.end(a)})},r}(kL.BaseTransport);Eu.Http=LL});var KS=T(_s=>{Object.defineProperty(_s,"__esModule",{value:!0});_s.useNodeConfig=_s.NodeConfig=void 0;var vf=(Go(),Wt(Wo)),ML=Is(),BL=jS(),qS=function(e){vf.__extends(r,e);function r(t,i){return e.call(this,vf.__assign(vf.__assign({transportProvider:new BL.Http},i),{apiKey:t}))||this}return r}(ML.Config);_s.NodeConfig=qS;var $L=function(e,r){return new qS(e,r)};_s.useNodeConfig=$L});var wf=T(gn=>{Object.defineProperty(gn,"__esModule",{value:!0});gn.createInstance=gn.AmplitudeNode=void 0;var Ns=(Go(),Wt(Wo)),ye=Is(),UL=US(),jL=KS(),VS=function(e){Ns.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.init=function(t,i){return t===void 0&&(t=""),(0,ye.returnWrapper)(this._init(Ns.__assign(Ns.__assign({},i),{apiKey:t})))},r.prototype._init=function(t){return Ns.__awaiter(this,void 0,void 0,function(){var i;return Ns.__generator(this,function(n){switch(n.label){case 0:return this.initializing?[2]:(this.initializing=!0,i=(0,jL.useNodeConfig)(t.apiKey,Ns.__assign({},t)),[4,e.prototype._init.call(this,i)]);case 1:return n.sent(),[4,this.add(new ye.Destination).promise];case 2:return n.sent(),[4,this.add(new UL.Context).promise];case 3:return n.sent(),this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 4:return n.sent(),[2]}})})},r}(ye.AmplitudeCore);gn.AmplitudeNode=VS;var qL=function(){var e=new VS;return{init:(0,ye.debugWrapper)(e.init.bind(e),"init",(0,ye.getClientLogConfig)(e),(0,ye.getClientStates)(e,["config"])),add:(0,ye.debugWrapper)(e.add.bind(e),"add",(0,ye.getClientLogConfig)(e),(0,ye.getClientStates)(e,["config.apiKey","timeline.plugins"])),remove:(0,ye.debugWrapper)(e.remove.bind(e),"remove",(0,ye.getClientLogConfig)(e),(0,ye.getClientStates)(e,["config.apiKey","timeline.plugins"])),track:(0,ye.debugWrapper)(e.track.bind(e),"track",(0,ye.getClientLogConfig)(e),(0,ye.getClientStates)(e,["config.apiKey","timeline.queue.length"])),logEvent:(0,ye.debugWrapper)(e.logEvent.bind(e),"logEvent",(0,ye.getClientLogConfig)(e),(0,ye.getClientStates)(e,["config.apiKey","timeline.queue.length"])),identify:(0,ye.debugWrapper)(e.identify.bind(e),"identify",(0,ye.getClientLogConfig)(e),(0,ye.getClientStates)(e,["config.apiKey","timeline.queue.length"])),groupIdentify:(0,ye.debugWrapper)(e.groupIdentify.bind(e),"groupIdentify",(0,ye.getClientLogConfig)(e),(0,ye.getClientStates)(e,["config.apiKey","timeline.queue.length"])),setGroup:(0,ye.debugWrapper)(e.setGroup.bind(e),"setGroup",(0,ye.getClientLogConfig)(e),(0,ye.getClientStates)(e,["config.apiKey","timeline.queue.length"])),revenue:(0,ye.debugWrapper)(e.revenue.bind(e),"revenue",(0,ye.getClientLogConfig)(e),(0,ye.getClientStates)(e,["config.apiKey","timeline.queue.length"])),flush:(0,ye.debugWrapper)(e.flush.bind(e),"flush",(0,ye.getClientLogConfig)(e),(0,ye.getClientStates)(e,["config.apiKey","timeline.queue.length"])),setOptOut:(0,ye.debugWrapper)(e.setOptOut.bind(e),"setOptOut",(0,ye.getClientLogConfig)(e),(0,ye.getClientStates)(e,["config"]))}};gn.createInstance=qL;gn.default=(0,gn.createInstance)()});var Cu=T(ve=>{Object.defineProperty(ve,"__esModule",{value:!0});ve.Types=ve.Identify=ve.Revenue=ve.flush=ve.track=ve.setOptOut=ve.setGroup=ve.revenue=ve.remove=ve.logEvent=ve.init=ve.identify=ve.groupIdentify=ve.add=ve.createInstance=void 0;var Lr=wf(),KL=wf();Object.defineProperty(ve,"createInstance",{enumerable:!0,get:function(){return KL.createInstance}});ve.add=Lr.default.add,ve.groupIdentify=Lr.default.groupIdentify,ve.identify=Lr.default.identify,ve.init=Lr.default.init,ve.logEvent=Lr.default.logEvent,ve.remove=Lr.default.remove,ve.revenue=Lr.default.revenue,ve.setGroup=Lr.default.setGroup,ve.setOptOut=Lr.default.setOptOut,ve.track=Lr.default.track,ve.flush=Lr.default.flush;var zS=Is();Object.defineProperty(ve,"Revenue",{enumerable:!0,get:function(){return zS.Revenue}});Object.defineProperty(ve,"Identify",{enumerable:!0,get:function(){return zS.Identify}});ve.Types=lr()});var HS=T(Tf=>{var GS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Tf.encode=function(e){if(0<=e&&e<GS.length)return GS[e];throw new TypeError("Must be between 0 and 63: "+e)};Tf.decode=function(e){var r=65,t=90,i=97,n=122,s=48,o=57,a=43,l=47,u=26,c=52;return r<=e&&e<=t?e-r:i<=e&&e<=n?e-i+u:s<=e&&e<=o?e-s+c:e==a?62:e==l?63:-1}});var If=T(Pf=>{var JS=HS(),Af=5,YS=1<<Af,XS=YS-1,QS=YS;function zL(e){return e<0?(-e<<1)+1:(e<<1)+0}function WL(e){var r=(e&1)===1,t=e>>1;return r?-t:t}Pf.encode=function(r){var t="",i,n=zL(r);do i=n&XS,n>>>=Af,n>0&&(i|=QS),t+=JS.encode(i);while(n>0);return t};Pf.decode=function(r,t,i){var n=r.length,s=0,o=0,a,l;do{if(t>=n)throw new Error("Expected more digits in base 64 VLQ value.");if(l=JS.decode(r.charCodeAt(t++)),l===-1)throw new Error("Invalid base64 digit: "+r.charAt(t-1));a=!!(l&QS),l&=XS,s=s+(l<<o),o+=Af}while(a);i.value=WL(s),i.rest=t}});var ks=T(Et=>{function GL(e,r,t){if(r in e)return e[r];if(arguments.length===3)return t;throw new Error('"'+r+'" is a required argument.')}Et.getArg=GL;var ZS=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,HL=/^data:.+\,.+$/;function aa(e){var r=e.match(ZS);return r?{scheme:r[1],auth:r[2],host:r[3],port:r[4],path:r[5]}:null}Et.urlParse=aa;function Fs(e){var r="";return e.scheme&&(r+=e.scheme+":"),r+="//",e.auth&&(r+=e.auth+"@"),e.host&&(r+=e.host),e.port&&(r+=":"+e.port),e.path&&(r+=e.path),r}Et.urlGenerate=Fs;var JL=32;function YL(e){var r=[];return function(t){for(var i=0;i<r.length;i++)if(r[i].input===t){var n=r[0];return r[0]=r[i],r[i]=n,r[0].result}var s=e(t);return r.unshift({input:t,result:s}),r.length>JL&&r.pop(),s}}var _f=YL(function(r){var t=r,i=aa(r);if(i){if(!i.path)return r;t=i.path}for(var n=Et.isAbsolute(t),s=[],o=0,a=0;;)if(o=a,a=t.indexOf("/",o),a===-1){s.push(t.slice(o));break}else for(s.push(t.slice(o,a));a<t.length&&t[a]==="/";)a++;for(var l,u=0,a=s.length-1;a>=0;a--)l=s[a],l==="."?s.splice(a,1):l===".."?u++:u>0&&(l===""?(s.splice(a+1,u),u=0):(s.splice(a,2),u--));return t=s.join("/"),t===""&&(t=n?"/":"."),i?(i.path=t,Fs(i)):t});Et.normalize=_f;function ev(e,r){e===""&&(e="."),r===""&&(r=".");var t=aa(r),i=aa(e);if(i&&(e=i.path||"/"),t&&!t.scheme)return i&&(t.scheme=i.scheme),Fs(t);if(t||r.match(HL))return r;if(i&&!i.host&&!i.path)return i.host=r,Fs(i);var n=r.charAt(0)==="/"?r:_f(e.replace(/\/+$/,"")+"/"+r);return i?(i.path=n,Fs(i)):n}Et.join=ev;Et.isAbsolute=function(e){return e.charAt(0)==="/"||ZS.test(e)};function XL(e,r){e===""&&(e="."),e=e.replace(/\/$/,"");for(var t=0;r.indexOf(e+"/")!==0;){var i=e.lastIndexOf("/");if(i<0||(e=e.slice(0,i),e.match(/^([^\/]+:\/)?\/*$/)))return r;++t}return Array(t+1).join("../")+r.substr(e.length+1)}Et.relative=XL;var tv=function(){var e=Object.create(null);return!("__proto__"in e)}();function rv(e){return e}function QL(e){return iv(e)?"$"+e:e}Et.toSetString=tv?rv:QL;function ZL(e){return iv(e)?e.slice(1):e}Et.fromSetString=tv?rv:ZL;function iv(e){if(!e)return!1;var r=e.length;if(r<9||e.charCodeAt(r-1)!==95||e.charCodeAt(r-2)!==95||e.charCodeAt(r-3)!==111||e.charCodeAt(r-4)!==116||e.charCodeAt(r-5)!==111||e.charCodeAt(r-6)!==114||e.charCodeAt(r-7)!==112||e.charCodeAt(r-8)!==95||e.charCodeAt(r-9)!==95)return!1;for(var t=r-10;t>=0;t--)if(e.charCodeAt(t)!==36)return!1;return!0}function eM(e,r,t){var i=ji(e.source,r.source);return i!==0||(i=e.originalLine-r.originalLine,i!==0)||(i=e.originalColumn-r.originalColumn,i!==0||t)||(i=e.generatedColumn-r.generatedColumn,i!==0)||(i=e.generatedLine-r.generatedLine,i!==0)?i:ji(e.name,r.name)}Et.compareByOriginalPositions=eM;function tM(e,r,t){var i;return i=e.originalLine-r.originalLine,i!==0||(i=e.originalColumn-r.originalColumn,i!==0||t)||(i=e.generatedColumn-r.generatedColumn,i!==0)||(i=e.generatedLine-r.generatedLine,i!==0)?i:ji(e.name,r.name)}Et.compareByOriginalPositionsNoSource=tM;function rM(e,r,t){var i=e.generatedLine-r.generatedLine;return i!==0||(i=e.generatedColumn-r.generatedColumn,i!==0||t)||(i=ji(e.source,r.source),i!==0)||(i=e.originalLine-r.originalLine,i!==0)||(i=e.originalColumn-r.originalColumn,i!==0)?i:ji(e.name,r.name)}Et.compareByGeneratedPositionsDeflated=rM;function iM(e,r,t){var i=e.generatedColumn-r.generatedColumn;return i!==0||t||(i=ji(e.source,r.source),i!==0)||(i=e.originalLine-r.originalLine,i!==0)||(i=e.originalColumn-r.originalColumn,i!==0)?i:ji(e.name,r.name)}Et.compareByGeneratedPositionsDeflatedNoLine=iM;function ji(e,r){return e===r?0:e===null?1:r===null?-1:e>r?1:-1}function nM(e,r){var t=e.generatedLine-r.generatedLine;return t!==0||(t=e.generatedColumn-r.generatedColumn,t!==0)||(t=ji(e.source,r.source),t!==0)||(t=e.originalLine-r.originalLine,t!==0)||(t=e.originalColumn-r.originalColumn,t!==0)?t:ji(e.name,r.name)}Et.compareByGeneratedPositionsInflated=nM;function sM(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}Et.parseSourceMapInput=sM;function oM(e,r,t){if(r=r||"",e&&(e[e.length-1]!=="/"&&r[0]!=="/"&&(e+="/"),r=e+r),t){var i=aa(t);if(!i)throw new Error("sourceMapURL could not be parsed");if(i.path){var n=i.path.lastIndexOf("/");n>=0&&(i.path=i.path.substring(0,n+1))}r=ev(Fs(i),r)}return _f(r)}Et.computeSourceURL=oM});var kf=T(nv=>{var Nf=ks(),Ff=Object.prototype.hasOwnProperty,zn=typeof Map<"u";function qi(){this._array=[],this._set=zn?new Map:Object.create(null)}qi.fromArray=function(r,t){for(var i=new qi,n=0,s=r.length;n<s;n++)i.add(r[n],t);return i};qi.prototype.size=function(){return zn?this._set.size:Object.getOwnPropertyNames(this._set).length};qi.prototype.add=function(r,t){var i=zn?r:Nf.toSetString(r),n=zn?this.has(r):Ff.call(this._set,i),s=this._array.length;(!n||t)&&this._array.push(r),n||(zn?this._set.set(r,s):this._set[i]=s)};qi.prototype.has=function(r){if(zn)return this._set.has(r);var t=Nf.toSetString(r);return Ff.call(this._set,t)};qi.prototype.indexOf=function(r){if(zn){var t=this._set.get(r);if(t>=0)return t}else{var i=Nf.toSetString(r);if(Ff.call(this._set,i))return this._set[i]}throw new Error('"'+r+'" is not in the set.')};qi.prototype.at=function(r){if(r>=0&&r<this._array.length)return this._array[r];throw new Error("No element indexed by "+r)};qi.prototype.toArray=function(){return this._array.slice()};nv.ArraySet=qi});var av=T(ov=>{var sv=ks();function aM(e,r){var t=e.generatedLine,i=r.generatedLine,n=e.generatedColumn,s=r.generatedColumn;return i>t||i==t&&s>=n||sv.compareByGeneratedPositionsInflated(e,r)<=0}function Su(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}Su.prototype.unsortedForEach=function(r,t){this._array.forEach(r,t)};Su.prototype.add=function(r){aM(this._last,r)?(this._last=r,this._array.push(r)):(this._sorted=!1,this._array.push(r))};Su.prototype.toArray=function(){return this._sorted||(this._array.sort(sv.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};ov.MappingList=Su});var Of=T(lv=>{var la=If(),st=ks(),vu=kf().ArraySet,lM=av().MappingList;function Cr(e){e||(e={}),this._file=st.getArg(e,"file",null),this._sourceRoot=st.getArg(e,"sourceRoot",null),this._skipValidation=st.getArg(e,"skipValidation",!1),this._ignoreInvalidMapping=st.getArg(e,"ignoreInvalidMapping",!1),this._sources=new vu,this._names=new vu,this._mappings=new lM,this._sourcesContents=null}Cr.prototype._version=3;Cr.fromSourceMap=function(r,t){var i=r.sourceRoot,n=new Cr(Object.assign(t||{},{file:r.file,sourceRoot:i}));return r.eachMapping(function(s){var o={generated:{line:s.generatedLine,column:s.generatedColumn}};s.source!=null&&(o.source=s.source,i!=null&&(o.source=st.relative(i,o.source)),o.original={line:s.originalLine,column:s.originalColumn},s.name!=null&&(o.name=s.name)),n.addMapping(o)}),r.sources.forEach(function(s){var o=s;i!==null&&(o=st.relative(i,s)),n._sources.has(o)||n._sources.add(o);var a=r.sourceContentFor(s);a!=null&&n.setSourceContent(s,a)}),n};Cr.prototype.addMapping=function(r){var t=st.getArg(r,"generated"),i=st.getArg(r,"original",null),n=st.getArg(r,"source",null),s=st.getArg(r,"name",null);!this._skipValidation&&this._validateMapping(t,i,n,s)===!1||(n!=null&&(n=String(n),this._sources.has(n)||this._sources.add(n)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:i!=null&&i.line,originalColumn:i!=null&&i.column,source:n,name:s}))};Cr.prototype.setSourceContent=function(r,t){var i=r;this._sourceRoot!=null&&(i=st.relative(this._sourceRoot,i)),t!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[st.toSetString(i)]=t):this._sourcesContents&&(delete this._sourcesContents[st.toSetString(i)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};Cr.prototype.applySourceMap=function(r,t,i){var n=t;if(t==null){if(r.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);n=r.file}var s=this._sourceRoot;s!=null&&(n=st.relative(s,n));var o=new vu,a=new vu;this._mappings.unsortedForEach(function(l){if(l.source===n&&l.originalLine!=null){var u=r.originalPositionFor({line:l.originalLine,column:l.originalColumn});u.source!=null&&(l.source=u.source,i!=null&&(l.source=st.join(i,l.source)),s!=null&&(l.source=st.relative(s,l.source)),l.originalLine=u.line,l.originalColumn=u.column,u.name!=null&&(l.name=u.name))}var c=l.source;c!=null&&!o.has(c)&&o.add(c);var p=l.name;p!=null&&!a.has(p)&&a.add(p)},this),this._sources=o,this._names=a,r.sources.forEach(function(l){var u=r.sourceContentFor(l);u!=null&&(i!=null&&(l=st.join(i,l)),s!=null&&(l=st.relative(s,l)),this.setSourceContent(l,u))},this)};Cr.prototype._validateMapping=function(r,t,i,n){if(t&&typeof t.line!="number"&&typeof t.column!="number"){var s="original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.";if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(s),!1;throw new Error(s)}if(!(r&&"line"in r&&"column"in r&&r.line>0&&r.column>=0&&!t&&!i&&!n)){if(r&&"line"in r&&"column"in r&&t&&"line"in t&&"column"in t&&r.line>0&&r.column>=0&&t.line>0&&t.column>=0&&i)return;var s="Invalid mapping: "+JSON.stringify({generated:r,source:i,original:t,name:n});if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(s),!1;throw new Error(s)}};Cr.prototype._serializeMappings=function(){for(var r=0,t=1,i=0,n=0,s=0,o=0,a="",l,u,c,p,d=this._mappings.toArray(),h=0,f=d.length;h<f;h++){if(u=d[h],l="",u.generatedLine!==t)for(r=0;u.generatedLine!==t;)l+=";",t++;else if(h>0){if(!st.compareByGeneratedPositionsInflated(u,d[h-1]))continue;l+=","}l+=la.encode(u.generatedColumn-r),r=u.generatedColumn,u.source!=null&&(p=this._sources.indexOf(u.source),l+=la.encode(p-o),o=p,l+=la.encode(u.originalLine-1-n),n=u.originalLine-1,l+=la.encode(u.originalColumn-i),i=u.originalColumn,u.name!=null&&(c=this._names.indexOf(u.name),l+=la.encode(c-s),s=c)),a+=l}return a};Cr.prototype._generateSourcesContent=function(r,t){return r.map(function(i){if(!this._sourcesContents)return null;t!=null&&(i=st.relative(t,i));var n=st.toSetString(i);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)};Cr.prototype.toJSON=function(){var r={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(r.file=this._file),this._sourceRoot!=null&&(r.sourceRoot=this._sourceRoot),this._sourcesContents&&(r.sourcesContent=this._generateSourcesContent(r.sources,r.sourceRoot)),r};Cr.prototype.toString=function(){return JSON.stringify(this.toJSON())};lv.SourceMapGenerator=Cr});var uv=T(Wn=>{Wn.GREATEST_LOWER_BOUND=1;Wn.LEAST_UPPER_BOUND=2;function Rf(e,r,t,i,n,s){var o=Math.floor((r-e)/2)+e,a=n(t,i[o],!0);return a===0?o:a>0?r-o>1?Rf(o,r,t,i,n,s):s==Wn.LEAST_UPPER_BOUND?r<i.length?r:-1:o:o-e>1?Rf(e,o,t,i,n,s):s==Wn.LEAST_UPPER_BOUND?o:e<0?-1:e}Wn.search=function(r,t,i,n){if(t.length===0)return-1;var s=Rf(-1,t.length,r,t,i,n||Wn.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&i(t[s],t[s-1],!0)===0;)--s;return s}});var dv=T(pv=>{function uM(e){function r(n,s,o){var a=n[s];n[s]=n[o],n[o]=a}function t(n,s){return Math.round(n+Math.random()*(s-n))}function i(n,s,o,a){if(o<a){var l=t(o,a),u=o-1;r(n,l,a);for(var c=n[a],p=o;p<a;p++)s(n[p],c,!1)<=0&&(u+=1,r(n,u,p));r(n,u+1,p);var d=u+1;i(n,s,o,d-1),i(n,s,d+1,a)}}return i}function cM(e){let r=uM.toString();return new Function(`return ${r}`)()(e)}var cv=new WeakMap;pv.quickSort=function(e,r,t=0){let i=cv.get(r);i===void 0&&(i=cM(r),cv.set(r,i)),i(e,r,t,e.length-1)}});var mv=T(wu=>{var G=ks(),Mf=uv(),Os=kf().ArraySet,pM=If(),ua=dv().quickSort;function Ge(e,r){var t=e;return typeof e=="string"&&(t=G.parseSourceMapInput(e)),t.sections!=null?new Mr(t,r):new wt(t,r)}Ge.fromSourceMap=function(e,r){return wt.fromSourceMap(e,r)};Ge.prototype._version=3;Ge.prototype.__generatedMappings=null;Object.defineProperty(Ge.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});Ge.prototype.__originalMappings=null;Object.defineProperty(Ge.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});Ge.prototype._charIsMappingSeparator=function(r,t){var i=r.charAt(t);return i===";"||i===","};Ge.prototype._parseMappings=function(r,t){throw new Error("Subclasses must implement _parseMappings")};Ge.GENERATED_ORDER=1;Ge.ORIGINAL_ORDER=2;Ge.GREATEST_LOWER_BOUND=1;Ge.LEAST_UPPER_BOUND=2;Ge.prototype.eachMapping=function(r,t,i){var n=t||null,s=i||Ge.GENERATED_ORDER,o;switch(s){case Ge.GENERATED_ORDER:o=this._generatedMappings;break;case Ge.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}for(var a=this.sourceRoot,l=r.bind(n),u=this._names,c=this._sources,p=this._sourceMapURL,d=0,h=o.length;d<h;d++){var f=o[d],g=f.source===null?null:c.at(f.source);g!==null&&(g=G.computeSourceURL(a,g,p)),l({source:g,generatedLine:f.generatedLine,generatedColumn:f.generatedColumn,originalLine:f.originalLine,originalColumn:f.originalColumn,name:f.name===null?null:u.at(f.name)})}};Ge.prototype.allGeneratedPositionsFor=function(r){var t=G.getArg(r,"line"),i={source:G.getArg(r,"source"),originalLine:t,originalColumn:G.getArg(r,"column",0)};if(i.source=this._findSourceIndex(i.source),i.source<0)return[];var n=[],s=this._findMapping(i,this._originalMappings,"originalLine","originalColumn",G.compareByOriginalPositions,Mf.LEAST_UPPER_BOUND);if(s>=0){var o=this._originalMappings[s];if(r.column===void 0)for(var a=o.originalLine;o&&o.originalLine===a;)n.push({line:G.getArg(o,"generatedLine",null),column:G.getArg(o,"generatedColumn",null),lastColumn:G.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++s];else for(var l=o.originalColumn;o&&o.originalLine===t&&o.originalColumn==l;)n.push({line:G.getArg(o,"generatedLine",null),column:G.getArg(o,"generatedColumn",null),lastColumn:G.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++s]}return n};wu.SourceMapConsumer=Ge;function wt(e,r){var t=e;typeof e=="string"&&(t=G.parseSourceMapInput(e));var i=G.getArg(t,"version"),n=G.getArg(t,"sources"),s=G.getArg(t,"names",[]),o=G.getArg(t,"sourceRoot",null),a=G.getArg(t,"sourcesContent",null),l=G.getArg(t,"mappings"),u=G.getArg(t,"file",null);if(i!=this._version)throw new Error("Unsupported version: "+i);o&&(o=G.normalize(o)),n=n.map(String).map(G.normalize).map(function(c){return o&&G.isAbsolute(o)&&G.isAbsolute(c)?G.relative(o,c):c}),this._names=Os.fromArray(s.map(String),!0),this._sources=Os.fromArray(n,!0),this._absoluteSources=this._sources.toArray().map(function(c){return G.computeSourceURL(o,c,r)}),this.sourceRoot=o,this.sourcesContent=a,this._mappings=l,this._sourceMapURL=r,this.file=u}wt.prototype=Object.create(Ge.prototype);wt.prototype.consumer=Ge;wt.prototype._findSourceIndex=function(e){var r=e;if(this.sourceRoot!=null&&(r=G.relative(this.sourceRoot,r)),this._sources.has(r))return this._sources.indexOf(r);var t;for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1};wt.fromSourceMap=function(r,t){var i=Object.create(wt.prototype),n=i._names=Os.fromArray(r._names.toArray(),!0),s=i._sources=Os.fromArray(r._sources.toArray(),!0);i.sourceRoot=r._sourceRoot,i.sourcesContent=r._generateSourcesContent(i._sources.toArray(),i.sourceRoot),i.file=r._file,i._sourceMapURL=t,i._absoluteSources=i._sources.toArray().map(function(h){return G.computeSourceURL(i.sourceRoot,h,t)});for(var o=r._mappings.toArray().slice(),a=i.__generatedMappings=[],l=i.__originalMappings=[],u=0,c=o.length;u<c;u++){var p=o[u],d=new hv;d.generatedLine=p.generatedLine,d.generatedColumn=p.generatedColumn,p.source&&(d.source=s.indexOf(p.source),d.originalLine=p.originalLine,d.originalColumn=p.originalColumn,p.name&&(d.name=n.indexOf(p.name)),l.push(d)),a.push(d)}return ua(i.__originalMappings,G.compareByOriginalPositions),i};wt.prototype._version=3;Object.defineProperty(wt.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function hv(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}var Lf=G.compareByGeneratedPositionsDeflatedNoLine;function fv(e,r){let t=e.length,i=e.length-r;if(!(i<=1))if(i==2){let n=e[r],s=e[r+1];Lf(n,s)>0&&(e[r]=s,e[r+1]=n)}else if(i<20)for(let n=r;n<t;n++)for(let s=n;s>r;s--){let o=e[s-1],a=e[s];if(Lf(o,a)<=0)break;e[s-1]=a,e[s]=o}else ua(e,Lf,r)}wt.prototype._parseMappings=function(r,t){var i=1,n=0,s=0,o=0,a=0,l=0,u=r.length,c=0,p={},d={},h=[],f=[],g,m,y,b,C;let D=0;for(;c<u;)if(r.charAt(c)===";")i++,c++,n=0,fv(f,D),D=f.length;else if(r.charAt(c)===",")c++;else{for(g=new hv,g.generatedLine=i,b=c;b<u&&!this._charIsMappingSeparator(r,b);b++);for(m=r.slice(c,b),y=[];c<b;)pM.decode(r,c,d),C=d.value,c=d.rest,y.push(C);if(y.length===2)throw new Error("Found a source, but no line and column");if(y.length===3)throw new Error("Found a source and line, but no column");if(g.generatedColumn=n+y[0],n=g.generatedColumn,y.length>1&&(g.source=a+y[1],a+=y[1],g.originalLine=s+y[2],s=g.originalLine,g.originalLine+=1,g.originalColumn=o+y[3],o=g.originalColumn,y.length>4&&(g.name=l+y[4],l+=y[4])),f.push(g),typeof g.originalLine=="number"){let E=g.source;for(;h.length<=E;)h.push(null);h[E]===null&&(h[E]=[]),h[E].push(g)}}fv(f,D),this.__generatedMappings=f;for(var x=0;x<h.length;x++)h[x]!=null&&ua(h[x],G.compareByOriginalPositionsNoSource);this.__originalMappings=[].concat(...h)};wt.prototype._findMapping=function(r,t,i,n,s,o){if(r[i]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+r[i]);if(r[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+r[n]);return Mf.search(r,t,s,o)};wt.prototype.computeColumnSpans=function(){for(var r=0;r<this._generatedMappings.length;++r){var t=this._generatedMappings[r];if(r+1<this._generatedMappings.length){var i=this._generatedMappings[r+1];if(t.generatedLine===i.generatedLine){t.lastGeneratedColumn=i.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}};wt.prototype.originalPositionFor=function(r){var t={generatedLine:G.getArg(r,"line"),generatedColumn:G.getArg(r,"column")},i=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",G.compareByGeneratedPositionsDeflated,G.getArg(r,"bias",Ge.GREATEST_LOWER_BOUND));if(i>=0){var n=this._generatedMappings[i];if(n.generatedLine===t.generatedLine){var s=G.getArg(n,"source",null);s!==null&&(s=this._sources.at(s),s=G.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var o=G.getArg(n,"name",null);return o!==null&&(o=this._names.at(o)),{source:s,line:G.getArg(n,"originalLine",null),column:G.getArg(n,"originalColumn",null),name:o}}}return{source:null,line:null,column:null,name:null}};wt.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(r){return r==null}):!1};wt.prototype.sourceContentFor=function(r,t){if(!this.sourcesContent)return null;var i=this._findSourceIndex(r);if(i>=0)return this.sourcesContent[i];var n=r;this.sourceRoot!=null&&(n=G.relative(this.sourceRoot,n));var s;if(this.sourceRoot!=null&&(s=G.urlParse(this.sourceRoot))){var o=n.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!s.path||s.path=="/")&&this._sources.has("/"+n))return this.sourcesContent[this._sources.indexOf("/"+n)]}if(t)return null;throw new Error('"'+n+'" is not in the SourceMap.')};wt.prototype.generatedPositionFor=function(r){var t=G.getArg(r,"source");if(t=this._findSourceIndex(t),t<0)return{line:null,column:null,lastColumn:null};var i={source:t,originalLine:G.getArg(r,"line"),originalColumn:G.getArg(r,"column")},n=this._findMapping(i,this._originalMappings,"originalLine","originalColumn",G.compareByOriginalPositions,G.getArg(r,"bias",Ge.GREATEST_LOWER_BOUND));if(n>=0){var s=this._originalMappings[n];if(s.source===i.source)return{line:G.getArg(s,"generatedLine",null),column:G.getArg(s,"generatedColumn",null),lastColumn:G.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};wu.BasicSourceMapConsumer=wt;function Mr(e,r){var t=e;typeof e=="string"&&(t=G.parseSourceMapInput(e));var i=G.getArg(t,"version"),n=G.getArg(t,"sections");if(i!=this._version)throw new Error("Unsupported version: "+i);this._sources=new Os,this._names=new Os;var s={line:-1,column:0};this._sections=n.map(function(o){if(o.url)throw new Error("Support for url field in sections not implemented.");var a=G.getArg(o,"offset"),l=G.getArg(a,"line"),u=G.getArg(a,"column");if(l<s.line||l===s.line&&u<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=a,{generatedOffset:{generatedLine:l+1,generatedColumn:u+1},consumer:new Ge(G.getArg(o,"map"),r)}})}Mr.prototype=Object.create(Ge.prototype);Mr.prototype.constructor=Ge;Mr.prototype._version=3;Object.defineProperty(Mr.prototype,"sources",{get:function(){for(var e=[],r=0;r<this._sections.length;r++)for(var t=0;t<this._sections[r].consumer.sources.length;t++)e.push(this._sections[r].consumer.sources[t]);return e}});Mr.prototype.originalPositionFor=function(r){var t={generatedLine:G.getArg(r,"line"),generatedColumn:G.getArg(r,"column")},i=Mf.search(t,this._sections,function(s,o){var a=s.generatedLine-o.generatedOffset.generatedLine;return a||s.generatedColumn-o.generatedOffset.generatedColumn}),n=this._sections[i];return n?n.consumer.originalPositionFor({line:t.generatedLine-(n.generatedOffset.generatedLine-1),column:t.generatedColumn-(n.generatedOffset.generatedLine===t.generatedLine?n.generatedOffset.generatedColumn-1:0),bias:r.bias}):{source:null,line:null,column:null,name:null}};Mr.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(r){return r.consumer.hasContentsOfAllSources()})};Mr.prototype.sourceContentFor=function(r,t){for(var i=0;i<this._sections.length;i++){var n=this._sections[i],s=n.consumer.sourceContentFor(r,!0);if(s||s==="")return s}if(t)return null;throw new Error('"'+r+'" is not in the SourceMap.')};Mr.prototype.generatedPositionFor=function(r){for(var t=0;t<this._sections.length;t++){var i=this._sections[t];if(i.consumer._findSourceIndex(G.getArg(r,"source"))!==-1){var n=i.consumer.generatedPositionFor(r);if(n){var s={line:n.line+(i.generatedOffset.generatedLine-1),column:n.column+(i.generatedOffset.generatedLine===n.line?i.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}};Mr.prototype._parseMappings=function(r,t){this.__generatedMappings=[],this.__originalMappings=[];for(var i=0;i<this._sections.length;i++)for(var n=this._sections[i],s=n.consumer._generatedMappings,o=0;o<s.length;o++){var a=s[o],l=n.consumer._sources.at(a.source);l!==null&&(l=G.computeSourceURL(n.consumer.sourceRoot,l,this._sourceMapURL)),this._sources.add(l),l=this._sources.indexOf(l);var u=null;a.name&&(u=n.consumer._names.at(a.name),this._names.add(u),u=this._names.indexOf(u));var c={source:l,generatedLine:a.generatedLine+(n.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(n.generatedOffset.generatedLine===a.generatedLine?n.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:u};this.__generatedMappings.push(c),typeof c.originalLine=="number"&&this.__originalMappings.push(c)}ua(this.__generatedMappings,G.compareByGeneratedPositionsDeflated),ua(this.__originalMappings,G.compareByOriginalPositions)};wu.IndexedSourceMapConsumer=Mr});var yv=T(gv=>{var dM=Of().SourceMapGenerator,Tu=ks(),fM=/(\r?\n)/,hM=10,Rs="$$$isSourceNode$$$";function ur(e,r,t,i,n){this.children=[],this.sourceContents={},this.line=e??null,this.column=r??null,this.source=t??null,this.name=n??null,this[Rs]=!0,i!=null&&this.add(i)}ur.fromStringWithSourceMap=function(r,t,i){var n=new ur,s=r.split(fM),o=0,a=function(){var d=f(),h=f()||"";return d+h;function f(){return o<s.length?s[o++]:void 0}},l=1,u=0,c=null;return t.eachMapping(function(d){if(c!==null)if(l<d.generatedLine)p(c,a()),l++,u=0;else{var h=s[o]||"",f=h.substr(0,d.generatedColumn-u);s[o]=h.substr(d.generatedColumn-u),u=d.generatedColumn,p(c,f),c=d;return}for(;l<d.generatedLine;)n.add(a()),l++;if(u<d.generatedColumn){var h=s[o]||"";n.add(h.substr(0,d.generatedColumn)),s[o]=h.substr(d.generatedColumn),u=d.generatedColumn}c=d},this),o<s.length&&(c&&p(c,a()),n.add(s.splice(o).join(""))),t.sources.forEach(function(d){var h=t.sourceContentFor(d);h!=null&&(i!=null&&(d=Tu.join(i,d)),n.setSourceContent(d,h))}),n;function p(d,h){if(d===null||d.source===void 0)n.add(h);else{var f=i?Tu.join(i,d.source):d.source;n.add(new ur(d.originalLine,d.originalColumn,f,h,d.name))}}};ur.prototype.add=function(r){if(Array.isArray(r))r.forEach(function(t){this.add(t)},this);else if(r[Rs]||typeof r=="string")r&&this.children.push(r);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+r);return this};ur.prototype.prepend=function(r){if(Array.isArray(r))for(var t=r.length-1;t>=0;t--)this.prepend(r[t]);else if(r[Rs]||typeof r=="string")this.children.unshift(r);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+r);return this};ur.prototype.walk=function(r){for(var t,i=0,n=this.children.length;i<n;i++)t=this.children[i],t[Rs]?t.walk(r):t!==""&&r(t,{source:this.source,line:this.line,column:this.column,name:this.name})};ur.prototype.join=function(r){var t,i,n=this.children.length;if(n>0){for(t=[],i=0;i<n-1;i++)t.push(this.children[i]),t.push(r);t.push(this.children[i]),this.children=t}return this};ur.prototype.replaceRight=function(r,t){var i=this.children[this.children.length-1];return i[Rs]?i.replaceRight(r,t):typeof i=="string"?this.children[this.children.length-1]=i.replace(r,t):this.children.push("".replace(r,t)),this};ur.prototype.setSourceContent=function(r,t){this.sourceContents[Tu.toSetString(r)]=t};ur.prototype.walkSourceContents=function(r){for(var t=0,i=this.children.length;t<i;t++)this.children[t][Rs]&&this.children[t].walkSourceContents(r);for(var n=Object.keys(this.sourceContents),t=0,i=n.length;t<i;t++)r(Tu.fromSetString(n[t]),this.sourceContents[n[t]])};ur.prototype.toString=function(){var r="";return this.walk(function(t){r+=t}),r};ur.prototype.toStringWithSourceMap=function(r){var t={code:"",line:1,column:0},i=new dM(r),n=!1,s=null,o=null,a=null,l=null;return this.walk(function(u,c){t.code+=u,c.source!==null&&c.line!==null&&c.column!==null?((s!==c.source||o!==c.line||a!==c.column||l!==c.name)&&i.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:t.line,column:t.column},name:c.name}),s=c.source,o=c.line,a=c.column,l=c.name,n=!0):n&&(i.addMapping({generated:{line:t.line,column:t.column}}),s=null,n=!1);for(var p=0,d=u.length;p<d;p++)u.charCodeAt(p)===hM?(t.line++,t.column=0,p+1===d?(s=null,n=!1):n&&i.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:t.line,column:t.column},name:c.name})):t.column++}),this.walkSourceContents(function(u,c){i.setSourceContent(u,c)}),{code:t.code,map:i}};gv.SourceNode=ur});var bv=T(Au=>{Au.SourceMapGenerator=Of().SourceMapGenerator;Au.SourceMapConsumer=mv().SourceMapConsumer;Au.SourceNode=yv().SourceNode});var Jv=T(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});function mM(e,r){if(e==null)return{};var t={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(r.includes(i))continue;t[i]=e[i]}return t}var fi=class{constructor(r,t,i){this.line=void 0,this.column=void 0,this.index=void 0,this.line=r,this.column=t,this.index=i}},Us=class{constructor(r,t){this.start=void 0,this.end=void 0,this.filename=void 0,this.identifierName=void 0,this.start=r,this.end=t}};function jt(e,r){let{line:t,column:i,index:n}=e;return new fi(t,i+r,n+r)}var Dv="BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED",gM={ImportMetaOutsideModule:{message:`import.meta may appear only with 'sourceType: "module"'`,code:Dv},ImportOutsideModule:{message:`'import' and 'export' may appear only with 'sourceType: "module"'`,code:Dv}},xv={ArrayPattern:"array destructuring pattern",AssignmentExpression:"assignment expression",AssignmentPattern:"assignment expression",ArrowFunctionExpression:"arrow function expression",ConditionalExpression:"conditional expression",CatchClause:"catch clause",ForOfStatement:"for-of statement",ForInStatement:"for-in statement",ForStatement:"for-loop",FormalParameters:"function parameter list",Identifier:"identifier",ImportSpecifier:"import specifier",ImportDefaultSpecifier:"import default specifier",ImportNamespaceSpecifier:"import namespace specifier",ObjectPattern:"object destructuring pattern",ParenthesizedExpression:"parenthesized expression",RestElement:"rest element",UpdateExpression:{true:"prefix operation",false:"postfix operation"},VariableDeclarator:"variable declaration",YieldExpression:"yield expression"},_u=e=>e.type==="UpdateExpression"?xv.UpdateExpression[`${e.prefix}`]:xv[e.type],yM={AccessorIsGenerator:({kind:e})=>`A ${e}ter cannot be a generator.`,ArgumentsInClass:"'arguments' is only allowed in functions and class methods.",AsyncFunctionInSingleStatementContext:"Async functions can only be declared at the top level or inside a block.",AwaitBindingIdentifier:"Can not use 'await' as identifier inside an async function.",AwaitBindingIdentifierInStaticBlock:"Can not use 'await' as identifier inside a static block.",AwaitExpressionFormalParameter:"'await' is not allowed in async function parameters.",AwaitUsingNotInAsyncContext:"'await using' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncContext:"'await' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncFunction:"'await' is only allowed within async functions.",BadGetterArity:"A 'get' accessor must not have any formal parameters.",BadSetterArity:"A 'set' accessor must have exactly one formal parameter.",BadSetterRestParameter:"A 'set' accessor function argument must not be a rest parameter.",ConstructorClassField:"Classes may not have a field named 'constructor'.",ConstructorClassPrivateField:"Classes may not have a private field named '#constructor'.",ConstructorIsAccessor:"Class constructor may not be an accessor.",ConstructorIsAsync:"Constructor can't be an async function.",ConstructorIsGenerator:"Constructor can't be a generator.",DeclarationMissingInitializer:({kind:e})=>`Missing initializer in ${e} declaration.`,DecoratorArgumentsOutsideParentheses:"Decorator arguments must be moved inside parentheses: use '@(decorator(args))' instead of '@(decorator)(args)'.",DecoratorBeforeExport:"Decorators must be placed *before* the 'export' keyword. Remove the 'decoratorsBeforeExport: true' option to use the 'export @decorator class {}' syntax.",DecoratorsBeforeAfterExport:"Decorators can be placed *either* before or after the 'export' keyword, but not in both locations at the same time.",DecoratorConstructor:"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",DecoratorExportClass:"Decorators must be placed *after* the 'export' keyword. Remove the 'decoratorsBeforeExport: false' option to use the '@decorator export class {}' syntax.",DecoratorSemicolon:"Decorators must not be followed by a semicolon.",DecoratorStaticBlock:"Decorators can't be used with a static block.",DeferImportRequiresNamespace:'Only `import defer * as x from "./module"` is valid.',DeletePrivateField:"Deleting a private field is not allowed.",DestructureNamedImport:"ES2015 named imports do not destructure. Use another statement for destructuring after the import.",DuplicateConstructor:"Duplicate constructor in the same class.",DuplicateDefaultExport:"Only one default export allowed per module.",DuplicateExport:({exportName:e})=>`\`${e}\` has already been exported. Exported identifiers must be unique.`,DuplicateProto:"Redefinition of __proto__ property.",DuplicateRegExpFlags:"Duplicate regular expression flag.",DynamicImportPhaseRequiresImportExpressions:({phase:e})=>`'import.${e}(...)' can only be parsed when using the 'createImportExpressions' option.`,ElementAfterRest:"Rest element must be last element.",EscapedCharNotAnIdentifier:"Invalid Unicode escape.",ExportBindingIsString:({localName:e,exportName:r})=>`A string literal cannot be used as an exported binding without \`from\`.
- Did you mean \`export { '${e}' as '${r}' } from 'some-module'\`?`,ExportDefaultFromAsIdentifier:"'from' is not allowed as an identifier after 'export default'.",ForInOfLoopInitializer:({type:e})=>`'${e==="ForInStatement"?"for-in":"for-of"}' loop variable declaration may not have an initializer.`,ForInUsing:"For-in loop may not start with 'using' declaration.",ForOfAsync:"The left-hand side of a for-of loop may not be 'async'.",ForOfLet:"The left-hand side of a for-of loop may not start with 'let'.",GeneratorInSingleStatementContext:"Generators can only be declared at the top level or inside a block.",IllegalBreakContinue:({type:e})=>`Unsyntactic ${e==="BreakStatement"?"break":"continue"}.`,IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list.",IllegalReturn:"'return' outside of function.",ImportAttributesUseAssert:"The `assert` keyword in import attributes is deprecated and it has been replaced by the `with` keyword. You can enable the `deprecatedAssertSyntax: true` option in the import attributes plugin to suppress this error.",ImportBindingIsString:({importName:e})=>`A string literal cannot be used as an imported binding.
- Did you mean \`import { "${e}" as foo }\`?`,ImportCallArgumentTrailingComma:"Trailing comma is disallowed inside import(...) arguments.",ImportCallArity:({maxArgumentCount:e})=>`\`import()\` requires exactly ${e===1?"one argument":"one or two arguments"}.`,ImportCallNotNewExpression:"Cannot use new with import(...).",ImportCallSpreadArgument:"`...` is not allowed in `import()`.",ImportJSONBindingNotDefault:"A JSON module can only be imported with `default`.",ImportReflectionHasAssertion:"`import module x` cannot have assertions.",ImportReflectionNotBinding:'Only `import module x from "./module"` is valid.',IncompatibleRegExpUVFlags:"The 'u' and 'v' regular expression flags cannot be enabled at the same time.",InvalidBigIntLiteral:"Invalid BigIntLiteral.",InvalidCodePoint:"Code point out of bounds.",InvalidCoverInitializedName:"Invalid shorthand property initializer.",InvalidDecimal:"Invalid decimal.",InvalidDigit:({radix:e})=>`Expected number in radix ${e}.`,InvalidEscapeSequence:"Bad character escape sequence.",InvalidEscapeSequenceTemplate:"Invalid escape sequence in template.",InvalidEscapedReservedWord:({reservedWord:e})=>`Escape sequence in keyword ${e}.`,InvalidIdentifier:({identifierName:e})=>`Invalid identifier ${e}.`,InvalidLhs:({ancestor:e})=>`Invalid left-hand side in ${_u(e)}.`,InvalidLhsBinding:({ancestor:e})=>`Binding invalid left-hand side in ${_u(e)}.`,InvalidLhsOptionalChaining:({ancestor:e})=>`Invalid optional chaining in the left-hand side of ${_u(e)}.`,InvalidNumber:"Invalid number.",InvalidOrMissingExponent:"Floating-point numbers require a valid exponent after the 'e'.",InvalidOrUnexpectedToken:({unexpected:e})=>`Unexpected character '${e}'.`,InvalidParenthesizedAssignment:"Invalid parenthesized assignment pattern.",InvalidPrivateFieldResolution:({identifierName:e})=>`Private name #${e} is not defined.`,InvalidPropertyBindingPattern:"Binding member expression.",InvalidRecordProperty:"Only properties and spread elements are allowed in record definitions.",InvalidRestAssignmentPattern:"Invalid rest operator's argument.",LabelRedeclaration:({labelName:e})=>`Label '${e}' is already declared.`,LetInLexicalBinding:"'let' is disallowed as a lexically bound name.",LineTerminatorBeforeArrow:"No line break is allowed before '=>'.",MalformedRegExpFlags:"Invalid regular expression flag.",MissingClassName:"A class name is required.",MissingEqInAssignment:"Only '=' operator can be used for specifying default value.",MissingSemicolon:"Missing semicolon.",MissingPlugin:({missingPlugin:e})=>`This experimental syntax requires enabling the parser plugin: ${e.map(r=>JSON.stringify(r)).join(", ")}.`,MissingOneOfPlugins:({missingPlugin:e})=>`This experimental syntax requires enabling one of the following parser plugin(s): ${e.map(r=>JSON.stringify(r)).join(", ")}.`,MissingUnicodeEscape:"Expecting Unicode escape sequence \\uXXXX.",MixingCoalesceWithLogical:"Nullish coalescing operator(??) requires parens when mixing with logical operators.",ModuleAttributeDifferentFromType:"The only accepted module attribute is `type`.",ModuleAttributeInvalidValue:"Only string literals are allowed as module attribute values.",ModuleAttributesWithDuplicateKeys:({key:e})=>`Duplicate key "${e}" is not allowed in module attributes.`,ModuleExportNameHasLoneSurrogate:({surrogateCharCode:e})=>`An export name cannot include a lone surrogate, found '\\u${e.toString(16)}'.`,ModuleExportUndefined:({localName:e})=>`Export '${e}' is not defined.`,MultipleDefaultsInSwitch:"Multiple default clauses.",NewlineAfterThrow:"Illegal newline after throw.",NoCatchOrFinally:"Missing catch or finally clause.",NumberIdentifier:"Identifier directly after number.",NumericSeparatorInEscapeSequence:"Numeric separators are not allowed inside unicode escape sequences or hex escape sequences.",ObsoleteAwaitStar:"'await*' has been removed from the async functions proposal. Use Promise.all() instead.",OptionalChainingNoNew:"Constructors in/after an Optional Chain are not allowed.",OptionalChainingNoTemplate:"Tagged Template Literals are not allowed in optionalChain.",OverrideOnConstructor:"'override' modifier cannot appear on a constructor declaration.",ParamDupe:"Argument name clash.",PatternHasAccessor:"Object pattern can't contain getter or setter.",PatternHasMethod:"Object pattern can't contain methods.",PrivateInExpectedIn:({identifierName:e})=>`Private names are only allowed in property accesses (\`obj.#${e}\`) or in \`in\` expressions (\`#${e} in obj\`).`,PrivateNameRedeclaration:({identifierName:e})=>`Duplicate private name #${e}.`,RecordExpressionBarIncorrectEndSyntaxType:"Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionBarIncorrectStartSyntaxType:"Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionHashIncorrectStartSyntaxType:"Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",RecordNoProto:"'__proto__' is not allowed in Record expressions.",RestTrailingComma:"Unexpected trailing comma after rest element.",SloppyFunction:"In non-strict mode code, functions can only be declared at top level or inside a block.",SloppyFunctionAnnexB:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement.",SourcePhaseImportRequiresDefault:'Only `import source x from "./module"` is valid.',StaticPrototype:"Classes may not have static property named prototype.",SuperNotAllowed:"`super()` is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",SuperPrivateField:"Private fields can't be accessed on super.",TrailingDecorator:"Decorators must be attached to a class element.",TupleExpressionBarIncorrectEndSyntaxType:"Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionBarIncorrectStartSyntaxType:"Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionHashIncorrectStartSyntaxType:"Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",UnexpectedArgumentPlaceholder:"Unexpected argument placeholder.",UnexpectedAwaitAfterPipelineBody:'Unexpected "await" after pipeline body; await must have parentheses in minimal proposal.',UnexpectedDigitAfterHash:"Unexpected digit after hash token.",UnexpectedImportExport:"'import' and 'export' may only appear at the top level.",UnexpectedKeyword:({keyword:e})=>`Unexpected keyword '${e}'.`,UnexpectedLeadingDecorator:"Leading decorators must be attached to a class declaration.",UnexpectedLexicalDeclaration:"Lexical declaration cannot appear in a single-statement context.",UnexpectedNewTarget:"`new.target` can only be used in functions or class properties.",UnexpectedNumericSeparator:"A numeric separator is only allowed between two digits.",UnexpectedPrivateField:"Unexpected private name.",UnexpectedReservedWord:({reservedWord:e})=>`Unexpected reserved word '${e}'.`,UnexpectedSuper:"'super' is only allowed in object methods and classes.",UnexpectedToken:({expected:e,unexpected:r})=>`Unexpected token${r?` '${r}'.`:""}${e?`, expected "${e}"`:""}`,UnexpectedTokenUnaryExponentiation:"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",UnexpectedUsingDeclaration:"Using declaration cannot appear in the top level when source type is `script`.",UnsupportedBind:"Binding should be performed on object property.",UnsupportedDecoratorExport:"A decorated export must export a class declaration.",UnsupportedDefaultExport:"Only expressions, functions or classes are allowed as the `default` export.",UnsupportedImport:"`import` can only be used in `import()` or `import.meta`.",UnsupportedMetaProperty:({target:e,onlyValidPropertyName:r})=>`The only valid meta property for ${e} is ${e}.${r}.`,UnsupportedParameterDecorator:"Decorators cannot be used to decorate parameters.",UnsupportedPropertyDecorator:"Decorators cannot be used to decorate object literal properties.",UnsupportedSuper:"'super' can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop]).",UnterminatedComment:"Unterminated comment.",UnterminatedRegExp:"Unterminated regular expression.",UnterminatedString:"Unterminated string constant.",UnterminatedTemplate:"Unterminated template.",UsingDeclarationExport:"Using declaration cannot be exported.",UsingDeclarationHasBindingPattern:"Using declaration cannot have destructuring patterns.",VarRedeclaration:({identifierName:e})=>`Identifier '${e}' has already been declared.`,YieldBindingIdentifier:"Can not use 'yield' as identifier inside a generator.",YieldInParameter:"Yield expression is not allowed in formal parameters.",ZeroDigitNumericSeparator:"Numeric separator can not be used after leading 0."},bM={StrictDelete:"Deleting local variable in strict mode.",StrictEvalArguments:({referenceName:e})=>`Assigning to '${e}' in strict mode.`,StrictEvalArgumentsBinding:({bindingName:e})=>`Binding '${e}' in strict mode.`,StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block.",StrictNumericEscape:"The only valid numeric escape in strict mode is '\\0'.",StrictOctalLiteral:"Legacy octal literals are not allowed in strict mode.",StrictWith:"'with' in strict mode."},DM=new Set(["ArrowFunctionExpression","AssignmentExpression","ConditionalExpression","YieldExpression"]),xM={PipeBodyIsTighter:"Unexpected yield after pipeline body; any yield expression acting as Hack-style pipe body must be parenthesized due to its loose operator precedence.",PipeTopicRequiresHackPipes:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.',PipeTopicUnbound:"Topic reference is unbound; it must be inside a pipe body.",PipeTopicUnconfiguredToken:({token:e})=>`Invalid topic token ${e}. In order to use ${e} as a topic reference, the pipelineOperator plugin must be configured with { "proposal": "hack", "topicToken": "${e}" }.`,PipeTopicUnused:"Hack-style pipe body does not contain a topic reference; Hack-style pipes must use topic at least once.",PipeUnparenthesizedBody:({type:e})=>`Hack-style pipe body cannot be an unparenthesized ${_u({type:e})}; please wrap it in parentheses.`,PipelineBodyNoArrow:'Unexpected arrow "=>" after pipeline body; arrow function in pipeline body must be parenthesized.',PipelineBodySequenceExpression:"Pipeline body may not be a comma-separated sequence expression.",PipelineHeadSequenceExpression:"Pipeline head should not be a comma-separated sequence expression.",PipelineTopicUnused:"Pipeline is in topic style but does not use topic reference.",PrimaryTopicNotAllowed:"Topic reference was used in a lexical context without topic binding.",PrimaryTopicRequiresSmartPipeline:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.'},EM=["message"];function Ev(e,r,t){Object.defineProperty(e,r,{enumerable:!1,configurable:!0,value:t})}function CM({toMessage:e,code:r,reasonCode:t,syntaxPlugin:i}){let n=t==="MissingPlugin"||t==="MissingOneOfPlugins";{let s={AccessorCannotDeclareThisParameter:"AccesorCannotDeclareThisParameter",AccessorCannotHaveTypeParameters:"AccesorCannotHaveTypeParameters",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"ConstInitiailizerMustBeStringOrNumericLiteralOrLiteralEnumReference",SetAccessorCannotHaveOptionalParameter:"SetAccesorCannotHaveOptionalParameter",SetAccessorCannotHaveRestParameter:"SetAccesorCannotHaveRestParameter",SetAccessorCannotHaveReturnType:"SetAccesorCannotHaveReturnType"};s[t]&&(t=s[t])}return function s(o,a){let l=new SyntaxError;return l.code=r,l.reasonCode=t,l.loc=o,l.pos=o.index,l.syntaxPlugin=i,n&&(l.missingPlugin=a.missingPlugin),Ev(l,"clone",function(c={}){var p;let{line:d,column:h,index:f}=(p=c.loc)!=null?p:o;return s(new fi(d,h,f),Object.assign({},a,c.details))}),Ev(l,"details",a),Object.defineProperty(l,"message",{configurable:!0,get(){let u=`${e(a)} (${o.line}:${o.column})`;return this.message=u,u},set(u){Object.defineProperty(this,"message",{value:u,writable:!0})}}),l}}function Wi(e,r){if(Array.isArray(e))return i=>Wi(i,e[0]);let t={};for(let i of Object.keys(e)){let n=e[i],s=typeof n=="string"?{message:()=>n}:typeof n=="function"?{message:n}:n,{message:o}=s,a=mM(s,EM),l=typeof o=="string"?()=>o:o;t[i]=CM(Object.assign({code:"BABEL_PARSER_SYNTAX_ERROR",reasonCode:i,toMessage:l},r?{syntaxPlugin:r}:{},a))}return t}var S=Object.assign({},Wi(gM),Wi(yM),Wi(bM),Wi`pipelineOperator`(xM)),{defineProperty:SM}=Object,Cv=(e,r)=>{e&&SM(e,r,{enumerable:!1,value:e[r]})};function ca(e){return Cv(e.loc.start,"index"),Cv(e.loc.end,"index"),e}var vM=e=>class extends e{parse(){let t=ca(super.parse());return this.options.tokens&&(t.tokens=t.tokens.map(ca)),t}parseRegExpLiteral({pattern:t,flags:i}){let n=null;try{n=new RegExp(t,i)}catch{}let s=this.estreeParseLiteral(n);return s.regex={pattern:t,flags:i},s}parseBigIntLiteral(t){let i;try{i=BigInt(t)}catch{i=null}let n=this.estreeParseLiteral(i);return n.bigint=String(n.value||t),n}parseDecimalLiteral(t){let n=this.estreeParseLiteral(null);return n.decimal=String(n.value||t),n}estreeParseLiteral(t){return this.parseLiteral(t,"Literal")}parseStringLiteral(t){return this.estreeParseLiteral(t)}parseNumericLiteral(t){return this.estreeParseLiteral(t)}parseNullLiteral(){return this.estreeParseLiteral(null)}parseBooleanLiteral(t){return this.estreeParseLiteral(t)}directiveToStmt(t){let i=t.value;delete t.value,i.type="Literal",i.raw=i.extra.raw,i.value=i.extra.expressionValue;let n=t;return n.type="ExpressionStatement",n.expression=i,n.directive=i.extra.rawValue,delete i.extra,n}initFunction(t,i){super.initFunction(t,i),t.expression=!1}checkDeclaration(t){t!=null&&this.isObjectProperty(t)?this.checkDeclaration(t.value):super.checkDeclaration(t)}getObjectOrClassMethodParams(t){return t.value.params}isValidDirective(t){var i;return t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&!((i=t.expression.extra)!=null&&i.parenthesized)}parseBlockBody(t,i,n,s,o){super.parseBlockBody(t,i,n,s,o);let a=t.directives.map(l=>this.directiveToStmt(l));t.body=a.concat(t.body),delete t.directives}pushClassMethod(t,i,n,s,o,a){this.parseMethod(i,n,s,o,a,"ClassMethod",!0),i.typeParameters&&(i.value.typeParameters=i.typeParameters,delete i.typeParameters),t.body.push(i)}parsePrivateName(){let t=super.parsePrivateName();return this.getPluginOption("estree","classFeatures")?this.convertPrivateNameToPrivateIdentifier(t):t}convertPrivateNameToPrivateIdentifier(t){let i=super.getPrivateNameSV(t);return t=t,delete t.id,t.name=i,t.type="PrivateIdentifier",t}isPrivateName(t){return this.getPluginOption("estree","classFeatures")?t.type==="PrivateIdentifier":super.isPrivateName(t)}getPrivateNameSV(t){return this.getPluginOption("estree","classFeatures")?t.name:super.getPrivateNameSV(t)}parseLiteral(t,i){let n=super.parseLiteral(t,i);return n.raw=n.extra.raw,delete n.extra,n}parseFunctionBody(t,i,n=!1){super.parseFunctionBody(t,i,n),t.expression=t.body.type!=="BlockStatement"}parseMethod(t,i,n,s,o,a,l=!1){let u=this.startNode();return u.kind=t.kind,u=super.parseMethod(u,i,n,s,o,a,l),u.type="FunctionExpression",delete u.kind,t.value=u,a==="ClassPrivateMethod"&&(t.computed=!1),this.finishNode(t,"MethodDefinition")}nameIsConstructor(t){return t.type==="Literal"?t.value==="constructor":super.nameIsConstructor(t)}parseClassProperty(...t){let i=super.parseClassProperty(...t);return this.getPluginOption("estree","classFeatures")&&(i.type="PropertyDefinition"),i}parseClassPrivateProperty(...t){let i=super.parseClassPrivateProperty(...t);return this.getPluginOption("estree","classFeatures")&&(i.type="PropertyDefinition",i.computed=!1),i}parseObjectMethod(t,i,n,s,o){let a=super.parseObjectMethod(t,i,n,s,o);return a&&(a.type="Property",a.kind==="method"&&(a.kind="init"),a.shorthand=!1),a}parseObjectProperty(t,i,n,s){let o=super.parseObjectProperty(t,i,n,s);return o&&(o.kind="init",o.type="Property"),o}isValidLVal(t,i,n){return t==="Property"?"value":super.isValidLVal(t,i,n)}isAssignable(t,i){return t!=null&&this.isObjectProperty(t)?this.isAssignable(t.value,i):super.isAssignable(t,i)}toAssignable(t,i=!1){if(t!=null&&this.isObjectProperty(t)){let{key:n,value:s}=t;this.isPrivateName(n)&&this.classScope.usePrivateName(this.getPrivateNameSV(n),n.loc.start),this.toAssignable(s,i)}else super.toAssignable(t,i)}toAssignableObjectExpressionProp(t,i,n){t.type==="Property"&&(t.kind==="get"||t.kind==="set")?this.raise(S.PatternHasAccessor,t.key):t.type==="Property"&&t.method?this.raise(S.PatternHasMethod,t.key):super.toAssignableObjectExpressionProp(t,i,n)}finishCallExpression(t,i){let n=super.finishCallExpression(t,i);if(n.callee.type==="Import"){if(n.type="ImportExpression",n.source=n.arguments[0],this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions")){var s,o;n.options=(s=n.arguments[1])!=null?s:null,n.attributes=(o=n.arguments[1])!=null?o:null}delete n.arguments,delete n.callee}return n}toReferencedArguments(t){t.type!=="ImportExpression"&&super.toReferencedArguments(t)}parseExport(t,i){let n=this.state.lastTokStartLoc,s=super.parseExport(t,i);switch(s.type){case"ExportAllDeclaration":s.exported=null;break;case"ExportNamedDeclaration":s.specifiers.length===1&&s.specifiers[0].type==="ExportNamespaceSpecifier"&&(s.type="ExportAllDeclaration",s.exported=s.specifiers[0].exported,delete s.specifiers);case"ExportDefaultDeclaration":{var o;let{declaration:a}=s;a?.type==="ClassDeclaration"&&((o=a.decorators)==null?void 0:o.length)>0&&a.start===s.start&&this.resetStartLocation(s,n)}break}return s}parseSubscript(t,i,n,s){let o=super.parseSubscript(t,i,n,s);if(s.optionalChainMember){if((o.type==="OptionalMemberExpression"||o.type==="OptionalCallExpression")&&(o.type=o.type.substring(8)),s.stop){let a=this.startNodeAtNode(o);return a.expression=o,this.finishNode(a,"ChainExpression")}}else(o.type==="MemberExpression"||o.type==="CallExpression")&&(o.optional=!1);return o}isOptionalMemberExpression(t){return t.type==="ChainExpression"?t.expression.type==="MemberExpression":super.isOptionalMemberExpression(t)}hasPropertyAsPrivateName(t){return t.type==="ChainExpression"&&(t=t.expression),super.hasPropertyAsPrivateName(t)}isObjectProperty(t){return t.type==="Property"&&t.kind==="init"&&!t.method}isObjectMethod(t){return t.type==="Property"&&(t.method||t.kind==="get"||t.kind==="set")}finishNodeAt(t,i,n){return ca(super.finishNodeAt(t,i,n))}resetStartLocation(t,i){super.resetStartLocation(t,i),ca(t)}resetEndLocation(t,i=this.state.lastTokEndLoc){super.resetEndLocation(t,i),ca(t)}},Hn=class{constructor(r,t){this.token=void 0,this.preserveSpace=void 0,this.token=r,this.preserveSpace=!!t}},Le={brace:new Hn("{"),j_oTag:new Hn("<tag"),j_cTag:new Hn("</tag"),j_expr:new Hn("<tag>...</tag>",!0)};Le.template=new Hn("`",!0);var he=!0,U=!0,Bf=!0,pa=!0,yn=!0,wM=!0,ku=class{constructor(r,t={}){this.label=void 0,this.keyword=void 0,this.beforeExpr=void 0,this.startsExpr=void 0,this.rightAssociative=void 0,this.isLoop=void 0,this.isAssign=void 0,this.prefix=void 0,this.postfix=void 0,this.binop=void 0,this.label=r,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.rightAssociative=!!t.rightAssociative,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop!=null?t.binop:null,this.updateContext=null}},ch=new Map;function De(e,r={}){r.keyword=e;let t=Y(e,r);return ch.set(e,t),t}function Ut(e,r){return Y(e,{beforeExpr:he,binop:r})}var ma=-1,Vi=[],ph=[],dh=[],fh=[],hh=[],mh=[];function Y(e,r={}){var t,i,n,s;return++ma,ph.push(e),dh.push((t=r.binop)!=null?t:-1),fh.push((i=r.beforeExpr)!=null?i:!1),hh.push((n=r.startsExpr)!=null?n:!1),mh.push((s=r.prefix)!=null?s:!1),Vi.push(new ku(e,r)),ma}function fe(e,r={}){var t,i,n,s;return++ma,ch.set(e,ma),ph.push(e),dh.push((t=r.binop)!=null?t:-1),fh.push((i=r.beforeExpr)!=null?i:!1),hh.push((n=r.startsExpr)!=null?n:!1),mh.push((s=r.prefix)!=null?s:!1),Vi.push(new ku("name",r)),ma}var TM={bracketL:Y("[",{beforeExpr:he,startsExpr:U}),bracketHashL:Y("#[",{beforeExpr:he,startsExpr:U}),bracketBarL:Y("[|",{beforeExpr:he,startsExpr:U}),bracketR:Y("]"),bracketBarR:Y("|]"),braceL:Y("{",{beforeExpr:he,startsExpr:U}),braceBarL:Y("{|",{beforeExpr:he,startsExpr:U}),braceHashL:Y("#{",{beforeExpr:he,startsExpr:U}),braceR:Y("}"),braceBarR:Y("|}"),parenL:Y("(",{beforeExpr:he,startsExpr:U}),parenR:Y(")"),comma:Y(",",{beforeExpr:he}),semi:Y(";",{beforeExpr:he}),colon:Y(":",{beforeExpr:he}),doubleColon:Y("::",{beforeExpr:he}),dot:Y("."),question:Y("?",{beforeExpr:he}),questionDot:Y("?."),arrow:Y("=>",{beforeExpr:he}),template:Y("template"),ellipsis:Y("...",{beforeExpr:he}),backQuote:Y("`",{startsExpr:U}),dollarBraceL:Y("${",{beforeExpr:he,startsExpr:U}),templateTail:Y("...`",{startsExpr:U}),templateNonTail:Y("...${",{beforeExpr:he,startsExpr:U}),at:Y("@"),hash:Y("#",{startsExpr:U}),interpreterDirective:Y("#!..."),eq:Y("=",{beforeExpr:he,isAssign:pa}),assign:Y("_=",{beforeExpr:he,isAssign:pa}),slashAssign:Y("_=",{beforeExpr:he,isAssign:pa}),xorAssign:Y("_=",{beforeExpr:he,isAssign:pa}),moduloAssign:Y("_=",{beforeExpr:he,isAssign:pa}),incDec:Y("++/--",{prefix:yn,postfix:wM,startsExpr:U}),bang:Y("!",{beforeExpr:he,prefix:yn,startsExpr:U}),tilde:Y("~",{beforeExpr:he,prefix:yn,startsExpr:U}),doubleCaret:Y("^^",{startsExpr:U}),doubleAt:Y("@@",{startsExpr:U}),pipeline:Ut("|>",0),nullishCoalescing:Ut("??",1),logicalOR:Ut("||",1),logicalAND:Ut("&&",2),bitwiseOR:Ut("|",3),bitwiseXOR:Ut("^",4),bitwiseAND:Ut("&",5),equality:Ut("==/!=/===/!==",6),lt:Ut("</>/<=/>=",7),gt:Ut("</>/<=/>=",7),relational:Ut("</>/<=/>=",7),bitShift:Ut("<</>>/>>>",8),bitShiftL:Ut("<</>>/>>>",8),bitShiftR:Ut("<</>>/>>>",8),plusMin:Y("+/-",{beforeExpr:he,binop:9,prefix:yn,startsExpr:U}),modulo:Y("%",{binop:10,startsExpr:U}),star:Y("*",{binop:10}),slash:Ut("/",10),exponent:Y("**",{beforeExpr:he,binop:11,rightAssociative:!0}),_in:De("in",{beforeExpr:he,binop:7}),_instanceof:De("instanceof",{beforeExpr:he,binop:7}),_break:De("break"),_case:De("case",{beforeExpr:he}),_catch:De("catch"),_continue:De("continue"),_debugger:De("debugger"),_default:De("default",{beforeExpr:he}),_else:De("else",{beforeExpr:he}),_finally:De("finally"),_function:De("function",{startsExpr:U}),_if:De("if"),_return:De("return",{beforeExpr:he}),_switch:De("switch"),_throw:De("throw",{beforeExpr:he,prefix:yn,startsExpr:U}),_try:De("try"),_var:De("var"),_const:De("const"),_with:De("with"),_new:De("new",{beforeExpr:he,startsExpr:U}),_this:De("this",{startsExpr:U}),_super:De("super",{startsExpr:U}),_class:De("class",{startsExpr:U}),_extends:De("extends",{beforeExpr:he}),_export:De("export"),_import:De("import",{startsExpr:U}),_null:De("null",{startsExpr:U}),_true:De("true",{startsExpr:U}),_false:De("false",{startsExpr:U}),_typeof:De("typeof",{beforeExpr:he,prefix:yn,startsExpr:U}),_void:De("void",{beforeExpr:he,prefix:yn,startsExpr:U}),_delete:De("delete",{beforeExpr:he,prefix:yn,startsExpr:U}),_do:De("do",{isLoop:Bf,beforeExpr:he}),_for:De("for",{isLoop:Bf}),_while:De("while",{isLoop:Bf}),_as:fe("as",{startsExpr:U}),_assert:fe("assert",{startsExpr:U}),_async:fe("async",{startsExpr:U}),_await:fe("await",{startsExpr:U}),_defer:fe("defer",{startsExpr:U}),_from:fe("from",{startsExpr:U}),_get:fe("get",{startsExpr:U}),_let:fe("let",{startsExpr:U}),_meta:fe("meta",{startsExpr:U}),_of:fe("of",{startsExpr:U}),_sent:fe("sent",{startsExpr:U}),_set:fe("set",{startsExpr:U}),_source:fe("source",{startsExpr:U}),_static:fe("static",{startsExpr:U}),_using:fe("using",{startsExpr:U}),_yield:fe("yield",{startsExpr:U}),_asserts:fe("asserts",{startsExpr:U}),_checks:fe("checks",{startsExpr:U}),_exports:fe("exports",{startsExpr:U}),_global:fe("global",{startsExpr:U}),_implements:fe("implements",{startsExpr:U}),_intrinsic:fe("intrinsic",{startsExpr:U}),_infer:fe("infer",{startsExpr:U}),_is:fe("is",{startsExpr:U}),_mixins:fe("mixins",{startsExpr:U}),_proto:fe("proto",{startsExpr:U}),_require:fe("require",{startsExpr:U}),_satisfies:fe("satisfies",{startsExpr:U}),_keyof:fe("keyof",{startsExpr:U}),_readonly:fe("readonly",{startsExpr:U}),_unique:fe("unique",{startsExpr:U}),_abstract:fe("abstract",{startsExpr:U}),_declare:fe("declare",{startsExpr:U}),_enum:fe("enum",{startsExpr:U}),_module:fe("module",{startsExpr:U}),_namespace:fe("namespace",{startsExpr:U}),_interface:fe("interface",{startsExpr:U}),_type:fe("type",{startsExpr:U}),_opaque:fe("opaque",{startsExpr:U}),name:Y("name",{startsExpr:U}),string:Y("string",{startsExpr:U}),num:Y("num",{startsExpr:U}),bigint:Y("bigint",{startsExpr:U}),decimal:Y("decimal",{startsExpr:U}),regexp:Y("regexp",{startsExpr:U}),privateName:Y("#name",{startsExpr:U}),eof:Y("eof"),jsxName:Y("jsxName"),jsxText:Y("jsxText",{beforeExpr:!0}),jsxTagStart:Y("jsxTagStart",{startsExpr:!0}),jsxTagEnd:Y("jsxTagEnd"),placeholder:Y("%%",{startsExpr:!0})};function we(e){return e>=93&&e<=132}function AM(e){return e<=92}function Br(e){return e>=58&&e<=132}function Ov(e){return e>=58&&e<=136}function PM(e){return fh[e]}function Vf(e){return hh[e]}function IM(e){return e>=29&&e<=33}function Sv(e){return e>=129&&e<=131}function _M(e){return e>=90&&e<=92}function gh(e){return e>=58&&e<=92}function NM(e){return e>=39&&e<=59}function FM(e){return e===34}function kM(e){return mh[e]}function OM(e){return e>=121&&e<=123}function RM(e){return e>=124&&e<=130}function Dn(e){return ph[e]}function Nu(e){return dh[e]}function LM(e){return e===57}function Ou(e){return e>=24&&e<=25}function Ki(e){return Vi[e]}Vi[8].updateContext=e=>{e.pop()},Vi[5].updateContext=Vi[7].updateContext=Vi[23].updateContext=e=>{e.push(Le.brace)},Vi[22].updateContext=e=>{e[e.length-1]===Le.template?e.pop():e.push(Le.template)},Vi[142].updateContext=e=>{e.push(Le.j_expr,Le.j_oTag)};var yh="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Rv="\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",MM=new RegExp("["+yh+"]"),BM=new RegExp("["+yh+Rv+"]");yh=Rv=null;var Lv=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],$M=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239];function zf(e,r){let t=65536;for(let i=0,n=r.length;i<n;i+=2){if(t+=r[i],t>e)return!1;if(t+=r[i+1],t>=e)return!0}return!1}function zi(e){return e<65?e===36:e<=90?!0:e<97?e===95:e<=122?!0:e<=65535?e>=170&&MM.test(String.fromCharCode(e)):zf(e,Lv)}function Ms(e){return e<48?e===36:e<58?!0:e<65?!1:e<=90?!0:e<97?e===95:e<=122?!0:e<=65535?e>=170&&BM.test(String.fromCharCode(e)):zf(e,Lv)||zf(e,$M)}var bh={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},UM=new Set(bh.keyword),jM=new Set(bh.strict),qM=new Set(bh.strictBind);function Mv(e,r){return r&&e==="await"||e==="enum"}function Bv(e,r){return Mv(e,r)||jM.has(e)}function $v(e){return qM.has(e)}function Uv(e,r){return Bv(e,r)||$v(e)}function KM(e){return UM.has(e)}function VM(e,r,t){return e===64&&r===64&&zi(t)}var zM=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete","implements","interface","let","package","private","protected","public","static","yield","eval","arguments","enum","await"]);function WM(e){return zM.has(e)}var ga=class{constructor(r){this.flags=0,this.names=new Map,this.firstLexicalName="",this.flags=r}},ya=class{constructor(r,t){this.parser=void 0,this.scopeStack=[],this.inModule=void 0,this.undefinedExports=new Map,this.parser=r,this.inModule=t}get inTopLevel(){return(this.currentScope().flags&1)>0}get inFunction(){return(this.currentVarScopeFlags()&2)>0}get allowSuper(){return(this.currentThisScopeFlags()&16)>0}get allowDirectSuper(){return(this.currentThisScopeFlags()&32)>0}get inClass(){return(this.currentThisScopeFlags()&64)>0}get inClassAndNotInNonArrowFunction(){let r=this.currentThisScopeFlags();return(r&64)>0&&(r&2)===0}get inStaticBlock(){for(let r=this.scopeStack.length-1;;r--){let{flags:t}=this.scopeStack[r];if(t&128)return!0;if(t&451)return!1}}get inNonArrowFunction(){return(this.currentThisScopeFlags()&2)>0}get treatFunctionsAsVar(){return this.treatFunctionsAsVarInScope(this.currentScope())}createScope(r){return new ga(r)}enter(r){this.scopeStack.push(this.createScope(r))}exit(){return this.scopeStack.pop().flags}treatFunctionsAsVarInScope(r){return!!(r.flags&130||!this.parser.inModule&&r.flags&1)}declareName(r,t,i){let n=this.currentScope();if(t&8||t&16){this.checkRedeclarationInScope(n,r,t,i);let s=n.names.get(r)||0;t&16?s=s|4:(n.firstLexicalName||(n.firstLexicalName=r),s=s|2),n.names.set(r,s),t&8&&this.maybeExportDefined(n,r)}else if(t&4)for(let s=this.scopeStack.length-1;s>=0&&(n=this.scopeStack[s],this.checkRedeclarationInScope(n,r,t,i),n.names.set(r,(n.names.get(r)||0)|1),this.maybeExportDefined(n,r),!(n.flags&387));--s);this.parser.inModule&&n.flags&1&&this.undefinedExports.delete(r)}maybeExportDefined(r,t){this.parser.inModule&&r.flags&1&&this.undefinedExports.delete(t)}checkRedeclarationInScope(r,t,i,n){this.isRedeclaredInScope(r,t,i)&&this.parser.raise(S.VarRedeclaration,n,{identifierName:t})}isRedeclaredInScope(r,t,i){if(!(i&1))return!1;if(i&8)return r.names.has(t);let n=r.names.get(t);return i&16?(n&2)>0||!this.treatFunctionsAsVarInScope(r)&&(n&1)>0:(n&2)>0&&!(r.flags&8&&r.firstLexicalName===t)||!this.treatFunctionsAsVarInScope(r)&&(n&4)>0}checkLocalExport(r){let{name:t}=r;this.scopeStack[0].names.has(t)||this.undefinedExports.set(t,r.loc.start)}currentScope(){return this.scopeStack[this.scopeStack.length-1]}currentVarScopeFlags(){for(let r=this.scopeStack.length-1;;r--){let{flags:t}=this.scopeStack[r];if(t&387)return t}}currentThisScopeFlags(){for(let r=this.scopeStack.length-1;;r--){let{flags:t}=this.scopeStack[r];if(t&451&&!(t&4))return t}}},Wf=class extends ga{constructor(...r){super(...r),this.declareFunctions=new Set}},Gf=class extends ya{createScope(r){return new Wf(r)}declareName(r,t,i){let n=this.currentScope();if(t&2048){this.checkRedeclarationInScope(n,r,t,i),this.maybeExportDefined(n,r),n.declareFunctions.add(r);return}super.declareName(r,t,i)}isRedeclaredInScope(r,t,i){if(super.isRedeclaredInScope(r,t,i))return!0;if(i&2048&&!r.declareFunctions.has(t)){let n=r.names.get(t);return(n&4)>0||(n&2)>0}return!1}checkLocalExport(r){this.scopeStack[0].declareFunctions.has(r.name)||super.checkLocalExport(r)}},Hf=class{constructor(){this.sawUnambiguousESM=!1,this.ambiguousScriptDifferentAst=!1}hasPlugin(r){if(typeof r=="string")return this.plugins.has(r);{let[t,i]=r;if(!this.hasPlugin(t))return!1;let n=this.plugins.get(t);for(let s of Object.keys(i))if(n?.[s]!==i[s])return!1;return!0}}getPluginOption(r,t){var i;return(i=this.plugins.get(r))==null?void 0:i[t]}};function jv(e,r){e.trailingComments===void 0?e.trailingComments=r:e.trailingComments.unshift(...r)}function GM(e,r){e.leadingComments===void 0?e.leadingComments=r:e.leadingComments.unshift(...r)}function ba(e,r){e.innerComments===void 0?e.innerComments=r:e.innerComments.unshift(...r)}function da(e,r,t){let i=null,n=r.length;for(;i===null&&n>0;)i=r[--n];i===null||i.start>t.start?ba(e,t.comments):jv(i,t.comments)}var Jf=class extends Hf{addComment(r){this.filename&&(r.loc.filename=this.filename);let{commentsLen:t}=this.state;this.comments.length!==t&&(this.comments.length=t),this.comments.push(r),this.state.commentsLen++}processComment(r){let{commentStack:t}=this.state,i=t.length;if(i===0)return;let n=i-1,s=t[n];s.start===r.end&&(s.leadingNode=r,n--);let{start:o}=r;for(;n>=0;n--){let a=t[n],l=a.end;if(l>o)a.containingNode=r,this.finalizeComment(a),t.splice(n,1);else{l===o&&(a.trailingNode=r);break}}}finalizeComment(r){let{comments:t}=r;if(r.leadingNode!==null||r.trailingNode!==null)r.leadingNode!==null&&jv(r.leadingNode,t),r.trailingNode!==null&&GM(r.trailingNode,t);else{let{containingNode:i,start:n}=r;if(this.input.charCodeAt(n-1)===44)switch(i.type){case"ObjectExpression":case"ObjectPattern":case"RecordExpression":da(i,i.properties,r);break;case"CallExpression":case"OptionalCallExpression":da(i,i.arguments,r);break;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":da(i,i.params,r);break;case"ArrayExpression":case"ArrayPattern":case"TupleExpression":da(i,i.elements,r);break;case"ExportNamedDeclaration":case"ImportDeclaration":da(i,i.specifiers,r);break;default:ba(i,t)}else ba(i,t)}}finalizeRemainingComments(){let{commentStack:r}=this.state;for(let t=r.length-1;t>=0;t--)this.finalizeComment(r[t]);this.state.commentStack=[]}resetPreviousNodeTrailingComments(r){let{commentStack:t}=this.state,{length:i}=t;if(i===0)return;let n=t[i-1];n.leadingNode===r&&(n.leadingNode=null)}resetPreviousIdentifierLeadingComments(r){let{commentStack:t}=this.state,{length:i}=t;i!==0&&(t[i-1].trailingNode===r?t[i-1].trailingNode=null:i>=2&&t[i-2].trailingNode===r&&(t[i-2].trailingNode=null))}takeSurroundingComments(r,t,i){let{commentStack:n}=this.state,s=n.length;if(s===0)return;let o=s-1;for(;o>=0;o--){let a=n[o],l=a.end;if(a.start===i)a.leadingNode=r;else if(l===t)a.trailingNode=r;else if(l<t)break}}},HM=/\r\n|[\r\n\u2028\u2029]/,Pu=new RegExp(HM.source,"g");function Bs(e){switch(e){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function vv(e,r,t){for(let i=r;i<t;i++)if(Bs(e.charCodeAt(i)))return!0;return!1}var $f=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Uf=/(?:[^\S\n\r\u2028\u2029]|\/\/.*|\/\*.*?\*\/)*/g;function JM(e){switch(e){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}var Yf=class e{constructor(){this.flags=1024,this.curLine=void 0,this.lineStart=void 0,this.startLoc=void 0,this.endLoc=void 0,this.errors=[],this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.labels=[],this.commentsLen=0,this.commentStack=[],this.pos=0,this.type=139,this.value=null,this.start=0,this.end=0,this.lastTokEndLoc=null,this.lastTokStartLoc=null,this.context=[Le.brace],this.firstInvalidTemplateEscapePos=null,this.strictErrors=new Map,this.tokensLength=0}get strict(){return(this.flags&1)>0}set strict(r){r?this.flags|=1:this.flags&=-2}init({strictMode:r,sourceType:t,startLine:i,startColumn:n}){this.strict=r===!1?!1:r===!0?!0:t==="module",this.curLine=i,this.lineStart=-n,this.startLoc=this.endLoc=new fi(i,n,0)}get maybeInArrowParameters(){return(this.flags&2)>0}set maybeInArrowParameters(r){r?this.flags|=2:this.flags&=-3}get inType(){return(this.flags&4)>0}set inType(r){r?this.flags|=4:this.flags&=-5}get noAnonFunctionType(){return(this.flags&8)>0}set noAnonFunctionType(r){r?this.flags|=8:this.flags&=-9}get hasFlowComment(){return(this.flags&16)>0}set hasFlowComment(r){r?this.flags|=16:this.flags&=-17}get isAmbientContext(){return(this.flags&32)>0}set isAmbientContext(r){r?this.flags|=32:this.flags&=-33}get inAbstractClass(){return(this.flags&64)>0}set inAbstractClass(r){r?this.flags|=64:this.flags&=-65}get inDisallowConditionalTypesContext(){return(this.flags&128)>0}set inDisallowConditionalTypesContext(r){r?this.flags|=128:this.flags&=-129}get soloAwait(){return(this.flags&256)>0}set soloAwait(r){r?this.flags|=256:this.flags&=-257}get inFSharpPipelineDirectBody(){return(this.flags&512)>0}set inFSharpPipelineDirectBody(r){r?this.flags|=512:this.flags&=-513}get canStartJSXElement(){return(this.flags&1024)>0}set canStartJSXElement(r){r?this.flags|=1024:this.flags&=-1025}get containsEsc(){return(this.flags&2048)>0}set containsEsc(r){r?this.flags|=2048:this.flags&=-2049}get hasTopLevelAwait(){return(this.flags&4096)>0}set hasTopLevelAwait(r){r?this.flags|=4096:this.flags&=-4097}curPosition(){return new fi(this.curLine,this.pos-this.lineStart,this.pos)}clone(){let r=new e;return r.flags=this.flags,r.curLine=this.curLine,r.lineStart=this.lineStart,r.startLoc=this.startLoc,r.endLoc=this.endLoc,r.errors=this.errors.slice(),r.potentialArrowAt=this.potentialArrowAt,r.noArrowAt=this.noArrowAt.slice(),r.noArrowParamsConversionAt=this.noArrowParamsConversionAt.slice(),r.topicContext=this.topicContext,r.labels=this.labels.slice(),r.commentsLen=this.commentsLen,r.commentStack=this.commentStack.slice(),r.pos=this.pos,r.type=this.type,r.value=this.value,r.start=this.start,r.end=this.end,r.lastTokEndLoc=this.lastTokEndLoc,r.lastTokStartLoc=this.lastTokStartLoc,r.context=this.context.slice(),r.firstInvalidTemplateEscapePos=this.firstInvalidTemplateEscapePos,r.strictErrors=this.strictErrors,r.tokensLength=this.tokensLength,r}},YM=function(r){return r>=48&&r<=57},wv={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},Iu={bin:e=>e===48||e===49,oct:e=>e>=48&&e<=55,dec:e=>e>=48&&e<=57,hex:e=>e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102};function Tv(e,r,t,i,n,s){let o=t,a=i,l=n,u="",c=null,p=t,{length:d}=r;for(;;){if(t>=d){s.unterminated(o,a,l),u+=r.slice(p,t);break}let h=r.charCodeAt(t);if(XM(e,h,r,t)){u+=r.slice(p,t);break}if(h===92){u+=r.slice(p,t);let f=QM(r,t,i,n,e==="template",s);f.ch===null&&!c?c={pos:t,lineStart:i,curLine:n}:u+=f.ch,{pos:t,lineStart:i,curLine:n}=f,p=t}else h===8232||h===8233?(++t,++n,i=t):h===10||h===13?e==="template"?(u+=r.slice(p,t)+`
`,++t,h===13&&r.charCodeAt(t)===10&&++t,++n,p=i=t):s.unterminated(o,a,l):++t}return{pos:t,str:u,firstInvalidLoc:c,lineStart:i,curLine:n,containsInvalid:!!c}}function XM(e,r,t,i){return e==="template"?r===96||r===36&&t.charCodeAt(i+1)===123:r===(e==="double"?34:39)}function QM(e,r,t,i,n,s){let o=!n;r++;let a=u=>({pos:r,ch:u,lineStart:t,curLine:i}),l=e.charCodeAt(r++);switch(l){case 110:return a(`
`);case 114:return a("\r");case 120:{let u;return{code:u,pos:r}=Xf(e,r,t,i,2,!1,o,s),a(u===null?null:String.fromCharCode(u))}case 117:{let u;return{code:u,pos:r}=Kv(e,r,t,i,o,s),a(u===null?null:String.fromCodePoint(u))}case 116:return a("	");case 98:return a("\b");case 118:return a("\v");case 102:return a("\f");case 13:e.charCodeAt(r)===10&&++r;case 10:t=r,++i;case 8232:case 8233:return a("");case 56:case 57:if(n)return a(null);s.strictNumericEscape(r-1,t,i);default:if(l>=48&&l<=55){let u=r-1,p=/^[0-7]+/.exec(e.slice(u,r+2))[0],d=parseInt(p,8);d>255&&(p=p.slice(0,-1),d=parseInt(p,8)),r+=p.length-1;let h=e.charCodeAt(r);if(p!=="0"||h===56||h===57){if(n)return a(null);s.strictNumericEscape(u,t,i)}return a(String.fromCharCode(d))}return a(String.fromCharCode(l))}}function Xf(e,r,t,i,n,s,o,a){let l=r,u;return{n:u,pos:r}=qv(e,r,t,i,16,n,s,!1,a,!o),u===null&&(o?a.invalidEscapeSequence(l,t,i):r=l-1),{code:u,pos:r}}function qv(e,r,t,i,n,s,o,a,l,u){let c=r,p=n===16?wv.hex:wv.decBinOct,d=n===16?Iu.hex:n===10?Iu.dec:n===8?Iu.oct:Iu.bin,h=!1,f=0;for(let g=0,m=s??1/0;g<m;++g){let y=e.charCodeAt(r),b;if(y===95&&a!=="bail"){let C=e.charCodeAt(r-1),D=e.charCodeAt(r+1);if(a){if(Number.isNaN(D)||!d(D)||p.has(C)||p.has(D)){if(u)return{n:null,pos:r};l.unexpectedNumericSeparator(r,t,i)}}else{if(u)return{n:null,pos:r};l.numericSeparatorInEscapeSequence(r,t,i)}++r;continue}if(y>=97?b=y-97+10:y>=65?b=y-65+10:YM(y)?b=y-48:b=1/0,b>=n){if(b<=9&&u)return{n:null,pos:r};if(b<=9&&l.invalidDigit(r,t,i,n))b=0;else if(o)b=0,h=!0;else break}++r,f=f*n+b}return r===c||s!=null&&r-c!==s||h?{n:null,pos:r}:{n:f,pos:r}}function Kv(e,r,t,i,n,s){let o=e.charCodeAt(r),a;if(o===123){if(++r,{code:a,pos:r}=Xf(e,r,t,i,e.indexOf("}",r)-r,!0,n,s),++r,a!==null&&a>1114111)if(n)s.invalidCodePoint(r,t,i);else return{code:null,pos:r}}else({code:a,pos:r}=Xf(e,r,t,i,4,!1,n,s));return{code:a,pos:r}}function fa(e,r,t){return new fi(t,e-r,e)}var ZM=new Set([103,109,115,105,121,117,100,118]),di=class{constructor(r){this.type=r.type,this.value=r.value,this.start=r.start,this.end=r.end,this.loc=new Us(r.startLoc,r.endLoc)}},Qf=class extends Jf{constructor(r,t){super(),this.isLookahead=void 0,this.tokens=[],this.errorHandlers_readInt={invalidDigit:(i,n,s,o)=>this.options.errorRecovery?(this.raise(S.InvalidDigit,fa(i,n,s),{radix:o}),!0):!1,numericSeparatorInEscapeSequence:this.errorBuilder(S.NumericSeparatorInEscapeSequence),unexpectedNumericSeparator:this.errorBuilder(S.UnexpectedNumericSeparator)},this.errorHandlers_readCodePoint=Object.assign({},this.errorHandlers_readInt,{invalidEscapeSequence:this.errorBuilder(S.InvalidEscapeSequence),invalidCodePoint:this.errorBuilder(S.InvalidCodePoint)}),this.errorHandlers_readStringContents_string=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:(i,n,s)=>{this.recordStrictModeErrors(S.StrictNumericEscape,fa(i,n,s))},unterminated:(i,n,s)=>{throw this.raise(S.UnterminatedString,fa(i-1,n,s))}}),this.errorHandlers_readStringContents_template=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:this.errorBuilder(S.StrictNumericEscape),unterminated:(i,n,s)=>{throw this.raise(S.UnterminatedTemplate,fa(i,n,s))}}),this.state=new Yf,this.state.init(r),this.input=t,this.length=t.length,this.comments=[],this.isLookahead=!1}pushToken(r){this.tokens.length=this.state.tokensLength,this.tokens.push(r),++this.state.tokensLength}next(){this.checkKeywordEscapes(),this.options.tokens&&this.pushToken(new di(this.state)),this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()}eat(r){return this.match(r)?(this.next(),!0):!1}match(r){return this.state.type===r}createLookaheadState(r){return{pos:r.pos,value:null,type:r.type,start:r.start,end:r.end,context:[this.curContext()],inType:r.inType,startLoc:r.startLoc,lastTokEndLoc:r.lastTokEndLoc,curLine:r.curLine,lineStart:r.lineStart,curPosition:r.curPosition}}lookahead(){let r=this.state;this.state=this.createLookaheadState(r),this.isLookahead=!0,this.nextToken(),this.isLookahead=!1;let t=this.state;return this.state=r,t}nextTokenStart(){return this.nextTokenStartSince(this.state.pos)}nextTokenStartSince(r){return $f.lastIndex=r,$f.test(this.input)?$f.lastIndex:r}lookaheadCharCode(){return this.input.charCodeAt(this.nextTokenStart())}nextTokenInLineStart(){return this.nextTokenInLineStartSince(this.state.pos)}nextTokenInLineStartSince(r){return Uf.lastIndex=r,Uf.test(this.input)?Uf.lastIndex:r}lookaheadInLineCharCode(){return this.input.charCodeAt(this.nextTokenInLineStart())}codePointAtPos(r){let t=this.input.charCodeAt(r);if((t&64512)===55296&&++r<this.input.length){let i=this.input.charCodeAt(r);(i&64512)===56320&&(t=65536+((t&1023)<<10)+(i&1023))}return t}setStrict(r){this.state.strict=r,r&&(this.state.strictErrors.forEach(([t,i])=>this.raise(t,i)),this.state.strictErrors.clear())}curContext(){return this.state.context[this.state.context.length-1]}nextToken(){if(this.skipSpace(),this.state.start=this.state.pos,this.isLookahead||(this.state.startLoc=this.state.curPosition()),this.state.pos>=this.length){this.finishToken(139);return}this.getTokenFromCode(this.codePointAtPos(this.state.pos))}skipBlockComment(r){let t;this.isLookahead||(t=this.state.curPosition());let i=this.state.pos,n=this.input.indexOf(r,i+2);if(n===-1)throw this.raise(S.UnterminatedComment,this.state.curPosition());for(this.state.pos=n+r.length,Pu.lastIndex=i+2;Pu.test(this.input)&&Pu.lastIndex<=n;)++this.state.curLine,this.state.lineStart=Pu.lastIndex;if(this.isLookahead)return;let s={type:"CommentBlock",value:this.input.slice(i+2,n),start:i,end:n+r.length,loc:new Us(t,this.state.curPosition())};return this.options.tokens&&this.pushToken(s),s}skipLineComment(r){let t=this.state.pos,i;this.isLookahead||(i=this.state.curPosition());let n=this.input.charCodeAt(this.state.pos+=r);if(this.state.pos<this.length)for(;!Bs(n)&&++this.state.pos<this.length;)n=this.input.charCodeAt(this.state.pos);if(this.isLookahead)return;let s=this.state.pos,a={type:"CommentLine",value:this.input.slice(t+r,s),start:t,end:s,loc:new Us(i,this.state.curPosition())};return this.options.tokens&&this.pushToken(a),a}skipSpace(){let r=this.state.pos,t=[];e:for(;this.state.pos<this.length;){let i=this.input.charCodeAt(this.state.pos);switch(i){case 32:case 160:case 9:++this.state.pos;break;case 13:this.input.charCodeAt(this.state.pos+1)===10&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:{let n=this.skipBlockComment("*/");n!==void 0&&(this.addComment(n),this.options.attachComment&&t.push(n));break}case 47:{let n=this.skipLineComment(2);n!==void 0&&(this.addComment(n),this.options.attachComment&&t.push(n));break}default:break e}break;default:if(JM(i))++this.state.pos;else if(i===45&&!this.inModule&&this.options.annexB){let n=this.state.pos;if(this.input.charCodeAt(n+1)===45&&this.input.charCodeAt(n+2)===62&&(r===0||this.state.lineStart>r)){let s=this.skipLineComment(3);s!==void 0&&(this.addComment(s),this.options.attachComment&&t.push(s))}else break e}else if(i===60&&!this.inModule&&this.options.annexB){let n=this.state.pos;if(this.input.charCodeAt(n+1)===33&&this.input.charCodeAt(n+2)===45&&this.input.charCodeAt(n+3)===45){let s=this.skipLineComment(4);s!==void 0&&(this.addComment(s),this.options.attachComment&&t.push(s))}else break e}else break e}}if(t.length>0){let i=this.state.pos,n={start:r,end:i,comments:t,leadingNode:null,trailingNode:null,containingNode:null};this.state.commentStack.push(n)}}finishToken(r,t){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();let i=this.state.type;this.state.type=r,this.state.value=t,this.isLookahead||this.updateContext(i)}replaceToken(r){this.state.type=r,this.updateContext()}readToken_numberSign(){if(this.state.pos===0&&this.readToken_interpreter())return;let r=this.state.pos+1,t=this.codePointAtPos(r);if(t>=48&&t<=57)throw this.raise(S.UnexpectedDigitAfterHash,this.state.curPosition());if(t===123||t===91&&this.hasPlugin("recordAndTuple")){if(this.expectPlugin("recordAndTuple"),this.getPluginOption("recordAndTuple","syntaxType")==="bar")throw this.raise(t===123?S.RecordExpressionHashIncorrectStartSyntaxType:S.TupleExpressionHashIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,t===123?this.finishToken(7):this.finishToken(1)}else zi(t)?(++this.state.pos,this.finishToken(138,this.readWord1(t))):t===92?(++this.state.pos,this.finishToken(138,this.readWord1())):this.finishOp(27,1)}readToken_dot(){let r=this.input.charCodeAt(this.state.pos+1);if(r>=48&&r<=57){this.readNumber(!0);return}r===46&&this.input.charCodeAt(this.state.pos+2)===46?(this.state.pos+=3,this.finishToken(21)):(++this.state.pos,this.finishToken(16))}readToken_slash(){this.input.charCodeAt(this.state.pos+1)===61?this.finishOp(31,2):this.finishOp(56,1)}readToken_interpreter(){if(this.state.pos!==0||this.length<2)return!1;let r=this.input.charCodeAt(this.state.pos+1);if(r!==33)return!1;let t=this.state.pos;for(this.state.pos+=1;!Bs(r)&&++this.state.pos<this.length;)r=this.input.charCodeAt(this.state.pos);let i=this.input.slice(t+2,this.state.pos);return this.finishToken(28,i),!0}readToken_mult_modulo(r){let t=r===42?55:54,i=1,n=this.input.charCodeAt(this.state.pos+1);r===42&&n===42&&(i++,n=this.input.charCodeAt(this.state.pos+2),t=57),n===61&&!this.state.inType&&(i++,t=r===37?33:30),this.finishOp(t,i)}readToken_pipe_amp(r){let t=this.input.charCodeAt(this.state.pos+1);if(t===r){this.input.charCodeAt(this.state.pos+2)===61?this.finishOp(30,3):this.finishOp(r===124?41:42,2);return}if(r===124){if(t===62){this.finishOp(39,2);return}if(this.hasPlugin("recordAndTuple")&&t===125){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(S.RecordExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(9);return}if(this.hasPlugin("recordAndTuple")&&t===93){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(S.TupleExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(4);return}}if(t===61){this.finishOp(30,2);return}this.finishOp(r===124?43:45,1)}readToken_caret(){let r=this.input.charCodeAt(this.state.pos+1);r===61&&!this.state.inType?this.finishOp(32,2):r===94&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"^^"}])?(this.finishOp(37,2),this.input.codePointAt(this.state.pos)===94&&this.unexpected()):this.finishOp(44,1)}readToken_atSign(){this.input.charCodeAt(this.state.pos+1)===64&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"@@"}])?this.finishOp(38,2):this.finishOp(26,1)}readToken_plus_min(r){let t=this.input.charCodeAt(this.state.pos+1);if(t===r){this.finishOp(34,2);return}t===61?this.finishOp(30,2):this.finishOp(53,1)}readToken_lt(){let{pos:r}=this.state,t=this.input.charCodeAt(r+1);if(t===60){if(this.input.charCodeAt(r+2)===61){this.finishOp(30,3);return}this.finishOp(51,2);return}if(t===61){this.finishOp(49,2);return}this.finishOp(47,1)}readToken_gt(){let{pos:r}=this.state,t=this.input.charCodeAt(r+1);if(t===62){let i=this.input.charCodeAt(r+2)===62?3:2;if(this.input.charCodeAt(r+i)===61){this.finishOp(30,i+1);return}this.finishOp(52,i);return}if(t===61){this.finishOp(49,2);return}this.finishOp(48,1)}readToken_eq_excl(r){let t=this.input.charCodeAt(this.state.pos+1);if(t===61){this.finishOp(46,this.input.charCodeAt(this.state.pos+2)===61?3:2);return}if(r===61&&t===62){this.state.pos+=2,this.finishToken(19);return}this.finishOp(r===61?29:35,1)}readToken_question(){let r=this.input.charCodeAt(this.state.pos+1),t=this.input.charCodeAt(this.state.pos+2);r===63?t===61?this.finishOp(30,3):this.finishOp(40,2):r===46&&!(t>=48&&t<=57)?(this.state.pos+=2,this.finishToken(18)):(++this.state.pos,this.finishToken(17))}getTokenFromCode(r){switch(r){case 46:this.readToken_dot();return;case 40:++this.state.pos,this.finishToken(10);return;case 41:++this.state.pos,this.finishToken(11);return;case 59:++this.state.pos,this.finishToken(13);return;case 44:++this.state.pos,this.finishToken(12);return;case 91:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(S.TupleExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(2)}else++this.state.pos,this.finishToken(0);return;case 93:++this.state.pos,this.finishToken(3);return;case 123:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(S.RecordExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(6)}else++this.state.pos,this.finishToken(5);return;case 125:++this.state.pos,this.finishToken(8);return;case 58:this.hasPlugin("functionBind")&&this.input.charCodeAt(this.state.pos+1)===58?this.finishOp(15,2):(++this.state.pos,this.finishToken(14));return;case 63:this.readToken_question();return;case 96:this.readTemplateToken();return;case 48:{let t=this.input.charCodeAt(this.state.pos+1);if(t===120||t===88){this.readRadixNumber(16);return}if(t===111||t===79){this.readRadixNumber(8);return}if(t===98||t===66){this.readRadixNumber(2);return}}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:this.readNumber(!1);return;case 34:case 39:this.readString(r);return;case 47:this.readToken_slash();return;case 37:case 42:this.readToken_mult_modulo(r);return;case 124:case 38:this.readToken_pipe_amp(r);return;case 94:this.readToken_caret();return;case 43:case 45:this.readToken_plus_min(r);return;case 60:this.readToken_lt();return;case 62:this.readToken_gt();return;case 61:case 33:this.readToken_eq_excl(r);return;case 126:this.finishOp(36,1);return;case 64:this.readToken_atSign();return;case 35:this.readToken_numberSign();return;case 92:this.readWord();return;default:if(zi(r)){this.readWord(r);return}}throw this.raise(S.InvalidOrUnexpectedToken,this.state.curPosition(),{unexpected:String.fromCodePoint(r)})}finishOp(r,t){let i=this.input.slice(this.state.pos,this.state.pos+t);this.state.pos+=t,this.finishToken(r,i)}readRegexp(){let r=this.state.startLoc,t=this.state.start+1,i,n,{pos:s}=this.state;for(;;++s){if(s>=this.length)throw this.raise(S.UnterminatedRegExp,jt(r,1));let u=this.input.charCodeAt(s);if(Bs(u))throw this.raise(S.UnterminatedRegExp,jt(r,1));if(i)i=!1;else{if(u===91)n=!0;else if(u===93&&n)n=!1;else if(u===47&&!n)break;i=u===92}}let o=this.input.slice(t,s);++s;let a="",l=()=>jt(r,s+2-t);for(;s<this.length;){let u=this.codePointAtPos(s),c=String.fromCharCode(u);if(ZM.has(u))u===118?a.includes("u")&&this.raise(S.IncompatibleRegExpUVFlags,l()):u===117&&a.includes("v")&&this.raise(S.IncompatibleRegExpUVFlags,l()),a.includes(c)&&this.raise(S.DuplicateRegExpFlags,l());else if(Ms(u)||u===92)this.raise(S.MalformedRegExpFlags,l());else break;++s,a+=c}this.state.pos=s,this.finishToken(137,{pattern:o,flags:a})}readInt(r,t,i=!1,n=!0){let{n:s,pos:o}=qv(this.input,this.state.pos,this.state.lineStart,this.state.curLine,r,t,i,n,this.errorHandlers_readInt,!1);return this.state.pos=o,s}readRadixNumber(r){let t=this.state.curPosition(),i=!1;this.state.pos+=2;let n=this.readInt(r);n==null&&this.raise(S.InvalidDigit,jt(t,2),{radix:r});let s=this.input.charCodeAt(this.state.pos);if(s===110)++this.state.pos,i=!0;else if(s===109)throw this.raise(S.InvalidDecimal,t);if(zi(this.codePointAtPos(this.state.pos)))throw this.raise(S.NumberIdentifier,this.state.curPosition());if(i){let o=this.input.slice(t.index,this.state.pos).replace(/[_n]/g,"");this.finishToken(135,o);return}this.finishToken(134,n)}readNumber(r){let t=this.state.pos,i=this.state.curPosition(),n=!1,s=!1,o=!1,a=!1;!r&&this.readInt(10)===null&&this.raise(S.InvalidNumber,this.state.curPosition());let l=this.state.pos-t>=2&&this.input.charCodeAt(t)===48;if(l){let h=this.input.slice(t,this.state.pos);if(this.recordStrictModeErrors(S.StrictOctalLiteral,i),!this.state.strict){let f=h.indexOf("_");f>0&&this.raise(S.ZeroDigitNumericSeparator,jt(i,f))}a=l&&!/[89]/.test(h)}let u=this.input.charCodeAt(this.state.pos);if(u===46&&!a&&(++this.state.pos,this.readInt(10),n=!0,u=this.input.charCodeAt(this.state.pos)),(u===69||u===101)&&!a&&(u=this.input.charCodeAt(++this.state.pos),(u===43||u===45)&&++this.state.pos,this.readInt(10)===null&&this.raise(S.InvalidOrMissingExponent,i),n=!0,o=!0,u=this.input.charCodeAt(this.state.pos)),u===110&&((n||l)&&this.raise(S.InvalidBigIntLiteral,i),++this.state.pos,s=!0),u===109){this.expectPlugin("decimal",this.state.curPosition()),(o||l)&&this.raise(S.InvalidDecimal,i),++this.state.pos;var c=!0}if(zi(this.codePointAtPos(this.state.pos)))throw this.raise(S.NumberIdentifier,this.state.curPosition());let p=this.input.slice(t,this.state.pos).replace(/[_mn]/g,"");if(s){this.finishToken(135,p);return}if(c){this.finishToken(136,p);return}let d=a?parseInt(p,8):parseFloat(p);this.finishToken(134,d)}readCodePoint(r){let{code:t,pos:i}=Kv(this.input,this.state.pos,this.state.lineStart,this.state.curLine,r,this.errorHandlers_readCodePoint);return this.state.pos=i,t}readString(r){let{str:t,pos:i,curLine:n,lineStart:s}=Tv(r===34?"double":"single",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_string);this.state.pos=i+1,this.state.lineStart=s,this.state.curLine=n,this.finishToken(133,t)}readTemplateContinuation(){this.match(8)||this.unexpected(null,8),this.state.pos--,this.readTemplateToken()}readTemplateToken(){let r=this.input[this.state.pos],{str:t,firstInvalidLoc:i,pos:n,curLine:s,lineStart:o}=Tv("template",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_template);this.state.pos=n+1,this.state.lineStart=o,this.state.curLine=s,i&&(this.state.firstInvalidTemplateEscapePos=new fi(i.curLine,i.pos-i.lineStart,i.pos)),this.input.codePointAt(n)===96?this.finishToken(24,i?null:r+t+"`"):(this.state.pos++,this.finishToken(25,i?null:r+t+"${"))}recordStrictModeErrors(r,t){let i=t.index;this.state.strict&&!this.state.strictErrors.has(i)?this.raise(r,t):this.state.strictErrors.set(i,[r,t])}readWord1(r){this.state.containsEsc=!1;let t="",i=this.state.pos,n=this.state.pos;for(r!==void 0&&(this.state.pos+=r<=65535?1:2);this.state.pos<this.length;){let s=this.codePointAtPos(this.state.pos);if(Ms(s))this.state.pos+=s<=65535?1:2;else if(s===92){this.state.containsEsc=!0,t+=this.input.slice(n,this.state.pos);let o=this.state.curPosition(),a=this.state.pos===i?zi:Ms;if(this.input.charCodeAt(++this.state.pos)!==117){this.raise(S.MissingUnicodeEscape,this.state.curPosition()),n=this.state.pos-1;continue}++this.state.pos;let l=this.readCodePoint(!0);l!==null&&(a(l)||this.raise(S.EscapedCharNotAnIdentifier,o),t+=String.fromCodePoint(l)),n=this.state.pos}else break}return t+this.input.slice(n,this.state.pos)}readWord(r){let t=this.readWord1(r),i=ch.get(t);i!==void 0?this.finishToken(i,Dn(i)):this.finishToken(132,t)}checkKeywordEscapes(){let{type:r}=this.state;gh(r)&&this.state.containsEsc&&this.raise(S.InvalidEscapedReservedWord,this.state.startLoc,{reservedWord:Dn(r)})}raise(r,t,i={}){let n=t instanceof fi?t:t.loc.start,s=r(n,i);if(!this.options.errorRecovery)throw s;return this.isLookahead||this.state.errors.push(s),s}raiseOverwrite(r,t,i={}){let n=t instanceof fi?t:t.loc.start,s=n.index,o=this.state.errors;for(let a=o.length-1;a>=0;a--){let l=o[a];if(l.loc.index===s)return o[a]=r(n,i);if(l.loc.index<s)break}return this.raise(r,t,i)}updateContext(r){}unexpected(r,t){throw this.raise(S.UnexpectedToken,r??this.state.startLoc,{expected:t?Dn(t):null})}expectPlugin(r,t){if(this.hasPlugin(r))return!0;throw this.raise(S.MissingPlugin,t??this.state.startLoc,{missingPlugin:[r]})}expectOnePlugin(r){if(!r.some(t=>this.hasPlugin(t)))throw this.raise(S.MissingOneOfPlugins,this.state.startLoc,{missingPlugin:r})}errorBuilder(r){return(t,i,n)=>{this.raise(r,fa(t,i,n))}}},Zf=class{constructor(){this.privateNames=new Set,this.loneAccessors=new Map,this.undefinedPrivateNames=new Map}},eh=class{constructor(r){this.parser=void 0,this.stack=[],this.undefinedPrivateNames=new Map,this.parser=r}current(){return this.stack[this.stack.length-1]}enter(){this.stack.push(new Zf)}exit(){let r=this.stack.pop(),t=this.current();for(let[i,n]of Array.from(r.undefinedPrivateNames))t?t.undefinedPrivateNames.has(i)||t.undefinedPrivateNames.set(i,n):this.parser.raise(S.InvalidPrivateFieldResolution,n,{identifierName:i})}declarePrivateName(r,t,i){let{privateNames:n,loneAccessors:s,undefinedPrivateNames:o}=this.current(),a=n.has(r);if(t&3){let l=a&&s.get(r);if(l){let u=l&4,c=t&4,p=l&3,d=t&3;a=p===d||u!==c,a||s.delete(r)}else a||s.set(r,t)}a&&this.parser.raise(S.PrivateNameRedeclaration,i,{identifierName:r}),n.add(r),o.delete(r)}usePrivateName(r,t){let i;for(i of this.stack)if(i.privateNames.has(r))return;i?i.undefinedPrivateNames.set(r,t):this.parser.raise(S.InvalidPrivateFieldResolution,t,{identifierName:r})}},js=class{constructor(r=0){this.type=r}canBeArrowParameterDeclaration(){return this.type===2||this.type===1}isCertainlyParameterDeclaration(){return this.type===3}},Ru=class extends js{constructor(r){super(r),this.declarationErrors=new Map}recordDeclarationError(r,t){let i=t.index;this.declarationErrors.set(i,[r,t])}clearDeclarationError(r){this.declarationErrors.delete(r)}iterateErrors(r){this.declarationErrors.forEach(r)}},th=class{constructor(r){this.parser=void 0,this.stack=[new js],this.parser=r}enter(r){this.stack.push(r)}exit(){this.stack.pop()}recordParameterInitializerError(r,t){let i=t.loc.start,{stack:n}=this,s=n.length-1,o=n[s];for(;!o.isCertainlyParameterDeclaration();){if(o.canBeArrowParameterDeclaration())o.recordDeclarationError(r,i);else return;o=n[--s]}this.parser.raise(r,i)}recordArrowParameterBindingError(r,t){let{stack:i}=this,n=i[i.length-1],s=t.loc.start;if(n.isCertainlyParameterDeclaration())this.parser.raise(r,s);else if(n.canBeArrowParameterDeclaration())n.recordDeclarationError(r,s);else return}recordAsyncArrowParametersError(r){let{stack:t}=this,i=t.length-1,n=t[i];for(;n.canBeArrowParameterDeclaration();)n.type===2&&n.recordDeclarationError(S.AwaitBindingIdentifier,r),n=t[--i]}validateAsPattern(){let{stack:r}=this,t=r[r.length-1];t.canBeArrowParameterDeclaration()&&t.iterateErrors(([i,n])=>{this.parser.raise(i,n);let s=r.length-2,o=r[s];for(;o.canBeArrowParameterDeclaration();)o.clearDeclarationError(n.index),o=r[--s]})}};function eB(){return new js(3)}function tB(){return new Ru(1)}function rB(){return new Ru(2)}function Vv(){return new js}var rh=class{constructor(){this.stacks=[]}enter(r){this.stacks.push(r)}exit(){this.stacks.pop()}currentFlags(){return this.stacks[this.stacks.length-1]}get hasAwait(){return(this.currentFlags()&2)>0}get hasYield(){return(this.currentFlags()&1)>0}get hasReturn(){return(this.currentFlags()&4)>0}get hasIn(){return(this.currentFlags()&8)>0}};function Fu(e,r){return(e?2:0)|(r?1:0)}var ih=class extends Qf{addExtra(r,t,i,n=!0){if(!r)return;let{extra:s}=r;s==null&&(s={},r.extra=s),n?s[t]=i:Object.defineProperty(s,t,{enumerable:n,value:i})}isContextual(r){return this.state.type===r&&!this.state.containsEsc}isUnparsedContextual(r,t){let i=r+t.length;if(this.input.slice(r,i)===t){let n=this.input.charCodeAt(i);return!(Ms(n)||(n&64512)===55296)}return!1}isLookaheadContextual(r){let t=this.nextTokenStart();return this.isUnparsedContextual(t,r)}eatContextual(r){return this.isContextual(r)?(this.next(),!0):!1}expectContextual(r,t){if(!this.eatContextual(r)){if(t!=null)throw this.raise(t,this.state.startLoc);this.unexpected(null,r)}}canInsertSemicolon(){return this.match(139)||this.match(8)||this.hasPrecedingLineBreak()}hasPrecedingLineBreak(){return vv(this.input,this.state.lastTokEndLoc.index,this.state.start)}hasFollowingLineBreak(){return vv(this.input,this.state.end,this.nextTokenStart())}isLineTerminator(){return this.eat(13)||this.canInsertSemicolon()}semicolon(r=!0){(r?this.isLineTerminator():this.eat(13))||this.raise(S.MissingSemicolon,this.state.lastTokEndLoc)}expect(r,t){this.eat(r)||this.unexpected(t,r)}tryParse(r,t=this.state.clone()){let i={node:null};try{let n=r((s=null)=>{throw i.node=s,i});if(this.state.errors.length>t.errors.length){let s=this.state;return this.state=t,this.state.tokensLength=s.tokensLength,{node:n,error:s.errors[t.errors.length],thrown:!1,aborted:!1,failState:s}}return{node:n,error:null,thrown:!1,aborted:!1,failState:null}}catch(n){let s=this.state;if(this.state=t,n instanceof SyntaxError)return{node:null,error:n,thrown:!0,aborted:!1,failState:s};if(n===i)return{node:i.node,error:null,thrown:!1,aborted:!0,failState:s};throw n}}checkExpressionErrors(r,t){if(!r)return!1;let{shorthandAssignLoc:i,doubleProtoLoc:n,privateKeyLoc:s,optionalParametersLoc:o}=r,a=!!i||!!n||!!o||!!s;if(!t)return a;i!=null&&this.raise(S.InvalidCoverInitializedName,i),n!=null&&this.raise(S.DuplicateProto,n),s!=null&&this.raise(S.UnexpectedPrivateField,s),o!=null&&this.unexpected(o)}isLiteralPropertyName(){return Ov(this.state.type)}isPrivateName(r){return r.type==="PrivateName"}getPrivateNameSV(r){return r.id.name}hasPropertyAsPrivateName(r){return(r.type==="MemberExpression"||r.type==="OptionalMemberExpression")&&this.isPrivateName(r.property)}isObjectProperty(r){return r.type==="ObjectProperty"}isObjectMethod(r){return r.type==="ObjectMethod"}initializeScopes(r=this.options.sourceType==="module"){let t=this.state.labels;this.state.labels=[];let i=this.exportedIdentifiers;this.exportedIdentifiers=new Set;let n=this.inModule;this.inModule=r;let s=this.scope,o=this.getScopeHandler();this.scope=new o(this,r);let a=this.prodParam;this.prodParam=new rh;let l=this.classScope;this.classScope=new eh(this);let u=this.expressionScope;return this.expressionScope=new th(this),()=>{this.state.labels=t,this.exportedIdentifiers=i,this.inModule=n,this.scope=s,this.prodParam=a,this.classScope=l,this.expressionScope=u}}enterInitialScopes(){let r=0;this.inModule&&(r|=2),this.scope.enter(1),this.prodParam.enter(r)}checkDestructuringPrivate(r){let{privateKeyLoc:t}=r;t!==null&&this.expectPlugin("destructuringPrivate",t)}},$s=class{constructor(){this.shorthandAssignLoc=null,this.doubleProtoLoc=null,this.privateKeyLoc=null,this.optionalParametersLoc=null}},qs=class{constructor(r,t,i){this.type="",this.start=t,this.end=0,this.loc=new Us(i),r!=null&&r.options.ranges&&(this.range=[t,0]),r!=null&&r.filename&&(this.loc.filename=r.filename)}},Dh=qs.prototype;Dh.__clone=function(){let e=new qs(void 0,this.start,this.loc.start),r=Object.keys(this);for(let t=0,i=r.length;t<i;t++){let n=r[t];n!=="leadingComments"&&n!=="trailingComments"&&n!=="innerComments"&&(e[n]=this[n])}return e};function iB(e){return Gi(e)}function Gi(e){let{type:r,start:t,end:i,loc:n,range:s,extra:o,name:a}=e,l=Object.create(Dh);return l.type=r,l.start=t,l.end=i,l.loc=n,l.range=s,l.extra=o,l.name=a,r==="Placeholder"&&(l.expectedNode=e.expectedNode),l}function nB(e){let{type:r,start:t,end:i,loc:n,range:s,extra:o}=e;if(r==="Placeholder")return iB(e);let a=Object.create(Dh);return a.type=r,a.start=t,a.end=i,a.loc=n,a.range=s,e.raw!==void 0?a.raw=e.raw:a.extra=o,a.value=e.value,a}var nh=class extends ih{startNode(){let r=this.state.startLoc;return new qs(this,r.index,r)}startNodeAt(r){return new qs(this,r.index,r)}startNodeAtNode(r){return this.startNodeAt(r.loc.start)}finishNode(r,t){return this.finishNodeAt(r,t,this.state.lastTokEndLoc)}finishNodeAt(r,t,i){return r.type=t,r.end=i.index,r.loc.end=i,this.options.ranges&&(r.range[1]=i.index),this.options.attachComment&&this.processComment(r),r}resetStartLocation(r,t){r.start=t.index,r.loc.start=t,this.options.ranges&&(r.range[0]=t.index)}resetEndLocation(r,t=this.state.lastTokEndLoc){r.end=t.index,r.loc.end=t,this.options.ranges&&(r.range[1]=t.index)}resetStartLocationFromNode(r,t){this.resetStartLocation(r,t.loc.start)}},sB=new Set(["_","any","bool","boolean","empty","extends","false","interface","mixed","null","number","static","string","true","typeof","void"]),Q=Wi`flow`({AmbiguousConditionalArrow:"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",AmbiguousDeclareModuleKind:"Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module.",AssignReservedType:({reservedType:e})=>`Cannot overwrite reserved type ${e}.`,DeclareClassElement:"The `declare` modifier can only appear on class fields.",DeclareClassFieldInitializer:"Initializers are not allowed in fields with the `declare` modifier.",DuplicateDeclareModuleExports:"Duplicate `declare module.exports` statement.",EnumBooleanMemberNotInitialized:({memberName:e,enumName:r})=>`Boolean enum members need to be initialized. Use either \`${e} = true,\` or \`${e} = false,\` in enum \`${r}\`.`,EnumDuplicateMemberName:({memberName:e,enumName:r})=>`Enum member names need to be unique, but the name \`${e}\` has already been used before in enum \`${r}\`.`,EnumInconsistentMemberValues:({enumName:e})=>`Enum \`${e}\` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.`,EnumInvalidExplicitType:({invalidEnumType:e,enumName:r})=>`Enum type \`${e}\` is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${r}\`.`,EnumInvalidExplicitTypeUnknownSupplied:({enumName:e})=>`Supplied enum type is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${e}\`.`,EnumInvalidMemberInitializerPrimaryType:({enumName:e,memberName:r,explicitType:t})=>`Enum \`${e}\` has type \`${t}\`, so the initializer of \`${r}\` needs to be a ${t} literal.`,EnumInvalidMemberInitializerSymbolType:({enumName:e,memberName:r})=>`Symbol enum members cannot be initialized. Use \`${r},\` in enum \`${e}\`.`,EnumInvalidMemberInitializerUnknownType:({enumName:e,memberName:r})=>`The enum member initializer for \`${r}\` needs to be a literal (either a boolean, number, or string) in enum \`${e}\`.`,EnumInvalidMemberName:({enumName:e,memberName:r,suggestion:t})=>`Enum member names cannot start with lowercase 'a' through 'z'. Instead of using \`${r}\`, consider using \`${t}\`, in enum \`${e}\`.`,EnumNumberMemberNotInitialized:({enumName:e,memberName:r})=>`Number enum members need to be initialized, e.g. \`${r} = 1\` in enum \`${e}\`.`,EnumStringMemberInconsistentlyInitialized:({enumName:e})=>`String enum members need to consistently either all use initializers, or use no initializers, in enum \`${e}\`.`,GetterMayNotHaveThisParam:"A getter cannot have a `this` parameter.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` or `typeof` keyword.",ImportTypeShorthandOnlyInPureImport:"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements.",InexactInsideExact:"Explicit inexact syntax cannot appear inside an explicit exact object type.",InexactInsideNonObject:"Explicit inexact syntax cannot appear in class or interface definitions.",InexactVariance:"Explicit inexact syntax cannot have variance.",InvalidNonTypeImportInDeclareModule:"Imports within a `declare module` body must always be `import type` or `import typeof`.",MissingTypeParamDefault:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",NestedDeclareModule:"`declare module` cannot be used inside another `declare module`.",NestedFlowComment:"Cannot have a flow comment inside another flow comment.",PatternIsOptional:Object.assign({message:"A binding pattern parameter cannot be optional in an implementation signature."},{reasonCode:"OptionalBindingPattern"}),SetterMayNotHaveThisParam:"A setter cannot have a `this` parameter.",SpreadVariance:"Spread properties cannot have variance.",ThisParamAnnotationRequired:"A type annotation is required for the `this` parameter.",ThisParamBannedInConstructor:"Constructors cannot have a `this` parameter; constructors don't bind `this` like other functions.",ThisParamMayNotBeOptional:"The `this` parameter cannot be optional.",ThisParamMustBeFirst:"The `this` parameter must be the first function parameter.",ThisParamNoDefault:"The `this` parameter may not have a default value.",TypeBeforeInitializer:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeCastInPattern:"The type cast expression is expected to be wrapped with parenthesis.",UnexpectedExplicitInexactInObject:"Explicit inexact syntax must appear at the end of an inexact object.",UnexpectedReservedType:({reservedType:e})=>`Unexpected reserved type ${e}.`,UnexpectedReservedUnderscore:"`_` is only allowed as a type argument to call or new.",UnexpectedSpaceBetweenModuloChecks:"Spaces between `%` and `checks` are not allowed here.",UnexpectedSpreadType:"Spread operator cannot appear in class or interface definitions.",UnexpectedSubtractionOperand:'Unexpected token, expected "number" or "bigint".',UnexpectedTokenAfterTypeParameter:"Expected an arrow function after this type parameter declaration.",UnexpectedTypeParameterBeforeAsyncArrowFunction:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`.",UnsupportedDeclareExportKind:({unsupportedExportKind:e,suggestion:r})=>`\`declare export ${e}\` is not supported. Use \`${r}\` instead.`,UnsupportedStatementInDeclareModule:"Only declares and type imports are allowed inside declare module.",UnterminatedFlowComment:"Unterminated flow-comment."});function oB(e){return e.type==="DeclareExportAllDeclaration"||e.type==="DeclareExportDeclaration"&&(!e.declaration||e.declaration.type!=="TypeAlias"&&e.declaration.type!=="InterfaceDeclaration")}function Av(e){return e.importKind==="type"||e.importKind==="typeof"}var aB={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"};function lB(e,r){let t=[],i=[];for(let n=0;n<e.length;n++)(r(e[n],n,e)?t:i).push(e[n]);return[t,i]}var uB=/\*?\s*@((?:no)?flow)\b/,cB=e=>class extends e{constructor(...t){super(...t),this.flowPragma=void 0}getScopeHandler(){return Gf}shouldParseTypes(){return this.getPluginOption("flow","all")||this.flowPragma==="flow"}finishToken(t,i){t!==133&&t!==13&&t!==28&&this.flowPragma===void 0&&(this.flowPragma=null),super.finishToken(t,i)}addComment(t){if(this.flowPragma===void 0){let i=uB.exec(t.value);if(i)if(i[1]==="flow")this.flowPragma="flow";else if(i[1]==="noflow")this.flowPragma="noflow";else throw new Error("Unexpected flow pragma")}super.addComment(t)}flowParseTypeInitialiser(t){let i=this.state.inType;this.state.inType=!0,this.expect(t||14);let n=this.flowParseType();return this.state.inType=i,n}flowParsePredicate(){let t=this.startNode(),i=this.state.startLoc;return this.next(),this.expectContextual(110),this.state.lastTokStartLoc.index>i.index+1&&this.raise(Q.UnexpectedSpaceBetweenModuloChecks,i),this.eat(10)?(t.value=super.parseExpression(),this.expect(11),this.finishNode(t,"DeclaredPredicate")):this.finishNode(t,"InferredPredicate")}flowParseTypeAndPredicateInitialiser(){let t=this.state.inType;this.state.inType=!0,this.expect(14);let i=null,n=null;return this.match(54)?(this.state.inType=t,n=this.flowParsePredicate()):(i=this.flowParseType(),this.state.inType=t,this.match(54)&&(n=this.flowParsePredicate())),[i,n]}flowParseDeclareClass(t){return this.next(),this.flowParseInterfaceish(t,!0),this.finishNode(t,"DeclareClass")}flowParseDeclareFunction(t){this.next();let i=t.id=this.parseIdentifier(),n=this.startNode(),s=this.startNode();this.match(47)?n.typeParameters=this.flowParseTypeParameterDeclaration():n.typeParameters=null,this.expect(10);let o=this.flowParseFunctionTypeParams();return n.params=o.params,n.rest=o.rest,n.this=o._this,this.expect(11),[n.returnType,t.predicate]=this.flowParseTypeAndPredicateInitialiser(),s.typeAnnotation=this.finishNode(n,"FunctionTypeAnnotation"),i.typeAnnotation=this.finishNode(s,"TypeAnnotation"),this.resetEndLocation(i),this.semicolon(),this.scope.declareName(t.id.name,2048,t.id.loc.start),this.finishNode(t,"DeclareFunction")}flowParseDeclare(t,i){if(this.match(80))return this.flowParseDeclareClass(t);if(this.match(68))return this.flowParseDeclareFunction(t);if(this.match(74))return this.flowParseDeclareVariable(t);if(this.eatContextual(127))return this.match(16)?this.flowParseDeclareModuleExports(t):(i&&this.raise(Q.NestedDeclareModule,this.state.lastTokStartLoc),this.flowParseDeclareModule(t));if(this.isContextual(130))return this.flowParseDeclareTypeAlias(t);if(this.isContextual(131))return this.flowParseDeclareOpaqueType(t);if(this.isContextual(129))return this.flowParseDeclareInterface(t);if(this.match(82))return this.flowParseDeclareExportDeclaration(t,i);this.unexpected()}flowParseDeclareVariable(t){return this.next(),t.id=this.flowParseTypeAnnotatableIdentifier(!0),this.scope.declareName(t.id.name,5,t.id.loc.start),this.semicolon(),this.finishNode(t,"DeclareVariable")}flowParseDeclareModule(t){this.scope.enter(0),this.match(133)?t.id=super.parseExprAtom():t.id=this.parseIdentifier();let i=t.body=this.startNode(),n=i.body=[];for(this.expect(5);!this.match(8);){let a=this.startNode();this.match(83)?(this.next(),!this.isContextual(130)&&!this.match(87)&&this.raise(Q.InvalidNonTypeImportInDeclareModule,this.state.lastTokStartLoc),super.parseImport(a)):(this.expectContextual(125,Q.UnsupportedStatementInDeclareModule),a=this.flowParseDeclare(a,!0)),n.push(a)}this.scope.exit(),this.expect(8),this.finishNode(i,"BlockStatement");let s=null,o=!1;return n.forEach(a=>{oB(a)?(s==="CommonJS"&&this.raise(Q.AmbiguousDeclareModuleKind,a),s="ES"):a.type==="DeclareModuleExports"&&(o&&this.raise(Q.DuplicateDeclareModuleExports,a),s==="ES"&&this.raise(Q.AmbiguousDeclareModuleKind,a),s="CommonJS",o=!0)}),t.kind=s||"CommonJS",this.finishNode(t,"DeclareModule")}flowParseDeclareExportDeclaration(t,i){if(this.expect(82),this.eat(65))return this.match(68)||this.match(80)?t.declaration=this.flowParseDeclare(this.startNode()):(t.declaration=this.flowParseType(),this.semicolon()),t.default=!0,this.finishNode(t,"DeclareExportDeclaration");if(this.match(75)||this.isLet()||(this.isContextual(130)||this.isContextual(129))&&!i){let n=this.state.value;throw this.raise(Q.UnsupportedDeclareExportKind,this.state.startLoc,{unsupportedExportKind:n,suggestion:aB[n]})}if(this.match(74)||this.match(68)||this.match(80)||this.isContextual(131))return t.declaration=this.flowParseDeclare(this.startNode()),t.default=!1,this.finishNode(t,"DeclareExportDeclaration");if(this.match(55)||this.match(5)||this.isContextual(129)||this.isContextual(130)||this.isContextual(131))return t=this.parseExport(t,null),t.type==="ExportNamedDeclaration"&&(t.type="ExportDeclaration",t.default=!1,delete t.exportKind),t.type="Declare"+t.type,t;this.unexpected()}flowParseDeclareModuleExports(t){return this.next(),this.expectContextual(111),t.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(t,"DeclareModuleExports")}flowParseDeclareTypeAlias(t){this.next();let i=this.flowParseTypeAlias(t);return i.type="DeclareTypeAlias",i}flowParseDeclareOpaqueType(t){this.next();let i=this.flowParseOpaqueType(t,!0);return i.type="DeclareOpaqueType",i}flowParseDeclareInterface(t){return this.next(),this.flowParseInterfaceish(t,!1),this.finishNode(t,"DeclareInterface")}flowParseInterfaceish(t,i){if(t.id=this.flowParseRestrictedIdentifier(!i,!0),this.scope.declareName(t.id.name,i?17:8201,t.id.loc.start),this.match(47)?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.extends=[],this.eat(81))do t.extends.push(this.flowParseInterfaceExtends());while(!i&&this.eat(12));if(i){if(t.implements=[],t.mixins=[],this.eatContextual(117))do t.mixins.push(this.flowParseInterfaceExtends());while(this.eat(12));if(this.eatContextual(113))do t.implements.push(this.flowParseInterfaceExtends());while(this.eat(12))}t.body=this.flowParseObjectType({allowStatic:i,allowExact:!1,allowSpread:!1,allowProto:i,allowInexact:!1})}flowParseInterfaceExtends(){let t=this.startNode();return t.id=this.flowParseQualifiedTypeIdentifier(),this.match(47)?t.typeParameters=this.flowParseTypeParameterInstantiation():t.typeParameters=null,this.finishNode(t,"InterfaceExtends")}flowParseInterface(t){return this.flowParseInterfaceish(t,!1),this.finishNode(t,"InterfaceDeclaration")}checkNotUnderscore(t){t==="_"&&this.raise(Q.UnexpectedReservedUnderscore,this.state.startLoc)}checkReservedType(t,i,n){sB.has(t)&&this.raise(n?Q.AssignReservedType:Q.UnexpectedReservedType,i,{reservedType:t})}flowParseRestrictedIdentifier(t,i){return this.checkReservedType(this.state.value,this.state.startLoc,i),this.parseIdentifier(t)}flowParseTypeAlias(t){return t.id=this.flowParseRestrictedIdentifier(!1,!0),this.scope.declareName(t.id.name,8201,t.id.loc.start),this.match(47)?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.right=this.flowParseTypeInitialiser(29),this.semicolon(),this.finishNode(t,"TypeAlias")}flowParseOpaqueType(t,i){return this.expectContextual(130),t.id=this.flowParseRestrictedIdentifier(!0,!0),this.scope.declareName(t.id.name,8201,t.id.loc.start),this.match(47)?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.supertype=null,this.match(14)&&(t.supertype=this.flowParseTypeInitialiser(14)),t.impltype=null,i||(t.impltype=this.flowParseTypeInitialiser(29)),this.semicolon(),this.finishNode(t,"OpaqueType")}flowParseTypeParameter(t=!1){let i=this.state.startLoc,n=this.startNode(),s=this.flowParseVariance(),o=this.flowParseTypeAnnotatableIdentifier();return n.name=o.name,n.variance=s,n.bound=o.typeAnnotation,this.match(29)?(this.eat(29),n.default=this.flowParseType()):t&&this.raise(Q.MissingTypeParamDefault,i),this.finishNode(n,"TypeParameter")}flowParseTypeParameterDeclaration(){let t=this.state.inType,i=this.startNode();i.params=[],this.state.inType=!0,this.match(47)||this.match(142)?this.next():this.unexpected();let n=!1;do{let s=this.flowParseTypeParameter(n);i.params.push(s),s.default&&(n=!0),this.match(48)||this.expect(12)}while(!this.match(48));return this.expect(48),this.state.inType=t,this.finishNode(i,"TypeParameterDeclaration")}flowParseTypeParameterInstantiation(){let t=this.startNode(),i=this.state.inType;t.params=[],this.state.inType=!0,this.expect(47);let n=this.state.noAnonFunctionType;for(this.state.noAnonFunctionType=!1;!this.match(48);)t.params.push(this.flowParseType()),this.match(48)||this.expect(12);return this.state.noAnonFunctionType=n,this.expect(48),this.state.inType=i,this.finishNode(t,"TypeParameterInstantiation")}flowParseTypeParameterInstantiationCallOrNew(){let t=this.startNode(),i=this.state.inType;for(t.params=[],this.state.inType=!0,this.expect(47);!this.match(48);)t.params.push(this.flowParseTypeOrImplicitInstantiation()),this.match(48)||this.expect(12);return this.expect(48),this.state.inType=i,this.finishNode(t,"TypeParameterInstantiation")}flowParseInterfaceType(){let t=this.startNode();if(this.expectContextual(129),t.extends=[],this.eat(81))do t.extends.push(this.flowParseInterfaceExtends());while(this.eat(12));return t.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(t,"InterfaceTypeAnnotation")}flowParseObjectPropertyKey(){return this.match(134)||this.match(133)?super.parseExprAtom():this.parseIdentifier(!0)}flowParseObjectTypeIndexer(t,i,n){return t.static=i,this.lookahead().type===14?(t.id=this.flowParseObjectPropertyKey(),t.key=this.flowParseTypeInitialiser()):(t.id=null,t.key=this.flowParseType()),this.expect(3),t.value=this.flowParseTypeInitialiser(),t.variance=n,this.finishNode(t,"ObjectTypeIndexer")}flowParseObjectTypeInternalSlot(t,i){return t.static=i,t.id=this.flowParseObjectPropertyKey(),this.expect(3),this.expect(3),this.match(47)||this.match(10)?(t.method=!0,t.optional=!1,t.value=this.flowParseObjectTypeMethodish(this.startNodeAt(t.loc.start))):(t.method=!1,this.eat(17)&&(t.optional=!0),t.value=this.flowParseTypeInitialiser()),this.finishNode(t,"ObjectTypeInternalSlot")}flowParseObjectTypeMethodish(t){for(t.params=[],t.rest=null,t.typeParameters=null,t.this=null,this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(10),this.match(78)&&(t.this=this.flowParseFunctionTypeParam(!0),t.this.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)t.params.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(t.rest=this.flowParseFunctionTypeParam(!1)),this.expect(11),t.returnType=this.flowParseTypeInitialiser(),this.finishNode(t,"FunctionTypeAnnotation")}flowParseObjectTypeCallProperty(t,i){let n=this.startNode();return t.static=i,t.value=this.flowParseObjectTypeMethodish(n),this.finishNode(t,"ObjectTypeCallProperty")}flowParseObjectType({allowStatic:t,allowExact:i,allowSpread:n,allowProto:s,allowInexact:o}){let a=this.state.inType;this.state.inType=!0;let l=this.startNode();l.callProperties=[],l.properties=[],l.indexers=[],l.internalSlots=[];let u,c,p=!1;for(i&&this.match(6)?(this.expect(6),u=9,c=!0):(this.expect(5),u=8,c=!1),l.exact=c;!this.match(u);){let h=!1,f=null,g=null,m=this.startNode();if(s&&this.isContextual(118)){let b=this.lookahead();b.type!==14&&b.type!==17&&(this.next(),f=this.state.startLoc,t=!1)}if(t&&this.isContextual(106)){let b=this.lookahead();b.type!==14&&b.type!==17&&(this.next(),h=!0)}let y=this.flowParseVariance();if(this.eat(0))f!=null&&this.unexpected(f),this.eat(0)?(y&&this.unexpected(y.loc.start),l.internalSlots.push(this.flowParseObjectTypeInternalSlot(m,h))):l.indexers.push(this.flowParseObjectTypeIndexer(m,h,y));else if(this.match(10)||this.match(47))f!=null&&this.unexpected(f),y&&this.unexpected(y.loc.start),l.callProperties.push(this.flowParseObjectTypeCallProperty(m,h));else{let b="init";if(this.isContextual(99)||this.isContextual(104)){let D=this.lookahead();Ov(D.type)&&(b=this.state.value,this.next())}let C=this.flowParseObjectTypeProperty(m,h,f,y,b,n,o??!c);C===null?(p=!0,g=this.state.lastTokStartLoc):l.properties.push(C)}this.flowObjectTypeSemicolon(),g&&!this.match(8)&&!this.match(9)&&this.raise(Q.UnexpectedExplicitInexactInObject,g)}this.expect(u),n&&(l.inexact=p);let d=this.finishNode(l,"ObjectTypeAnnotation");return this.state.inType=a,d}flowParseObjectTypeProperty(t,i,n,s,o,a,l){if(this.eat(21))return this.match(12)||this.match(13)||this.match(8)||this.match(9)?(a?l||this.raise(Q.InexactInsideExact,this.state.lastTokStartLoc):this.raise(Q.InexactInsideNonObject,this.state.lastTokStartLoc),s&&this.raise(Q.InexactVariance,s),null):(a||this.raise(Q.UnexpectedSpreadType,this.state.lastTokStartLoc),n!=null&&this.unexpected(n),s&&this.raise(Q.SpreadVariance,s),t.argument=this.flowParseType(),this.finishNode(t,"ObjectTypeSpreadProperty"));{t.key=this.flowParseObjectPropertyKey(),t.static=i,t.proto=n!=null,t.kind=o;let u=!1;return this.match(47)||this.match(10)?(t.method=!0,n!=null&&this.unexpected(n),s&&this.unexpected(s.loc.start),t.value=this.flowParseObjectTypeMethodish(this.startNodeAt(t.loc.start)),(o==="get"||o==="set")&&this.flowCheckGetterSetterParams(t),!a&&t.key.name==="constructor"&&t.value.this&&this.raise(Q.ThisParamBannedInConstructor,t.value.this)):(o!=="init"&&this.unexpected(),t.method=!1,this.eat(17)&&(u=!0),t.value=this.flowParseTypeInitialiser(),t.variance=s),t.optional=u,this.finishNode(t,"ObjectTypeProperty")}}flowCheckGetterSetterParams(t){let i=t.kind==="get"?0:1,n=t.value.params.length+(t.value.rest?1:0);t.value.this&&this.raise(t.kind==="get"?Q.GetterMayNotHaveThisParam:Q.SetterMayNotHaveThisParam,t.value.this),n!==i&&this.raise(t.kind==="get"?S.BadGetterArity:S.BadSetterArity,t),t.kind==="set"&&t.value.rest&&this.raise(S.BadSetterRestParameter,t)}flowObjectTypeSemicolon(){!this.eat(13)&&!this.eat(12)&&!this.match(8)&&!this.match(9)&&this.unexpected()}flowParseQualifiedTypeIdentifier(t,i){var n;(n=t)!=null||(t=this.state.startLoc);let s=i||this.flowParseRestrictedIdentifier(!0);for(;this.eat(16);){let o=this.startNodeAt(t);o.qualification=s,o.id=this.flowParseRestrictedIdentifier(!0),s=this.finishNode(o,"QualifiedTypeIdentifier")}return s}flowParseGenericType(t,i){let n=this.startNodeAt(t);return n.typeParameters=null,n.id=this.flowParseQualifiedTypeIdentifier(t,i),this.match(47)&&(n.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(n,"GenericTypeAnnotation")}flowParseTypeofType(){let t=this.startNode();return this.expect(87),t.argument=this.flowParsePrimaryType(),this.finishNode(t,"TypeofTypeAnnotation")}flowParseTupleType(){let t=this.startNode();for(t.types=[],this.expect(0);this.state.pos<this.length&&!this.match(3)&&(t.types.push(this.flowParseType()),!this.match(3));)this.expect(12);return this.expect(3),this.finishNode(t,"TupleTypeAnnotation")}flowParseFunctionTypeParam(t){let i=null,n=!1,s=null,o=this.startNode(),a=this.lookahead(),l=this.state.type===78;return a.type===14||a.type===17?(l&&!t&&this.raise(Q.ThisParamMustBeFirst,o),i=this.parseIdentifier(l),this.eat(17)&&(n=!0,l&&this.raise(Q.ThisParamMayNotBeOptional,o)),s=this.flowParseTypeInitialiser()):s=this.flowParseType(),o.name=i,o.optional=n,o.typeAnnotation=s,this.finishNode(o,"FunctionTypeParam")}reinterpretTypeAsFunctionTypeParam(t){let i=this.startNodeAt(t.loc.start);return i.name=null,i.optional=!1,i.typeAnnotation=t,this.finishNode(i,"FunctionTypeParam")}flowParseFunctionTypeParams(t=[]){let i=null,n=null;for(this.match(78)&&(n=this.flowParseFunctionTypeParam(!0),n.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)t.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(i=this.flowParseFunctionTypeParam(!1)),{params:t,rest:i,_this:n}}flowIdentToTypeAnnotation(t,i,n){switch(n.name){case"any":return this.finishNode(i,"AnyTypeAnnotation");case"bool":case"boolean":return this.finishNode(i,"BooleanTypeAnnotation");case"mixed":return this.finishNode(i,"MixedTypeAnnotation");case"empty":return this.finishNode(i,"EmptyTypeAnnotation");case"number":return this.finishNode(i,"NumberTypeAnnotation");case"string":return this.finishNode(i,"StringTypeAnnotation");case"symbol":return this.finishNode(i,"SymbolTypeAnnotation");default:return this.checkNotUnderscore(n.name),this.flowParseGenericType(t,n)}}flowParsePrimaryType(){let t=this.state.startLoc,i=this.startNode(),n,s,o=!1,a=this.state.noAnonFunctionType;switch(this.state.type){case 5:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case 6:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case 0:return this.state.noAnonFunctionType=!1,s=this.flowParseTupleType(),this.state.noAnonFunctionType=a,s;case 47:{let l=this.startNode();return l.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(10),n=this.flowParseFunctionTypeParams(),l.params=n.params,l.rest=n.rest,l.this=n._this,this.expect(11),this.expect(19),l.returnType=this.flowParseType(),this.finishNode(l,"FunctionTypeAnnotation")}case 10:{let l=this.startNode();if(this.next(),!this.match(11)&&!this.match(21))if(we(this.state.type)||this.match(78)){let u=this.lookahead().type;o=u!==17&&u!==14}else o=!0;if(o){if(this.state.noAnonFunctionType=!1,s=this.flowParseType(),this.state.noAnonFunctionType=a,this.state.noAnonFunctionType||!(this.match(12)||this.match(11)&&this.lookahead().type===19))return this.expect(11),s;this.eat(12)}return s?n=this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(s)]):n=this.flowParseFunctionTypeParams(),l.params=n.params,l.rest=n.rest,l.this=n._this,this.expect(11),this.expect(19),l.returnType=this.flowParseType(),l.typeParameters=null,this.finishNode(l,"FunctionTypeAnnotation")}case 133:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case 85:case 86:return i.value=this.match(85),this.next(),this.finishNode(i,"BooleanLiteralTypeAnnotation");case 53:if(this.state.value==="-"){if(this.next(),this.match(134))return this.parseLiteralAtNode(-this.state.value,"NumberLiteralTypeAnnotation",i);if(this.match(135))return this.parseLiteralAtNode(-this.state.value,"BigIntLiteralTypeAnnotation",i);throw this.raise(Q.UnexpectedSubtractionOperand,this.state.startLoc)}this.unexpected();return;case 134:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case 135:return this.parseLiteral(this.state.value,"BigIntLiteralTypeAnnotation");case 88:return this.next(),this.finishNode(i,"VoidTypeAnnotation");case 84:return this.next(),this.finishNode(i,"NullLiteralTypeAnnotation");case 78:return this.next(),this.finishNode(i,"ThisTypeAnnotation");case 55:return this.next(),this.finishNode(i,"ExistsTypeAnnotation");case 87:return this.flowParseTypeofType();default:if(gh(this.state.type)){let l=Dn(this.state.type);return this.next(),super.createIdentifier(i,l)}else if(we(this.state.type))return this.isContextual(129)?this.flowParseInterfaceType():this.flowIdentToTypeAnnotation(t,i,this.parseIdentifier())}this.unexpected()}flowParsePostfixType(){let t=this.state.startLoc,i=this.flowParsePrimaryType(),n=!1;for(;(this.match(0)||this.match(18))&&!this.canInsertSemicolon();){let s=this.startNodeAt(t),o=this.eat(18);n=n||o,this.expect(0),!o&&this.match(3)?(s.elementType=i,this.next(),i=this.finishNode(s,"ArrayTypeAnnotation")):(s.objectType=i,s.indexType=this.flowParseType(),this.expect(3),n?(s.optional=o,i=this.finishNode(s,"OptionalIndexedAccessType")):i=this.finishNode(s,"IndexedAccessType"))}return i}flowParsePrefixType(){let t=this.startNode();return this.eat(17)?(t.typeAnnotation=this.flowParsePrefixType(),this.finishNode(t,"NullableTypeAnnotation")):this.flowParsePostfixType()}flowParseAnonFunctionWithoutParens(){let t=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(19)){let i=this.startNodeAt(t.loc.start);return i.params=[this.reinterpretTypeAsFunctionTypeParam(t)],i.rest=null,i.this=null,i.returnType=this.flowParseType(),i.typeParameters=null,this.finishNode(i,"FunctionTypeAnnotation")}return t}flowParseIntersectionType(){let t=this.startNode();this.eat(45);let i=this.flowParseAnonFunctionWithoutParens();for(t.types=[i];this.eat(45);)t.types.push(this.flowParseAnonFunctionWithoutParens());return t.types.length===1?i:this.finishNode(t,"IntersectionTypeAnnotation")}flowParseUnionType(){let t=this.startNode();this.eat(43);let i=this.flowParseIntersectionType();for(t.types=[i];this.eat(43);)t.types.push(this.flowParseIntersectionType());return t.types.length===1?i:this.finishNode(t,"UnionTypeAnnotation")}flowParseType(){let t=this.state.inType;this.state.inType=!0;let i=this.flowParseUnionType();return this.state.inType=t,i}flowParseTypeOrImplicitInstantiation(){if(this.state.type===132&&this.state.value==="_"){let t=this.state.startLoc,i=this.parseIdentifier();return this.flowParseGenericType(t,i)}else return this.flowParseType()}flowParseTypeAnnotation(){let t=this.startNode();return t.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(t,"TypeAnnotation")}flowParseTypeAnnotatableIdentifier(t){let i=t?this.parseIdentifier():this.flowParseRestrictedIdentifier();return this.match(14)&&(i.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(i)),i}typeCastToParameter(t){return t.expression.typeAnnotation=t.typeAnnotation,this.resetEndLocation(t.expression,t.typeAnnotation.loc.end),t.expression}flowParseVariance(){let t=null;return this.match(53)?(t=this.startNode(),this.state.value==="+"?t.kind="plus":t.kind="minus",this.next(),this.finishNode(t,"Variance")):t}parseFunctionBody(t,i,n=!1){if(i){this.forwardNoArrowParamsConversionAt(t,()=>super.parseFunctionBody(t,!0,n));return}super.parseFunctionBody(t,!1,n)}parseFunctionBodyAndFinish(t,i,n=!1){if(this.match(14)){let s=this.startNode();[s.typeAnnotation,t.predicate]=this.flowParseTypeAndPredicateInitialiser(),t.returnType=s.typeAnnotation?this.finishNode(s,"TypeAnnotation"):null}return super.parseFunctionBodyAndFinish(t,i,n)}parseStatementLike(t){if(this.state.strict&&this.isContextual(129)){let n=this.lookahead();if(Br(n.type)){let s=this.startNode();return this.next(),this.flowParseInterface(s)}}else if(this.plugins.get("flow").enums&&this.isContextual(126)){let n=this.startNode();return this.next(),this.flowParseEnumDeclaration(n)}let i=super.parseStatementLike(t);return this.flowPragma===void 0&&!this.isValidDirective(i)&&(this.flowPragma=null),i}parseExpressionStatement(t,i,n){if(i.type==="Identifier"){if(i.name==="declare"){if(this.match(80)||we(this.state.type)||this.match(68)||this.match(74)||this.match(82))return this.flowParseDeclare(t)}else if(we(this.state.type)){if(i.name==="interface")return this.flowParseInterface(t);if(i.name==="type")return this.flowParseTypeAlias(t);if(i.name==="opaque")return this.flowParseOpaqueType(t,!1)}}return super.parseExpressionStatement(t,i,n)}shouldParseExportDeclaration(){let{type:t}=this.state;return Sv(t)||this.plugins.get("flow").enums&&t===126?!this.state.containsEsc:super.shouldParseExportDeclaration()}isExportDefaultSpecifier(){let{type:t}=this.state;return Sv(t)||this.plugins.get("flow").enums&&t===126?this.state.containsEsc:super.isExportDefaultSpecifier()}parseExportDefaultExpression(){if(this.plugins.get("flow").enums&&this.isContextual(126)){let t=this.startNode();return this.next(),this.flowParseEnumDeclaration(t)}return super.parseExportDefaultExpression()}parseConditional(t,i,n){if(!this.match(17))return t;if(this.state.maybeInArrowParameters){let d=this.lookaheadCharCode();if(d===44||d===61||d===58||d===41)return this.setOptionalParametersError(n),t}this.expect(17);let s=this.state.clone(),o=this.state.noArrowAt,a=this.startNodeAt(i),{consequent:l,failed:u}=this.tryParseConditionalConsequent(),[c,p]=this.getArrowLikeExpressions(l);if(u||p.length>0){let d=[...o];if(p.length>0){this.state=s,this.state.noArrowAt=d;for(let h=0;h<p.length;h++)d.push(p[h].start);({consequent:l,failed:u}=this.tryParseConditionalConsequent()),[c,p]=this.getArrowLikeExpressions(l)}u&&c.length>1&&this.raise(Q.AmbiguousConditionalArrow,s.startLoc),u&&c.length===1&&(this.state=s,d.push(c[0].start),this.state.noArrowAt=d,{consequent:l,failed:u}=this.tryParseConditionalConsequent())}return this.getArrowLikeExpressions(l,!0),this.state.noArrowAt=o,this.expect(14),a.test=t,a.consequent=l,a.alternate=this.forwardNoArrowParamsConversionAt(a,()=>this.parseMaybeAssign(void 0,void 0)),this.finishNode(a,"ConditionalExpression")}tryParseConditionalConsequent(){this.state.noArrowParamsConversionAt.push(this.state.start);let t=this.parseMaybeAssignAllowIn(),i=!this.match(14);return this.state.noArrowParamsConversionAt.pop(),{consequent:t,failed:i}}getArrowLikeExpressions(t,i){let n=[t],s=[];for(;n.length!==0;){let o=n.pop();o.type==="ArrowFunctionExpression"&&o.body.type!=="BlockStatement"?(o.typeParameters||!o.returnType?this.finishArrowValidation(o):s.push(o),n.push(o.body)):o.type==="ConditionalExpression"&&(n.push(o.consequent),n.push(o.alternate))}return i?(s.forEach(o=>this.finishArrowValidation(o)),[s,[]]):lB(s,o=>o.params.every(a=>this.isAssignable(a,!0)))}finishArrowValidation(t){var i;this.toAssignableList(t.params,(i=t.extra)==null?void 0:i.trailingCommaLoc,!1),this.scope.enter(6),super.checkParams(t,!1,!0),this.scope.exit()}forwardNoArrowParamsConversionAt(t,i){let n;return this.state.noArrowParamsConversionAt.includes(t.start)?(this.state.noArrowParamsConversionAt.push(this.state.start),n=i(),this.state.noArrowParamsConversionAt.pop()):n=i(),n}parseParenItem(t,i){let n=super.parseParenItem(t,i);if(this.eat(17)&&(n.optional=!0,this.resetEndLocation(t)),this.match(14)){let s=this.startNodeAt(i);return s.expression=n,s.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(s,"TypeCastExpression")}return n}assertModuleNodeAllowed(t){t.type==="ImportDeclaration"&&(t.importKind==="type"||t.importKind==="typeof")||t.type==="ExportNamedDeclaration"&&t.exportKind==="type"||t.type==="ExportAllDeclaration"&&t.exportKind==="type"||super.assertModuleNodeAllowed(t)}parseExportDeclaration(t){if(this.isContextual(130)){t.exportKind="type";let i=this.startNode();return this.next(),this.match(5)?(t.specifiers=this.parseExportSpecifiers(!0),super.parseExportFrom(t),null):this.flowParseTypeAlias(i)}else if(this.isContextual(131)){t.exportKind="type";let i=this.startNode();return this.next(),this.flowParseOpaqueType(i,!1)}else if(this.isContextual(129)){t.exportKind="type";let i=this.startNode();return this.next(),this.flowParseInterface(i)}else if(this.plugins.get("flow").enums&&this.isContextual(126)){t.exportKind="value";let i=this.startNode();return this.next(),this.flowParseEnumDeclaration(i)}else return super.parseExportDeclaration(t)}eatExportStar(t){return super.eatExportStar(t)?!0:this.isContextual(130)&&this.lookahead().type===55?(t.exportKind="type",this.next(),this.next(),!0):!1}maybeParseExportNamespaceSpecifier(t){let{startLoc:i}=this.state,n=super.maybeParseExportNamespaceSpecifier(t);return n&&t.exportKind==="type"&&this.unexpected(i),n}parseClassId(t,i,n){super.parseClassId(t,i,n),this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration())}parseClassMember(t,i,n){let{startLoc:s}=this.state;if(this.isContextual(125)){if(super.parseClassMemberFromModifier(t,i))return;i.declare=!0}super.parseClassMember(t,i,n),i.declare&&(i.type!=="ClassProperty"&&i.type!=="ClassPrivateProperty"&&i.type!=="PropertyDefinition"?this.raise(Q.DeclareClassElement,s):i.value&&this.raise(Q.DeclareClassFieldInitializer,i.value))}isIterator(t){return t==="iterator"||t==="asyncIterator"}readIterator(){let t=super.readWord1(),i="@@"+t;(!this.isIterator(t)||!this.state.inType)&&this.raise(S.InvalidIdentifier,this.state.curPosition(),{identifierName:i}),this.finishToken(132,i)}getTokenFromCode(t){let i=this.input.charCodeAt(this.state.pos+1);t===123&&i===124?this.finishOp(6,2):this.state.inType&&(t===62||t===60)?this.finishOp(t===62?48:47,1):this.state.inType&&t===63?i===46?this.finishOp(18,2):this.finishOp(17,1):VM(t,i,this.input.charCodeAt(this.state.pos+2))?(this.state.pos+=2,this.readIterator()):super.getTokenFromCode(t)}isAssignable(t,i){return t.type==="TypeCastExpression"?this.isAssignable(t.expression,i):super.isAssignable(t,i)}toAssignable(t,i=!1){!i&&t.type==="AssignmentExpression"&&t.left.type==="TypeCastExpression"&&(t.left=this.typeCastToParameter(t.left)),super.toAssignable(t,i)}toAssignableList(t,i,n){for(let s=0;s<t.length;s++){let o=t[s];o?.type==="TypeCastExpression"&&(t[s]=this.typeCastToParameter(o))}super.toAssignableList(t,i,n)}toReferencedList(t,i){for(let s=0;s<t.length;s++){var n;let o=t[s];o&&o.type==="TypeCastExpression"&&!((n=o.extra)!=null&&n.parenthesized)&&(t.length>1||!i)&&this.raise(Q.TypeCastInPattern,o.typeAnnotation)}return t}parseArrayLike(t,i,n,s){let o=super.parseArrayLike(t,i,n,s);return i&&!this.state.maybeInArrowParameters&&this.toReferencedList(o.elements),o}isValidLVal(t,i,n){return t==="TypeCastExpression"||super.isValidLVal(t,i,n)}parseClassProperty(t){return this.match(14)&&(t.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassProperty(t)}parseClassPrivateProperty(t){return this.match(14)&&(t.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassPrivateProperty(t)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(14)||super.isClassProperty()}isNonstaticConstructor(t){return!this.match(14)&&super.isNonstaticConstructor(t)}pushClassMethod(t,i,n,s,o,a){if(i.variance&&this.unexpected(i.variance.loc.start),delete i.variance,this.match(47)&&(i.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassMethod(t,i,n,s,o,a),i.params&&o){let l=i.params;l.length>0&&this.isThisParam(l[0])&&this.raise(Q.ThisParamBannedInConstructor,i)}else if(i.type==="MethodDefinition"&&o&&i.value.params){let l=i.value.params;l.length>0&&this.isThisParam(l[0])&&this.raise(Q.ThisParamBannedInConstructor,i)}}pushClassPrivateMethod(t,i,n,s){i.variance&&this.unexpected(i.variance.loc.start),delete i.variance,this.match(47)&&(i.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassPrivateMethod(t,i,n,s)}parseClassSuper(t){if(super.parseClassSuper(t),t.superClass&&this.match(47)&&(t.superTypeParameters=this.flowParseTypeParameterInstantiation()),this.isContextual(113)){this.next();let i=t.implements=[];do{let n=this.startNode();n.id=this.flowParseRestrictedIdentifier(!0),this.match(47)?n.typeParameters=this.flowParseTypeParameterInstantiation():n.typeParameters=null,i.push(this.finishNode(n,"ClassImplements"))}while(this.eat(12))}}checkGetterSetterParams(t){super.checkGetterSetterParams(t);let i=this.getObjectOrClassMethodParams(t);if(i.length>0){let n=i[0];this.isThisParam(n)&&t.kind==="get"?this.raise(Q.GetterMayNotHaveThisParam,n):this.isThisParam(n)&&this.raise(Q.SetterMayNotHaveThisParam,n)}}parsePropertyNamePrefixOperator(t){t.variance=this.flowParseVariance()}parseObjPropValue(t,i,n,s,o,a,l){t.variance&&this.unexpected(t.variance.loc.start),delete t.variance;let u;this.match(47)&&!a&&(u=this.flowParseTypeParameterDeclaration(),this.match(10)||this.unexpected());let c=super.parseObjPropValue(t,i,n,s,o,a,l);return u&&((c.value||c).typeParameters=u),c}parseFunctionParamType(t){return this.eat(17)&&(t.type!=="Identifier"&&this.raise(Q.PatternIsOptional,t),this.isThisParam(t)&&this.raise(Q.ThisParamMayNotBeOptional,t),t.optional=!0),this.match(14)?t.typeAnnotation=this.flowParseTypeAnnotation():this.isThisParam(t)&&this.raise(Q.ThisParamAnnotationRequired,t),this.match(29)&&this.isThisParam(t)&&this.raise(Q.ThisParamNoDefault,t),this.resetEndLocation(t),t}parseMaybeDefault(t,i){let n=super.parseMaybeDefault(t,i);return n.type==="AssignmentPattern"&&n.typeAnnotation&&n.right.start<n.typeAnnotation.start&&this.raise(Q.TypeBeforeInitializer,n.typeAnnotation),n}checkImportReflection(t){super.checkImportReflection(t),t.module&&t.importKind!=="value"&&this.raise(Q.ImportReflectionHasImportType,t.specifiers[0].loc.start)}parseImportSpecifierLocal(t,i,n){i.local=Av(t)?this.flowParseRestrictedIdentifier(!0,!0):this.parseIdentifier(),t.specifiers.push(this.finishImportSpecifier(i,n))}isPotentialImportPhase(t){if(super.isPotentialImportPhase(t))return!0;if(this.isContextual(130)){if(!t)return!0;let i=this.lookaheadCharCode();return i===123||i===42}return!t&&this.isContextual(87)}applyImportPhase(t,i,n,s){if(super.applyImportPhase(t,i,n,s),i){if(!n&&this.match(65))return;t.exportKind=n==="type"?n:"value"}else n==="type"&&this.match(55)&&this.unexpected(),t.importKind=n==="type"||n==="typeof"?n:"value"}parseImportSpecifier(t,i,n,s,o){let a=t.imported,l=null;a.type==="Identifier"&&(a.name==="type"?l="type":a.name==="typeof"&&(l="typeof"));let u=!1;if(this.isContextual(93)&&!this.isLookaheadContextual("as")){let p=this.parseIdentifier(!0);l!==null&&!Br(this.state.type)?(t.imported=p,t.importKind=l,t.local=Gi(p)):(t.imported=a,t.importKind=null,t.local=this.parseIdentifier())}else{if(l!==null&&Br(this.state.type))t.imported=this.parseIdentifier(!0),t.importKind=l;else{if(i)throw this.raise(S.ImportBindingIsString,t,{importName:a.value});t.imported=a,t.importKind=null}this.eatContextual(93)?t.local=this.parseIdentifier():(u=!0,t.local=Gi(t.imported))}let c=Av(t);return n&&c&&this.raise(Q.ImportTypeShorthandOnlyInPureImport,t),(n||c)&&this.checkReservedType(t.local.name,t.local.loc.start,!0),u&&!n&&!c&&this.checkReservedWord(t.local.name,t.loc.start,!0,!0),this.finishImportSpecifier(t,"ImportSpecifier")}parseBindingAtom(){switch(this.state.type){case 78:return this.parseIdentifier(!0);default:return super.parseBindingAtom()}}parseFunctionParams(t,i){let n=t.kind;n!=="get"&&n!=="set"&&this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),super.parseFunctionParams(t,i)}parseVarId(t,i){super.parseVarId(t,i),this.match(14)&&(t.id.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(t.id))}parseAsyncArrowFromCallExpression(t,i){if(this.match(14)){let n=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,t.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=n}return super.parseAsyncArrowFromCallExpression(t,i)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}parseMaybeAssign(t,i){var n;let s=null,o;if(this.hasPlugin("jsx")&&(this.match(142)||this.match(47))){if(s=this.state.clone(),o=this.tryParse(()=>super.parseMaybeAssign(t,i),s),!o.error)return o.node;let{context:u}=this.state,c=u[u.length-1];(c===Le.j_oTag||c===Le.j_expr)&&u.pop()}if((n=o)!=null&&n.error||this.match(47)){var a,l;s=s||this.state.clone();let u,c=this.tryParse(d=>{var h;u=this.flowParseTypeParameterDeclaration();let f=this.forwardNoArrowParamsConversionAt(u,()=>{let m=super.parseMaybeAssign(t,i);return this.resetStartLocationFromNode(m,u),m});(h=f.extra)!=null&&h.parenthesized&&d();let g=this.maybeUnwrapTypeCastExpression(f);return g.type!=="ArrowFunctionExpression"&&d(),g.typeParameters=u,this.resetStartLocationFromNode(g,u),f},s),p=null;if(c.node&&this.maybeUnwrapTypeCastExpression(c.node).type==="ArrowFunctionExpression"){if(!c.error&&!c.aborted)return c.node.async&&this.raise(Q.UnexpectedTypeParameterBeforeAsyncArrowFunction,u),c.node;p=c.node}if((a=o)!=null&&a.node)return this.state=o.failState,o.node;if(p)return this.state=c.failState,p;throw(l=o)!=null&&l.thrown?o.error:c.thrown?c.error:this.raise(Q.UnexpectedTokenAfterTypeParameter,u)}return super.parseMaybeAssign(t,i)}parseArrow(t){if(this.match(14)){let i=this.tryParse(()=>{let n=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;let s=this.startNode();return[s.typeAnnotation,t.predicate]=this.flowParseTypeAndPredicateInitialiser(),this.state.noAnonFunctionType=n,this.canInsertSemicolon()&&this.unexpected(),this.match(19)||this.unexpected(),s});if(i.thrown)return null;i.error&&(this.state=i.failState),t.returnType=i.node.typeAnnotation?this.finishNode(i.node,"TypeAnnotation"):null}return super.parseArrow(t)}shouldParseArrow(t){return this.match(14)||super.shouldParseArrow(t)}setArrowFunctionParameters(t,i){this.state.noArrowParamsConversionAt.includes(t.start)?t.params=i:super.setArrowFunctionParameters(t,i)}checkParams(t,i,n,s=!0){if(!(n&&this.state.noArrowParamsConversionAt.includes(t.start))){for(let o=0;o<t.params.length;o++)this.isThisParam(t.params[o])&&o>0&&this.raise(Q.ThisParamMustBeFirst,t.params[o]);super.checkParams(t,i,n,s)}}parseParenAndDistinguishExpression(t){return super.parseParenAndDistinguishExpression(t&&!this.state.noArrowAt.includes(this.state.start))}parseSubscripts(t,i,n){if(t.type==="Identifier"&&t.name==="async"&&this.state.noArrowAt.includes(i.index)){this.next();let s=this.startNodeAt(i);s.callee=t,s.arguments=super.parseCallExpressionArguments(11,!1),t=this.finishNode(s,"CallExpression")}else if(t.type==="Identifier"&&t.name==="async"&&this.match(47)){let s=this.state.clone(),o=this.tryParse(l=>this.parseAsyncArrowWithTypeParameters(i)||l(),s);if(!o.error&&!o.aborted)return o.node;let a=this.tryParse(()=>super.parseSubscripts(t,i,n),s);if(a.node&&!a.error)return a.node;if(o.node)return this.state=o.failState,o.node;if(a.node)return this.state=a.failState,a.node;throw o.error||a.error}return super.parseSubscripts(t,i,n)}parseSubscript(t,i,n,s){if(this.match(18)&&this.isLookaheadToken_lt()){if(s.optionalChainMember=!0,n)return s.stop=!0,t;this.next();let o=this.startNodeAt(i);return o.callee=t,o.typeArguments=this.flowParseTypeParameterInstantiation(),this.expect(10),o.arguments=this.parseCallExpressionArguments(11,!1),o.optional=!0,this.finishCallExpression(o,!0)}else if(!n&&this.shouldParseTypes()&&this.match(47)){let o=this.startNodeAt(i);o.callee=t;let a=this.tryParse(()=>(o.typeArguments=this.flowParseTypeParameterInstantiationCallOrNew(),this.expect(10),o.arguments=super.parseCallExpressionArguments(11,!1),s.optionalChainMember&&(o.optional=!1),this.finishCallExpression(o,s.optionalChainMember)));if(a.node)return a.error&&(this.state=a.failState),a.node}return super.parseSubscript(t,i,n,s)}parseNewCallee(t){super.parseNewCallee(t);let i=null;this.shouldParseTypes()&&this.match(47)&&(i=this.tryParse(()=>this.flowParseTypeParameterInstantiationCallOrNew()).node),t.typeArguments=i}parseAsyncArrowWithTypeParameters(t){let i=this.startNodeAt(t);if(this.parseFunctionParams(i,!1),!!this.parseArrow(i))return super.parseArrowExpression(i,void 0,!0)}readToken_mult_modulo(t){let i=this.input.charCodeAt(this.state.pos+1);if(t===42&&i===47&&this.state.hasFlowComment){this.state.hasFlowComment=!1,this.state.pos+=2,this.nextToken();return}super.readToken_mult_modulo(t)}readToken_pipe_amp(t){let i=this.input.charCodeAt(this.state.pos+1);if(t===124&&i===125){this.finishOp(9,2);return}super.readToken_pipe_amp(t)}parseTopLevel(t,i){let n=super.parseTopLevel(t,i);return this.state.hasFlowComment&&this.raise(Q.UnterminatedFlowComment,this.state.curPosition()),n}skipBlockComment(){if(this.hasPlugin("flowComments")&&this.skipFlowComment()){if(this.state.hasFlowComment)throw this.raise(Q.NestedFlowComment,this.state.startLoc);this.hasFlowCommentCompletion();let t=this.skipFlowComment();t&&(this.state.pos+=t,this.state.hasFlowComment=!0);return}return super.skipBlockComment(this.state.hasFlowComment?"*-/":"*/")}skipFlowComment(){let{pos:t}=this.state,i=2;for(;[32,9].includes(this.input.charCodeAt(t+i));)i++;let n=this.input.charCodeAt(i+t),s=this.input.charCodeAt(i+t+1);return n===58&&s===58?i+2:this.input.slice(i+t,i+t+12)==="flow-include"?i+12:n===58&&s!==58?i:!1}hasFlowCommentCompletion(){if(this.input.indexOf("*/",this.state.pos)===-1)throw this.raise(S.UnterminatedComment,this.state.curPosition())}flowEnumErrorBooleanMemberNotInitialized(t,{enumName:i,memberName:n}){this.raise(Q.EnumBooleanMemberNotInitialized,t,{memberName:n,enumName:i})}flowEnumErrorInvalidMemberInitializer(t,i){return this.raise(i.explicitType?i.explicitType==="symbol"?Q.EnumInvalidMemberInitializerSymbolType:Q.EnumInvalidMemberInitializerPrimaryType:Q.EnumInvalidMemberInitializerUnknownType,t,i)}flowEnumErrorNumberMemberNotInitialized(t,i){this.raise(Q.EnumNumberMemberNotInitialized,t,i)}flowEnumErrorStringMemberInconsistentlyInitialized(t,i){this.raise(Q.EnumStringMemberInconsistentlyInitialized,t,i)}flowEnumMemberInit(){let t=this.state.startLoc,i=()=>this.match(12)||this.match(8);switch(this.state.type){case 134:{let n=this.parseNumericLiteral(this.state.value);return i()?{type:"number",loc:n.loc.start,value:n}:{type:"invalid",loc:t}}case 133:{let n=this.parseStringLiteral(this.state.value);return i()?{type:"string",loc:n.loc.start,value:n}:{type:"invalid",loc:t}}case 85:case 86:{let n=this.parseBooleanLiteral(this.match(85));return i()?{type:"boolean",loc:n.loc.start,value:n}:{type:"invalid",loc:t}}default:return{type:"invalid",loc:t}}}flowEnumMemberRaw(){let t=this.state.startLoc,i=this.parseIdentifier(!0),n=this.eat(29)?this.flowEnumMemberInit():{type:"none",loc:t};return{id:i,init:n}}flowEnumCheckExplicitTypeMismatch(t,i,n){let{explicitType:s}=i;s!==null&&s!==n&&this.flowEnumErrorInvalidMemberInitializer(t,i)}flowEnumMembers({enumName:t,explicitType:i}){let n=new Set,s={booleanMembers:[],numberMembers:[],stringMembers:[],defaultedMembers:[]},o=!1;for(;!this.match(8);){if(this.eat(21)){o=!0;break}let a=this.startNode(),{id:l,init:u}=this.flowEnumMemberRaw(),c=l.name;if(c==="")continue;/^[a-z]/.test(c)&&this.raise(Q.EnumInvalidMemberName,l,{memberName:c,suggestion:c[0].toUpperCase()+c.slice(1),enumName:t}),n.has(c)&&this.raise(Q.EnumDuplicateMemberName,l,{memberName:c,enumName:t}),n.add(c);let p={enumName:t,explicitType:i,memberName:c};switch(a.id=l,u.type){case"boolean":{this.flowEnumCheckExplicitTypeMismatch(u.loc,p,"boolean"),a.init=u.value,s.booleanMembers.push(this.finishNode(a,"EnumBooleanMember"));break}case"number":{this.flowEnumCheckExplicitTypeMismatch(u.loc,p,"number"),a.init=u.value,s.numberMembers.push(this.finishNode(a,"EnumNumberMember"));break}case"string":{this.flowEnumCheckExplicitTypeMismatch(u.loc,p,"string"),a.init=u.value,s.stringMembers.push(this.finishNode(a,"EnumStringMember"));break}case"invalid":throw this.flowEnumErrorInvalidMemberInitializer(u.loc,p);case"none":switch(i){case"boolean":this.flowEnumErrorBooleanMemberNotInitialized(u.loc,p);break;case"number":this.flowEnumErrorNumberMemberNotInitialized(u.loc,p);break;default:s.defaultedMembers.push(this.finishNode(a,"EnumDefaultedMember"))}}this.match(8)||this.expect(12)}return{members:s,hasUnknownMembers:o}}flowEnumStringMembers(t,i,{enumName:n}){if(t.length===0)return i;if(i.length===0)return t;if(i.length>t.length){for(let s of t)this.flowEnumErrorStringMemberInconsistentlyInitialized(s,{enumName:n});return i}else{for(let s of i)this.flowEnumErrorStringMemberInconsistentlyInitialized(s,{enumName:n});return t}}flowEnumParseExplicitType({enumName:t}){if(!this.eatContextual(102))return null;if(!we(this.state.type))throw this.raise(Q.EnumInvalidExplicitTypeUnknownSupplied,this.state.startLoc,{enumName:t});let{value:i}=this.state;return this.next(),i!=="boolean"&&i!=="number"&&i!=="string"&&i!=="symbol"&&this.raise(Q.EnumInvalidExplicitType,this.state.startLoc,{enumName:t,invalidEnumType:i}),i}flowEnumBody(t,i){let n=i.name,s=i.loc.start,o=this.flowEnumParseExplicitType({enumName:n});this.expect(5);let{members:a,hasUnknownMembers:l}=this.flowEnumMembers({enumName:n,explicitType:o});switch(t.hasUnknownMembers=l,o){case"boolean":return t.explicitType=!0,t.members=a.booleanMembers,this.expect(8),this.finishNode(t,"EnumBooleanBody");case"number":return t.explicitType=!0,t.members=a.numberMembers,this.expect(8),this.finishNode(t,"EnumNumberBody");case"string":return t.explicitType=!0,t.members=this.flowEnumStringMembers(a.stringMembers,a.defaultedMembers,{enumName:n}),this.expect(8),this.finishNode(t,"EnumStringBody");case"symbol":return t.members=a.defaultedMembers,this.expect(8),this.finishNode(t,"EnumSymbolBody");default:{let u=()=>(t.members=[],this.expect(8),this.finishNode(t,"EnumStringBody"));t.explicitType=!1;let c=a.booleanMembers.length,p=a.numberMembers.length,d=a.stringMembers.length,h=a.defaultedMembers.length;if(!c&&!p&&!d&&!h)return u();if(!c&&!p)return t.members=this.flowEnumStringMembers(a.stringMembers,a.defaultedMembers,{enumName:n}),this.expect(8),this.finishNode(t,"EnumStringBody");if(!p&&!d&&c>=h){for(let f of a.defaultedMembers)this.flowEnumErrorBooleanMemberNotInitialized(f.loc.start,{enumName:n,memberName:f.id.name});return t.members=a.booleanMembers,this.expect(8),this.finishNode(t,"EnumBooleanBody")}else if(!c&&!d&&p>=h){for(let f of a.defaultedMembers)this.flowEnumErrorNumberMemberNotInitialized(f.loc.start,{enumName:n,memberName:f.id.name});return t.members=a.numberMembers,this.expect(8),this.finishNode(t,"EnumNumberBody")}else return this.raise(Q.EnumInconsistentMemberValues,s,{enumName:n}),u()}}}flowParseEnumDeclaration(t){let i=this.parseIdentifier();return t.id=i,t.body=this.flowEnumBody(this.startNode(),i),this.finishNode(t,"EnumDeclaration")}isLookaheadToken_lt(){let t=this.nextTokenStart();if(this.input.charCodeAt(t)===60){let i=this.input.charCodeAt(t+1);return i!==60&&i!==61}return!1}maybeUnwrapTypeCastExpression(t){return t.type==="TypeCastExpression"?t.expression:t}},pB={__proto__:null,quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",lang:"\u2329",rang:"\u232A",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"},Gn=Wi`jsx`({AttributeIsEmpty:"JSX attributes must only be assigned a non-empty expression.",MissingClosingTagElement:({openingTagName:e})=>`Expected corresponding JSX closing tag for <${e}>.`,MissingClosingTagFragment:"Expected corresponding JSX closing tag for <>.",UnexpectedSequenceExpression:"Sequence expressions cannot be directly nested inside JSX. Did you mean to wrap it in parentheses (...)?",UnexpectedToken:({unexpected:e,HTMLEntity:r})=>`Unexpected token \`${e}\`. Did you mean \`${r}\` or \`{'${e}'}\`?`,UnsupportedJsxValue:"JSX value should be either an expression or a quoted JSX text.",UnterminatedJsxContent:"Unterminated JSX contents.",UnwrappedAdjacentJSXElements:"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"});function bn(e){return e?e.type==="JSXOpeningFragment"||e.type==="JSXClosingFragment":!1}function Ls(e){if(e.type==="JSXIdentifier")return e.name;if(e.type==="JSXNamespacedName")return e.namespace.name+":"+e.name.name;if(e.type==="JSXMemberExpression")return Ls(e.object)+"."+Ls(e.property);throw new Error("Node had unexpected type: "+e.type)}var dB=e=>class extends e{jsxReadToken(){let t="",i=this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(Gn.UnterminatedJsxContent,this.state.startLoc);let n=this.input.charCodeAt(this.state.pos);switch(n){case 60:case 123:if(this.state.pos===this.state.start){n===60&&this.state.canStartJSXElement?(++this.state.pos,this.finishToken(142)):super.getTokenFromCode(n);return}t+=this.input.slice(i,this.state.pos),this.finishToken(141,t);return;case 38:t+=this.input.slice(i,this.state.pos),t+=this.jsxReadEntity(),i=this.state.pos;break;case 62:case 125:default:Bs(n)?(t+=this.input.slice(i,this.state.pos),t+=this.jsxReadNewLine(!0),i=this.state.pos):++this.state.pos}}}jsxReadNewLine(t){let i=this.input.charCodeAt(this.state.pos),n;return++this.state.pos,i===13&&this.input.charCodeAt(this.state.pos)===10?(++this.state.pos,n=t?`
`:`\r
`):n=String.fromCharCode(i),++this.state.curLine,this.state.lineStart=this.state.pos,n}jsxReadString(t){let i="",n=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(S.UnterminatedString,this.state.startLoc);let s=this.input.charCodeAt(this.state.pos);if(s===t)break;s===38?(i+=this.input.slice(n,this.state.pos),i+=this.jsxReadEntity(),n=this.state.pos):Bs(s)?(i+=this.input.slice(n,this.state.pos),i+=this.jsxReadNewLine(!1),n=this.state.pos):++this.state.pos}i+=this.input.slice(n,this.state.pos++),this.finishToken(133,i)}jsxReadEntity(){let t=++this.state.pos;if(this.codePointAtPos(this.state.pos)===35){++this.state.pos;let i=10;this.codePointAtPos(this.state.pos)===120&&(i=16,++this.state.pos);let n=this.readInt(i,void 0,!1,"bail");if(n!==null&&this.codePointAtPos(this.state.pos)===59)return++this.state.pos,String.fromCodePoint(n)}else{let i=0,n=!1;for(;i++<10&&this.state.pos<this.length&&!(n=this.codePointAtPos(this.state.pos)===59);)++this.state.pos;if(n){let s=this.input.slice(t,this.state.pos),o=pB[s];if(++this.state.pos,o)return o}}return this.state.pos=t,"&"}jsxReadWord(){let t,i=this.state.pos;do t=this.input.charCodeAt(++this.state.pos);while(Ms(t)||t===45);this.finishToken(140,this.input.slice(i,this.state.pos))}jsxParseIdentifier(){let t=this.startNode();return this.match(140)?t.name=this.state.value:gh(this.state.type)?t.name=Dn(this.state.type):this.unexpected(),this.next(),this.finishNode(t,"JSXIdentifier")}jsxParseNamespacedName(){let t=this.state.startLoc,i=this.jsxParseIdentifier();if(!this.eat(14))return i;let n=this.startNodeAt(t);return n.namespace=i,n.name=this.jsxParseIdentifier(),this.finishNode(n,"JSXNamespacedName")}jsxParseElementName(){let t=this.state.startLoc,i=this.jsxParseNamespacedName();if(i.type==="JSXNamespacedName")return i;for(;this.eat(16);){let n=this.startNodeAt(t);n.object=i,n.property=this.jsxParseIdentifier(),i=this.finishNode(n,"JSXMemberExpression")}return i}jsxParseAttributeValue(){let t;switch(this.state.type){case 5:return t=this.startNode(),this.setContext(Le.brace),this.next(),t=this.jsxParseExpressionContainer(t,Le.j_oTag),t.expression.type==="JSXEmptyExpression"&&this.raise(Gn.AttributeIsEmpty,t),t;case 142:case 133:return this.parseExprAtom();default:throw this.raise(Gn.UnsupportedJsxValue,this.state.startLoc)}}jsxParseEmptyExpression(){let t=this.startNodeAt(this.state.lastTokEndLoc);return this.finishNodeAt(t,"JSXEmptyExpression",this.state.startLoc)}jsxParseSpreadChild(t){return this.next(),t.expression=this.parseExpression(),this.setContext(Le.j_expr),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(t,"JSXSpreadChild")}jsxParseExpressionContainer(t,i){if(this.match(8))t.expression=this.jsxParseEmptyExpression();else{let n=this.parseExpression();t.expression=n}return this.setContext(i),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(t,"JSXExpressionContainer")}jsxParseAttribute(){let t=this.startNode();return this.match(5)?(this.setContext(Le.brace),this.next(),this.expect(21),t.argument=this.parseMaybeAssignAllowIn(),this.setContext(Le.j_oTag),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(t,"JSXSpreadAttribute")):(t.name=this.jsxParseNamespacedName(),t.value=this.eat(29)?this.jsxParseAttributeValue():null,this.finishNode(t,"JSXAttribute"))}jsxParseOpeningElementAt(t){let i=this.startNodeAt(t);return this.eat(143)?this.finishNode(i,"JSXOpeningFragment"):(i.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(i))}jsxParseOpeningElementAfterName(t){let i=[];for(;!this.match(56)&&!this.match(143);)i.push(this.jsxParseAttribute());return t.attributes=i,t.selfClosing=this.eat(56),this.expect(143),this.finishNode(t,"JSXOpeningElement")}jsxParseClosingElementAt(t){let i=this.startNodeAt(t);return this.eat(143)?this.finishNode(i,"JSXClosingFragment"):(i.name=this.jsxParseElementName(),this.expect(143),this.finishNode(i,"JSXClosingElement"))}jsxParseElementAt(t){let i=this.startNodeAt(t),n=[],s=this.jsxParseOpeningElementAt(t),o=null;if(!s.selfClosing){e:for(;;)switch(this.state.type){case 142:if(t=this.state.startLoc,this.next(),this.eat(56)){o=this.jsxParseClosingElementAt(t);break e}n.push(this.jsxParseElementAt(t));break;case 141:n.push(this.parseLiteral(this.state.value,"JSXText"));break;case 5:{let a=this.startNode();this.setContext(Le.brace),this.next(),this.match(21)?n.push(this.jsxParseSpreadChild(a)):n.push(this.jsxParseExpressionContainer(a,Le.j_expr));break}default:this.unexpected()}bn(s)&&!bn(o)&&o!==null?this.raise(Gn.MissingClosingTagFragment,o):!bn(s)&&bn(o)?this.raise(Gn.MissingClosingTagElement,o,{openingTagName:Ls(s.name)}):!bn(s)&&!bn(o)&&Ls(o.name)!==Ls(s.name)&&this.raise(Gn.MissingClosingTagElement,o,{openingTagName:Ls(s.name)})}if(bn(s)?(i.openingFragment=s,i.closingFragment=o):(i.openingElement=s,i.closingElement=o),i.children=n,this.match(47))throw this.raise(Gn.UnwrappedAdjacentJSXElements,this.state.startLoc);return bn(s)?this.finishNode(i,"JSXFragment"):this.finishNode(i,"JSXElement")}jsxParseElement(){let t=this.state.startLoc;return this.next(),this.jsxParseElementAt(t)}setContext(t){let{context:i}=this.state;i[i.length-1]=t}parseExprAtom(t){return this.match(142)?this.jsxParseElement():this.match(47)&&this.input.charCodeAt(this.state.pos)!==33?(this.replaceToken(142),this.jsxParseElement()):super.parseExprAtom(t)}skipSpace(){this.curContext().preserveSpace||super.skipSpace()}getTokenFromCode(t){let i=this.curContext();if(i===Le.j_expr){this.jsxReadToken();return}if(i===Le.j_oTag||i===Le.j_cTag){if(zi(t)){this.jsxReadWord();return}if(t===62){++this.state.pos,this.finishToken(143);return}if((t===34||t===39)&&i===Le.j_oTag){this.jsxReadString(t);return}}if(t===60&&this.state.canStartJSXElement&&this.input.charCodeAt(this.state.pos+1)!==33){++this.state.pos,this.finishToken(142);return}super.getTokenFromCode(t)}updateContext(t){let{context:i,type:n}=this.state;if(n===56&&t===142)i.splice(-2,2,Le.j_cTag),this.state.canStartJSXElement=!1;else if(n===142)i.push(Le.j_oTag);else if(n===143){let s=i[i.length-1];s===Le.j_oTag&&t===56||s===Le.j_cTag?(i.pop(),this.state.canStartJSXElement=i[i.length-1]===Le.j_expr):(this.setContext(Le.j_expr),this.state.canStartJSXElement=!0)}else this.state.canStartJSXElement=PM(n)}},sh=class extends ga{constructor(...r){super(...r),this.tsNames=new Map}},oh=class extends ya{constructor(...r){super(...r),this.importsStack=[]}createScope(r){return this.importsStack.push(new Set),new sh(r)}enter(r){r===256&&this.importsStack.push(new Set),super.enter(r)}exit(){let r=super.exit();return r===256&&this.importsStack.pop(),r}hasImport(r,t){let i=this.importsStack.length;if(this.importsStack[i-1].has(r))return!0;if(!t&&i>1){for(let n=0;n<i-1;n++)if(this.importsStack[n].has(r))return!0}return!1}declareName(r,t,i){if(t&4096){this.hasImport(r,!0)&&this.parser.raise(S.VarRedeclaration,i,{identifierName:r}),this.importsStack[this.importsStack.length-1].add(r);return}let n=this.currentScope(),s=n.tsNames.get(r)||0;if(t&1024){this.maybeExportDefined(n,r),n.tsNames.set(r,s|16);return}super.declareName(r,t,i),t&2&&(t&1||(this.checkRedeclarationInScope(n,r,t,i),this.maybeExportDefined(n,r)),s=s|1),t&256&&(s=s|2),t&512&&(s=s|4),t&128&&(s=s|8),s&&n.tsNames.set(r,s)}isRedeclaredInScope(r,t,i){let n=r.tsNames.get(t);if((n&2)>0){if(i&256){let s=!!(i&512),o=(n&4)>0;return s!==o}return!0}return i&128&&(n&8)>0?r.names.get(t)&2?!!(i&1):!1:i&2&&(n&1)>0?!0:super.isRedeclaredInScope(r,t,i)}checkLocalExport(r){let{name:t}=r;if(this.hasImport(t))return;let i=this.scopeStack.length;for(let n=i-1;n>=0;n--){let o=this.scopeStack[n].tsNames.get(t);if((o&1)>0||(o&16)>0)return}super.checkLocalExport(r)}},zv=e=>e.type==="ParenthesizedExpression"?zv(e.expression):e,ah=class extends nh{toAssignable(r,t=!1){var i,n;let s;switch((r.type==="ParenthesizedExpression"||(i=r.extra)!=null&&i.parenthesized)&&(s=zv(r),t?s.type==="Identifier"?this.expressionScope.recordArrowParameterBindingError(S.InvalidParenthesizedAssignment,r):s.type!=="MemberExpression"&&!this.isOptionalMemberExpression(s)&&this.raise(S.InvalidParenthesizedAssignment,r):this.raise(S.InvalidParenthesizedAssignment,r)),r.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":r.type="ObjectPattern";for(let a=0,l=r.properties.length,u=l-1;a<l;a++){var o;let c=r.properties[a],p=a===u;this.toAssignableObjectExpressionProp(c,p,t),p&&c.type==="RestElement"&&(o=r.extra)!=null&&o.trailingCommaLoc&&this.raise(S.RestTrailingComma,r.extra.trailingCommaLoc)}break;case"ObjectProperty":{let{key:a,value:l}=r;this.isPrivateName(a)&&this.classScope.usePrivateName(this.getPrivateNameSV(a),a.loc.start),this.toAssignable(l,t);break}case"SpreadElement":throw new Error("Internal @babel/parser error (this is a bug, please report it). SpreadElement should be converted by .toAssignable's caller.");case"ArrayExpression":r.type="ArrayPattern",this.toAssignableList(r.elements,(n=r.extra)==null?void 0:n.trailingCommaLoc,t);break;case"AssignmentExpression":r.operator!=="="&&this.raise(S.MissingEqInAssignment,r.left.loc.end),r.type="AssignmentPattern",delete r.operator,this.toAssignable(r.left,t);break;case"ParenthesizedExpression":this.toAssignable(s,t);break}}toAssignableObjectExpressionProp(r,t,i){if(r.type==="ObjectMethod")this.raise(r.kind==="get"||r.kind==="set"?S.PatternHasAccessor:S.PatternHasMethod,r.key);else if(r.type==="SpreadElement"){r.type="RestElement";let n=r.argument;this.checkToRestConversion(n,!1),this.toAssignable(n,i),t||this.raise(S.RestTrailingComma,r)}else this.toAssignable(r,i)}toAssignableList(r,t,i){let n=r.length-1;for(let s=0;s<=n;s++){let o=r[s];if(o){if(o.type==="SpreadElement"){o.type="RestElement";let a=o.argument;this.checkToRestConversion(a,!0),this.toAssignable(a,i)}else this.toAssignable(o,i);o.type==="RestElement"&&(s<n?this.raise(S.RestTrailingComma,o):t&&this.raise(S.RestTrailingComma,t))}}}isAssignable(r,t){switch(r.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":return!0;case"ObjectExpression":{let i=r.properties.length-1;return r.properties.every((n,s)=>n.type!=="ObjectMethod"&&(s===i||n.type!=="SpreadElement")&&this.isAssignable(n))}case"ObjectProperty":return this.isAssignable(r.value);case"SpreadElement":return this.isAssignable(r.argument);case"ArrayExpression":return r.elements.every(i=>i===null||this.isAssignable(i));case"AssignmentExpression":return r.operator==="=";case"ParenthesizedExpression":return this.isAssignable(r.expression);case"MemberExpression":case"OptionalMemberExpression":return!t;default:return!1}}toReferencedList(r,t){return r}toReferencedListDeep(r,t){this.toReferencedList(r,t);for(let i of r)i?.type==="ArrayExpression"&&this.toReferencedListDeep(i.elements)}parseSpread(r){let t=this.startNode();return this.next(),t.argument=this.parseMaybeAssignAllowIn(r,void 0),this.finishNode(t,"SpreadElement")}parseRestBinding(){let r=this.startNode();return this.next(),r.argument=this.parseBindingAtom(),this.finishNode(r,"RestElement")}parseBindingAtom(){switch(this.state.type){case 0:{let r=this.startNode();return this.next(),r.elements=this.parseBindingList(3,93,1),this.finishNode(r,"ArrayPattern")}case 5:return this.parseObjectLike(8,!0)}return this.parseIdentifier()}parseBindingList(r,t,i){let n=i&1,s=[],o=!0;for(;!this.eat(r);)if(o?o=!1:this.expect(12),n&&this.match(12))s.push(null);else{if(this.eat(r))break;if(this.match(21)){let a=this.parseRestBinding();if((this.hasPlugin("flow")||i&2)&&(a=this.parseFunctionParamType(a)),s.push(a),!this.checkCommaAfterRest(t)){this.expect(r);break}}else{let a=[];for(this.match(26)&&this.hasPlugin("decorators")&&this.raise(S.UnsupportedParameterDecorator,this.state.startLoc);this.match(26);)a.push(this.parseDecorator());s.push(this.parseAssignableListItem(i,a))}}return s}parseBindingRestProperty(r){return this.next(),r.argument=this.parseIdentifier(),this.checkCommaAfterRest(125),this.finishNode(r,"RestElement")}parseBindingProperty(){let{type:r,startLoc:t}=this.state;if(r===21)return this.parseBindingRestProperty(this.startNode());let i=this.startNode();return r===138?(this.expectPlugin("destructuringPrivate",t),this.classScope.usePrivateName(this.state.value,t),i.key=this.parsePrivateName()):this.parsePropertyName(i),i.method=!1,this.parseObjPropValue(i,t,!1,!1,!0,!1)}parseAssignableListItem(r,t){let i=this.parseMaybeDefault();(this.hasPlugin("flow")||r&2)&&this.parseFunctionParamType(i);let n=this.parseMaybeDefault(i.loc.start,i);return t.length&&(i.decorators=t),n}parseFunctionParamType(r){return r}parseMaybeDefault(r,t){var i,n;if((i=r)!=null||(r=this.state.startLoc),t=(n=t)!=null?n:this.parseBindingAtom(),!this.eat(29))return t;let s=this.startNodeAt(r);return s.left=t,s.right=this.parseMaybeAssignAllowIn(),this.finishNode(s,"AssignmentPattern")}isValidLVal(r,t,i){switch(r){case"AssignmentPattern":return"left";case"RestElement":return"argument";case"ObjectProperty":return"value";case"ParenthesizedExpression":return"expression";case"ArrayPattern":return"elements";case"ObjectPattern":return"properties"}return!1}isOptionalMemberExpression(r){return r.type==="OptionalMemberExpression"}checkLVal(r,t,i=64,n=!1,s=!1,o=!1){var a;let l=r.type;if(this.isObjectMethod(r))return;let u=this.isOptionalMemberExpression(r);if(u||l==="MemberExpression"){u&&(this.expectPlugin("optionalChainingAssign",r.loc.start),t.type!=="AssignmentExpression"&&this.raise(S.InvalidLhsOptionalChaining,r,{ancestor:t})),i!==64&&this.raise(S.InvalidPropertyBindingPattern,r);return}if(l==="Identifier"){this.checkIdentifier(r,i,s);let{name:g}=r;n&&(n.has(g)?this.raise(S.ParamDupe,r):n.add(g));return}let c=this.isValidLVal(l,!(o||(a=r.extra)!=null&&a.parenthesized)&&t.type==="AssignmentExpression",i);if(c===!0)return;if(c===!1){let g=i===64?S.InvalidLhs:S.InvalidLhsBinding;this.raise(g,r,{ancestor:t});return}let p,d;typeof c=="string"?(p=c,d=l==="ParenthesizedExpression"):[p,d]=c;let h=l==="ArrayPattern"||l==="ObjectPattern"?{type:l}:t,f=r[p];if(Array.isArray(f))for(let g of f)g&&this.checkLVal(g,h,i,n,s,d);else f&&this.checkLVal(f,h,i,n,s,d)}checkIdentifier(r,t,i=!1){this.state.strict&&(i?Uv(r.name,this.inModule):$v(r.name))&&(t===64?this.raise(S.StrictEvalArguments,r,{referenceName:r.name}):this.raise(S.StrictEvalArgumentsBinding,r,{bindingName:r.name})),t&8192&&r.name==="let"&&this.raise(S.LetInLexicalBinding,r),t&64||this.declareNameFromIdentifier(r,t)}declareNameFromIdentifier(r,t){this.scope.declareName(r.name,t,r.loc.start)}checkToRestConversion(r,t){switch(r.type){case"ParenthesizedExpression":this.checkToRestConversion(r.expression,t);break;case"Identifier":case"MemberExpression":break;case"ArrayExpression":case"ObjectExpression":if(t)break;default:this.raise(S.InvalidRestAssignmentPattern,r)}}checkCommaAfterRest(r){return this.match(12)?(this.raise(this.lookaheadCharCode()===r?S.RestTrailingComma:S.ElementAfterRest,this.state.startLoc),!0):!1}};function fB(e){if(e==null)throw new Error(`Unexpected ${e} value.`);return e}function Pv(e){if(!e)throw new Error("Assert fail")}var W=Wi`typescript`({AbstractMethodHasImplementation:({methodName:e})=>`Method '${e}' cannot have an implementation because it is marked abstract.`,AbstractPropertyHasInitializer:({propertyName:e})=>`Property '${e}' cannot have an initializer because it is marked abstract.`,AccessorCannotBeOptional:"An 'accessor' property cannot be declared optional.",AccessorCannotDeclareThisParameter:"'get' and 'set' accessors cannot declare 'this' parameters.",AccessorCannotHaveTypeParameters:"An accessor cannot have type parameters.",ClassMethodHasDeclare:"Class methods cannot have the 'declare' modifier.",ClassMethodHasReadonly:"Class methods cannot have the 'readonly' modifier.",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"A 'const' initializer in an ambient context must be a string or numeric literal or literal enum reference.",ConstructorHasTypeParameters:"Type parameters cannot appear on a constructor declaration.",DeclareAccessor:({kind:e})=>`'declare' is not allowed in ${e}ters.`,DeclareClassFieldHasInitializer:"Initializers are not allowed in ambient contexts.",DeclareFunctionHasImplementation:"An implementation cannot be declared in ambient contexts.",DuplicateAccessibilityModifier:({modifier:e})=>"Accessibility modifier already seen.",DuplicateModifier:({modifier:e})=>`Duplicate modifier: '${e}'.`,EmptyHeritageClauseType:({token:e})=>`'${e}' list cannot be empty.`,EmptyTypeArguments:"Type argument list cannot be empty.",EmptyTypeParameters:"Type parameter list cannot be empty.",ExpectedAmbientAfterExportDeclare:"'export declare' must be followed by an ambient declaration.",ImportAliasHasImportType:"An import alias can not use 'import type'.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` modifier",IncompatibleModifiers:({modifiers:e})=>`'${e[0]}' modifier cannot be used with '${e[1]}' modifier.`,IndexSignatureHasAbstract:"Index signatures cannot have the 'abstract' modifier.",IndexSignatureHasAccessibility:({modifier:e})=>`Index signatures cannot have an accessibility modifier ('${e}').`,IndexSignatureHasDeclare:"Index signatures cannot have the 'declare' modifier.",IndexSignatureHasOverride:"'override' modifier cannot appear on an index signature.",IndexSignatureHasStatic:"Index signatures cannot have the 'static' modifier.",InitializerNotAllowedInAmbientContext:"Initializers are not allowed in ambient contexts.",InvalidModifierOnTypeMember:({modifier:e})=>`'${e}' modifier cannot appear on a type member.`,InvalidModifierOnTypeParameter:({modifier:e})=>`'${e}' modifier cannot appear on a type parameter.`,InvalidModifierOnTypeParameterPositions:({modifier:e})=>`'${e}' modifier can only appear on a type parameter of a class, interface or type alias.`,InvalidModifiersOrder:({orderedModifiers:e})=>`'${e[0]}' modifier must precede '${e[1]}' modifier.`,InvalidPropertyAccessAfterInstantiationExpression:"Invalid property access after an instantiation expression. You can either wrap the instantiation expression in parentheses, or delete the type arguments.",InvalidTupleMemberLabel:"Tuple members must be labeled with a simple identifier.",MissingInterfaceName:"'interface' declarations must be followed by an identifier.",NonAbstractClassHasAbstractMethod:"Abstract methods can only appear within an abstract class.",NonClassMethodPropertyHasAbstractModifer:"'abstract' modifier can only appear on a class, method, or property declaration.",OptionalTypeBeforeRequired:"A required element cannot follow an optional element.",OverrideNotInSubClass:"This member cannot have an 'override' modifier because its containing class does not extend another class.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",PrivateElementHasAbstract:"Private elements cannot have the 'abstract' modifier.",PrivateElementHasAccessibility:({modifier:e})=>`Private elements cannot have an accessibility modifier ('${e}').`,ReadonlyForMethodSignature:"'readonly' modifier can only appear on a property declaration or index signature.",ReservedArrowTypeParam:"This syntax is reserved in files with the .mts or .cts extension. Add a trailing comma, as in `<T,>() => ...`.",ReservedTypeAssertion:"This syntax is reserved in files with the .mts or .cts extension. Use an `as` expression instead.",SetAccessorCannotHaveOptionalParameter:"A 'set' accessor cannot have an optional parameter.",SetAccessorCannotHaveRestParameter:"A 'set' accessor cannot have rest parameter.",SetAccessorCannotHaveReturnType:"A 'set' accessor cannot have a return type annotation.",SingleTypeParameterWithoutTrailingComma:({typeParameterName:e})=>`Single type parameter ${e} should have a trailing comma. Example usage: <${e},>.`,StaticBlockCannotHaveModifier:"Static class blocks cannot have any modifier.",TupleOptionalAfterType:"A labeled tuple optional element must be declared using a question mark after the name and before the colon (`name?: type`), rather than after the type (`name: type?`).",TypeAnnotationAfterAssign:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeImportCannotSpecifyDefaultAndNamed:"A type-only import can specify a default import or named bindings, but not both.",TypeModifierIsUsedInTypeExports:"The 'type' modifier cannot be used on a named export when 'export type' is used on its export statement.",TypeModifierIsUsedInTypeImports:"The 'type' modifier cannot be used on a named import when 'import type' is used on its import statement.",UnexpectedParameterModifier:"A parameter property is only allowed in a constructor implementation.",UnexpectedReadonly:"'readonly' type modifier is only permitted on array and tuple literal types.",UnexpectedTypeAnnotation:"Did not expect a type annotation here.",UnexpectedTypeCastInParameter:"Unexpected type cast in parameter position.",UnsupportedImportTypeArgument:"Argument in a type import must be a string literal.",UnsupportedParameterPropertyKind:"A parameter property may not be declared using a binding pattern.",UnsupportedSignatureParameterKind:({type:e})=>`Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got ${e}.`});function hB(e){switch(e){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"bigint":return"TSBigIntKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return}}function Iv(e){return e==="private"||e==="public"||e==="protected"}function mB(e){return e==="in"||e==="out"}var gB=e=>class extends e{constructor(...t){super(...t),this.tsParseInOutModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out"],disallowedModifiers:["const","public","private","protected","readonly","declare","abstract","override"],errorTemplate:W.InvalidModifierOnTypeParameter}),this.tsParseConstModifier=this.tsParseModifiers.bind(this,{allowedModifiers:["const"],disallowedModifiers:["in","out"],errorTemplate:W.InvalidModifierOnTypeParameterPositions}),this.tsParseInOutConstModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out","const"],disallowedModifiers:["public","private","protected","readonly","declare","abstract","override"],errorTemplate:W.InvalidModifierOnTypeParameter})}getScopeHandler(){return oh}tsIsIdentifier(){return we(this.state.type)}tsTokenCanFollowModifier(){return this.match(0)||this.match(5)||this.match(55)||this.match(21)||this.match(138)||this.isLiteralPropertyName()}tsNextTokenOnSameLineAndCanFollowModifier(){return this.next(),this.hasPrecedingLineBreak()?!1:this.tsTokenCanFollowModifier()}tsNextTokenCanFollowModifier(){return this.match(106)?(this.next(),this.tsTokenCanFollowModifier()):this.tsNextTokenOnSameLineAndCanFollowModifier()}tsParseModifier(t,i){if(!we(this.state.type)&&this.state.type!==58&&this.state.type!==75)return;let n=this.state.value;if(t.includes(n)){if(i&&this.tsIsStartOfStaticBlocks())return;if(this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this)))return n}}tsParseModifiers({allowedModifiers:t,disallowedModifiers:i,stopOnStartOfClassStaticBlock:n,errorTemplate:s=W.InvalidModifierOnTypeMember},o){let a=(u,c,p,d)=>{c===p&&o[d]&&this.raise(W.InvalidModifiersOrder,u,{orderedModifiers:[p,d]})},l=(u,c,p,d)=>{(o[p]&&c===d||o[d]&&c===p)&&this.raise(W.IncompatibleModifiers,u,{modifiers:[p,d]})};for(;;){let{startLoc:u}=this.state,c=this.tsParseModifier(t.concat(i??[]),n);if(!c)break;Iv(c)?o.accessibility?this.raise(W.DuplicateAccessibilityModifier,u,{modifier:c}):(a(u,c,c,"override"),a(u,c,c,"static"),a(u,c,c,"readonly"),o.accessibility=c):mB(c)?(o[c]&&this.raise(W.DuplicateModifier,u,{modifier:c}),o[c]=!0,a(u,c,"in","out")):(hasOwnProperty.call(o,c)?this.raise(W.DuplicateModifier,u,{modifier:c}):(a(u,c,"static","readonly"),a(u,c,"static","override"),a(u,c,"override","readonly"),a(u,c,"abstract","override"),l(u,c,"declare","override"),l(u,c,"static","abstract")),o[c]=!0),i!=null&&i.includes(c)&&this.raise(s,u,{modifier:c})}}tsIsListTerminator(t){switch(t){case"EnumMembers":case"TypeMembers":return this.match(8);case"HeritageClauseElement":return this.match(5);case"TupleElementTypes":return this.match(3);case"TypeParametersOrArguments":return this.match(48)}}tsParseList(t,i){let n=[];for(;!this.tsIsListTerminator(t);)n.push(i());return n}tsParseDelimitedList(t,i,n){return fB(this.tsParseDelimitedListWorker(t,i,!0,n))}tsParseDelimitedListWorker(t,i,n,s){let o=[],a=-1;for(;!this.tsIsListTerminator(t);){a=-1;let l=i();if(l==null)return;if(o.push(l),this.eat(12)){a=this.state.lastTokStartLoc.index;continue}if(this.tsIsListTerminator(t))break;n&&this.expect(12);return}return s&&(s.value=a),o}tsParseBracketedList(t,i,n,s,o){s||(n?this.expect(0):this.expect(47));let a=this.tsParseDelimitedList(t,i,o);return n?this.expect(3):this.expect(48),a}tsParseImportType(){let t=this.startNode();return this.expect(83),this.expect(10),this.match(133)||this.raise(W.UnsupportedImportTypeArgument,this.state.startLoc),t.argument=super.parseExprAtom(),(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))&&(t.options=null),this.eat(12)&&(this.hasPlugin("importAssertions")||this.expectPlugin("importAttributes"),this.match(11)||(t.options=super.parseMaybeAssignAllowIn(),this.eat(12))),this.expect(11),this.eat(16)&&(t.qualifier=this.tsParseEntityName()),this.match(47)&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSImportType")}tsParseEntityName(t=!0){let i=this.parseIdentifier(t);for(;this.eat(16);){let n=this.startNodeAtNode(i);n.left=i,n.right=this.parseIdentifier(t),i=this.finishNode(n,"TSQualifiedName")}return i}tsParseTypeReference(){let t=this.startNode();return t.typeName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSTypeReference")}tsParseThisTypePredicate(t){this.next();let i=this.startNodeAtNode(t);return i.parameterName=t,i.typeAnnotation=this.tsParseTypeAnnotation(!1),i.asserts=!1,this.finishNode(i,"TSTypePredicate")}tsParseThisTypeNode(){let t=this.startNode();return this.next(),this.finishNode(t,"TSThisType")}tsParseTypeQuery(){let t=this.startNode();return this.expect(87),this.match(83)?t.exprName=this.tsParseImportType():t.exprName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSTypeQuery")}tsParseTypeParameter(t){let i=this.startNode();return t(i),i.name=this.tsParseTypeParameterName(),i.constraint=this.tsEatThenParseType(81),i.default=this.tsEatThenParseType(29),this.finishNode(i,"TSTypeParameter")}tsTryParseTypeParameters(t){if(this.match(47))return this.tsParseTypeParameters(t)}tsParseTypeParameters(t){let i=this.startNode();this.match(47)||this.match(142)?this.next():this.unexpected();let n={value:-1};return i.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this,t),!1,!0,n),i.params.length===0&&this.raise(W.EmptyTypeParameters,i),n.value!==-1&&this.addExtra(i,"trailingComma",n.value),this.finishNode(i,"TSTypeParameterDeclaration")}tsFillSignature(t,i){let n=t===19,s="parameters",o="typeAnnotation";i.typeParameters=this.tsTryParseTypeParameters(this.tsParseConstModifier),this.expect(10),i[s]=this.tsParseBindingListForSignature(),n?i[o]=this.tsParseTypeOrTypePredicateAnnotation(t):this.match(t)&&(i[o]=this.tsParseTypeOrTypePredicateAnnotation(t))}tsParseBindingListForSignature(){let t=super.parseBindingList(11,41,2);for(let i of t){let{type:n}=i;(n==="AssignmentPattern"||n==="TSParameterProperty")&&this.raise(W.UnsupportedSignatureParameterKind,i,{type:n})}return t}tsParseTypeMemberSemicolon(){!this.eat(12)&&!this.isLineTerminator()&&this.expect(13)}tsParseSignatureMember(t,i){return this.tsFillSignature(14,i),this.tsParseTypeMemberSemicolon(),this.finishNode(i,t)}tsIsUnambiguouslyIndexSignature(){return this.next(),we(this.state.type)?(this.next(),this.match(14)):!1}tsTryParseIndexSignature(t){if(!(this.match(0)&&this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this))))return;this.expect(0);let i=this.parseIdentifier();i.typeAnnotation=this.tsParseTypeAnnotation(),this.resetEndLocation(i),this.expect(3),t.parameters=[i];let n=this.tsTryParseTypeAnnotation();return n&&(t.typeAnnotation=n),this.tsParseTypeMemberSemicolon(),this.finishNode(t,"TSIndexSignature")}tsParsePropertyOrMethodSignature(t,i){this.eat(17)&&(t.optional=!0);let n=t;if(this.match(10)||this.match(47)){i&&this.raise(W.ReadonlyForMethodSignature,t);let s=n;s.kind&&this.match(47)&&this.raise(W.AccessorCannotHaveTypeParameters,this.state.curPosition()),this.tsFillSignature(14,s),this.tsParseTypeMemberSemicolon();let o="parameters",a="typeAnnotation";if(s.kind==="get")s[o].length>0&&(this.raise(S.BadGetterArity,this.state.curPosition()),this.isThisParam(s[o][0])&&this.raise(W.AccessorCannotDeclareThisParameter,this.state.curPosition()));else if(s.kind==="set"){if(s[o].length!==1)this.raise(S.BadSetterArity,this.state.curPosition());else{let l=s[o][0];this.isThisParam(l)&&this.raise(W.AccessorCannotDeclareThisParameter,this.state.curPosition()),l.type==="Identifier"&&l.optional&&this.raise(W.SetAccessorCannotHaveOptionalParameter,this.state.curPosition()),l.type==="RestElement"&&this.raise(W.SetAccessorCannotHaveRestParameter,this.state.curPosition())}s[a]&&this.raise(W.SetAccessorCannotHaveReturnType,s[a])}else s.kind="method";return this.finishNode(s,"TSMethodSignature")}else{let s=n;i&&(s.readonly=!0);let o=this.tsTryParseTypeAnnotation();return o&&(s.typeAnnotation=o),this.tsParseTypeMemberSemicolon(),this.finishNode(s,"TSPropertySignature")}}tsParseTypeMember(){let t=this.startNode();if(this.match(10)||this.match(47))return this.tsParseSignatureMember("TSCallSignatureDeclaration",t);if(this.match(77)){let n=this.startNode();return this.next(),this.match(10)||this.match(47)?this.tsParseSignatureMember("TSConstructSignatureDeclaration",t):(t.key=this.createIdentifier(n,"new"),this.tsParsePropertyOrMethodSignature(t,!1))}this.tsParseModifiers({allowedModifiers:["readonly"],disallowedModifiers:["declare","abstract","private","protected","public","static","override"]},t);let i=this.tsTryParseIndexSignature(t);return i||(super.parsePropertyName(t),!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.tsTokenCanFollowModifier()&&(t.kind=t.key.name,super.parsePropertyName(t)),this.tsParsePropertyOrMethodSignature(t,!!t.readonly))}tsParseTypeLiteral(){let t=this.startNode();return t.members=this.tsParseObjectTypeMembers(),this.finishNode(t,"TSTypeLiteral")}tsParseObjectTypeMembers(){this.expect(5);let t=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(8),t}tsIsStartOfMappedType(){return this.next(),this.eat(53)?this.isContextual(122):(this.isContextual(122)&&this.next(),!this.match(0)||(this.next(),!this.tsIsIdentifier())?!1:(this.next(),this.match(58)))}tsParseMappedType(){let t=this.startNode();this.expect(5),this.match(53)?(t.readonly=this.state.value,this.next(),this.expectContextual(122)):this.eatContextual(122)&&(t.readonly=!0),this.expect(0);{let i=this.startNode();i.name=this.tsParseTypeParameterName(),i.constraint=this.tsExpectThenParseType(58),t.typeParameter=this.finishNode(i,"TSTypeParameter")}return t.nameType=this.eatContextual(93)?this.tsParseType():null,this.expect(3),this.match(53)?(t.optional=this.state.value,this.next(),this.expect(17)):this.eat(17)&&(t.optional=!0),t.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(8),this.finishNode(t,"TSMappedType")}tsParseTupleType(){let t=this.startNode();t.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);let i=!1;return t.elementTypes.forEach(n=>{let{type:s}=n;i&&s!=="TSRestType"&&s!=="TSOptionalType"&&!(s==="TSNamedTupleMember"&&n.optional)&&this.raise(W.OptionalTypeBeforeRequired,n),i||(i=s==="TSNamedTupleMember"&&n.optional||s==="TSOptionalType")}),this.finishNode(t,"TSTupleType")}tsParseTupleElementType(){let{startLoc:t}=this.state,i=this.eat(21),n,s,o,a,u=Br(this.state.type)?this.lookaheadCharCode():null;if(u===58)n=!0,o=!1,s=this.parseIdentifier(!0),this.expect(14),a=this.tsParseType();else if(u===63){o=!0;let c=this.state.startLoc,p=this.state.value,d=this.tsParseNonArrayType();this.lookaheadCharCode()===58?(n=!0,s=this.createIdentifier(this.startNodeAt(c),p),this.expect(17),this.expect(14),a=this.tsParseType()):(n=!1,a=d,this.expect(17))}else a=this.tsParseType(),o=this.eat(17),n=this.eat(14);if(n){let c;s?(c=this.startNodeAtNode(s),c.optional=o,c.label=s,c.elementType=a,this.eat(17)&&(c.optional=!0,this.raise(W.TupleOptionalAfterType,this.state.lastTokStartLoc))):(c=this.startNodeAtNode(a),c.optional=o,this.raise(W.InvalidTupleMemberLabel,a),c.label=a,c.elementType=this.tsParseType()),a=this.finishNode(c,"TSNamedTupleMember")}else if(o){let c=this.startNodeAtNode(a);c.typeAnnotation=a,a=this.finishNode(c,"TSOptionalType")}if(i){let c=this.startNodeAt(t);c.typeAnnotation=a,a=this.finishNode(c,"TSRestType")}return a}tsParseParenthesizedType(){let t=this.startNode();return this.expect(10),t.typeAnnotation=this.tsParseType(),this.expect(11),this.finishNode(t,"TSParenthesizedType")}tsParseFunctionOrConstructorType(t,i){let n=this.startNode();return t==="TSConstructorType"&&(n.abstract=!!i,i&&this.next(),this.next()),this.tsInAllowConditionalTypesContext(()=>this.tsFillSignature(19,n)),this.finishNode(n,t)}tsParseLiteralTypeNode(){let t=this.startNode();switch(this.state.type){case 134:case 135:case 133:case 85:case 86:t.literal=super.parseExprAtom();break;default:this.unexpected()}return this.finishNode(t,"TSLiteralType")}tsParseTemplateLiteralType(){let t=this.startNode();return t.literal=super.parseTemplate(!1),this.finishNode(t,"TSLiteralType")}parseTemplateSubstitution(){return this.state.inType?this.tsParseType():super.parseTemplateSubstitution()}tsParseThisTypeOrThisTypePredicate(){let t=this.tsParseThisTypeNode();return this.isContextual(116)&&!this.hasPrecedingLineBreak()?this.tsParseThisTypePredicate(t):t}tsParseNonArrayType(){switch(this.state.type){case 133:case 134:case 135:case 85:case 86:return this.tsParseLiteralTypeNode();case 53:if(this.state.value==="-"){let t=this.startNode(),i=this.lookahead();return i.type!==134&&i.type!==135&&this.unexpected(),t.literal=this.parseMaybeUnary(),this.finishNode(t,"TSLiteralType")}break;case 78:return this.tsParseThisTypeOrThisTypePredicate();case 87:return this.tsParseTypeQuery();case 83:return this.tsParseImportType();case 5:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case 0:return this.tsParseTupleType();case 10:return this.tsParseParenthesizedType();case 25:case 24:return this.tsParseTemplateLiteralType();default:{let{type:t}=this.state;if(we(t)||t===88||t===84){let i=t===88?"TSVoidKeyword":t===84?"TSNullKeyword":hB(this.state.value);if(i!==void 0&&this.lookaheadCharCode()!==46){let n=this.startNode();return this.next(),this.finishNode(n,i)}return this.tsParseTypeReference()}}}this.unexpected()}tsParseArrayTypeOrHigher(){let t=this.tsParseNonArrayType();for(;!this.hasPrecedingLineBreak()&&this.eat(0);)if(this.match(3)){let i=this.startNodeAtNode(t);i.elementType=t,this.expect(3),t=this.finishNode(i,"TSArrayType")}else{let i=this.startNodeAtNode(t);i.objectType=t,i.indexType=this.tsParseType(),this.expect(3),t=this.finishNode(i,"TSIndexedAccessType")}return t}tsParseTypeOperator(){let t=this.startNode(),i=this.state.value;return this.next(),t.operator=i,t.typeAnnotation=this.tsParseTypeOperatorOrHigher(),i==="readonly"&&this.tsCheckTypeAnnotationForReadOnly(t),this.finishNode(t,"TSTypeOperator")}tsCheckTypeAnnotationForReadOnly(t){switch(t.typeAnnotation.type){case"TSTupleType":case"TSArrayType":return;default:this.raise(W.UnexpectedReadonly,t)}}tsParseInferType(){let t=this.startNode();this.expectContextual(115);let i=this.startNode();return i.name=this.tsParseTypeParameterName(),i.constraint=this.tsTryParse(()=>this.tsParseConstraintForInferType()),t.typeParameter=this.finishNode(i,"TSTypeParameter"),this.finishNode(t,"TSInferType")}tsParseConstraintForInferType(){if(this.eat(81)){let t=this.tsInDisallowConditionalTypesContext(()=>this.tsParseType());if(this.state.inDisallowConditionalTypesContext||!this.match(17))return t}}tsParseTypeOperatorOrHigher(){return OM(this.state.type)&&!this.state.containsEsc?this.tsParseTypeOperator():this.isContextual(115)?this.tsParseInferType():this.tsInAllowConditionalTypesContext(()=>this.tsParseArrayTypeOrHigher())}tsParseUnionOrIntersectionType(t,i,n){let s=this.startNode(),o=this.eat(n),a=[];do a.push(i());while(this.eat(n));return a.length===1&&!o?a[0]:(s.types=a,this.finishNode(s,t))}tsParseIntersectionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),45)}tsParseUnionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),43)}tsIsStartOfFunctionType(){return this.match(47)?!0:this.match(10)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this))}tsSkipParameterStart(){if(we(this.state.type)||this.match(78))return this.next(),!0;if(this.match(5)){let{errors:t}=this.state,i=t.length;try{return this.parseObjectLike(8,!0),t.length===i}catch{return!1}}if(this.match(0)){this.next();let{errors:t}=this.state,i=t.length;try{return super.parseBindingList(3,93,1),t.length===i}catch{return!1}}return!1}tsIsUnambiguouslyStartOfFunctionType(){return this.next(),!!(this.match(11)||this.match(21)||this.tsSkipParameterStart()&&(this.match(14)||this.match(12)||this.match(17)||this.match(29)||this.match(11)&&(this.next(),this.match(19))))}tsParseTypeOrTypePredicateAnnotation(t){return this.tsInType(()=>{let i=this.startNode();this.expect(t);let n=this.startNode(),s=!!this.tsTryParse(this.tsParseTypePredicateAsserts.bind(this));if(s&&this.match(78)){let l=this.tsParseThisTypeOrThisTypePredicate();return l.type==="TSThisType"?(n.parameterName=l,n.asserts=!0,n.typeAnnotation=null,l=this.finishNode(n,"TSTypePredicate")):(this.resetStartLocationFromNode(l,n),l.asserts=!0),i.typeAnnotation=l,this.finishNode(i,"TSTypeAnnotation")}let o=this.tsIsIdentifier()&&this.tsTryParse(this.tsParseTypePredicatePrefix.bind(this));if(!o)return s?(n.parameterName=this.parseIdentifier(),n.asserts=s,n.typeAnnotation=null,i.typeAnnotation=this.finishNode(n,"TSTypePredicate"),this.finishNode(i,"TSTypeAnnotation")):this.tsParseTypeAnnotation(!1,i);let a=this.tsParseTypeAnnotation(!1);return n.parameterName=o,n.typeAnnotation=a,n.asserts=s,i.typeAnnotation=this.finishNode(n,"TSTypePredicate"),this.finishNode(i,"TSTypeAnnotation")})}tsTryParseTypeOrTypePredicateAnnotation(){if(this.match(14))return this.tsParseTypeOrTypePredicateAnnotation(14)}tsTryParseTypeAnnotation(){if(this.match(14))return this.tsParseTypeAnnotation()}tsTryParseType(){return this.tsEatThenParseType(14)}tsParseTypePredicatePrefix(){let t=this.parseIdentifier();if(this.isContextual(116)&&!this.hasPrecedingLineBreak())return this.next(),t}tsParseTypePredicateAsserts(){if(this.state.type!==109)return!1;let t=this.state.containsEsc;return this.next(),!we(this.state.type)&&!this.match(78)?!1:(t&&this.raise(S.InvalidEscapedReservedWord,this.state.lastTokStartLoc,{reservedWord:"asserts"}),!0)}tsParseTypeAnnotation(t=!0,i=this.startNode()){return this.tsInType(()=>{t&&this.expect(14),i.typeAnnotation=this.tsParseType()}),this.finishNode(i,"TSTypeAnnotation")}tsParseType(){Pv(this.state.inType);let t=this.tsParseNonConditionalType();if(this.state.inDisallowConditionalTypesContext||this.hasPrecedingLineBreak()||!this.eat(81))return t;let i=this.startNodeAtNode(t);return i.checkType=t,i.extendsType=this.tsInDisallowConditionalTypesContext(()=>this.tsParseNonConditionalType()),this.expect(17),i.trueType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.expect(14),i.falseType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.finishNode(i,"TSConditionalType")}isAbstractConstructorSignature(){return this.isContextual(124)&&this.lookahead().type===77}tsParseNonConditionalType(){return this.tsIsStartOfFunctionType()?this.tsParseFunctionOrConstructorType("TSFunctionType"):this.match(77)?this.tsParseFunctionOrConstructorType("TSConstructorType"):this.isAbstractConstructorSignature()?this.tsParseFunctionOrConstructorType("TSConstructorType",!0):this.tsParseUnionTypeOrHigher()}tsParseTypeAssertion(){this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(W.ReservedTypeAssertion,this.state.startLoc);let t=this.startNode();return t.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?this.tsParseTypeReference():this.tsParseType())),this.expect(48),t.expression=this.parseMaybeUnary(),this.finishNode(t,"TSTypeAssertion")}tsParseHeritageClause(t){let i=this.state.startLoc,n=this.tsParseDelimitedList("HeritageClauseElement",()=>{let s=this.startNode();return s.expression=this.tsParseEntityName(),this.match(47)&&(s.typeParameters=this.tsParseTypeArguments()),this.finishNode(s,"TSExpressionWithTypeArguments")});return n.length||this.raise(W.EmptyHeritageClauseType,i,{token:t}),n}tsParseInterfaceDeclaration(t,i={}){if(this.hasFollowingLineBreak())return null;this.expectContextual(129),i.declare&&(t.declare=!0),we(this.state.type)?(t.id=this.parseIdentifier(),this.checkIdentifier(t.id,130)):(t.id=null,this.raise(W.MissingInterfaceName,this.state.startLoc)),t.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers),this.eat(81)&&(t.extends=this.tsParseHeritageClause("extends"));let n=this.startNode();return n.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),t.body=this.finishNode(n,"TSInterfaceBody"),this.finishNode(t,"TSInterfaceDeclaration")}tsParseTypeAliasDeclaration(t){return t.id=this.parseIdentifier(),this.checkIdentifier(t.id,2),t.typeAnnotation=this.tsInType(()=>{if(t.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutModifiers),this.expect(29),this.isContextual(114)&&this.lookahead().type!==16){let i=this.startNode();return this.next(),this.finishNode(i,"TSIntrinsicKeyword")}return this.tsParseType()}),this.semicolon(),this.finishNode(t,"TSTypeAliasDeclaration")}tsInNoContext(t){let i=this.state.context;this.state.context=[i[0]];try{return t()}finally{this.state.context=i}}tsInType(t){let i=this.state.inType;this.state.inType=!0;try{return t()}finally{this.state.inType=i}}tsInDisallowConditionalTypesContext(t){let i=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!0;try{return t()}finally{this.state.inDisallowConditionalTypesContext=i}}tsInAllowConditionalTypesContext(t){let i=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!1;try{return t()}finally{this.state.inDisallowConditionalTypesContext=i}}tsEatThenParseType(t){if(this.match(t))return this.tsNextThenParseType()}tsExpectThenParseType(t){return this.tsInType(()=>(this.expect(t),this.tsParseType()))}tsNextThenParseType(){return this.tsInType(()=>(this.next(),this.tsParseType()))}tsParseEnumMember(){let t=this.startNode();return t.id=this.match(133)?super.parseStringLiteral(this.state.value):this.parseIdentifier(!0),this.eat(29)&&(t.initializer=super.parseMaybeAssignAllowIn()),this.finishNode(t,"TSEnumMember")}tsParseEnumDeclaration(t,i={}){return i.const&&(t.const=!0),i.declare&&(t.declare=!0),this.expectContextual(126),t.id=this.parseIdentifier(),this.checkIdentifier(t.id,t.const?8971:8459),this.expect(5),t.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(t,"TSEnumDeclaration")}tsParseModuleBlock(){let t=this.startNode();return this.scope.enter(0),this.expect(5),super.parseBlockOrModuleBlockBody(t.body=[],void 0,!0,8),this.scope.exit(),this.finishNode(t,"TSModuleBlock")}tsParseModuleOrNamespaceDeclaration(t,i=!1){if(t.id=this.parseIdentifier(),i||this.checkIdentifier(t.id,1024),this.eat(16)){let n=this.startNode();this.tsParseModuleOrNamespaceDeclaration(n,!0),t.body=n}else this.scope.enter(256),this.prodParam.enter(0),t.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();return this.finishNode(t,"TSModuleDeclaration")}tsParseAmbientExternalModuleDeclaration(t){return this.isContextual(112)?(t.global=!0,t.id=this.parseIdentifier()):this.match(133)?t.id=super.parseStringLiteral(this.state.value):this.unexpected(),this.match(5)?(this.scope.enter(256),this.prodParam.enter(0),t.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit()):this.semicolon(),this.finishNode(t,"TSModuleDeclaration")}tsParseImportEqualsDeclaration(t,i,n){t.isExport=n||!1,t.id=i||this.parseIdentifier(),this.checkIdentifier(t.id,4096),this.expect(29);let s=this.tsParseModuleReference();return t.importKind==="type"&&s.type!=="TSExternalModuleReference"&&this.raise(W.ImportAliasHasImportType,s),t.moduleReference=s,this.semicolon(),this.finishNode(t,"TSImportEqualsDeclaration")}tsIsExternalModuleReference(){return this.isContextual(119)&&this.lookaheadCharCode()===40}tsParseModuleReference(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(!1)}tsParseExternalModuleReference(){let t=this.startNode();return this.expectContextual(119),this.expect(10),this.match(133)||this.unexpected(),t.expression=super.parseExprAtom(),this.expect(11),this.sawUnambiguousESM=!0,this.finishNode(t,"TSExternalModuleReference")}tsLookAhead(t){let i=this.state.clone(),n=t();return this.state=i,n}tsTryParseAndCatch(t){let i=this.tryParse(n=>t()||n());if(!(i.aborted||!i.node))return i.error&&(this.state=i.failState),i.node}tsTryParse(t){let i=this.state.clone(),n=t();if(n!==void 0&&n!==!1)return n;this.state=i}tsTryParseDeclare(t){if(this.isLineTerminator())return;let i=this.state.type,n;return this.isContextual(100)&&(i=74,n="let"),this.tsInAmbientContext(()=>{switch(i){case 68:return t.declare=!0,super.parseFunctionStatement(t,!1,!1);case 80:return t.declare=!0,this.parseClass(t,!0,!1);case 126:return this.tsParseEnumDeclaration(t,{declare:!0});case 112:return this.tsParseAmbientExternalModuleDeclaration(t);case 75:case 74:return!this.match(75)||!this.isLookaheadContextual("enum")?(t.declare=!0,this.parseVarStatement(t,n||this.state.value,!0)):(this.expect(75),this.tsParseEnumDeclaration(t,{const:!0,declare:!0}));case 129:{let s=this.tsParseInterfaceDeclaration(t,{declare:!0});if(s)return s}default:if(we(i))return this.tsParseDeclaration(t,this.state.value,!0,null)}})}tsTryParseExportDeclaration(){return this.tsParseDeclaration(this.startNode(),this.state.value,!0,null)}tsParseExpressionStatement(t,i,n){switch(i.name){case"declare":{let s=this.tsTryParseDeclare(t);return s&&(s.declare=!0),s}case"global":if(this.match(5)){this.scope.enter(256),this.prodParam.enter(0);let s=t;return s.global=!0,s.id=i,s.body=this.tsParseModuleBlock(),this.scope.exit(),this.prodParam.exit(),this.finishNode(s,"TSModuleDeclaration")}break;default:return this.tsParseDeclaration(t,i.name,!1,n)}}tsParseDeclaration(t,i,n,s){switch(i){case"abstract":if(this.tsCheckLineTerminator(n)&&(this.match(80)||we(this.state.type)))return this.tsParseAbstractDeclaration(t,s);break;case"module":if(this.tsCheckLineTerminator(n)){if(this.match(133))return this.tsParseAmbientExternalModuleDeclaration(t);if(we(this.state.type))return this.tsParseModuleOrNamespaceDeclaration(t)}break;case"namespace":if(this.tsCheckLineTerminator(n)&&we(this.state.type))return this.tsParseModuleOrNamespaceDeclaration(t);break;case"type":if(this.tsCheckLineTerminator(n)&&we(this.state.type))return this.tsParseTypeAliasDeclaration(t);break}}tsCheckLineTerminator(t){return t?this.hasFollowingLineBreak()?!1:(this.next(),!0):!this.isLineTerminator()}tsTryParseGenericAsyncArrowFunction(t){if(!this.match(47))return;let i=this.state.maybeInArrowParameters;this.state.maybeInArrowParameters=!0;let n=this.tsTryParseAndCatch(()=>{let s=this.startNodeAt(t);return s.typeParameters=this.tsParseTypeParameters(this.tsParseConstModifier),super.parseFunctionParams(s),s.returnType=this.tsTryParseTypeOrTypePredicateAnnotation(),this.expect(19),s});if(this.state.maybeInArrowParameters=i,!!n)return super.parseArrowExpression(n,null,!0)}tsParseTypeArgumentsInExpression(){if(this.reScan_lt()===47)return this.tsParseTypeArguments()}tsParseTypeArguments(){let t=this.startNode();return t.params=this.tsInType(()=>this.tsInNoContext(()=>(this.expect(47),this.tsParseDelimitedList("TypeParametersOrArguments",this.tsParseType.bind(this))))),t.params.length===0?this.raise(W.EmptyTypeArguments,t):!this.state.inType&&this.curContext()===Le.brace&&this.reScan_lt_gt(),this.expect(48),this.finishNode(t,"TSTypeParameterInstantiation")}tsIsDeclarationStart(){return RM(this.state.type)}isExportDefaultSpecifier(){return this.tsIsDeclarationStart()?!1:super.isExportDefaultSpecifier()}parseAssignableListItem(t,i){let n=this.state.startLoc,s={};this.tsParseModifiers({allowedModifiers:["public","private","protected","override","readonly"]},s);let o=s.accessibility,a=s.override,l=s.readonly;!(t&4)&&(o||l||a)&&this.raise(W.UnexpectedParameterModifier,n);let u=this.parseMaybeDefault();t&2&&this.parseFunctionParamType(u);let c=this.parseMaybeDefault(u.loc.start,u);if(o||l||a){let p=this.startNodeAt(n);return i.length&&(p.decorators=i),o&&(p.accessibility=o),l&&(p.readonly=l),a&&(p.override=a),c.type!=="Identifier"&&c.type!=="AssignmentPattern"&&this.raise(W.UnsupportedParameterPropertyKind,p),p.parameter=c,this.finishNode(p,"TSParameterProperty")}return i.length&&(u.decorators=i),c}isSimpleParameter(t){return t.type==="TSParameterProperty"&&super.isSimpleParameter(t.parameter)||super.isSimpleParameter(t)}tsDisallowOptionalPattern(t){for(let i of t.params)i.type!=="Identifier"&&i.optional&&!this.state.isAmbientContext&&this.raise(W.PatternIsOptional,i)}setArrowFunctionParameters(t,i,n){super.setArrowFunctionParameters(t,i,n),this.tsDisallowOptionalPattern(t)}parseFunctionBodyAndFinish(t,i,n=!1){this.match(14)&&(t.returnType=this.tsParseTypeOrTypePredicateAnnotation(14));let s=i==="FunctionDeclaration"?"TSDeclareFunction":i==="ClassMethod"||i==="ClassPrivateMethod"?"TSDeclareMethod":void 0;return s&&!this.match(5)&&this.isLineTerminator()?this.finishNode(t,s):s==="TSDeclareFunction"&&this.state.isAmbientContext&&(this.raise(W.DeclareFunctionHasImplementation,t),t.declare)?super.parseFunctionBodyAndFinish(t,s,n):(this.tsDisallowOptionalPattern(t),super.parseFunctionBodyAndFinish(t,i,n))}registerFunctionStatementId(t){!t.body&&t.id?this.checkIdentifier(t.id,1024):super.registerFunctionStatementId(t)}tsCheckForInvalidTypeCasts(t){t.forEach(i=>{i?.type==="TSTypeCastExpression"&&this.raise(W.UnexpectedTypeAnnotation,i.typeAnnotation)})}toReferencedList(t,i){return this.tsCheckForInvalidTypeCasts(t),t}parseArrayLike(t,i,n,s){let o=super.parseArrayLike(t,i,n,s);return o.type==="ArrayExpression"&&this.tsCheckForInvalidTypeCasts(o.elements),o}parseSubscript(t,i,n,s){if(!this.hasPrecedingLineBreak()&&this.match(35)){this.state.canStartJSXElement=!1,this.next();let a=this.startNodeAt(i);return a.expression=t,this.finishNode(a,"TSNonNullExpression")}let o=!1;if(this.match(18)&&this.lookaheadCharCode()===60){if(n)return s.stop=!0,t;s.optionalChainMember=o=!0,this.next()}if(this.match(47)||this.match(51)){let a,l=this.tsTryParseAndCatch(()=>{if(!n&&this.atPossibleAsyncArrow(t)){let d=this.tsTryParseGenericAsyncArrowFunction(i);if(d)return d}let u=this.tsParseTypeArgumentsInExpression();if(!u)return;if(o&&!this.match(10)){a=this.state.curPosition();return}if(Ou(this.state.type)){let d=super.parseTaggedTemplateExpression(t,i,s);return d.typeParameters=u,d}if(!n&&this.eat(10)){let d=this.startNodeAt(i);return d.callee=t,d.arguments=this.parseCallExpressionArguments(11,!1),this.tsCheckForInvalidTypeCasts(d.arguments),d.typeParameters=u,s.optionalChainMember&&(d.optional=o),this.finishCallExpression(d,s.optionalChainMember)}let c=this.state.type;if(c===48||c===52||c!==10&&Vf(c)&&!this.hasPrecedingLineBreak())return;let p=this.startNodeAt(i);return p.expression=t,p.typeParameters=u,this.finishNode(p,"TSInstantiationExpression")});if(a&&this.unexpected(a,10),l)return l.type==="TSInstantiationExpression"&&(this.match(16)||this.match(18)&&this.lookaheadCharCode()!==40)&&this.raise(W.InvalidPropertyAccessAfterInstantiationExpression,this.state.startLoc),l}return super.parseSubscript(t,i,n,s)}parseNewCallee(t){var i;super.parseNewCallee(t);let{callee:n}=t;n.type==="TSInstantiationExpression"&&!((i=n.extra)!=null&&i.parenthesized)&&(t.typeParameters=n.typeParameters,t.callee=n.expression)}parseExprOp(t,i,n){let s;if(Nu(58)>n&&!this.hasPrecedingLineBreak()&&(this.isContextual(93)||(s=this.isContextual(120)))){let o=this.startNodeAt(i);return o.expression=t,o.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?(s&&this.raise(S.UnexpectedKeyword,this.state.startLoc,{keyword:"const"}),this.tsParseTypeReference()):this.tsParseType())),this.finishNode(o,s?"TSSatisfiesExpression":"TSAsExpression"),this.reScan_lt_gt(),this.parseExprOp(o,i,n)}return super.parseExprOp(t,i,n)}checkReservedWord(t,i,n,s){this.state.isAmbientContext||super.checkReservedWord(t,i,n,s)}checkImportReflection(t){super.checkImportReflection(t),t.module&&t.importKind!=="value"&&this.raise(W.ImportReflectionHasImportType,t.specifiers[0].loc.start)}checkDuplicateExports(){}isPotentialImportPhase(t){if(super.isPotentialImportPhase(t))return!0;if(this.isContextual(130)){let i=this.lookaheadCharCode();return t?i===123||i===42:i!==61}return!t&&this.isContextual(87)}applyImportPhase(t,i,n,s){super.applyImportPhase(t,i,n,s),i?t.exportKind=n==="type"?"type":"value":t.importKind=n==="type"||n==="typeof"?n:"value"}parseImport(t){if(this.match(133))return t.importKind="value",super.parseImport(t);let i;if(we(this.state.type)&&this.lookaheadCharCode()===61)return t.importKind="value",this.tsParseImportEqualsDeclaration(t);if(this.isContextual(130)){let n=this.parseMaybeImportPhase(t,!1);if(this.lookaheadCharCode()===61)return this.tsParseImportEqualsDeclaration(t,n);i=super.parseImportSpecifiersAndAfter(t,n)}else i=super.parseImport(t);return i.importKind==="type"&&i.specifiers.length>1&&i.specifiers[0].type==="ImportDefaultSpecifier"&&this.raise(W.TypeImportCannotSpecifyDefaultAndNamed,i),i}parseExport(t,i){if(this.match(83)){this.next();let n=t,s=null;return this.isContextual(130)&&this.isPotentialImportPhase(!1)?s=this.parseMaybeImportPhase(n,!1):n.importKind="value",this.tsParseImportEqualsDeclaration(n,s,!0)}else if(this.eat(29)){let n=t;return n.expression=super.parseExpression(),this.semicolon(),this.sawUnambiguousESM=!0,this.finishNode(n,"TSExportAssignment")}else if(this.eatContextual(93)){let n=t;return this.expectContextual(128),n.id=this.parseIdentifier(),this.semicolon(),this.finishNode(n,"TSNamespaceExportDeclaration")}else return super.parseExport(t,i)}isAbstractClass(){return this.isContextual(124)&&this.lookahead().type===80}parseExportDefaultExpression(){if(this.isAbstractClass()){let t=this.startNode();return this.next(),t.abstract=!0,this.parseClass(t,!0,!0)}if(this.match(129)){let t=this.tsParseInterfaceDeclaration(this.startNode());if(t)return t}return super.parseExportDefaultExpression()}parseVarStatement(t,i,n=!1){let{isAmbientContext:s}=this.state,o=super.parseVarStatement(t,i,n||s);if(!s)return o;for(let{id:a,init:l}of o.declarations)l&&(i!=="const"||a.typeAnnotation?this.raise(W.InitializerNotAllowedInAmbientContext,l):bB(l,this.hasPlugin("estree"))||this.raise(W.ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference,l));return o}parseStatementContent(t,i){if(this.match(75)&&this.isLookaheadContextual("enum")){let n=this.startNode();return this.expect(75),this.tsParseEnumDeclaration(n,{const:!0})}if(this.isContextual(126))return this.tsParseEnumDeclaration(this.startNode());if(this.isContextual(129)){let n=this.tsParseInterfaceDeclaration(this.startNode());if(n)return n}return super.parseStatementContent(t,i)}parseAccessModifier(){return this.tsParseModifier(["public","protected","private"])}tsHasSomeModifiers(t,i){return i.some(n=>Iv(n)?t.accessibility===n:!!t[n])}tsIsStartOfStaticBlocks(){return this.isContextual(106)&&this.lookaheadCharCode()===123}parseClassMember(t,i,n){let s=["declare","private","public","protected","override","abstract","readonly","static"];this.tsParseModifiers({allowedModifiers:s,disallowedModifiers:["in","out"],stopOnStartOfClassStaticBlock:!0,errorTemplate:W.InvalidModifierOnTypeParameterPositions},i);let o=()=>{this.tsIsStartOfStaticBlocks()?(this.next(),this.next(),this.tsHasSomeModifiers(i,s)&&this.raise(W.StaticBlockCannotHaveModifier,this.state.curPosition()),super.parseClassStaticBlock(t,i)):this.parseClassMemberWithIsStatic(t,i,n,!!i.static)};i.declare?this.tsInAmbientContext(o):o()}parseClassMemberWithIsStatic(t,i,n,s){let o=this.tsTryParseIndexSignature(i);if(o){t.body.push(o),i.abstract&&this.raise(W.IndexSignatureHasAbstract,i),i.accessibility&&this.raise(W.IndexSignatureHasAccessibility,i,{modifier:i.accessibility}),i.declare&&this.raise(W.IndexSignatureHasDeclare,i),i.override&&this.raise(W.IndexSignatureHasOverride,i);return}!this.state.inAbstractClass&&i.abstract&&this.raise(W.NonAbstractClassHasAbstractMethod,i),i.override&&(n.hadSuperClass||this.raise(W.OverrideNotInSubClass,i)),super.parseClassMemberWithIsStatic(t,i,n,s)}parsePostMemberNameModifiers(t){this.eat(17)&&(t.optional=!0),t.readonly&&this.match(10)&&this.raise(W.ClassMethodHasReadonly,t),t.declare&&this.match(10)&&this.raise(W.ClassMethodHasDeclare,t)}parseExpressionStatement(t,i,n){return(i.type==="Identifier"?this.tsParseExpressionStatement(t,i,n):void 0)||super.parseExpressionStatement(t,i,n)}shouldParseExportDeclaration(){return this.tsIsDeclarationStart()?!0:super.shouldParseExportDeclaration()}parseConditional(t,i,n){if(!this.state.maybeInArrowParameters||!this.match(17))return super.parseConditional(t,i,n);let s=this.tryParse(()=>super.parseConditional(t,i));return s.node?(s.error&&(this.state=s.failState),s.node):(s.error&&super.setOptionalParametersError(n,s.error),t)}parseParenItem(t,i){let n=super.parseParenItem(t,i);if(this.eat(17)&&(n.optional=!0,this.resetEndLocation(t)),this.match(14)){let s=this.startNodeAt(i);return s.expression=t,s.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(s,"TSTypeCastExpression")}return t}parseExportDeclaration(t){if(!this.state.isAmbientContext&&this.isContextual(125))return this.tsInAmbientContext(()=>this.parseExportDeclaration(t));let i=this.state.startLoc,n=this.eatContextual(125);if(n&&(this.isContextual(125)||!this.shouldParseExportDeclaration()))throw this.raise(W.ExpectedAmbientAfterExportDeclare,this.state.startLoc);let o=we(this.state.type)&&this.tsTryParseExportDeclaration()||super.parseExportDeclaration(t);return o?((o.type==="TSInterfaceDeclaration"||o.type==="TSTypeAliasDeclaration"||n)&&(t.exportKind="type"),n&&(this.resetStartLocation(o,i),o.declare=!0),o):null}parseClassId(t,i,n,s){if((!i||n)&&this.isContextual(113))return;super.parseClassId(t,i,n,t.declare?1024:8331);let o=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers);o&&(t.typeParameters=o)}parseClassPropertyAnnotation(t){t.optional||(this.eat(35)?t.definite=!0:this.eat(17)&&(t.optional=!0));let i=this.tsTryParseTypeAnnotation();i&&(t.typeAnnotation=i)}parseClassProperty(t){if(this.parseClassPropertyAnnotation(t),this.state.isAmbientContext&&!(t.readonly&&!t.typeAnnotation)&&this.match(29)&&this.raise(W.DeclareClassFieldHasInitializer,this.state.startLoc),t.abstract&&this.match(29)){let{key:i}=t;this.raise(W.AbstractPropertyHasInitializer,this.state.startLoc,{propertyName:i.type==="Identifier"&&!t.computed?i.name:`[${this.input.slice(i.start,i.end)}]`})}return super.parseClassProperty(t)}parseClassPrivateProperty(t){return t.abstract&&this.raise(W.PrivateElementHasAbstract,t),t.accessibility&&this.raise(W.PrivateElementHasAccessibility,t,{modifier:t.accessibility}),this.parseClassPropertyAnnotation(t),super.parseClassPrivateProperty(t)}parseClassAccessorProperty(t){return this.parseClassPropertyAnnotation(t),t.optional&&this.raise(W.AccessorCannotBeOptional,t),super.parseClassAccessorProperty(t)}pushClassMethod(t,i,n,s,o,a){let l=this.tsTryParseTypeParameters(this.tsParseConstModifier);l&&o&&this.raise(W.ConstructorHasTypeParameters,l);let{declare:u=!1,kind:c}=i;u&&(c==="get"||c==="set")&&this.raise(W.DeclareAccessor,i,{kind:c}),l&&(i.typeParameters=l),super.pushClassMethod(t,i,n,s,o,a)}pushClassPrivateMethod(t,i,n,s){let o=this.tsTryParseTypeParameters(this.tsParseConstModifier);o&&(i.typeParameters=o),super.pushClassPrivateMethod(t,i,n,s)}declareClassPrivateMethodInScope(t,i){t.type!=="TSDeclareMethod"&&(t.type==="MethodDefinition"&&!hasOwnProperty.call(t.value,"body")||super.declareClassPrivateMethodInScope(t,i))}parseClassSuper(t){super.parseClassSuper(t),t.superClass&&(this.match(47)||this.match(51))&&(t.superTypeParameters=this.tsParseTypeArgumentsInExpression()),this.eatContextual(113)&&(t.implements=this.tsParseHeritageClause("implements"))}parseObjPropValue(t,i,n,s,o,a,l){let u=this.tsTryParseTypeParameters(this.tsParseConstModifier);return u&&(t.typeParameters=u),super.parseObjPropValue(t,i,n,s,o,a,l)}parseFunctionParams(t,i){let n=this.tsTryParseTypeParameters(this.tsParseConstModifier);n&&(t.typeParameters=n),super.parseFunctionParams(t,i)}parseVarId(t,i){super.parseVarId(t,i),t.id.type==="Identifier"&&!this.hasPrecedingLineBreak()&&this.eat(35)&&(t.definite=!0);let n=this.tsTryParseTypeAnnotation();n&&(t.id.typeAnnotation=n,this.resetEndLocation(t.id))}parseAsyncArrowFromCallExpression(t,i){return this.match(14)&&(t.returnType=this.tsParseTypeAnnotation()),super.parseAsyncArrowFromCallExpression(t,i)}parseMaybeAssign(t,i){var n,s,o,a,l;let u,c,p;if(this.hasPlugin("jsx")&&(this.match(142)||this.match(47))){if(u=this.state.clone(),c=this.tryParse(()=>super.parseMaybeAssign(t,i),u),!c.error)return c.node;let{context:f}=this.state,g=f[f.length-1];(g===Le.j_oTag||g===Le.j_expr)&&f.pop()}if(!((n=c)!=null&&n.error)&&!this.match(47))return super.parseMaybeAssign(t,i);(!u||u===this.state)&&(u=this.state.clone());let d,h=this.tryParse(f=>{var g,m;d=this.tsParseTypeParameters(this.tsParseConstModifier);let y=super.parseMaybeAssign(t,i);return(y.type!=="ArrowFunctionExpression"||(g=y.extra)!=null&&g.parenthesized)&&f(),((m=d)==null?void 0:m.params.length)!==0&&this.resetStartLocationFromNode(y,d),y.typeParameters=d,y},u);if(!h.error&&!h.aborted)return d&&this.reportReservedArrowTypeParam(d),h.node;if(!c&&(Pv(!this.hasPlugin("jsx")),p=this.tryParse(()=>super.parseMaybeAssign(t,i),u),!p.error))return p.node;if((s=c)!=null&&s.node)return this.state=c.failState,c.node;if(h.node)return this.state=h.failState,d&&this.reportReservedArrowTypeParam(d),h.node;if((o=p)!=null&&o.node)return this.state=p.failState,p.node;throw((a=c)==null?void 0:a.error)||h.error||((l=p)==null?void 0:l.error)}reportReservedArrowTypeParam(t){var i;t.params.length===1&&!t.params[0].constraint&&!((i=t.extra)!=null&&i.trailingComma)&&this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(W.ReservedArrowTypeParam,t)}parseMaybeUnary(t,i){return!this.hasPlugin("jsx")&&this.match(47)?this.tsParseTypeAssertion():super.parseMaybeUnary(t,i)}parseArrow(t){if(this.match(14)){let i=this.tryParse(n=>{let s=this.tsParseTypeOrTypePredicateAnnotation(14);return(this.canInsertSemicolon()||!this.match(19))&&n(),s});if(i.aborted)return;i.thrown||(i.error&&(this.state=i.failState),t.returnType=i.node)}return super.parseArrow(t)}parseFunctionParamType(t){this.eat(17)&&(t.optional=!0);let i=this.tsTryParseTypeAnnotation();return i&&(t.typeAnnotation=i),this.resetEndLocation(t),t}isAssignable(t,i){switch(t.type){case"TSTypeCastExpression":return this.isAssignable(t.expression,i);case"TSParameterProperty":return!0;default:return super.isAssignable(t,i)}}toAssignable(t,i=!1){switch(t.type){case"ParenthesizedExpression":this.toAssignableParenthesizedExpression(t,i);break;case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":i?this.expressionScope.recordArrowParameterBindingError(W.UnexpectedTypeCastInParameter,t):this.raise(W.UnexpectedTypeCastInParameter,t),this.toAssignable(t.expression,i);break;case"AssignmentExpression":!i&&t.left.type==="TSTypeCastExpression"&&(t.left=this.typeCastToParameter(t.left));default:super.toAssignable(t,i)}}toAssignableParenthesizedExpression(t,i){switch(t.expression.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":case"ParenthesizedExpression":this.toAssignable(t.expression,i);break;default:super.toAssignable(t,i)}}checkToRestConversion(t,i){switch(t.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":this.checkToRestConversion(t.expression,!1);break;default:super.checkToRestConversion(t,i)}}isValidLVal(t,i,n){switch(t){case"TSTypeCastExpression":return!0;case"TSParameterProperty":return"parameter";case"TSNonNullExpression":case"TSInstantiationExpression":return"expression";case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":return(n!==64||!i)&&["expression",!0];default:return super.isValidLVal(t,i,n)}}parseBindingAtom(){return this.state.type===78?this.parseIdentifier(!0):super.parseBindingAtom()}parseMaybeDecoratorArguments(t){if(this.match(47)||this.match(51)){let i=this.tsParseTypeArgumentsInExpression();if(this.match(10)){let n=super.parseMaybeDecoratorArguments(t);return n.typeParameters=i,n}this.unexpected(null,10)}return super.parseMaybeDecoratorArguments(t)}checkCommaAfterRest(t){return this.state.isAmbientContext&&this.match(12)&&this.lookaheadCharCode()===t?(this.next(),!1):super.checkCommaAfterRest(t)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(35)||this.match(14)||super.isClassProperty()}parseMaybeDefault(t,i){let n=super.parseMaybeDefault(t,i);return n.type==="AssignmentPattern"&&n.typeAnnotation&&n.right.start<n.typeAnnotation.start&&this.raise(W.TypeAnnotationAfterAssign,n.typeAnnotation),n}getTokenFromCode(t){if(this.state.inType){if(t===62){this.finishOp(48,1);return}if(t===60){this.finishOp(47,1);return}}super.getTokenFromCode(t)}reScan_lt_gt(){let{type:t}=this.state;t===47?(this.state.pos-=1,this.readToken_lt()):t===48&&(this.state.pos-=1,this.readToken_gt())}reScan_lt(){let{type:t}=this.state;return t===51?(this.state.pos-=2,this.finishOp(47,1),47):t}toAssignableList(t,i,n){for(let s=0;s<t.length;s++){let o=t[s];o?.type==="TSTypeCastExpression"&&(t[s]=this.typeCastToParameter(o))}super.toAssignableList(t,i,n)}typeCastToParameter(t){return t.expression.typeAnnotation=t.typeAnnotation,this.resetEndLocation(t.expression,t.typeAnnotation.loc.end),t.expression}shouldParseArrow(t){return this.match(14)?t.every(i=>this.isAssignable(i,!0)):super.shouldParseArrow(t)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}canHaveLeadingDecorator(){return super.canHaveLeadingDecorator()||this.isAbstractClass()}jsxParseOpeningElementAfterName(t){if(this.match(47)||this.match(51)){let i=this.tsTryParseAndCatch(()=>this.tsParseTypeArgumentsInExpression());i&&(t.typeParameters=i)}return super.jsxParseOpeningElementAfterName(t)}getGetterSetterExpectedParamCount(t){let i=super.getGetterSetterExpectedParamCount(t),s=this.getObjectOrClassMethodParams(t)[0];return s&&this.isThisParam(s)?i+1:i}parseCatchClauseParam(){let t=super.parseCatchClauseParam(),i=this.tsTryParseTypeAnnotation();return i&&(t.typeAnnotation=i,this.resetEndLocation(t)),t}tsInAmbientContext(t){let{isAmbientContext:i,strict:n}=this.state;this.state.isAmbientContext=!0,this.state.strict=!1;try{return t()}finally{this.state.isAmbientContext=i,this.state.strict=n}}parseClass(t,i,n){let s=this.state.inAbstractClass;this.state.inAbstractClass=!!t.abstract;try{return super.parseClass(t,i,n)}finally{this.state.inAbstractClass=s}}tsParseAbstractDeclaration(t,i){if(this.match(80))return t.abstract=!0,this.maybeTakeDecorators(i,this.parseClass(t,!0,!1));if(this.isContextual(129)){if(!this.hasFollowingLineBreak())return t.abstract=!0,this.raise(W.NonClassMethodPropertyHasAbstractModifer,t),this.tsParseInterfaceDeclaration(t)}else this.unexpected(null,80)}parseMethod(t,i,n,s,o,a,l){let u=super.parseMethod(t,i,n,s,o,a,l);if(u.abstract&&(this.hasPlugin("estree")?!!u.value.body:!!u.body)){let{key:p}=u;this.raise(W.AbstractMethodHasImplementation,u,{methodName:p.type==="Identifier"&&!u.computed?p.name:`[${this.input.slice(p.start,p.end)}]`})}return u}tsParseTypeParameterName(){return this.parseIdentifier().name}shouldParseAsAmbientContext(){return!!this.getPluginOption("typescript","dts")}parse(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.parse()}getExpression(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.getExpression()}parseExportSpecifier(t,i,n,s){return!i&&s?(this.parseTypeOnlyImportExportSpecifier(t,!1,n),this.finishNode(t,"ExportSpecifier")):(t.exportKind="value",super.parseExportSpecifier(t,i,n,s))}parseImportSpecifier(t,i,n,s,o){return!i&&s?(this.parseTypeOnlyImportExportSpecifier(t,!0,n),this.finishNode(t,"ImportSpecifier")):(t.importKind="value",super.parseImportSpecifier(t,i,n,s,n?4098:4096))}parseTypeOnlyImportExportSpecifier(t,i,n){let s=i?"imported":"local",o=i?"local":"exported",a=t[s],l,u=!1,c=!0,p=a.loc.start;if(this.isContextual(93)){let h=this.parseIdentifier();if(this.isContextual(93)){let f=this.parseIdentifier();Br(this.state.type)?(u=!0,a=h,l=i?this.parseIdentifier():this.parseModuleExportName(),c=!1):(l=f,c=!1)}else Br(this.state.type)?(c=!1,l=i?this.parseIdentifier():this.parseModuleExportName()):(u=!0,a=h)}else Br(this.state.type)&&(u=!0,i?(a=this.parseIdentifier(!0),this.isContextual(93)||this.checkReservedWord(a.name,a.loc.start,!0,!0)):a=this.parseModuleExportName());u&&n&&this.raise(i?W.TypeModifierIsUsedInTypeImports:W.TypeModifierIsUsedInTypeExports,p),t[s]=a,t[o]=l;let d=i?"importKind":"exportKind";t[d]=u?"type":"value",c&&this.eatContextual(93)&&(t[o]=i?this.parseIdentifier():this.parseModuleExportName()),t[o]||(t[o]=Gi(t[s])),i&&this.checkIdentifier(t[o],u?4098:4096)}};function yB(e){if(e.type!=="MemberExpression")return!1;let{computed:r,property:t}=e;return r&&t.type!=="StringLiteral"&&(t.type!=="TemplateLiteral"||t.expressions.length>0)?!1:Gv(e.object)}function bB(e,r){var t;let{type:i}=e;if((t=e.extra)!=null&&t.parenthesized)return!1;if(r){if(i==="Literal"){let{value:n}=e;if(typeof n=="string"||typeof n=="boolean")return!0}}else if(i==="StringLiteral"||i==="BooleanLiteral")return!0;return!!(Wv(e,r)||DB(e,r)||i==="TemplateLiteral"&&e.expressions.length===0||yB(e))}function Wv(e,r){return r?e.type==="Literal"&&(typeof e.value=="number"||"bigint"in e):e.type==="NumericLiteral"||e.type==="BigIntLiteral"}function DB(e,r){if(e.type==="UnaryExpression"){let{operator:t,argument:i}=e;if(t==="-"&&Wv(i,r))return!0}return!1}function Gv(e){return e.type==="Identifier"?!0:e.type!=="MemberExpression"||e.computed?!1:Gv(e.object)}var _v=Wi`placeholders`({ClassNameIsRequired:"A class name is required.",UnexpectedSpace:"Unexpected space in placeholder."}),xB=e=>class extends e{parsePlaceholder(t){if(this.match(144)){let i=this.startNode();return this.next(),this.assertNoSpace(),i.name=super.parseIdentifier(!0),this.assertNoSpace(),this.expect(144),this.finishPlaceholder(i,t)}}finishPlaceholder(t,i){let n=t;return(!n.expectedNode||!n.type)&&(n=this.finishNode(n,"Placeholder")),n.expectedNode=i,n}getTokenFromCode(t){t===37&&this.input.charCodeAt(this.state.pos+1)===37?this.finishOp(144,2):super.getTokenFromCode(t)}parseExprAtom(t){return this.parsePlaceholder("Expression")||super.parseExprAtom(t)}parseIdentifier(t){return this.parsePlaceholder("Identifier")||super.parseIdentifier(t)}checkReservedWord(t,i,n,s){t!==void 0&&super.checkReservedWord(t,i,n,s)}parseBindingAtom(){return this.parsePlaceholder("Pattern")||super.parseBindingAtom()}isValidLVal(t,i,n){return t==="Placeholder"||super.isValidLVal(t,i,n)}toAssignable(t,i){t&&t.type==="Placeholder"&&t.expectedNode==="Expression"?t.expectedNode="Pattern":super.toAssignable(t,i)}chStartsBindingIdentifier(t,i){return!!(super.chStartsBindingIdentifier(t,i)||this.lookahead().type===144)}verifyBreakContinue(t,i){t.label&&t.label.type==="Placeholder"||super.verifyBreakContinue(t,i)}parseExpressionStatement(t,i){var n;if(i.type!=="Placeholder"||(n=i.extra)!=null&&n.parenthesized)return super.parseExpressionStatement(t,i);if(this.match(14)){let o=t;return o.label=this.finishPlaceholder(i,"Identifier"),this.next(),o.body=super.parseStatementOrSloppyAnnexBFunctionDeclaration(),this.finishNode(o,"LabeledStatement")}this.semicolon();let s=t;return s.name=i.name,this.finishPlaceholder(s,"Statement")}parseBlock(t,i,n){return this.parsePlaceholder("BlockStatement")||super.parseBlock(t,i,n)}parseFunctionId(t){return this.parsePlaceholder("Identifier")||super.parseFunctionId(t)}parseClass(t,i,n){let s=i?"ClassDeclaration":"ClassExpression";this.next();let o=this.state.strict,a=this.parsePlaceholder("Identifier");if(a)if(this.match(81)||this.match(144)||this.match(5))t.id=a;else{if(n||!i)return t.id=null,t.body=this.finishPlaceholder(a,"ClassBody"),this.finishNode(t,s);throw this.raise(_v.ClassNameIsRequired,this.state.startLoc)}else this.parseClassId(t,i,n);return super.parseClassSuper(t),t.body=this.parsePlaceholder("ClassBody")||super.parseClassBody(!!t.superClass,o),this.finishNode(t,s)}parseExport(t,i){let n=this.parsePlaceholder("Identifier");if(!n)return super.parseExport(t,i);let s=t;if(!this.isContextual(98)&&!this.match(12))return s.specifiers=[],s.source=null,s.declaration=this.finishPlaceholder(n,"Declaration"),this.finishNode(s,"ExportNamedDeclaration");this.expectPlugin("exportDefaultFrom");let o=this.startNode();return o.exported=n,s.specifiers=[this.finishNode(o,"ExportDefaultSpecifier")],super.parseExport(s,i)}isExportDefaultSpecifier(){if(this.match(65)){let t=this.nextTokenStart();if(this.isUnparsedContextual(t,"from")&&this.input.startsWith(Dn(144),this.nextTokenStartSince(t+4)))return!0}return super.isExportDefaultSpecifier()}maybeParseExportDefaultSpecifier(t,i){var n;return(n=t.specifiers)!=null&&n.length?!0:super.maybeParseExportDefaultSpecifier(t,i)}checkExport(t){let{specifiers:i}=t;i!=null&&i.length&&(t.specifiers=i.filter(n=>n.exported.type==="Placeholder")),super.checkExport(t),t.specifiers=i}parseImport(t){let i=this.parsePlaceholder("Identifier");if(!i)return super.parseImport(t);if(t.specifiers=[],!this.isContextual(98)&&!this.match(12))return t.source=this.finishPlaceholder(i,"StringLiteral"),this.semicolon(),this.finishNode(t,"ImportDeclaration");let n=this.startNodeAtNode(i);return n.local=i,t.specifiers.push(this.finishNode(n,"ImportDefaultSpecifier")),this.eat(12)&&(this.maybeParseStarImportSpecifier(t)||this.parseNamedImportSpecifiers(t)),this.expectContextual(98),t.source=this.parseImportSource(),this.semicolon(),this.finishNode(t,"ImportDeclaration")}parseImportSource(){return this.parsePlaceholder("StringLiteral")||super.parseImportSource()}assertNoSpace(){this.state.start>this.state.lastTokEndLoc.index&&this.raise(_v.UnexpectedSpace,this.state.lastTokEndLoc)}},EB=e=>class extends e{parseV8Intrinsic(){if(this.match(54)){let t=this.state.startLoc,i=this.startNode();if(this.next(),we(this.state.type)){let n=this.parseIdentifierName(),s=this.createIdentifier(i,n);if(s.type="V8IntrinsicIdentifier",this.match(10))return s}this.unexpected(t)}}parseExprAtom(t){return this.parseV8Intrinsic()||super.parseExprAtom(t)}},Nv=["minimal","fsharp","hack","smart"],Fv=["^^","@@","^","%","#"];function CB(e){if(e.has("decorators")){if(e.has("decorators-legacy"))throw new Error("Cannot use the decorators and decorators-legacy plugin together");let t=e.get("decorators").decoratorsBeforeExport;if(t!=null&&typeof t!="boolean")throw new Error("'decoratorsBeforeExport' must be a boolean, if specified.");let i=e.get("decorators").allowCallParenthesized;if(i!=null&&typeof i!="boolean")throw new Error("'allowCallParenthesized' must be a boolean.")}if(e.has("flow")&&e.has("typescript"))throw new Error("Cannot combine flow and typescript plugins.");if(e.has("placeholders")&&e.has("v8intrinsic"))throw new Error("Cannot combine placeholders and v8intrinsic plugins.");if(e.has("pipelineOperator")){var r;let t=e.get("pipelineOperator").proposal;if(!Nv.includes(t)){let n=Nv.map(s=>`"${s}"`).join(", ");throw new Error(`"pipelineOperator" requires "proposal" option whose value must be one of: ${n}.`)}let i=((r=e.get("recordAndTuple"))==null?void 0:r.syntaxType)==="hash";if(t==="hack"){if(e.has("placeholders"))throw new Error("Cannot combine placeholders plugin and Hack-style pipes.");if(e.has("v8intrinsic"))throw new Error("Cannot combine v8intrinsic plugin and Hack-style pipes.");let n=e.get("pipelineOperator").topicToken;if(!Fv.includes(n)){let s=Fv.map(o=>`"${o}"`).join(", ");throw new Error(`"pipelineOperator" in "proposal": "hack" mode also requires a "topicToken" option whose value must be one of: ${s}.`)}if(n==="#"&&i)throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "hack", topicToken: "#" }]\` and \`${JSON.stringify(["recordAndTuple",e.get("recordAndTuple")])}\`.`)}else if(t==="smart"&&i)throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "smart" }]\` and \`${JSON.stringify(["recordAndTuple",e.get("recordAndTuple")])}\`.`)}if(e.has("moduleAttributes")){if(e.has("importAttributes")||e.has("importAssertions"))throw new Error("Cannot combine importAssertions, importAttributes and moduleAttributes plugins.");if(e.get("moduleAttributes").version!=="may-2020")throw new Error("The 'moduleAttributes' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is 'may-2020'.")}if(e.has("importAssertions")&&e.has("importAttributes"))throw new Error("Cannot combine importAssertions and importAttributes plugins.");if(e.has("recordAndTuple")){let t=e.get("recordAndTuple").syntaxType;if(t!=null){let i=["hash","bar"];if(!i.includes(t))throw new Error("The 'syntaxType' option of the 'recordAndTuple' plugin must be one of: "+i.map(n=>`'${n}'`).join(", "))}}if(e.has("asyncDoExpressions")&&!e.has("doExpressions")){let t=new Error("'asyncDoExpressions' requires 'doExpressions', please add 'doExpressions' to parser plugins.");throw t.missingPlugins="doExpressions",t}if(e.has("optionalChainingAssign")&&e.get("optionalChainingAssign").version!=="2023-07")throw new Error("The 'optionalChainingAssign' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is '2023-07'.")}var Hv={estree:vM,jsx:dB,flow:cB,typescript:gB,v8intrinsic:EB,placeholders:xB},SB=Object.keys(Hv),jf={sourceType:"script",sourceFilename:void 0,startColumn:0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowNewTargetOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,allowUndeclaredExports:!1,plugins:[],strictMode:null,ranges:!1,tokens:!1,createImportExpressions:!1,createParenthesizedExpressions:!1,errorRecovery:!1,attachComment:!0,annexB:!0};function vB(e){if(e==null)return Object.assign({},jf);if(e.annexB!=null&&e.annexB!==!1)throw new Error("The `annexB` option can only be set to `false`.");let r={};for(let i of Object.keys(jf)){var t;r[i]=(t=e[i])!=null?t:jf[i]}return r}var lh=class extends ah{checkProto(r,t,i,n){if(r.type==="SpreadElement"||this.isObjectMethod(r)||r.computed||r.shorthand)return;let s=r.key;if((s.type==="Identifier"?s.name:s.value)==="__proto__"){if(t){this.raise(S.RecordNoProto,s);return}i.used&&(n?n.doubleProtoLoc===null&&(n.doubleProtoLoc=s.loc.start):this.raise(S.DuplicateProto,s)),i.used=!0}}shouldExitDescending(r,t){return r.type==="ArrowFunctionExpression"&&r.start===t}getExpression(){this.enterInitialScopes(),this.nextToken();let r=this.parseExpression();return this.match(139)||this.unexpected(),this.finalizeRemainingComments(),r.comments=this.comments,r.errors=this.state.errors,this.options.tokens&&(r.tokens=this.tokens),r}parseExpression(r,t){return r?this.disallowInAnd(()=>this.parseExpressionBase(t)):this.allowInAnd(()=>this.parseExpressionBase(t))}parseExpressionBase(r){let t=this.state.startLoc,i=this.parseMaybeAssign(r);if(this.match(12)){let n=this.startNodeAt(t);for(n.expressions=[i];this.eat(12);)n.expressions.push(this.parseMaybeAssign(r));return this.toReferencedList(n.expressions),this.finishNode(n,"SequenceExpression")}return i}parseMaybeAssignDisallowIn(r,t){return this.disallowInAnd(()=>this.parseMaybeAssign(r,t))}parseMaybeAssignAllowIn(r,t){return this.allowInAnd(()=>this.parseMaybeAssign(r,t))}setOptionalParametersError(r,t){var i;r.optionalParametersLoc=(i=t?.loc)!=null?i:this.state.startLoc}parseMaybeAssign(r,t){let i=this.state.startLoc;if(this.isContextual(108)&&this.prodParam.hasYield){let a=this.parseYield();return t&&(a=t.call(this,a,i)),a}let n;r?n=!1:(r=new $s,n=!0);let{type:s}=this.state;(s===10||we(s))&&(this.state.potentialArrowAt=this.state.start);let o=this.parseMaybeConditional(r);if(t&&(o=t.call(this,o,i)),IM(this.state.type)){let a=this.startNodeAt(i),l=this.state.value;if(a.operator=l,this.match(29)){this.toAssignable(o,!0),a.left=o;let u=i.index;r.doubleProtoLoc!=null&&r.doubleProtoLoc.index>=u&&(r.doubleProtoLoc=null),r.shorthandAssignLoc!=null&&r.shorthandAssignLoc.index>=u&&(r.shorthandAssignLoc=null),r.privateKeyLoc!=null&&r.privateKeyLoc.index>=u&&(this.checkDestructuringPrivate(r),r.privateKeyLoc=null)}else a.left=o;return this.next(),a.right=this.parseMaybeAssign(),this.checkLVal(o,this.finishNode(a,"AssignmentExpression")),a}else n&&this.checkExpressionErrors(r,!0);return o}parseMaybeConditional(r){let t=this.state.startLoc,i=this.state.potentialArrowAt,n=this.parseExprOps(r);return this.shouldExitDescending(n,i)?n:this.parseConditional(n,t,r)}parseConditional(r,t,i){if(this.eat(17)){let n=this.startNodeAt(t);return n.test=r,n.consequent=this.parseMaybeAssignAllowIn(),this.expect(14),n.alternate=this.parseMaybeAssign(),this.finishNode(n,"ConditionalExpression")}return r}parseMaybeUnaryOrPrivate(r){return this.match(138)?this.parsePrivateName():this.parseMaybeUnary(r)}parseExprOps(r){let t=this.state.startLoc,i=this.state.potentialArrowAt,n=this.parseMaybeUnaryOrPrivate(r);return this.shouldExitDescending(n,i)?n:this.parseExprOp(n,t,-1)}parseExprOp(r,t,i){if(this.isPrivateName(r)){let s=this.getPrivateNameSV(r);(i>=Nu(58)||!this.prodParam.hasIn||!this.match(58))&&this.raise(S.PrivateInExpectedIn,r,{identifierName:s}),this.classScope.usePrivateName(s,r.loc.start)}let n=this.state.type;if(NM(n)&&(this.prodParam.hasIn||!this.match(58))){let s=Nu(n);if(s>i){if(n===39){if(this.expectPlugin("pipelineOperator"),this.state.inFSharpPipelineDirectBody)return r;this.checkPipelineAtInfixOperator(r,t)}let o=this.startNodeAt(t);o.left=r,o.operator=this.state.value;let a=n===41||n===42,l=n===40;if(l&&(s=Nu(42)),this.next(),n===39&&this.hasPlugin(["pipelineOperator",{proposal:"minimal"}])&&this.state.type===96&&this.prodParam.hasAwait)throw this.raise(S.UnexpectedAwaitAfterPipelineBody,this.state.startLoc);o.right=this.parseExprOpRightExpr(n,s);let u=this.finishNode(o,a||l?"LogicalExpression":"BinaryExpression"),c=this.state.type;if(l&&(c===41||c===42)||a&&c===40)throw this.raise(S.MixingCoalesceWithLogical,this.state.startLoc);return this.parseExprOp(u,t,i)}}return r}parseExprOpRightExpr(r,t){let i=this.state.startLoc;switch(r){case 39:switch(this.getPluginOption("pipelineOperator","proposal")){case"hack":return this.withTopicBindingContext(()=>this.parseHackPipeBody());case"smart":return this.withTopicBindingContext(()=>{if(this.prodParam.hasYield&&this.isContextual(108))throw this.raise(S.PipeBodyIsTighter,this.state.startLoc);return this.parseSmartPipelineBodyInStyle(this.parseExprOpBaseRightExpr(r,t),i)});case"fsharp":return this.withSoloAwaitPermittingContext(()=>this.parseFSharpPipelineBody(t))}default:return this.parseExprOpBaseRightExpr(r,t)}}parseExprOpBaseRightExpr(r,t){let i=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnaryOrPrivate(),i,LM(r)?t-1:t)}parseHackPipeBody(){var r;let{startLoc:t}=this.state,i=this.parseMaybeAssign();return DM.has(i.type)&&!((r=i.extra)!=null&&r.parenthesized)&&this.raise(S.PipeUnparenthesizedBody,t,{type:i.type}),this.topicReferenceWasUsedInCurrentContext()||this.raise(S.PipeTopicUnused,t),i}checkExponentialAfterUnary(r){this.match(57)&&this.raise(S.UnexpectedTokenUnaryExponentiation,r.argument)}parseMaybeUnary(r,t){let i=this.state.startLoc,n=this.isContextual(96);if(n&&this.recordAwaitIfAllowed()){this.next();let l=this.parseAwait(i);return t||this.checkExponentialAfterUnary(l),l}let s=this.match(34),o=this.startNode();if(kM(this.state.type)){o.operator=this.state.value,o.prefix=!0,this.match(72)&&this.expectPlugin("throwExpressions");let l=this.match(89);if(this.next(),o.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(r,!0),this.state.strict&&l){let u=o.argument;u.type==="Identifier"?this.raise(S.StrictDelete,o):this.hasPropertyAsPrivateName(u)&&this.raise(S.DeletePrivateField,o)}if(!s)return t||this.checkExponentialAfterUnary(o),this.finishNode(o,"UnaryExpression")}let a=this.parseUpdate(o,s,r);if(n){let{type:l}=this.state;if((this.hasPlugin("v8intrinsic")?Vf(l):Vf(l)&&!this.match(54))&&!this.isAmbiguousAwait())return this.raiseOverwrite(S.AwaitNotInAsyncContext,i),this.parseAwait(i)}return a}parseUpdate(r,t,i){if(t){let o=r;return this.checkLVal(o.argument,this.finishNode(o,"UpdateExpression")),r}let n=this.state.startLoc,s=this.parseExprSubscripts(i);if(this.checkExpressionErrors(i,!1))return s;for(;FM(this.state.type)&&!this.canInsertSemicolon();){let o=this.startNodeAt(n);o.operator=this.state.value,o.prefix=!1,o.argument=s,this.next(),this.checkLVal(s,s=this.finishNode(o,"UpdateExpression"))}return s}parseExprSubscripts(r){let t=this.state.startLoc,i=this.state.potentialArrowAt,n=this.parseExprAtom(r);return this.shouldExitDescending(n,i)?n:this.parseSubscripts(n,t)}parseSubscripts(r,t,i){let n={optionalChainMember:!1,maybeAsyncArrow:this.atPossibleAsyncArrow(r),stop:!1};do r=this.parseSubscript(r,t,i,n),n.maybeAsyncArrow=!1;while(!n.stop);return r}parseSubscript(r,t,i,n){let{type:s}=this.state;if(!i&&s===15)return this.parseBind(r,t,i,n);if(Ou(s))return this.parseTaggedTemplateExpression(r,t,n);let o=!1;if(s===18){if(i&&(this.raise(S.OptionalChainingNoNew,this.state.startLoc),this.lookaheadCharCode()===40))return n.stop=!0,r;n.optionalChainMember=o=!0,this.next()}if(!i&&this.match(10))return this.parseCoverCallAndAsyncArrowHead(r,t,n,o);{let a=this.eat(0);return a||o||this.eat(16)?this.parseMember(r,t,n,a,o):(n.stop=!0,r)}}parseMember(r,t,i,n,s){let o=this.startNodeAt(t);return o.object=r,o.computed=n,n?(o.property=this.parseExpression(),this.expect(3)):this.match(138)?(r.type==="Super"&&this.raise(S.SuperPrivateField,t),this.classScope.usePrivateName(this.state.value,this.state.startLoc),o.property=this.parsePrivateName()):o.property=this.parseIdentifier(!0),i.optionalChainMember?(o.optional=s,this.finishNode(o,"OptionalMemberExpression")):this.finishNode(o,"MemberExpression")}parseBind(r,t,i,n){let s=this.startNodeAt(t);return s.object=r,this.next(),s.callee=this.parseNoCallExpr(),n.stop=!0,this.parseSubscripts(this.finishNode(s,"BindExpression"),t,i)}parseCoverCallAndAsyncArrowHead(r,t,i,n){let s=this.state.maybeInArrowParameters,o=null;this.state.maybeInArrowParameters=!0,this.next();let a=this.startNodeAt(t);a.callee=r;let{maybeAsyncArrow:l,optionalChainMember:u}=i;l&&(this.expressionScope.enter(rB()),o=new $s),u&&(a.optional=n),n?a.arguments=this.parseCallExpressionArguments(11):a.arguments=this.parseCallExpressionArguments(11,r.type==="Import",r.type!=="Super",a,o);let c=this.finishCallExpression(a,u);return l&&this.shouldParseAsyncArrow()&&!n?(i.stop=!0,this.checkDestructuringPrivate(o),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),c=this.parseAsyncArrowFromCallExpression(this.startNodeAt(t),c)):(l&&(this.checkExpressionErrors(o,!0),this.expressionScope.exit()),this.toReferencedArguments(c)),this.state.maybeInArrowParameters=s,c}toReferencedArguments(r,t){this.toReferencedListDeep(r.arguments,t)}parseTaggedTemplateExpression(r,t,i){let n=this.startNodeAt(t);return n.tag=r,n.quasi=this.parseTemplate(!0),i.optionalChainMember&&this.raise(S.OptionalChainingNoTemplate,t),this.finishNode(n,"TaggedTemplateExpression")}atPossibleAsyncArrow(r){return r.type==="Identifier"&&r.name==="async"&&this.state.lastTokEndLoc.index===r.end&&!this.canInsertSemicolon()&&r.end-r.start===5&&r.start===this.state.potentialArrowAt}finishCallExpression(r,t){if(r.callee.type==="Import")if(r.arguments.length===2&&(this.hasPlugin("moduleAttributes")||this.hasPlugin("importAssertions")||this.expectPlugin("importAttributes")),r.arguments.length===0||r.arguments.length>2)this.raise(S.ImportCallArity,r,{maxArgumentCount:this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions")||this.hasPlugin("moduleAttributes")?2:1});else for(let i of r.arguments)i.type==="SpreadElement"&&this.raise(S.ImportCallSpreadArgument,i);return this.finishNode(r,t?"OptionalCallExpression":"CallExpression")}parseCallExpressionArguments(r,t,i,n,s){let o=[],a=!0,l=this.state.inFSharpPipelineDirectBody;for(this.state.inFSharpPipelineDirectBody=!1;!this.eat(r);){if(a)a=!1;else if(this.expect(12),this.match(r)){t&&!this.hasPlugin("importAttributes")&&!this.hasPlugin("importAssertions")&&!this.hasPlugin("moduleAttributes")&&this.raise(S.ImportCallArgumentTrailingComma,this.state.lastTokStartLoc),n&&this.addTrailingCommaExtraToNode(n),this.next();break}o.push(this.parseExprListItem(!1,s,i))}return this.state.inFSharpPipelineDirectBody=l,o}shouldParseAsyncArrow(){return this.match(19)&&!this.canInsertSemicolon()}parseAsyncArrowFromCallExpression(r,t){var i;return this.resetPreviousNodeTrailingComments(t),this.expect(19),this.parseArrowExpression(r,t.arguments,!0,(i=t.extra)==null?void 0:i.trailingCommaLoc),t.innerComments&&ba(r,t.innerComments),t.callee.trailingComments&&ba(r,t.callee.trailingComments),r}parseNoCallExpr(){let r=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),r,!0)}parseExprAtom(r){let t,i=null,{type:n}=this.state;switch(n){case 79:return this.parseSuper();case 83:return t=this.startNode(),this.next(),this.match(16)?this.parseImportMetaProperty(t):this.match(10)?this.options.createImportExpressions?this.parseImportCall(t):this.finishNode(t,"Import"):(this.raise(S.UnsupportedImport,this.state.lastTokStartLoc),this.finishNode(t,"Import"));case 78:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case 90:return this.parseDo(this.startNode(),!1);case 56:case 31:return this.readRegexp(),this.parseRegExpLiteral(this.state.value);case 134:return this.parseNumericLiteral(this.state.value);case 135:return this.parseBigIntLiteral(this.state.value);case 133:return this.parseStringLiteral(this.state.value);case 84:return this.parseNullLiteral();case 85:return this.parseBooleanLiteral(!0);case 86:return this.parseBooleanLiteral(!1);case 10:{let s=this.state.potentialArrowAt===this.state.start;return this.parseParenAndDistinguishExpression(s)}case 2:case 1:return this.parseArrayLike(this.state.type===2?4:3,!1,!0);case 0:return this.parseArrayLike(3,!0,!1,r);case 6:case 7:return this.parseObjectLike(this.state.type===6?9:8,!1,!0);case 5:return this.parseObjectLike(8,!1,!1,r);case 68:return this.parseFunctionOrFunctionSent();case 26:i=this.parseDecorators();case 80:return this.parseClass(this.maybeTakeDecorators(i,this.startNode()),!1);case 77:return this.parseNewOrNewTarget();case 25:case 24:return this.parseTemplate(!1);case 15:{t=this.startNode(),this.next(),t.object=null;let s=t.callee=this.parseNoCallExpr();if(s.type==="MemberExpression")return this.finishNode(t,"BindExpression");throw this.raise(S.UnsupportedBind,s)}case 138:return this.raise(S.PrivateInExpectedIn,this.state.startLoc,{identifierName:this.state.value}),this.parsePrivateName();case 33:return this.parseTopicReferenceThenEqualsSign(54,"%");case 32:return this.parseTopicReferenceThenEqualsSign(44,"^");case 37:case 38:return this.parseTopicReference("hack");case 44:case 54:case 27:{let s=this.getPluginOption("pipelineOperator","proposal");if(s)return this.parseTopicReference(s);this.unexpected();break}case 47:{let s=this.input.codePointAt(this.nextTokenStart());zi(s)||s===62?this.expectOnePlugin(["jsx","flow","typescript"]):this.unexpected();break}default:if(n===136)return this.parseDecimalLiteral(this.state.value);if(we(n)){if(this.isContextual(127)&&this.lookaheadInLineCharCode()===123)return this.parseModuleExpression();let s=this.state.potentialArrowAt===this.state.start,o=this.state.containsEsc,a=this.parseIdentifier();if(!o&&a.name==="async"&&!this.canInsertSemicolon()){let{type:l}=this.state;if(l===68)return this.resetPreviousNodeTrailingComments(a),this.next(),this.parseAsyncFunctionExpression(this.startNodeAtNode(a));if(we(l))return this.lookaheadCharCode()===61?this.parseAsyncArrowUnaryFunction(this.startNodeAtNode(a)):a;if(l===90)return this.resetPreviousNodeTrailingComments(a),this.parseDo(this.startNodeAtNode(a),!0)}return s&&this.match(19)&&!this.canInsertSemicolon()?(this.next(),this.parseArrowExpression(this.startNodeAtNode(a),[a],!1)):a}else this.unexpected()}}parseTopicReferenceThenEqualsSign(r,t){let i=this.getPluginOption("pipelineOperator","proposal");if(i)return this.state.type=r,this.state.value=t,this.state.pos--,this.state.end--,this.state.endLoc=jt(this.state.endLoc,-1),this.parseTopicReference(i);this.unexpected()}parseTopicReference(r){let t=this.startNode(),i=this.state.startLoc,n=this.state.type;return this.next(),this.finishTopicReference(t,i,r,n)}finishTopicReference(r,t,i,n){if(this.testTopicReferenceConfiguration(i,t,n)){let s=i==="smart"?"PipelinePrimaryTopicReference":"TopicReference";return this.topicReferenceIsAllowedInCurrentContext()||this.raise(i==="smart"?S.PrimaryTopicNotAllowed:S.PipeTopicUnbound,t),this.registerTopicReference(),this.finishNode(r,s)}else throw this.raise(S.PipeTopicUnconfiguredToken,t,{token:Dn(n)})}testTopicReferenceConfiguration(r,t,i){switch(r){case"hack":return this.hasPlugin(["pipelineOperator",{topicToken:Dn(i)}]);case"smart":return i===27;default:throw this.raise(S.PipeTopicRequiresHackPipes,t)}}parseAsyncArrowUnaryFunction(r){this.prodParam.enter(Fu(!0,this.prodParam.hasYield));let t=[this.parseIdentifier()];return this.prodParam.exit(),this.hasPrecedingLineBreak()&&this.raise(S.LineTerminatorBeforeArrow,this.state.curPosition()),this.expect(19),this.parseArrowExpression(r,t,!0)}parseDo(r,t){this.expectPlugin("doExpressions"),t&&this.expectPlugin("asyncDoExpressions"),r.async=t,this.next();let i=this.state.labels;return this.state.labels=[],t?(this.prodParam.enter(2),r.body=this.parseBlock(),this.prodParam.exit()):r.body=this.parseBlock(),this.state.labels=i,this.finishNode(r,"DoExpression")}parseSuper(){let r=this.startNode();return this.next(),this.match(10)&&!this.scope.allowDirectSuper&&!this.options.allowSuperOutsideMethod?this.raise(S.SuperNotAllowed,r):!this.scope.allowSuper&&!this.options.allowSuperOutsideMethod&&this.raise(S.UnexpectedSuper,r),!this.match(10)&&!this.match(0)&&!this.match(16)&&this.raise(S.UnsupportedSuper,r),this.finishNode(r,"Super")}parsePrivateName(){let r=this.startNode(),t=this.startNodeAt(jt(this.state.startLoc,1)),i=this.state.value;return this.next(),r.id=this.createIdentifier(t,i),this.finishNode(r,"PrivateName")}parseFunctionOrFunctionSent(){let r=this.startNode();if(this.next(),this.prodParam.hasYield&&this.match(16)){let t=this.createIdentifier(this.startNodeAtNode(r),"function");return this.next(),this.match(103)?this.expectPlugin("functionSent"):this.hasPlugin("functionSent")||this.unexpected(),this.parseMetaProperty(r,t,"sent")}return this.parseFunction(r)}parseMetaProperty(r,t,i){r.meta=t;let n=this.state.containsEsc;return r.property=this.parseIdentifier(!0),(r.property.name!==i||n)&&this.raise(S.UnsupportedMetaProperty,r.property,{target:t.name,onlyValidPropertyName:i}),this.finishNode(r,"MetaProperty")}parseImportMetaProperty(r){let t=this.createIdentifier(this.startNodeAtNode(r),"import");if(this.next(),this.isContextual(101))this.inModule||this.raise(S.ImportMetaOutsideModule,t),this.sawUnambiguousESM=!0;else if(this.isContextual(105)||this.isContextual(97)){let i=this.isContextual(105);if(i||this.unexpected(),this.expectPlugin(i?"sourcePhaseImports":"deferredImportEvaluation"),!this.options.createImportExpressions)throw this.raise(S.DynamicImportPhaseRequiresImportExpressions,this.state.startLoc,{phase:this.state.value});return this.next(),r.phase=i?"source":"defer",this.parseImportCall(r)}return this.parseMetaProperty(r,t,"meta")}parseLiteralAtNode(r,t,i){return this.addExtra(i,"rawValue",r),this.addExtra(i,"raw",this.input.slice(i.start,this.state.end)),i.value=r,this.next(),this.finishNode(i,t)}parseLiteral(r,t){let i=this.startNode();return this.parseLiteralAtNode(r,t,i)}parseStringLiteral(r){return this.parseLiteral(r,"StringLiteral")}parseNumericLiteral(r){return this.parseLiteral(r,"NumericLiteral")}parseBigIntLiteral(r){return this.parseLiteral(r,"BigIntLiteral")}parseDecimalLiteral(r){return this.parseLiteral(r,"DecimalLiteral")}parseRegExpLiteral(r){let t=this.startNode();return this.addExtra(t,"raw",this.input.slice(t.start,this.state.end)),t.pattern=r.pattern,t.flags=r.flags,this.next(),this.finishNode(t,"RegExpLiteral")}parseBooleanLiteral(r){let t=this.startNode();return t.value=r,this.next(),this.finishNode(t,"BooleanLiteral")}parseNullLiteral(){let r=this.startNode();return this.next(),this.finishNode(r,"NullLiteral")}parseParenAndDistinguishExpression(r){let t=this.state.startLoc,i;this.next(),this.expressionScope.enter(tB());let n=this.state.maybeInArrowParameters,s=this.state.inFSharpPipelineDirectBody;this.state.maybeInArrowParameters=!0,this.state.inFSharpPipelineDirectBody=!1;let o=this.state.startLoc,a=[],l=new $s,u=!0,c,p;for(;!this.match(11);){if(u)u=!1;else if(this.expect(12,l.optionalParametersLoc===null?null:l.optionalParametersLoc),this.match(11)){p=this.state.startLoc;break}if(this.match(21)){let f=this.state.startLoc;if(c=this.state.startLoc,a.push(this.parseParenItem(this.parseRestBinding(),f)),!this.checkCommaAfterRest(41))break}else a.push(this.parseMaybeAssignAllowIn(l,this.parseParenItem))}let d=this.state.lastTokEndLoc;this.expect(11),this.state.maybeInArrowParameters=n,this.state.inFSharpPipelineDirectBody=s;let h=this.startNodeAt(t);return r&&this.shouldParseArrow(a)&&(h=this.parseArrow(h))?(this.checkDestructuringPrivate(l),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),this.parseArrowExpression(h,a,!1),h):(this.expressionScope.exit(),a.length||this.unexpected(this.state.lastTokStartLoc),p&&this.unexpected(p),c&&this.unexpected(c),this.checkExpressionErrors(l,!0),this.toReferencedListDeep(a,!0),a.length>1?(i=this.startNodeAt(o),i.expressions=a,this.finishNode(i,"SequenceExpression"),this.resetEndLocation(i,d)):i=a[0],this.wrapParenthesis(t,i))}wrapParenthesis(r,t){if(!this.options.createParenthesizedExpressions)return this.addExtra(t,"parenthesized",!0),this.addExtra(t,"parenStart",r.index),this.takeSurroundingComments(t,r.index,this.state.lastTokEndLoc.index),t;let i=this.startNodeAt(r);return i.expression=t,this.finishNode(i,"ParenthesizedExpression")}shouldParseArrow(r){return!this.canInsertSemicolon()}parseArrow(r){if(this.eat(19))return r}parseParenItem(r,t){return r}parseNewOrNewTarget(){let r=this.startNode();if(this.next(),this.match(16)){let t=this.createIdentifier(this.startNodeAtNode(r),"new");this.next();let i=this.parseMetaProperty(r,t,"target");return!this.scope.inNonArrowFunction&&!this.scope.inClass&&!this.options.allowNewTargetOutsideFunction&&this.raise(S.UnexpectedNewTarget,i),i}return this.parseNew(r)}parseNew(r){if(this.parseNewCallee(r),this.eat(10)){let t=this.parseExprList(11);this.toReferencedList(t),r.arguments=t}else r.arguments=[];return this.finishNode(r,"NewExpression")}parseNewCallee(r){let t=this.match(83),i=this.parseNoCallExpr();r.callee=i,t&&(i.type==="Import"||i.type==="ImportExpression")&&this.raise(S.ImportCallNotNewExpression,i)}parseTemplateElement(r){let{start:t,startLoc:i,end:n,value:s}=this.state,o=t+1,a=this.startNodeAt(jt(i,1));s===null&&(r||this.raise(S.InvalidEscapeSequenceTemplate,jt(this.state.firstInvalidTemplateEscapePos,1)));let l=this.match(24),u=l?-1:-2,c=n+u;a.value={raw:this.input.slice(o,c).replace(/\r\n?/g,`
`),cooked:s===null?null:s.slice(1,u)},a.tail=l,this.next();let p=this.finishNode(a,"TemplateElement");return this.resetEndLocation(p,jt(this.state.lastTokEndLoc,u)),p}parseTemplate(r){let t=this.startNode(),i=this.parseTemplateElement(r),n=[i],s=[];for(;!i.tail;)s.push(this.parseTemplateSubstitution()),this.readTemplateContinuation(),n.push(i=this.parseTemplateElement(r));return t.expressions=s,t.quasis=n,this.finishNode(t,"TemplateLiteral")}parseTemplateSubstitution(){return this.parseExpression()}parseObjectLike(r,t,i,n){i&&this.expectPlugin("recordAndTuple");let s=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let o=Object.create(null),a=!0,l=this.startNode();for(l.properties=[],this.next();!this.match(r);){if(a)a=!1;else if(this.expect(12),this.match(r)){this.addTrailingCommaExtraToNode(l);break}let c;t?c=this.parseBindingProperty():(c=this.parsePropertyDefinition(n),this.checkProto(c,i,o,n)),i&&!this.isObjectProperty(c)&&c.type!=="SpreadElement"&&this.raise(S.InvalidRecordProperty,c),c.shorthand&&this.addExtra(c,"shorthand",!0),l.properties.push(c)}this.next(),this.state.inFSharpPipelineDirectBody=s;let u="ObjectExpression";return t?u="ObjectPattern":i&&(u="RecordExpression"),this.finishNode(l,u)}addTrailingCommaExtraToNode(r){this.addExtra(r,"trailingComma",this.state.lastTokStartLoc.index),this.addExtra(r,"trailingCommaLoc",this.state.lastTokStartLoc,!1)}maybeAsyncOrAccessorProp(r){return!r.computed&&r.key.type==="Identifier"&&(this.isLiteralPropertyName()||this.match(0)||this.match(55))}parsePropertyDefinition(r){let t=[];if(this.match(26))for(this.hasPlugin("decorators")&&this.raise(S.UnsupportedPropertyDecorator,this.state.startLoc);this.match(26);)t.push(this.parseDecorator());let i=this.startNode(),n=!1,s=!1,o;if(this.match(21))return t.length&&this.unexpected(),this.parseSpread();t.length&&(i.decorators=t,t=[]),i.method=!1,r&&(o=this.state.startLoc);let a=this.eat(55);this.parsePropertyNamePrefixOperator(i);let l=this.state.containsEsc;if(this.parsePropertyName(i,r),!a&&!l&&this.maybeAsyncOrAccessorProp(i)){let{key:u}=i,c=u.name;c==="async"&&!this.hasPrecedingLineBreak()&&(n=!0,this.resetPreviousNodeTrailingComments(u),a=this.eat(55),this.parsePropertyName(i)),(c==="get"||c==="set")&&(s=!0,this.resetPreviousNodeTrailingComments(u),i.kind=c,this.match(55)&&(a=!0,this.raise(S.AccessorIsGenerator,this.state.curPosition(),{kind:c}),this.next()),this.parsePropertyName(i))}return this.parseObjPropValue(i,o,a,n,!1,s,r)}getGetterSetterExpectedParamCount(r){return r.kind==="get"?0:1}getObjectOrClassMethodParams(r){return r.params}checkGetterSetterParams(r){var t;let i=this.getGetterSetterExpectedParamCount(r),n=this.getObjectOrClassMethodParams(r);n.length!==i&&this.raise(r.kind==="get"?S.BadGetterArity:S.BadSetterArity,r),r.kind==="set"&&((t=n[n.length-1])==null?void 0:t.type)==="RestElement"&&this.raise(S.BadSetterRestParameter,r)}parseObjectMethod(r,t,i,n,s){if(s){let o=this.parseMethod(r,t,!1,!1,!1,"ObjectMethod");return this.checkGetterSetterParams(o),o}if(i||t||this.match(10))return n&&this.unexpected(),r.kind="method",r.method=!0,this.parseMethod(r,t,i,!1,!1,"ObjectMethod")}parseObjectProperty(r,t,i,n){if(r.shorthand=!1,this.eat(14))return r.value=i?this.parseMaybeDefault(this.state.startLoc):this.parseMaybeAssignAllowIn(n),this.finishNode(r,"ObjectProperty");if(!r.computed&&r.key.type==="Identifier"){if(this.checkReservedWord(r.key.name,r.key.loc.start,!0,!1),i)r.value=this.parseMaybeDefault(t,Gi(r.key));else if(this.match(29)){let s=this.state.startLoc;n!=null?n.shorthandAssignLoc===null&&(n.shorthandAssignLoc=s):this.raise(S.InvalidCoverInitializedName,s),r.value=this.parseMaybeDefault(t,Gi(r.key))}else r.value=Gi(r.key);return r.shorthand=!0,this.finishNode(r,"ObjectProperty")}}parseObjPropValue(r,t,i,n,s,o,a){let l=this.parseObjectMethod(r,i,n,s,o)||this.parseObjectProperty(r,t,s,a);return l||this.unexpected(),l}parsePropertyName(r,t){if(this.eat(0))r.computed=!0,r.key=this.parseMaybeAssignAllowIn(),this.expect(3);else{let{type:i,value:n}=this.state,s;if(Br(i))s=this.parseIdentifier(!0);else switch(i){case 134:s=this.parseNumericLiteral(n);break;case 133:s=this.parseStringLiteral(n);break;case 135:s=this.parseBigIntLiteral(n);break;case 138:{let o=this.state.startLoc;t!=null?t.privateKeyLoc===null&&(t.privateKeyLoc=o):this.raise(S.UnexpectedPrivateField,o),s=this.parsePrivateName();break}default:if(i===136){s=this.parseDecimalLiteral(n);break}this.unexpected()}r.key=s,i!==138&&(r.computed=!1)}}initFunction(r,t){r.id=null,r.generator=!1,r.async=t}parseMethod(r,t,i,n,s,o,a=!1){this.initFunction(r,i),r.generator=t,this.scope.enter(18|(a?64:0)|(s?32:0)),this.prodParam.enter(Fu(i,r.generator)),this.parseFunctionParams(r,n);let l=this.parseFunctionBodyAndFinish(r,o,!0);return this.prodParam.exit(),this.scope.exit(),l}parseArrayLike(r,t,i,n){i&&this.expectPlugin("recordAndTuple");let s=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let o=this.startNode();return this.next(),o.elements=this.parseExprList(r,!i,n,o),this.state.inFSharpPipelineDirectBody=s,this.finishNode(o,i?"TupleExpression":"ArrayExpression")}parseArrowExpression(r,t,i,n){this.scope.enter(6);let s=Fu(i,!1);!this.match(5)&&this.prodParam.hasIn&&(s|=8),this.prodParam.enter(s),this.initFunction(r,i);let o=this.state.maybeInArrowParameters;return t&&(this.state.maybeInArrowParameters=!0,this.setArrowFunctionParameters(r,t,n)),this.state.maybeInArrowParameters=!1,this.parseFunctionBody(r,!0),this.prodParam.exit(),this.scope.exit(),this.state.maybeInArrowParameters=o,this.finishNode(r,"ArrowFunctionExpression")}setArrowFunctionParameters(r,t,i){this.toAssignableList(t,i,!1),r.params=t}parseFunctionBodyAndFinish(r,t,i=!1){return this.parseFunctionBody(r,!1,i),this.finishNode(r,t)}parseFunctionBody(r,t,i=!1){let n=t&&!this.match(5);if(this.expressionScope.enter(Vv()),n)r.body=this.parseMaybeAssign(),this.checkParams(r,!1,t,!1);else{let s=this.state.strict,o=this.state.labels;this.state.labels=[],this.prodParam.enter(this.prodParam.currentFlags()|4),r.body=this.parseBlock(!0,!1,a=>{let l=!this.isSimpleParamList(r.params);a&&l&&this.raise(S.IllegalLanguageModeDirective,(r.kind==="method"||r.kind==="constructor")&&r.key?r.key.loc.end:r);let u=!s&&this.state.strict;this.checkParams(r,!this.state.strict&&!t&&!i&&!l,t,u),this.state.strict&&r.id&&this.checkIdentifier(r.id,65,u)}),this.prodParam.exit(),this.state.labels=o}this.expressionScope.exit()}isSimpleParameter(r){return r.type==="Identifier"}isSimpleParamList(r){for(let t=0,i=r.length;t<i;t++)if(!this.isSimpleParameter(r[t]))return!1;return!0}checkParams(r,t,i,n=!0){let s=!t&&new Set,o={type:"FormalParameters"};for(let a of r.params)this.checkLVal(a,o,5,s,n)}parseExprList(r,t,i,n){let s=[],o=!0;for(;!this.eat(r);){if(o)o=!1;else if(this.expect(12),this.match(r)){n&&this.addTrailingCommaExtraToNode(n),this.next();break}s.push(this.parseExprListItem(t,i))}return s}parseExprListItem(r,t,i){let n;if(this.match(12))r||this.raise(S.UnexpectedToken,this.state.curPosition(),{unexpected:","}),n=null;else if(this.match(21)){let s=this.state.startLoc;n=this.parseParenItem(this.parseSpread(t),s)}else if(this.match(17)){this.expectPlugin("partialApplication"),i||this.raise(S.UnexpectedArgumentPlaceholder,this.state.startLoc);let s=this.startNode();this.next(),n=this.finishNode(s,"ArgumentPlaceholder")}else n=this.parseMaybeAssignAllowIn(t,this.parseParenItem);return n}parseIdentifier(r){let t=this.startNode(),i=this.parseIdentifierName(r);return this.createIdentifier(t,i)}createIdentifier(r,t){return r.name=t,r.loc.identifierName=t,this.finishNode(r,"Identifier")}parseIdentifierName(r){let t,{startLoc:i,type:n}=this.state;Br(n)?t=this.state.value:this.unexpected();let s=AM(n);return r?s&&this.replaceToken(132):this.checkReservedWord(t,i,s,!1),this.next(),t}checkReservedWord(r,t,i,n){if(r.length>10||!WM(r))return;if(i&&KM(r)){this.raise(S.UnexpectedKeyword,t,{keyword:r});return}if((this.state.strict?n?Uv:Bv:Mv)(r,this.inModule)){this.raise(S.UnexpectedReservedWord,t,{reservedWord:r});return}else if(r==="yield"){if(this.prodParam.hasYield){this.raise(S.YieldBindingIdentifier,t);return}}else if(r==="await"){if(this.prodParam.hasAwait){this.raise(S.AwaitBindingIdentifier,t);return}if(this.scope.inStaticBlock){this.raise(S.AwaitBindingIdentifierInStaticBlock,t);return}this.expressionScope.recordAsyncArrowParametersError(t)}else if(r==="arguments"&&this.scope.inClassAndNotInNonArrowFunction){this.raise(S.ArgumentsInClass,t);return}}recordAwaitIfAllowed(){let r=this.prodParam.hasAwait||this.options.allowAwaitOutsideFunction&&!this.scope.inFunction;return r&&!this.scope.inFunction&&(this.state.hasTopLevelAwait=!0),r}parseAwait(r){let t=this.startNodeAt(r);return this.expressionScope.recordParameterInitializerError(S.AwaitExpressionFormalParameter,t),this.eat(55)&&this.raise(S.ObsoleteAwaitStar,t),!this.scope.inFunction&&!this.options.allowAwaitOutsideFunction&&(this.isAmbiguousAwait()?this.ambiguousScriptDifferentAst=!0:this.sawUnambiguousESM=!0),this.state.soloAwait||(t.argument=this.parseMaybeUnary(null,!0)),this.finishNode(t,"AwaitExpression")}isAmbiguousAwait(){if(this.hasPrecedingLineBreak())return!0;let{type:r}=this.state;return r===53||r===10||r===0||Ou(r)||r===102&&!this.state.containsEsc||r===137||r===56||this.hasPlugin("v8intrinsic")&&r===54}parseYield(){let r=this.startNode();this.expressionScope.recordParameterInitializerError(S.YieldInParameter,r),this.next();let t=!1,i=null;if(!this.hasPrecedingLineBreak())switch(t=this.eat(55),this.state.type){case 13:case 139:case 8:case 11:case 3:case 9:case 14:case 12:if(!t)break;default:i=this.parseMaybeAssign()}return r.delegate=t,r.argument=i,this.finishNode(r,"YieldExpression")}parseImportCall(r){return this.next(),r.source=this.parseMaybeAssignAllowIn(),(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))&&(r.options=null),this.eat(12)&&(this.hasPlugin("moduleAttributes")||this.hasPlugin("importAssertions")||this.expectPlugin("importAttributes"),this.match(11)||(r.options=this.parseMaybeAssignAllowIn(),this.eat(12))),this.expect(11),this.finishNode(r,"ImportExpression")}checkPipelineAtInfixOperator(r,t){this.hasPlugin(["pipelineOperator",{proposal:"smart"}])&&r.type==="SequenceExpression"&&this.raise(S.PipelineHeadSequenceExpression,t)}parseSmartPipelineBodyInStyle(r,t){if(this.isSimpleReference(r)){let i=this.startNodeAt(t);return i.callee=r,this.finishNode(i,"PipelineBareFunction")}else{let i=this.startNodeAt(t);return this.checkSmartPipeTopicBodyEarlyErrors(t),i.expression=r,this.finishNode(i,"PipelineTopicExpression")}}isSimpleReference(r){switch(r.type){case"MemberExpression":return!r.computed&&this.isSimpleReference(r.object);case"Identifier":return!0;default:return!1}}checkSmartPipeTopicBodyEarlyErrors(r){if(this.match(19))throw this.raise(S.PipelineBodyNoArrow,this.state.startLoc);this.topicReferenceWasUsedInCurrentContext()||this.raise(S.PipelineTopicUnused,r)}withTopicBindingContext(r){let t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return r()}finally{this.state.topicContext=t}}withSmartMixTopicForbiddingContext(r){if(this.hasPlugin(["pipelineOperator",{proposal:"smart"}])){let t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return r()}finally{this.state.topicContext=t}}else return r()}withSoloAwaitPermittingContext(r){let t=this.state.soloAwait;this.state.soloAwait=!0;try{return r()}finally{this.state.soloAwait=t}}allowInAnd(r){let t=this.prodParam.currentFlags();if(8&~t){this.prodParam.enter(t|8);try{return r()}finally{this.prodParam.exit()}}return r()}disallowInAnd(r){let t=this.prodParam.currentFlags();if(8&t){this.prodParam.enter(t&-9);try{return r()}finally{this.prodParam.exit()}}return r()}registerTopicReference(){this.state.topicContext.maxTopicIndex=0}topicReferenceIsAllowedInCurrentContext(){return this.state.topicContext.maxNumOfResolvableTopics>=1}topicReferenceWasUsedInCurrentContext(){return this.state.topicContext.maxTopicIndex!=null&&this.state.topicContext.maxTopicIndex>=0}parseFSharpPipelineBody(r){let t=this.state.startLoc;this.state.potentialArrowAt=this.state.start;let i=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!0;let n=this.parseExprOp(this.parseMaybeUnaryOrPrivate(),t,r);return this.state.inFSharpPipelineDirectBody=i,n}parseModuleExpression(){this.expectPlugin("moduleBlocks");let r=this.startNode();this.next(),this.match(5)||this.unexpected(null,5);let t=this.startNodeAt(this.state.endLoc);this.next();let i=this.initializeScopes(!0);this.enterInitialScopes();try{r.body=this.parseProgram(t,8,"module")}finally{i()}return this.finishNode(r,"ModuleExpression")}parsePropertyNamePrefixOperator(r){}},qf={kind:1},wB={kind:2},TB=/[\uD800-\uDFFF]/u,Kf=/in(?:stanceof)?/y;function AB(e,r){for(let t=0;t<e.length;t++){let i=e[t],{type:n}=i;if(typeof n=="number"){{if(n===138){let{loc:s,start:o,value:a,end:l}=i,u=o+1,c=jt(s.start,1);e.splice(t,1,new di({type:Ki(27),value:"#",start:o,end:u,startLoc:s.start,endLoc:c}),new di({type:Ki(132),value:a,start:u,end:l,startLoc:c,endLoc:s.end})),t++;continue}if(Ou(n)){let{loc:s,start:o,value:a,end:l}=i,u=o+1,c=jt(s.start,1),p;r.charCodeAt(o)===96?p=new di({type:Ki(22),value:"`",start:o,end:u,startLoc:s.start,endLoc:c}):p=new di({type:Ki(8),value:"}",start:o,end:u,startLoc:s.start,endLoc:c});let d,h,f,g;n===24?(h=l-1,f=jt(s.end,-1),d=a===null?null:a.slice(1,-1),g=new di({type:Ki(22),value:"`",start:h,end:l,startLoc:f,endLoc:s.end})):(h=l-2,f=jt(s.end,-2),d=a===null?null:a.slice(1,-2),g=new di({type:Ki(23),value:"${",start:h,end:l,startLoc:f,endLoc:s.end})),e.splice(t,1,p,new di({type:Ki(20),value:d,start:u,end:h,startLoc:c,endLoc:f}),g),t+=2;continue}}i.type=Ki(n)}}return e}var uh=class extends lh{parseTopLevel(r,t){return r.program=this.parseProgram(t),r.comments=this.comments,this.options.tokens&&(r.tokens=AB(this.tokens,this.input)),this.finishNode(r,"File")}parseProgram(r,t=139,i=this.options.sourceType){if(r.sourceType=i,r.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(r,!0,!0,t),this.inModule){if(!this.options.allowUndeclaredExports&&this.scope.undefinedExports.size>0)for(let[s,o]of Array.from(this.scope.undefinedExports))this.raise(S.ModuleExportUndefined,o,{localName:s});this.addExtra(r,"topLevelAwait",this.state.hasTopLevelAwait)}let n;return t===139?n=this.finishNode(r,"Program"):n=this.finishNodeAt(r,"Program",jt(this.state.startLoc,-1)),n}stmtToDirective(r){let t=r;t.type="Directive",t.value=t.expression,delete t.expression;let i=t.value,n=i.value,s=this.input.slice(i.start,i.end),o=i.value=s.slice(1,-1);return this.addExtra(i,"raw",s),this.addExtra(i,"rawValue",o),this.addExtra(i,"expressionValue",n),i.type="DirectiveLiteral",t}parseInterpreterDirective(){if(!this.match(28))return null;let r=this.startNode();return r.value=this.state.value,this.next(),this.finishNode(r,"InterpreterDirective")}isLet(){return this.isContextual(100)?this.hasFollowingBindingAtom():!1}chStartsBindingIdentifier(r,t){if(zi(r)){if(Kf.lastIndex=t,Kf.test(this.input)){let i=this.codePointAtPos(Kf.lastIndex);if(!Ms(i)&&i!==92)return!1}return!0}else return r===92}chStartsBindingPattern(r){return r===91||r===123}hasFollowingBindingAtom(){let r=this.nextTokenStart(),t=this.codePointAtPos(r);return this.chStartsBindingPattern(t)||this.chStartsBindingIdentifier(t,r)}hasInLineFollowingBindingIdentifierOrBrace(){let r=this.nextTokenInLineStart(),t=this.codePointAtPos(r);return t===123||this.chStartsBindingIdentifier(t,r)}startsUsingForOf(){let{type:r,containsEsc:t}=this.lookahead();if(r===102&&!t)return!1;if(we(r)&&!this.hasFollowingLineBreak())return this.expectPlugin("explicitResourceManagement"),!0}startsAwaitUsing(){let r=this.nextTokenInLineStart();if(this.isUnparsedContextual(r,"using")){r=this.nextTokenInLineStartSince(r+5);let t=this.codePointAtPos(r);if(this.chStartsBindingIdentifier(t,r))return this.expectPlugin("explicitResourceManagement"),!0}return!1}parseModuleItem(){return this.parseStatementLike(15)}parseStatementListItem(){return this.parseStatementLike(6|(!this.options.annexB||this.state.strict?0:8))}parseStatementOrSloppyAnnexBFunctionDeclaration(r=!1){let t=0;return this.options.annexB&&!this.state.strict&&(t|=4,r&&(t|=8)),this.parseStatementLike(t)}parseStatement(){return this.parseStatementLike(0)}parseStatementLike(r){let t=null;return this.match(26)&&(t=this.parseDecorators(!0)),this.parseStatementContent(r,t)}parseStatementContent(r,t){let i=this.state.type,n=this.startNode(),s=!!(r&2),o=!!(r&4),a=r&1;switch(i){case 60:return this.parseBreakContinueStatement(n,!0);case 63:return this.parseBreakContinueStatement(n,!1);case 64:return this.parseDebuggerStatement(n);case 90:return this.parseDoWhileStatement(n);case 91:return this.parseForStatement(n);case 68:if(this.lookaheadCharCode()===46)break;return o||this.raise(this.state.strict?S.StrictFunction:this.options.annexB?S.SloppyFunctionAnnexB:S.SloppyFunction,this.state.startLoc),this.parseFunctionStatement(n,!1,!s&&o);case 80:return s||this.unexpected(),this.parseClass(this.maybeTakeDecorators(t,n),!0);case 69:return this.parseIfStatement(n);case 70:return this.parseReturnStatement(n);case 71:return this.parseSwitchStatement(n);case 72:return this.parseThrowStatement(n);case 73:return this.parseTryStatement(n);case 96:if(!this.state.containsEsc&&this.startsAwaitUsing())return this.recordAwaitIfAllowed()?s||this.raise(S.UnexpectedLexicalDeclaration,n):this.raise(S.AwaitUsingNotInAsyncContext,n),this.next(),this.parseVarStatement(n,"await using");break;case 107:if(this.state.containsEsc||!this.hasInLineFollowingBindingIdentifierOrBrace())break;return this.expectPlugin("explicitResourceManagement"),!this.scope.inModule&&this.scope.inTopLevel?this.raise(S.UnexpectedUsingDeclaration,this.state.startLoc):s||this.raise(S.UnexpectedLexicalDeclaration,this.state.startLoc),this.parseVarStatement(n,"using");case 100:{if(this.state.containsEsc)break;let c=this.nextTokenStart(),p=this.codePointAtPos(c);if(p!==91&&(!s&&this.hasFollowingLineBreak()||!this.chStartsBindingIdentifier(p,c)&&p!==123))break}case 75:s||this.raise(S.UnexpectedLexicalDeclaration,this.state.startLoc);case 74:{let c=this.state.value;return this.parseVarStatement(n,c)}case 92:return this.parseWhileStatement(n);case 76:return this.parseWithStatement(n);case 5:return this.parseBlock();case 13:return this.parseEmptyStatement(n);case 83:{let c=this.lookaheadCharCode();if(c===40||c===46)break}case 82:{!this.options.allowImportExportEverywhere&&!a&&this.raise(S.UnexpectedImportExport,this.state.startLoc),this.next();let c;return i===83?(c=this.parseImport(n),c.type==="ImportDeclaration"&&(!c.importKind||c.importKind==="value")&&(this.sawUnambiguousESM=!0)):(c=this.parseExport(n,t),(c.type==="ExportNamedDeclaration"&&(!c.exportKind||c.exportKind==="value")||c.type==="ExportAllDeclaration"&&(!c.exportKind||c.exportKind==="value")||c.type==="ExportDefaultDeclaration")&&(this.sawUnambiguousESM=!0)),this.assertModuleNodeAllowed(c),c}default:if(this.isAsyncFunction())return s||this.raise(S.AsyncFunctionInSingleStatementContext,this.state.startLoc),this.next(),this.parseFunctionStatement(n,!0,!s&&o)}let l=this.state.value,u=this.parseExpression();return we(i)&&u.type==="Identifier"&&this.eat(14)?this.parseLabeledStatement(n,l,u,r):this.parseExpressionStatement(n,u,t)}assertModuleNodeAllowed(r){!this.options.allowImportExportEverywhere&&!this.inModule&&this.raise(S.ImportOutsideModule,r)}decoratorsEnabledBeforeExport(){return this.hasPlugin("decorators-legacy")?!0:this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")!==!1}maybeTakeDecorators(r,t,i){return r&&(t.decorators&&t.decorators.length>0?(typeof this.getPluginOption("decorators","decoratorsBeforeExport")!="boolean"&&this.raise(S.DecoratorsBeforeAfterExport,t.decorators[0]),t.decorators.unshift(...r)):t.decorators=r,this.resetStartLocationFromNode(t,r[0]),i&&this.resetStartLocationFromNode(i,t)),t}canHaveLeadingDecorator(){return this.match(80)}parseDecorators(r){let t=[];do t.push(this.parseDecorator());while(this.match(26));if(this.match(82))r||this.unexpected(),this.decoratorsEnabledBeforeExport()||this.raise(S.DecoratorExportClass,this.state.startLoc);else if(!this.canHaveLeadingDecorator())throw this.raise(S.UnexpectedLeadingDecorator,this.state.startLoc);return t}parseDecorator(){this.expectOnePlugin(["decorators","decorators-legacy"]);let r=this.startNode();if(this.next(),this.hasPlugin("decorators")){let t=this.state.startLoc,i;if(this.match(10)){let n=this.state.startLoc;this.next(),i=this.parseExpression(),this.expect(11),i=this.wrapParenthesis(n,i);let s=this.state.startLoc;r.expression=this.parseMaybeDecoratorArguments(i),this.getPluginOption("decorators","allowCallParenthesized")===!1&&r.expression!==i&&this.raise(S.DecoratorArgumentsOutsideParentheses,s)}else{for(i=this.parseIdentifier(!1);this.eat(16);){let n=this.startNodeAt(t);n.object=i,this.match(138)?(this.classScope.usePrivateName(this.state.value,this.state.startLoc),n.property=this.parsePrivateName()):n.property=this.parseIdentifier(!0),n.computed=!1,i=this.finishNode(n,"MemberExpression")}r.expression=this.parseMaybeDecoratorArguments(i)}}else r.expression=this.parseExprSubscripts();return this.finishNode(r,"Decorator")}parseMaybeDecoratorArguments(r){if(this.eat(10)){let t=this.startNodeAtNode(r);return t.callee=r,t.arguments=this.parseCallExpressionArguments(11,!1),this.toReferencedList(t.arguments),this.finishNode(t,"CallExpression")}return r}parseBreakContinueStatement(r,t){return this.next(),this.isLineTerminator()?r.label=null:(r.label=this.parseIdentifier(),this.semicolon()),this.verifyBreakContinue(r,t),this.finishNode(r,t?"BreakStatement":"ContinueStatement")}verifyBreakContinue(r,t){let i;for(i=0;i<this.state.labels.length;++i){let n=this.state.labels[i];if((r.label==null||n.name===r.label.name)&&(n.kind!=null&&(t||n.kind===1)||r.label&&t))break}if(i===this.state.labels.length){let n=t?"BreakStatement":"ContinueStatement";this.raise(S.IllegalBreakContinue,r,{type:n})}}parseDebuggerStatement(r){return this.next(),this.semicolon(),this.finishNode(r,"DebuggerStatement")}parseHeaderExpression(){this.expect(10);let r=this.parseExpression();return this.expect(11),r}parseDoWhileStatement(r){return this.next(),this.state.labels.push(qf),r.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.expect(92),r.test=this.parseHeaderExpression(),this.eat(13),this.finishNode(r,"DoWhileStatement")}parseForStatement(r){this.next(),this.state.labels.push(qf);let t=null;if(this.isContextual(96)&&this.recordAwaitIfAllowed()&&(t=this.state.startLoc,this.next()),this.scope.enter(0),this.expect(10),this.match(13))return t!==null&&this.unexpected(t),this.parseFor(r,null);let i=this.isContextual(100);{let l=this.isContextual(96)&&this.startsAwaitUsing(),u=l||this.isContextual(107)&&this.startsUsingForOf(),c=i&&this.hasFollowingBindingAtom()||u;if(this.match(74)||this.match(75)||c){let p=this.startNode(),d;l?(d="await using",this.recordAwaitIfAllowed()||this.raise(S.AwaitUsingNotInAsyncContext,this.state.startLoc),this.next()):d=this.state.value,this.next(),this.parseVar(p,!0,d);let h=this.finishNode(p,"VariableDeclaration"),f=this.match(58);return f&&u&&this.raise(S.ForInUsing,h),(f||this.isContextual(102))&&h.declarations.length===1?this.parseForIn(r,h,t):(t!==null&&this.unexpected(t),this.parseFor(r,h))}}let n=this.isContextual(95),s=new $s,o=this.parseExpression(!0,s),a=this.isContextual(102);if(a&&(i&&this.raise(S.ForOfLet,o),t===null&&n&&o.type==="Identifier"&&this.raise(S.ForOfAsync,o)),a||this.match(58)){this.checkDestructuringPrivate(s),this.toAssignable(o,!0);let l=a?"ForOfStatement":"ForInStatement";return this.checkLVal(o,{type:l}),this.parseForIn(r,o,t)}else this.checkExpressionErrors(s,!0);return t!==null&&this.unexpected(t),this.parseFor(r,o)}parseFunctionStatement(r,t,i){return this.next(),this.parseFunction(r,1|(i?2:0)|(t?8:0))}parseIfStatement(r){return this.next(),r.test=this.parseHeaderExpression(),r.consequent=this.parseStatementOrSloppyAnnexBFunctionDeclaration(),r.alternate=this.eat(66)?this.parseStatementOrSloppyAnnexBFunctionDeclaration():null,this.finishNode(r,"IfStatement")}parseReturnStatement(r){return!this.prodParam.hasReturn&&!this.options.allowReturnOutsideFunction&&this.raise(S.IllegalReturn,this.state.startLoc),this.next(),this.isLineTerminator()?r.argument=null:(r.argument=this.parseExpression(),this.semicolon()),this.finishNode(r,"ReturnStatement")}parseSwitchStatement(r){this.next(),r.discriminant=this.parseHeaderExpression();let t=r.cases=[];this.expect(5),this.state.labels.push(wB),this.scope.enter(0);let i;for(let n;!this.match(8);)if(this.match(61)||this.match(65)){let s=this.match(61);i&&this.finishNode(i,"SwitchCase"),t.push(i=this.startNode()),i.consequent=[],this.next(),s?i.test=this.parseExpression():(n&&this.raise(S.MultipleDefaultsInSwitch,this.state.lastTokStartLoc),n=!0,i.test=null),this.expect(14)}else i?i.consequent.push(this.parseStatementListItem()):this.unexpected();return this.scope.exit(),i&&this.finishNode(i,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(r,"SwitchStatement")}parseThrowStatement(r){return this.next(),this.hasPrecedingLineBreak()&&this.raise(S.NewlineAfterThrow,this.state.lastTokEndLoc),r.argument=this.parseExpression(),this.semicolon(),this.finishNode(r,"ThrowStatement")}parseCatchClauseParam(){let r=this.parseBindingAtom();return this.scope.enter(this.options.annexB&&r.type==="Identifier"?8:0),this.checkLVal(r,{type:"CatchClause"},9),r}parseTryStatement(r){if(this.next(),r.block=this.parseBlock(),r.handler=null,this.match(62)){let t=this.startNode();this.next(),this.match(10)?(this.expect(10),t.param=this.parseCatchClauseParam(),this.expect(11)):(t.param=null,this.scope.enter(0)),t.body=this.withSmartMixTopicForbiddingContext(()=>this.parseBlock(!1,!1)),this.scope.exit(),r.handler=this.finishNode(t,"CatchClause")}return r.finalizer=this.eat(67)?this.parseBlock():null,!r.handler&&!r.finalizer&&this.raise(S.NoCatchOrFinally,r),this.finishNode(r,"TryStatement")}parseVarStatement(r,t,i=!1){return this.next(),this.parseVar(r,!1,t,i),this.semicolon(),this.finishNode(r,"VariableDeclaration")}parseWhileStatement(r){return this.next(),r.test=this.parseHeaderExpression(),this.state.labels.push(qf),r.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.finishNode(r,"WhileStatement")}parseWithStatement(r){return this.state.strict&&this.raise(S.StrictWith,this.state.startLoc),this.next(),r.object=this.parseHeaderExpression(),r.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.finishNode(r,"WithStatement")}parseEmptyStatement(r){return this.next(),this.finishNode(r,"EmptyStatement")}parseLabeledStatement(r,t,i,n){for(let o of this.state.labels)o.name===t&&this.raise(S.LabelRedeclaration,i,{labelName:t});let s=_M(this.state.type)?1:this.match(71)?2:null;for(let o=this.state.labels.length-1;o>=0;o--){let a=this.state.labels[o];if(a.statementStart===r.start)a.statementStart=this.state.start,a.kind=s;else break}return this.state.labels.push({name:t,kind:s,statementStart:this.state.start}),r.body=n&8?this.parseStatementOrSloppyAnnexBFunctionDeclaration(!0):this.parseStatement(),this.state.labels.pop(),r.label=i,this.finishNode(r,"LabeledStatement")}parseExpressionStatement(r,t,i){return r.expression=t,this.semicolon(),this.finishNode(r,"ExpressionStatement")}parseBlock(r=!1,t=!0,i){let n=this.startNode();return r&&this.state.strictErrors.clear(),this.expect(5),t&&this.scope.enter(0),this.parseBlockBody(n,r,!1,8,i),t&&this.scope.exit(),this.finishNode(n,"BlockStatement")}isValidDirective(r){return r.type==="ExpressionStatement"&&r.expression.type==="StringLiteral"&&!r.expression.extra.parenthesized}parseBlockBody(r,t,i,n,s){let o=r.body=[],a=r.directives=[];this.parseBlockOrModuleBlockBody(o,t?a:void 0,i,n,s)}parseBlockOrModuleBlockBody(r,t,i,n,s){let o=this.state.strict,a=!1,l=!1;for(;!this.match(n);){let u=i?this.parseModuleItem():this.parseStatementListItem();if(t&&!l){if(this.isValidDirective(u)){let c=this.stmtToDirective(u);t.push(c),!a&&c.value.value==="use strict"&&(a=!0,this.setStrict(!0));continue}l=!0,this.state.strictErrors.clear()}r.push(u)}s?.call(this,a),o||this.setStrict(!1),this.next()}parseFor(r,t){return r.init=t,this.semicolon(!1),r.test=this.match(13)?null:this.parseExpression(),this.semicolon(!1),r.update=this.match(11)?null:this.parseExpression(),this.expect(11),r.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(r,"ForStatement")}parseForIn(r,t,i){let n=this.match(58);return this.next(),n?i!==null&&this.unexpected(i):r.await=i!==null,t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||!this.options.annexB||this.state.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(S.ForInOfLoopInitializer,t,{type:n?"ForInStatement":"ForOfStatement"}),t.type==="AssignmentPattern"&&this.raise(S.InvalidLhs,t,{ancestor:{type:"ForStatement"}}),r.left=t,r.right=n?this.parseExpression():this.parseMaybeAssignAllowIn(),this.expect(11),r.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(r,n?"ForInStatement":"ForOfStatement")}parseVar(r,t,i,n=!1){let s=r.declarations=[];for(r.kind=i;;){let o=this.startNode();if(this.parseVarId(o,i),o.init=this.eat(29)?t?this.parseMaybeAssignDisallowIn():this.parseMaybeAssignAllowIn():null,o.init===null&&!n&&(o.id.type!=="Identifier"&&!(t&&(this.match(58)||this.isContextual(102)))?this.raise(S.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:"destructuring"}):(i==="const"||i==="using"||i==="await using")&&!(this.match(58)||this.isContextual(102))&&this.raise(S.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:i})),s.push(this.finishNode(o,"VariableDeclarator")),!this.eat(12))break}return r}parseVarId(r,t){let i=this.parseBindingAtom();(t==="using"||t==="await using")&&(i.type==="ArrayPattern"||i.type==="ObjectPattern")&&this.raise(S.UsingDeclarationHasBindingPattern,i.loc.start),this.checkLVal(i,{type:"VariableDeclarator"},t==="var"?5:8201),r.id=i}parseAsyncFunctionExpression(r){return this.parseFunction(r,8)}parseFunction(r,t=0){let i=t&2,n=!!(t&1),s=n&&!(t&4),o=!!(t&8);this.initFunction(r,o),this.match(55)&&(i&&this.raise(S.GeneratorInSingleStatementContext,this.state.startLoc),this.next(),r.generator=!0),n&&(r.id=this.parseFunctionId(s));let a=this.state.maybeInArrowParameters;return this.state.maybeInArrowParameters=!1,this.scope.enter(2),this.prodParam.enter(Fu(o,r.generator)),n||(r.id=this.parseFunctionId()),this.parseFunctionParams(r,!1),this.withSmartMixTopicForbiddingContext(()=>{this.parseFunctionBodyAndFinish(r,n?"FunctionDeclaration":"FunctionExpression")}),this.prodParam.exit(),this.scope.exit(),n&&!i&&this.registerFunctionStatementId(r),this.state.maybeInArrowParameters=a,r}parseFunctionId(r){return r||we(this.state.type)?this.parseIdentifier():null}parseFunctionParams(r,t){this.expect(10),this.expressionScope.enter(eB()),r.params=this.parseBindingList(11,41,2|(t?4:0)),this.expressionScope.exit()}registerFunctionStatementId(r){r.id&&this.scope.declareName(r.id.name,!this.options.annexB||this.state.strict||r.generator||r.async?this.scope.treatFunctionsAsVar?5:8201:17,r.id.loc.start)}parseClass(r,t,i){this.next();let n=this.state.strict;return this.state.strict=!0,this.parseClassId(r,t,i),this.parseClassSuper(r),r.body=this.parseClassBody(!!r.superClass,n),this.finishNode(r,t?"ClassDeclaration":"ClassExpression")}isClassProperty(){return this.match(29)||this.match(13)||this.match(8)}isClassMethod(){return this.match(10)}nameIsConstructor(r){return r.type==="Identifier"&&r.name==="constructor"||r.type==="StringLiteral"&&r.value==="constructor"}isNonstaticConstructor(r){return!r.computed&&!r.static&&this.nameIsConstructor(r.key)}parseClassBody(r,t){this.classScope.enter();let i={hadConstructor:!1,hadSuperClass:r},n=[],s=this.startNode();if(s.body=[],this.expect(5),this.withSmartMixTopicForbiddingContext(()=>{for(;!this.match(8);){if(this.eat(13)){if(n.length>0)throw this.raise(S.DecoratorSemicolon,this.state.lastTokEndLoc);continue}if(this.match(26)){n.push(this.parseDecorator());continue}let o=this.startNode();n.length&&(o.decorators=n,this.resetStartLocationFromNode(o,n[0]),n=[]),this.parseClassMember(s,o,i),o.kind==="constructor"&&o.decorators&&o.decorators.length>0&&this.raise(S.DecoratorConstructor,o)}}),this.state.strict=t,this.next(),n.length)throw this.raise(S.TrailingDecorator,this.state.startLoc);return this.classScope.exit(),this.finishNode(s,"ClassBody")}parseClassMemberFromModifier(r,t){let i=this.parseIdentifier(!0);if(this.isClassMethod()){let n=t;return n.kind="method",n.computed=!1,n.key=i,n.static=!1,this.pushClassMethod(r,n,!1,!1,!1,!1),!0}else if(this.isClassProperty()){let n=t;return n.computed=!1,n.key=i,n.static=!1,r.body.push(this.parseClassProperty(n)),!0}return this.resetPreviousNodeTrailingComments(i),!1}parseClassMember(r,t,i){let n=this.isContextual(106);if(n){if(this.parseClassMemberFromModifier(r,t))return;if(this.eat(5)){this.parseClassStaticBlock(r,t);return}}this.parseClassMemberWithIsStatic(r,t,i,n)}parseClassMemberWithIsStatic(r,t,i,n){let s=t,o=t,a=t,l=t,u=t,c=s,p=s;if(t.static=n,this.parsePropertyNamePrefixOperator(t),this.eat(55)){c.kind="method";let y=this.match(138);if(this.parseClassElementName(c),y){this.pushClassPrivateMethod(r,o,!0,!1);return}this.isNonstaticConstructor(s)&&this.raise(S.ConstructorIsGenerator,s.key),this.pushClassMethod(r,s,!0,!1,!1,!1);return}let d=!this.state.containsEsc&&we(this.state.type),h=this.parseClassElementName(t),f=d?h.name:null,g=this.isPrivateName(h),m=this.state.startLoc;if(this.parsePostMemberNameModifiers(p),this.isClassMethod()){if(c.kind="method",g){this.pushClassPrivateMethod(r,o,!1,!1);return}let y=this.isNonstaticConstructor(s),b=!1;y&&(s.kind="constructor",i.hadConstructor&&!this.hasPlugin("typescript")&&this.raise(S.DuplicateConstructor,h),y&&this.hasPlugin("typescript")&&t.override&&this.raise(S.OverrideOnConstructor,h),i.hadConstructor=!0,b=i.hadSuperClass),this.pushClassMethod(r,s,!1,!1,y,b)}else if(this.isClassProperty())g?this.pushClassPrivateProperty(r,l):this.pushClassProperty(r,a);else if(f==="async"&&!this.isLineTerminator()){this.resetPreviousNodeTrailingComments(h);let y=this.eat(55);p.optional&&this.unexpected(m),c.kind="method";let b=this.match(138);this.parseClassElementName(c),this.parsePostMemberNameModifiers(p),b?this.pushClassPrivateMethod(r,o,y,!0):(this.isNonstaticConstructor(s)&&this.raise(S.ConstructorIsAsync,s.key),this.pushClassMethod(r,s,y,!0,!1,!1))}else if((f==="get"||f==="set")&&!(this.match(55)&&this.isLineTerminator())){this.resetPreviousNodeTrailingComments(h),c.kind=f;let y=this.match(138);this.parseClassElementName(s),y?this.pushClassPrivateMethod(r,o,!1,!1):(this.isNonstaticConstructor(s)&&this.raise(S.ConstructorIsAccessor,s.key),this.pushClassMethod(r,s,!1,!1,!1,!1)),this.checkGetterSetterParams(s)}else if(f==="accessor"&&!this.isLineTerminator()){this.expectPlugin("decoratorAutoAccessors"),this.resetPreviousNodeTrailingComments(h);let y=this.match(138);this.parseClassElementName(a),this.pushClassAccessorProperty(r,u,y)}else this.isLineTerminator()?g?this.pushClassPrivateProperty(r,l):this.pushClassProperty(r,a):this.unexpected()}parseClassElementName(r){let{type:t,value:i}=this.state;if((t===132||t===133)&&r.static&&i==="prototype"&&this.raise(S.StaticPrototype,this.state.startLoc),t===138){i==="constructor"&&this.raise(S.ConstructorClassPrivateField,this.state.startLoc);let n=this.parsePrivateName();return r.key=n,n}return this.parsePropertyName(r),r.key}parseClassStaticBlock(r,t){var i;this.scope.enter(208);let n=this.state.labels;this.state.labels=[],this.prodParam.enter(0);let s=t.body=[];this.parseBlockOrModuleBlockBody(s,void 0,!1,8),this.prodParam.exit(),this.scope.exit(),this.state.labels=n,r.body.push(this.finishNode(t,"StaticBlock")),(i=t.decorators)!=null&&i.length&&this.raise(S.DecoratorStaticBlock,t)}pushClassProperty(r,t){!t.computed&&this.nameIsConstructor(t.key)&&this.raise(S.ConstructorClassField,t.key),r.body.push(this.parseClassProperty(t))}pushClassPrivateProperty(r,t){let i=this.parseClassPrivateProperty(t);r.body.push(i),this.classScope.declarePrivateName(this.getPrivateNameSV(i.key),0,i.key.loc.start)}pushClassAccessorProperty(r,t,i){!i&&!t.computed&&this.nameIsConstructor(t.key)&&this.raise(S.ConstructorClassField,t.key);let n=this.parseClassAccessorProperty(t);r.body.push(n),i&&this.classScope.declarePrivateName(this.getPrivateNameSV(n.key),0,n.key.loc.start)}pushClassMethod(r,t,i,n,s,o){r.body.push(this.parseMethod(t,i,n,s,o,"ClassMethod",!0))}pushClassPrivateMethod(r,t,i,n){let s=this.parseMethod(t,i,n,!1,!1,"ClassPrivateMethod",!0);r.body.push(s);let o=s.kind==="get"?s.static?6:2:s.kind==="set"?s.static?5:1:0;this.declareClassPrivateMethodInScope(s,o)}declareClassPrivateMethodInScope(r,t){this.classScope.declarePrivateName(this.getPrivateNameSV(r.key),t,r.key.loc.start)}parsePostMemberNameModifiers(r){}parseClassPrivateProperty(r){return this.parseInitializer(r),this.semicolon(),this.finishNode(r,"ClassPrivateProperty")}parseClassProperty(r){return this.parseInitializer(r),this.semicolon(),this.finishNode(r,"ClassProperty")}parseClassAccessorProperty(r){return this.parseInitializer(r),this.semicolon(),this.finishNode(r,"ClassAccessorProperty")}parseInitializer(r){this.scope.enter(80),this.expressionScope.enter(Vv()),this.prodParam.enter(0),r.value=this.eat(29)?this.parseMaybeAssignAllowIn():null,this.expressionScope.exit(),this.prodParam.exit(),this.scope.exit()}parseClassId(r,t,i,n=8331){if(we(this.state.type))r.id=this.parseIdentifier(),t&&this.declareNameFromIdentifier(r.id,n);else if(i||!t)r.id=null;else throw this.raise(S.MissingClassName,this.state.startLoc)}parseClassSuper(r){r.superClass=this.eat(81)?this.parseExprSubscripts():null}parseExport(r,t){let i=this.parseMaybeImportPhase(r,!0),n=this.maybeParseExportDefaultSpecifier(r,i),s=!n||this.eat(12),o=s&&this.eatExportStar(r),a=o&&this.maybeParseExportNamespaceSpecifier(r),l=s&&(!a||this.eat(12)),u=n||o;if(o&&!a){if(n&&this.unexpected(),t)throw this.raise(S.UnsupportedDecoratorExport,r);return this.parseExportFrom(r,!0),this.finishNode(r,"ExportAllDeclaration")}let c=this.maybeParseExportNamedSpecifiers(r);n&&s&&!o&&!c&&this.unexpected(null,5),a&&l&&this.unexpected(null,98);let p;if(u||c){if(p=!1,t)throw this.raise(S.UnsupportedDecoratorExport,r);this.parseExportFrom(r,u)}else p=this.maybeParseExportDeclaration(r);if(u||c||p){var d;let h=r;if(this.checkExport(h,!0,!1,!!h.source),((d=h.declaration)==null?void 0:d.type)==="ClassDeclaration")this.maybeTakeDecorators(t,h.declaration,h);else if(t)throw this.raise(S.UnsupportedDecoratorExport,r);return this.finishNode(h,"ExportNamedDeclaration")}if(this.eat(65)){let h=r,f=this.parseExportDefaultExpression();if(h.declaration=f,f.type==="ClassDeclaration")this.maybeTakeDecorators(t,f,h);else if(t)throw this.raise(S.UnsupportedDecoratorExport,r);return this.checkExport(h,!0,!0),this.finishNode(h,"ExportDefaultDeclaration")}this.unexpected(null,5)}eatExportStar(r){return this.eat(55)}maybeParseExportDefaultSpecifier(r,t){if(t||this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom",t?.loc.start);let i=t||this.parseIdentifier(!0),n=this.startNodeAtNode(i);return n.exported=i,r.specifiers=[this.finishNode(n,"ExportDefaultSpecifier")],!0}return!1}maybeParseExportNamespaceSpecifier(r){if(this.isContextual(93)){var t,i;(i=(t=r).specifiers)!=null||(t.specifiers=[]);let n=this.startNodeAt(this.state.lastTokStartLoc);return this.next(),n.exported=this.parseModuleExportName(),r.specifiers.push(this.finishNode(n,"ExportNamespaceSpecifier")),!0}return!1}maybeParseExportNamedSpecifiers(r){if(this.match(5)){let t=r;t.specifiers||(t.specifiers=[]);let i=t.exportKind==="type";return t.specifiers.push(...this.parseExportSpecifiers(i)),t.source=null,t.declaration=null,this.hasPlugin("importAssertions")&&(t.assertions=[]),!0}return!1}maybeParseExportDeclaration(r){return this.shouldParseExportDeclaration()?(r.specifiers=[],r.source=null,this.hasPlugin("importAssertions")&&(r.assertions=[]),r.declaration=this.parseExportDeclaration(r),!0):!1}isAsyncFunction(){if(!this.isContextual(95))return!1;let r=this.nextTokenInLineStart();return this.isUnparsedContextual(r,"function")}parseExportDefaultExpression(){let r=this.startNode();if(this.match(68))return this.next(),this.parseFunction(r,5);if(this.isAsyncFunction())return this.next(),this.next(),this.parseFunction(r,13);if(this.match(80))return this.parseClass(r,!0,!0);if(this.match(26))return this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")===!0&&this.raise(S.DecoratorBeforeExport,this.state.startLoc),this.parseClass(this.maybeTakeDecorators(this.parseDecorators(!1),this.startNode()),!0,!0);if(this.match(75)||this.match(74)||this.isLet())throw this.raise(S.UnsupportedDefaultExport,this.state.startLoc);let t=this.parseMaybeAssignAllowIn();return this.semicolon(),t}parseExportDeclaration(r){return this.match(80)?this.parseClass(this.startNode(),!0,!1):this.parseStatementListItem()}isExportDefaultSpecifier(){let{type:r}=this.state;if(we(r)){if(r===95&&!this.state.containsEsc||r===100)return!1;if((r===130||r===129)&&!this.state.containsEsc){let{type:n}=this.lookahead();if(we(n)&&n!==98||n===5)return this.expectOnePlugin(["flow","typescript"]),!1}}else if(!this.match(65))return!1;let t=this.nextTokenStart(),i=this.isUnparsedContextual(t,"from");if(this.input.charCodeAt(t)===44||we(this.state.type)&&i)return!0;if(this.match(65)&&i){let n=this.input.charCodeAt(this.nextTokenStartSince(t+4));return n===34||n===39}return!1}parseExportFrom(r,t){this.eatContextual(98)?(r.source=this.parseImportSource(),this.checkExport(r),this.maybeParseImportAttributes(r),this.checkJSONModuleImport(r)):t&&this.unexpected(),this.semicolon()}shouldParseExportDeclaration(){let{type:r}=this.state;return r===26&&(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators"))?(this.getPluginOption("decorators","decoratorsBeforeExport")===!0&&this.raise(S.DecoratorBeforeExport,this.state.startLoc),!0):this.isContextual(107)?(this.raise(S.UsingDeclarationExport,this.state.startLoc),!0):this.isContextual(96)&&this.startsAwaitUsing()?(this.raise(S.UsingDeclarationExport,this.state.startLoc),!0):r===74||r===75||r===68||r===80||this.isLet()||this.isAsyncFunction()}checkExport(r,t,i,n){if(t){var s;if(i){if(this.checkDuplicateExports(r,"default"),this.hasPlugin("exportDefaultFrom")){var o;let a=r.declaration;a.type==="Identifier"&&a.name==="from"&&a.end-a.start===4&&!((o=a.extra)!=null&&o.parenthesized)&&this.raise(S.ExportDefaultFromAsIdentifier,a)}}else if((s=r.specifiers)!=null&&s.length)for(let a of r.specifiers){let{exported:l}=a,u=l.type==="Identifier"?l.name:l.value;if(this.checkDuplicateExports(a,u),!n&&a.local){let{local:c}=a;c.type!=="Identifier"?this.raise(S.ExportBindingIsString,a,{localName:c.value,exportName:u}):(this.checkReservedWord(c.name,c.loc.start,!0,!1),this.scope.checkLocalExport(c))}}else if(r.declaration){let a=r.declaration;if(a.type==="FunctionDeclaration"||a.type==="ClassDeclaration"){let{id:l}=a;if(!l)throw new Error("Assertion failure");this.checkDuplicateExports(r,l.name)}else if(a.type==="VariableDeclaration")for(let l of a.declarations)this.checkDeclaration(l.id)}}}checkDeclaration(r){if(r.type==="Identifier")this.checkDuplicateExports(r,r.name);else if(r.type==="ObjectPattern")for(let t of r.properties)this.checkDeclaration(t);else if(r.type==="ArrayPattern")for(let t of r.elements)t&&this.checkDeclaration(t);else r.type==="ObjectProperty"?this.checkDeclaration(r.value):r.type==="RestElement"?this.checkDeclaration(r.argument):r.type==="AssignmentPattern"&&this.checkDeclaration(r.left)}checkDuplicateExports(r,t){this.exportedIdentifiers.has(t)&&(t==="default"?this.raise(S.DuplicateDefaultExport,r):this.raise(S.DuplicateExport,r,{exportName:t})),this.exportedIdentifiers.add(t)}parseExportSpecifiers(r){let t=[],i=!0;for(this.expect(5);!this.eat(8);){if(i)i=!1;else if(this.expect(12),this.eat(8))break;let n=this.isContextual(130),s=this.match(133),o=this.startNode();o.local=this.parseModuleExportName(),t.push(this.parseExportSpecifier(o,s,r,n))}return t}parseExportSpecifier(r,t,i,n){return this.eatContextual(93)?r.exported=this.parseModuleExportName():t?r.exported=nB(r.local):r.exported||(r.exported=Gi(r.local)),this.finishNode(r,"ExportSpecifier")}parseModuleExportName(){if(this.match(133)){let r=this.parseStringLiteral(this.state.value),t=TB.exec(r.value);return t&&this.raise(S.ModuleExportNameHasLoneSurrogate,r,{surrogateCharCode:t[0].charCodeAt(0)}),r}return this.parseIdentifier(!0)}isJSONModuleImport(r){return r.assertions!=null?r.assertions.some(({key:t,value:i})=>i.value==="json"&&(t.type==="Identifier"?t.name==="type":t.value==="type")):!1}checkImportReflection(r){let{specifiers:t}=r,i=t.length===1?t[0].type:null;if(r.phase==="source")i!=="ImportDefaultSpecifier"&&this.raise(S.SourcePhaseImportRequiresDefault,t[0].loc.start);else if(r.phase==="defer")i!=="ImportNamespaceSpecifier"&&this.raise(S.DeferImportRequiresNamespace,t[0].loc.start);else if(r.module){var n;i!=="ImportDefaultSpecifier"&&this.raise(S.ImportReflectionNotBinding,t[0].loc.start),((n=r.assertions)==null?void 0:n.length)>0&&this.raise(S.ImportReflectionHasAssertion,t[0].loc.start)}}checkJSONModuleImport(r){if(this.isJSONModuleImport(r)&&r.type!=="ExportAllDeclaration"){let{specifiers:t}=r;if(t!=null){let i=t.find(n=>{let s;if(n.type==="ExportSpecifier"?s=n.local:n.type==="ImportSpecifier"&&(s=n.imported),s!==void 0)return s.type==="Identifier"?s.name!=="default":s.value!=="default"});i!==void 0&&this.raise(S.ImportJSONBindingNotDefault,i.loc.start)}}}isPotentialImportPhase(r){return r?!1:this.isContextual(105)||this.isContextual(97)||this.isContextual(127)}applyImportPhase(r,t,i,n){t||(i==="module"?(this.expectPlugin("importReflection",n),r.module=!0):this.hasPlugin("importReflection")&&(r.module=!1),i==="source"?(this.expectPlugin("sourcePhaseImports",n),r.phase="source"):i==="defer"?(this.expectPlugin("deferredImportEvaluation",n),r.phase="defer"):this.hasPlugin("sourcePhaseImports")&&(r.phase=null))}parseMaybeImportPhase(r,t){if(!this.isPotentialImportPhase(t))return this.applyImportPhase(r,t,null),null;let i=this.parseIdentifier(!0),{type:n}=this.state;return(Br(n)?n!==98||this.lookaheadCharCode()===102:n!==12)?(this.resetPreviousIdentifierLeadingComments(i),this.applyImportPhase(r,t,i.name,i.loc.start),null):(this.applyImportPhase(r,t,null),i)}isPrecedingIdImportPhase(r){let{type:t}=this.state;return we(t)?t!==98||this.lookaheadCharCode()===102:t!==12}parseImport(r){return this.match(133)?this.parseImportSourceAndAttributes(r):this.parseImportSpecifiersAndAfter(r,this.parseMaybeImportPhase(r,!1))}parseImportSpecifiersAndAfter(r,t){r.specifiers=[];let n=!this.maybeParseDefaultImportSpecifier(r,t)||this.eat(12),s=n&&this.maybeParseStarImportSpecifier(r);return n&&!s&&this.parseNamedImportSpecifiers(r),this.expectContextual(98),this.parseImportSourceAndAttributes(r)}parseImportSourceAndAttributes(r){var t;return(t=r.specifiers)!=null||(r.specifiers=[]),r.source=this.parseImportSource(),this.maybeParseImportAttributes(r),this.checkImportReflection(r),this.checkJSONModuleImport(r),this.semicolon(),this.finishNode(r,"ImportDeclaration")}parseImportSource(){return this.match(133)||this.unexpected(),this.parseExprAtom()}parseImportSpecifierLocal(r,t,i){t.local=this.parseIdentifier(),r.specifiers.push(this.finishImportSpecifier(t,i))}finishImportSpecifier(r,t,i=8201){return this.checkLVal(r.local,{type:t},i),this.finishNode(r,t)}parseImportAttributes(){this.expect(5);let r=[],t=new Set;do{if(this.match(8))break;let i=this.startNode(),n=this.state.value;if(t.has(n)&&this.raise(S.ModuleAttributesWithDuplicateKeys,this.state.startLoc,{key:n}),t.add(n),this.match(133)?i.key=this.parseStringLiteral(n):i.key=this.parseIdentifier(!0),this.expect(14),!this.match(133))throw this.raise(S.ModuleAttributeInvalidValue,this.state.startLoc);i.value=this.parseStringLiteral(this.state.value),r.push(this.finishNode(i,"ImportAttribute"))}while(this.eat(12));return this.expect(8),r}parseModuleAttributes(){let r=[],t=new Set;do{let i=this.startNode();if(i.key=this.parseIdentifier(!0),i.key.name!=="type"&&this.raise(S.ModuleAttributeDifferentFromType,i.key),t.has(i.key.name)&&this.raise(S.ModuleAttributesWithDuplicateKeys,i.key,{key:i.key.name}),t.add(i.key.name),this.expect(14),!this.match(133))throw this.raise(S.ModuleAttributeInvalidValue,this.state.startLoc);i.value=this.parseStringLiteral(this.state.value),r.push(this.finishNode(i,"ImportAttribute"))}while(this.eat(12));return r}maybeParseImportAttributes(r){let t;var i=!1;if(this.match(76)){if(this.hasPrecedingLineBreak()&&this.lookaheadCharCode()===40)return;this.next(),this.hasPlugin("moduleAttributes")?t=this.parseModuleAttributes():(this.hasPlugin("importAssertions")||this.expectPlugin("importAttributes"),t=this.parseImportAttributes()),i=!0}else if(this.isContextual(94)&&!this.hasPrecedingLineBreak())this.hasPlugin("importAttributes")?(this.getPluginOption("importAttributes","deprecatedAssertSyntax")!==!0&&this.raise(S.ImportAttributesUseAssert,this.state.startLoc),this.addExtra(r,"deprecatedAssertSyntax",!0)):this.expectOnePlugin(["importAttributes","importAssertions"]),this.next(),t=this.parseImportAttributes();else if(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))t=[];else if(this.hasPlugin("moduleAttributes"))t=[];else return;!i&&this.hasPlugin("importAssertions")?r.assertions=t:r.attributes=t}maybeParseDefaultImportSpecifier(r,t){if(t){let i=this.startNodeAtNode(t);return i.local=t,r.specifiers.push(this.finishImportSpecifier(i,"ImportDefaultSpecifier")),!0}else if(Br(this.state.type))return this.parseImportSpecifierLocal(r,this.startNode(),"ImportDefaultSpecifier"),!0;return!1}maybeParseStarImportSpecifier(r){if(this.match(55)){let t=this.startNode();return this.next(),this.expectContextual(93),this.parseImportSpecifierLocal(r,t,"ImportNamespaceSpecifier"),!0}return!1}parseNamedImportSpecifiers(r){let t=!0;for(this.expect(5);!this.eat(8);){if(t)t=!1;else{if(this.eat(14))throw this.raise(S.DestructureNamedImport,this.state.startLoc);if(this.expect(12),this.eat(8))break}let i=this.startNode(),n=this.match(133),s=this.isContextual(130);i.imported=this.parseModuleExportName();let o=this.parseImportSpecifier(i,n,r.importKind==="type"||r.importKind==="typeof",s,void 0);r.specifiers.push(o)}}parseImportSpecifier(r,t,i,n,s){if(this.eatContextual(93))r.local=this.parseIdentifier();else{let{imported:o}=r;if(t)throw this.raise(S.ImportBindingIsString,r,{importName:o.value});this.checkReservedWord(o.name,r.loc.start,!0,!0),r.local||(r.local=Gi(o))}return this.finishImportSpecifier(r,"ImportSpecifier",s)}isThisParam(r){return r.type==="Identifier"&&r.name==="this"}},Lu=class extends uh{constructor(r,t,i){r=vB(r),super(r,t),this.options=r,this.initializeScopes(),this.plugins=i,this.filename=r.sourceFilename}getScopeHandler(){return ya}parse(){this.enterInitialScopes();let r=this.startNode(),t=this.startNode();return this.nextToken(),r.errors=null,this.parseTopLevel(r,t),r.errors=this.state.errors,r.comments.length=this.state.commentsLen,r}};function PB(e,r){var t;if(((t=r)==null?void 0:t.sourceType)==="unambiguous"){r=Object.assign({},r);try{r.sourceType="module";let i=ha(r,e),n=i.parse();if(i.sawUnambiguousESM)return n;if(i.ambiguousScriptDifferentAst)try{return r.sourceType="script",ha(r,e).parse()}catch{}else n.program.sourceType="script";return n}catch(i){try{return r.sourceType="script",ha(r,e).parse()}catch{}throw i}}else return ha(r,e).parse()}function IB(e,r){let t=ha(r,e);return t.options.strictMode&&(t.state.strict=!0),t.getExpression()}function _B(e){let r={};for(let t of Object.keys(e))r[t]=Ki(e[t]);return r}var NB=_B(TM);function ha(e,r){let t=Lu,i=new Map;if(e!=null&&e.plugins){for(let n of e.plugins){let s,o;typeof n=="string"?s=n:[s,o]=n,i.has(s)||i.set(s,o||{})}CB(i),t=FB(i)}return new t(e,r,i)}var kv=new Map;function FB(e){let r=[];for(let n of SB)e.has(n)&&r.push(n);let t=r.join("|"),i=kv.get(t);if(!i){i=Lu;for(let n of r)i=Hv[n](i);kv.set(t,i)}return i}Da.parse=PB;Da.parseExpression=IB;Da.tokTypes=NB});var lT=T(Zs=>{"use strict";Zs.__esModule=!0;Zs.distance=Zs.closest=void 0;var Yi=new Uint32Array(65536),g8=function(e,r){for(var t=e.length,i=r.length,n=1<<t-1,s=-1,o=0,a=t,l=t;l--;)Yi[e.charCodeAt(l)]|=1<<l;for(l=0;l<i;l++){var u=Yi[r.charCodeAt(l)],c=u|o;u|=(u&s)+s^s,o|=~(u|s),s&=u,o&n&&a++,s&n&&a--,o=o<<1|1,s=s<<1|~(c|o),o&=c}for(l=t;l--;)Yi[e.charCodeAt(l)]=0;return a},y8=function(e,r){for(var t=r.length,i=e.length,n=[],s=[],o=Math.ceil(t/32),a=Math.ceil(i/32),l=0;l<o;l++)s[l]=-1,n[l]=0;for(var u=0;u<a-1;u++){for(var c=0,p=-1,d=u*32,h=Math.min(32,i)+d,f=d;f<h;f++)Yi[e.charCodeAt(f)]|=1<<f;for(var l=0;l<t;l++){var g=Yi[r.charCodeAt(l)],m=s[l/32|0]>>>l&1,y=n[l/32|0]>>>l&1,b=g|c,C=((g|y)&p)+p^p|g|y,D=c|~(C|p),x=p&C;D>>>31^m&&(s[l/32|0]^=1<<l),x>>>31^y&&(n[l/32|0]^=1<<l),D=D<<1|m,x=x<<1|y,p=x|~(b|D),c=D&b}for(var f=d;f<h;f++)Yi[e.charCodeAt(f)]=0}for(var E=0,w=-1,k=u*32,M=Math.min(32,i-k)+k,f=k;f<M;f++)Yi[e.charCodeAt(f)]|=1<<f;for(var R=i,l=0;l<t;l++){var g=Yi[r.charCodeAt(l)],m=s[l/32|0]>>>l&1,y=n[l/32|0]>>>l&1,b=g|E,C=((g|y)&w)+w^w|g|y,D=E|~(C|w),x=w&C;R+=D>>>i-1&1,R-=x>>>i-1&1,D>>>31^m&&(s[l/32|0]^=1<<l),x>>>31^y&&(n[l/32|0]^=1<<l),D=D<<1|m,x=x<<1|y,w=x|~(b|D),E=D&b}for(var f=k;f<M;f++)Yi[e.charCodeAt(f)]=0;return R},aT=function(e,r){if(e.length<r.length){var t=r;r=e,e=t}return r.length===0?e.length:e.length<=32?g8(e,r):y8(e,r)};Zs.distance=aT;var b8=function(e,r){for(var t=1/0,i=0,n=0;n<r.length;n++){var s=aT(e,r[n]);s<t&&(t=s,i=n)}return r[i]};Zs.closest=b8});var FT=T((YG,NT)=>{NT.exports=_T;_T.sync=Q8;var PT=require("fs");function X8(e,r){var t=r.pathExt!==void 0?r.pathExt:process.env.PATHEXT;if(!t||(t=t.split(";"),t.indexOf("")!==-1))return!0;for(var i=0;i<t.length;i++){var n=t[i].toLowerCase();if(n&&e.substr(-n.length).toLowerCase()===n)return!0}return!1}function IT(e,r,t){return!e.isSymbolicLink()&&!e.isFile()?!1:X8(r,t)}function _T(e,r,t){PT.stat(e,function(i,n){t(i,i?!1:IT(n,e,r))})}function Q8(e,r){return IT(PT.statSync(e),e,r)}});var MT=T((XG,LT)=>{LT.exports=OT;OT.sync=Z8;var kT=require("fs");function OT(e,r,t){kT.stat(e,function(i,n){t(i,i?!1:RT(n,r))})}function Z8(e,r){return RT(kT.statSync(e),r)}function RT(e,r){return e.isFile()&&e6(e,r)}function e6(e,r){var t=e.mode,i=e.uid,n=e.gid,s=r.uid!==void 0?r.uid:process.getuid&&process.getuid(),o=r.gid!==void 0?r.gid:process.getgid&&process.getgid(),a=parseInt("100",8),l=parseInt("010",8),u=parseInt("001",8),c=a|l,p=t&u||t&l&&n===o||t&a&&i===s||t&c&&s===0;return p}});var $T=T((ZG,BT)=>{var QG=require("fs"),dc;process.platform==="win32"||global.TESTING_WINDOWS?dc=FT():dc=MT();BT.exports=sm;sm.sync=t6;function sm(e,r,t){if(typeof r=="function"&&(t=r,r={}),!t){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(i,n){sm(e,r||{},function(s,o){s?n(s):i(o)})})}dc(e,r||{},function(i,n){i&&(i.code==="EACCES"||r&&r.ignoreErrors)&&(i=null,n=!1),t(i,n)})}function t6(e,r){try{return dc.sync(e,r||{})}catch(t){if(r&&r.ignoreErrors||t.code==="EACCES")return!1;throw t}}});var WT=T((eH,zT)=>{var ro=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",UT=require("path"),r6=ro?";":":",jT=$T(),qT=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),KT=(e,r)=>{let t=r.colon||r6,i=e.match(/\//)||ro&&e.match(/\\/)?[""]:[...ro?[process.cwd()]:[],...(r.path||process.env.PATH||"").split(t)],n=ro?r.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=ro?n.split(t):[""];return ro&&e.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:i,pathExt:s,pathExtExe:n}},VT=(e,r,t)=>{typeof r=="function"&&(t=r,r={}),r||(r={});let{pathEnv:i,pathExt:n,pathExtExe:s}=KT(e,r),o=[],a=u=>new Promise((c,p)=>{if(u===i.length)return r.all&&o.length?c(o):p(qT(e));let d=i[u],h=/^".*"$/.test(d)?d.slice(1,-1):d,f=UT.join(h,e),g=!h&&/^\.[\\\/]/.test(e)?e.slice(0,2)+f:f;c(l(g,u,0))}),l=(u,c,p)=>new Promise((d,h)=>{if(p===n.length)return d(a(c+1));let f=n[p];jT(u+f,{pathExt:s},(g,m)=>{if(!g&&m)if(r.all)o.push(u+f);else return d(u+f);return d(l(u,c,p+1))})});return t?a(0).then(u=>t(null,u),t):a(0)},i6=(e,r)=>{r=r||{};let{pathEnv:t,pathExt:i,pathExtExe:n}=KT(e,r),s=[];for(let o=0;o<t.length;o++){let a=t[o],l=/^".*"$/.test(a)?a.slice(1,-1):a,u=UT.join(l,e),c=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;for(let p=0;p<i.length;p++){let d=c+i[p];try{if(jT.sync(d,{pathExt:n}))if(r.all)s.push(d);else return d}catch{}}}if(r.all&&s.length)return s;if(r.nothrow)return null;throw qT(e)};zT.exports=VT;VT.sync=i6});var HT=T((tH,om)=>{"use strict";var GT=(e={})=>{let r=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(r).reverse().find(i=>i.toUpperCase()==="PATH")||"Path"};om.exports=GT;om.exports.default=GT});var QT=T((rH,XT)=>{"use strict";var JT=require("path"),n6=WT(),s6=HT();function YT(e,r){let t=e.options.env||process.env,i=process.cwd(),n=e.options.cwd!=null,s=n&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd)}catch{}let o;try{o=n6.sync(e.command,{path:t[s6({env:t})],pathExt:r?JT.delimiter:void 0})}catch{}finally{s&&process.chdir(i)}return o&&(o=JT.resolve(n?e.options.cwd:"",o)),o}function o6(e){return YT(e)||YT(e,!0)}XT.exports=o6});var ZT=T((iH,lm)=>{"use strict";var am=/([()\][%!^"`<>&|;, *?])/g;function a6(e){return e=e.replace(am,"^$1"),e}function l6(e,r){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(am,"^$1"),r&&(e=e.replace(am,"^$1")),e}lm.exports.command=a6;lm.exports.argument=l6});var tA=T((nH,eA)=>{"use strict";eA.exports=/^#!(.*)/});var iA=T((sH,rA)=>{"use strict";var u6=tA();rA.exports=(e="")=>{let r=e.match(u6);if(!r)return null;let[t,i]=r[0].replace(/#! ?/,"").split(" "),n=t.split("/").pop();return n==="env"?i:i?`${n} ${i}`:n}});var sA=T((oH,nA)=>{"use strict";var um=require("fs"),c6=iA();function p6(e){let t=Buffer.alloc(150),i;try{i=um.openSync(e,"r"),um.readSync(i,t,0,150,0),um.closeSync(i)}catch{}return c6(t.toString())}nA.exports=p6});var uA=T((aH,lA)=>{"use strict";var d6=require("path"),oA=QT(),aA=ZT(),f6=sA(),h6=process.platform==="win32",m6=/\.(?:com|exe)$/i,g6=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function y6(e){e.file=oA(e);let r=e.file&&f6(e.file);return r?(e.args.unshift(e.file),e.command=r,oA(e)):e.file}function b6(e){if(!h6)return e;let r=y6(e),t=!m6.test(r);if(e.options.forceShell||t){let i=g6.test(r);e.command=d6.normalize(e.command),e.command=aA.command(e.command),e.args=e.args.map(s=>aA.argument(s,i));let n=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${n}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function D6(e,r,t){r&&!Array.isArray(r)&&(t=r,r=null),r=r?r.slice(0):[],t=Object.assign({},t);let i={command:e,args:r,options:t,file:void 0,original:{command:e,args:r}};return t.shell?i:b6(i)}lA.exports=D6});var dA=T((lH,pA)=>{"use strict";var cm=process.platform==="win32";function pm(e,r){return Object.assign(new Error(`${r} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${r} ${e.command}`,path:e.command,spawnargs:e.args})}function x6(e,r){if(!cm)return;let t=e.emit;e.emit=function(i,n){if(i==="exit"){let s=cA(n,r,"spawn");if(s)return t.call(e,"error",s)}return t.apply(e,arguments)}}function cA(e,r){return cm&&e===1&&!r.file?pm(r.original,"spawn"):null}function E6(e,r){return cm&&e===1&&!r.file?pm(r.original,"spawnSync"):null}pA.exports={hookChildProcess:x6,verifyENOENT:cA,verifyENOENTSync:E6,notFoundError:pm}});var mA=T((uH,io)=>{"use strict";var fA=require("child_process"),dm=uA(),fm=dA();function hA(e,r,t){let i=dm(e,r,t),n=fA.spawn(i.command,i.args,i.options);return fm.hookChildProcess(n,i),n}function C6(e,r,t){let i=dm(e,r,t),n=fA.spawnSync(i.command,i.args,i.options);return n.error=n.error||fm.verifyENOENTSync(n.status,i),n}io.exports=hA;io.exports.spawn=hA;io.exports.sync=C6;io.exports._parse=dm;io.exports._enoent=fm});var f$={};module.exports=Wt(f$);var lP=require("../core/index.cjs"),uP=require("../node/index.cjs"),cP=require("../server/index.cjs"),pP=V(Fm(),1);var pc=require("fs/promises");var Zn=V(require("prettier"),1);async function ir(e,r,t){try{if(t){let n=await Zn.default.getFileInfo(t);if(n.ignored||n.inferredParser==null)return e}let i=await Zn.default.resolveConfigFile(process.cwd());if(i){let n=await Zn.default.resolveConfig(i);return await Zn.default.format(e,{...n,filepath:t,parser:r})}else return await Zn.default.format(e,{filepath:t,parser:r})}catch(i){return console.warn("Error formatting code",i),e}}var nm=require("http");var Tc="preview-url";var es="framework",Ka="platform",Va="node",km="/~builder-connect",Pn="/~builder-connected",Ac="/~builder-dev-tools",Pc="/~builder-dev-tools.js",In="/~builder-dev-tools-close";var wT=require("os"),cc=require("path"),bi=require("fs");var Pt=V($e(),1),rs=require("node:process"),en=V(require("node:readline"),1),Oc=V(require("node:readline"),1),Wm=require("node:tty"),Ha=V(Gt(),1);function IP({onlyFirst:e=!1}={}){let r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(r,e?void 0:"g")}var _P=IP();function Gm(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(_P,"")}function Hm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jm={exports:{}};(function(e){var r={};e.exports=r,r.eastAsianWidth=function(i){var n=i.charCodeAt(0),s=i.length==2?i.charCodeAt(1):0,o=n;return 55296<=n&&n<=56319&&56320<=s&&s<=57343&&(n&=1023,s&=1023,o=n<<10|s,o+=65536),o==12288||65281<=o&&o<=65376||65504<=o&&o<=65510?"F":o==8361||65377<=o&&o<=65470||65474<=o&&o<=65479||65482<=o&&o<=65487||65490<=o&&o<=65495||65498<=o&&o<=65500||65512<=o&&o<=65518?"H":4352<=o&&o<=4447||4515<=o&&o<=4519||4602<=o&&o<=4607||9001<=o&&o<=9002||11904<=o&&o<=11929||11931<=o&&o<=12019||12032<=o&&o<=12245||12272<=o&&o<=12283||12289<=o&&o<=12350||12353<=o&&o<=12438||12441<=o&&o<=12543||12549<=o&&o<=12589||12593<=o&&o<=12686||12688<=o&&o<=12730||12736<=o&&o<=12771||12784<=o&&o<=12830||12832<=o&&o<=12871||12880<=o&&o<=13054||13056<=o&&o<=19903||19968<=o&&o<=42124||42128<=o&&o<=42182||43360<=o&&o<=43388||44032<=o&&o<=55203||55216<=o&&o<=55238||55243<=o&&o<=55291||63744<=o&&o<=64255||65040<=o&&o<=65049||65072<=o&&o<=65106||65108<=o&&o<=65126||65128<=o&&o<=65131||110592<=o&&o<=110593||127488<=o&&o<=127490||127504<=o&&o<=127546||127552<=o&&o<=127560||127568<=o&&o<=127569||131072<=o&&o<=194367||177984<=o&&o<=196605||196608<=o&&o<=262141?"W":32<=o&&o<=126||162<=o&&o<=163||165<=o&&o<=166||o==172||o==175||10214<=o&&o<=10221||10629<=o&&o<=10630?"Na":o==161||o==164||167<=o&&o<=168||o==170||173<=o&&o<=174||176<=o&&o<=180||182<=o&&o<=186||188<=o&&o<=191||o==198||o==208||215<=o&&o<=216||222<=o&&o<=225||o==230||232<=o&&o<=234||236<=o&&o<=237||o==240||242<=o&&o<=243||247<=o&&o<=250||o==252||o==254||o==257||o==273||o==275||o==283||294<=o&&o<=295||o==299||305<=o&&o<=307||o==312||319<=o&&o<=322||o==324||328<=o&&o<=331||o==333||338<=o&&o<=339||358<=o&&o<=359||o==363||o==462||o==464||o==466||o==468||o==470||o==472||o==474||o==476||o==593||o==609||o==708||o==711||713<=o&&o<=715||o==717||o==720||728<=o&&o<=731||o==733||o==735||768<=o&&o<=879||913<=o&&o<=929||931<=o&&o<=937||945<=o&&o<=961||963<=o&&o<=969||o==1025||1040<=o&&o<=1103||o==1105||o==8208||8211<=o&&o<=8214||8216<=o&&o<=8217||8220<=o&&o<=8221||8224<=o&&o<=8226||8228<=o&&o<=8231||o==8240||8242<=o&&o<=8243||o==8245||o==8251||o==8254||o==8308||o==8319||8321<=o&&o<=8324||o==8364||o==8451||o==8453||o==8457||o==8467||o==8470||8481<=o&&o<=8482||o==8486||o==8491||8531<=o&&o<=8532||8539<=o&&o<=8542||8544<=o&&o<=8555||8560<=o&&o<=8569||o==8585||8592<=o&&o<=8601||8632<=o&&o<=8633||o==8658||o==8660||o==8679||o==8704||8706<=o&&o<=8707||8711<=o&&o<=8712||o==8715||o==8719||o==8721||o==8725||o==8730||8733<=o&&o<=8736||o==8739||o==8741||8743<=o&&o<=8748||o==8750||8756<=o&&o<=8759||8764<=o&&o<=8765||o==8776||o==8780||o==8786||8800<=o&&o<=8801||8804<=o&&o<=8807||8810<=o&&o<=8811||8814<=o&&o<=8815||8834<=o&&o<=8835||8838<=o&&o<=8839||o==8853||o==8857||o==8869||o==8895||o==8978||9312<=o&&o<=9449||9451<=o&&o<=9547||9552<=o&&o<=9587||9600<=o&&o<=9615||9618<=o&&o<=9621||9632<=o&&o<=9633||9635<=o&&o<=9641||9650<=o&&o<=9651||9654<=o&&o<=9655||9660<=o&&o<=9661||9664<=o&&o<=9665||9670<=o&&o<=9672||o==9675||9678<=o&&o<=9681||9698<=o&&o<=9701||o==9711||9733<=o&&o<=9734||o==9737||9742<=o&&o<=9743||9748<=o&&o<=9749||o==9756||o==9758||o==9792||o==9794||9824<=o&&o<=9825||9827<=o&&o<=9829||9831<=o&&o<=9834||9836<=o&&o<=9837||o==9839||9886<=o&&o<=9887||9918<=o&&o<=9919||9924<=o&&o<=9933||9935<=o&&o<=9953||o==9955||9960<=o&&o<=9983||o==10045||o==10071||10102<=o&&o<=10111||11093<=o&&o<=11097||12872<=o&&o<=12879||57344<=o&&o<=63743||65024<=o&&o<=65039||o==65533||127232<=o&&o<=127242||127248<=o&&o<=127277||127280<=o&&o<=127337||127344<=o&&o<=127386||917760<=o&&o<=917999||983040<=o&&o<=1048573||1048576<=o&&o<=1114109?"A":"N"},r.characterLength=function(i){var n=this.eastAsianWidth(i);return n=="F"||n=="W"||n=="A"?2:1};function t(i){return i.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}r.length=function(i){for(var n=t(i),s=0,o=0;o<n.length;o++)s=s+this.characterLength(n[o]);return s},r.slice=function(i,n,s){textLen=r.length(i),n=n||0,s=s||1,n<0&&(n=textLen+n),s<0&&(s=textLen+s);for(var o="",a=0,l=t(i),u=0;u<l.length;u++){var c=l[u],p=r.length(c);if(a>=n-(p==2?1:0))if(a+p<=s)o+=c;else break;a+=p}return o}})(Jm);var NP=Jm.exports,FP=Hm(NP),kP=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g},OP=Hm(kP);function co(e,r={}){if(typeof e!="string"||e.length===0||(r={ambiguousIsNarrow:!0,...r},e=Gm(e),e.length===0))return 0;e=e.replace(OP(),"  ");let t=r.ambiguousIsNarrow?1:2,i=0;for(let n of e){let s=n.codePointAt(0);if(!(s<=31||s>=127&&s<=159||s>=768&&s<=879))switch(FP.eastAsianWidth(n)){case"F":case"W":i+=2;break;case"A":i+=t;break;default:i+=1}}return i}var Fc=10,Mm=(e=0)=>r=>`\x1B[${r+e}m`,Bm=(e=0)=>r=>`\x1B[${38+e};5;${r}m`,$m=(e=0)=>(r,t,i)=>`\x1B[${38+e};2;${r};${t};${i}m`,Je={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(Je.modifier);var RP=Object.keys(Je.color),LP=Object.keys(Je.bgColor);[...RP,...LP];function MP(){let e=new Map;for(let[r,t]of Object.entries(Je)){for(let[i,n]of Object.entries(t))Je[i]={open:`\x1B[${n[0]}m`,close:`\x1B[${n[1]}m`},t[i]=Je[i],e.set(n[0],n[1]);Object.defineProperty(Je,r,{value:t,enumerable:!1})}return Object.defineProperty(Je,"codes",{value:e,enumerable:!1}),Je.color.close="\x1B[39m",Je.bgColor.close="\x1B[49m",Je.color.ansi=Mm(),Je.color.ansi256=Bm(),Je.color.ansi16m=$m(),Je.bgColor.ansi=Mm(Fc),Je.bgColor.ansi256=Bm(Fc),Je.bgColor.ansi16m=$m(Fc),Object.defineProperties(Je,{rgbToAnsi256:{value:(r,t,i)=>r===t&&t===i?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(t/255*5)+Math.round(i/255*5),enumerable:!1},hexToRgb:{value:r=>{let t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(r.toString(16));if(!t)return[0,0,0];let[i]=t;i.length===3&&(i=[...i].map(s=>s+s).join(""));let n=Number.parseInt(i,16);return[n>>16&255,n>>8&255,n&255]},enumerable:!1},hexToAnsi256:{value:r=>Je.rgbToAnsi256(...Je.hexToRgb(r)),enumerable:!1},ansi256ToAnsi:{value:r=>{if(r<8)return 30+r;if(r<16)return 90+(r-8);let t,i,n;if(r>=232)t=((r-232)*10+8)/255,i=t,n=t;else{r-=16;let a=r%36;t=Math.floor(r/36)/5,i=Math.floor(a/6)/5,n=a%6/5}let s=Math.max(t,i,n)*2;if(s===0)return 30;let o=30+(Math.round(n)<<2|Math.round(i)<<1|Math.round(t));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(r,t,i)=>Je.ansi256ToAnsi(Je.rgbToAnsi256(r,t,i)),enumerable:!1},hexToAnsi:{value:r=>Je.ansi256ToAnsi(Je.hexToAnsi256(r)),enumerable:!1}}),Je}var BP=MP(),Xa=new Set(["\x1B","\x9B"]),$P=39,Rc="\x07",Ym="[",UP="]",Xm="m",Lc=`${UP}8;;`,Um=e=>`${Xa.values().next().value}${Ym}${e}${Xm}`,jm=e=>`${Xa.values().next().value}${Lc}${e}${Rc}`,jP=e=>e.split(" ").map(r=>co(r)),kc=(e,r,t)=>{let i=[...r],n=!1,s=!1,o=co(Gm(e[e.length-1]));for(let[a,l]of i.entries()){let u=co(l);if(o+u<=t?e[e.length-1]+=l:(e.push(l),o=0),Xa.has(l)&&(n=!0,s=i.slice(a+1).join("").startsWith(Lc)),n){s?l===Rc&&(n=!1,s=!1):l===Xm&&(n=!1);continue}o+=u,o===t&&a<i.length-1&&(e.push(""),o=0)}!o&&e[e.length-1].length>0&&e.length>1&&(e[e.length-2]+=e.pop())},qP=e=>{let r=e.split(" "),t=r.length;for(;t>0&&!(co(r[t-1])>0);)t--;return t===r.length?e:r.slice(0,t).join(" ")+r.slice(t).join("")},KP=(e,r,t={})=>{if(t.trim!==!1&&e.trim()==="")return"";let i="",n,s,o=jP(e),a=[""];for(let[u,c]of e.split(" ").entries()){t.trim!==!1&&(a[a.length-1]=a[a.length-1].trimStart());let p=co(a[a.length-1]);if(u!==0&&(p>=r&&(t.wordWrap===!1||t.trim===!1)&&(a.push(""),p=0),(p>0||t.trim===!1)&&(a[a.length-1]+=" ",p++)),t.hard&&o[u]>r){let d=r-p,h=1+Math.floor((o[u]-d-1)/r);Math.floor((o[u]-1)/r)<h&&a.push(""),kc(a,c,r);continue}if(p+o[u]>r&&p>0&&o[u]>0){if(t.wordWrap===!1&&p<r){kc(a,c,r);continue}a.push("")}if(p+o[u]>r&&t.wordWrap===!1){kc(a,c,r);continue}a[a.length-1]+=c}t.trim!==!1&&(a=a.map(u=>qP(u)));let l=[...a.join(`
`)];for(let[u,c]of l.entries()){if(i+=c,Xa.has(c)){let{groups:d}=new RegExp(`(?:\\${Ym}(?<code>\\d+)m|\\${Lc}(?<uri>.*)${Rc})`).exec(l.slice(u).join(""))||{groups:{}};if(d.code!==void 0){let h=Number.parseFloat(d.code);n=h===$P?void 0:h}else d.uri!==void 0&&(s=d.uri.length===0?void 0:d.uri)}let p=BP.codes.get(Number(n));l[u+1]===`
`?(s&&(i+=jm("")),n&&p&&(i+=Um(p))):c===`
`&&(n&&p&&(i+=Um(n)),s&&(i+=jm(s)))}return i};function qm(e,r,t){return String(e).normalize().replace(/\r\n/g,`
`).split(`
`).map(i=>KP(i,r,t)).join(`
`)}var VP=Object.defineProperty,zP=(e,r,t)=>r in e?VP(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,fr=(e,r,t)=>(zP(e,typeof r!="symbol"?r+"":r,t),t);function WP(e,r){if(e===r)return;let t=e.split(`
`),i=r.split(`
`),n=[];for(let s=0;s<Math.max(t.length,i.length);s++)t[s]!==i[s]&&n.push(s);return n}var Qm=Symbol("clack:cancel");function Oe(e){return e===Qm}function Ga(e,r){e.isTTY&&e.setRawMode(r)}var Km=new Map([["k","up"],["j","down"],["h","left"],["l","right"]]),GP=new Set(["up","down","left","right","space","enter"]),ts=class{constructor({render:r,input:t=rs.stdin,output:i=rs.stdout,...n},s=!0){fr(this,"input"),fr(this,"output"),fr(this,"rl"),fr(this,"opts"),fr(this,"_track",!1),fr(this,"_render"),fr(this,"_cursor",0),fr(this,"state","initial"),fr(this,"value"),fr(this,"error",""),fr(this,"subscribers",new Map),fr(this,"_prevFrame",""),this.opts=n,this.onKeypress=this.onKeypress.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this._render=r.bind(this),this._track=s,this.input=t,this.output=i}prompt(){let r=new Wm.WriteStream(0);return r._write=(t,i,n)=>{this._track&&(this.value=this.rl.line.replace(/\t/g,""),this._cursor=this.rl.cursor,this.emit("value",this.value)),n()},this.input.pipe(r),this.rl=Oc.default.createInterface({input:this.input,output:r,tabSize:2,prompt:"",escapeCodeTimeout:50}),Oc.default.emitKeypressEvents(this.input,this.rl),this.rl.prompt(),this.opts.initialValue!==void 0&&this._track&&this.rl.write(this.opts.initialValue),this.input.on("keypress",this.onKeypress),Ga(this.input,!0),this.output.on("resize",this.render),this.render(),new Promise((t,i)=>{this.once("submit",()=>{this.output.write(Pt.cursor.show),this.output.off("resize",this.render),Ga(this.input,!1),t(this.value)}),this.once("cancel",()=>{this.output.write(Pt.cursor.show),this.output.off("resize",this.render),Ga(this.input,!1),t(Qm)})})}on(r,t){let i=this.subscribers.get(r)??[];i.push({cb:t}),this.subscribers.set(r,i)}once(r,t){let i=this.subscribers.get(r)??[];i.push({cb:t,once:!0}),this.subscribers.set(r,i)}emit(r,...t){let i=this.subscribers.get(r)??[],n=[];for(let s of i)s.cb(...t),s.once&&n.push(()=>i.splice(i.indexOf(s),1));for(let s of n)s()}unsubscribe(){this.subscribers.clear()}onKeypress(r,t){if(this.state==="error"&&(this.state="active"),t?.name&&!this._track&&Km.has(t.name)&&this.emit("cursor",Km.get(t.name)),t?.name&&GP.has(t.name)&&this.emit("cursor",t.name),r&&(r.toLowerCase()==="y"||r.toLowerCase()==="n")&&this.emit("confirm",r.toLowerCase()==="y"),r==="	"&&this.opts.placeholder&&(this.value||(this.rl.write(this.opts.placeholder),this.emit("value",this.opts.placeholder))),r&&this.emit("key",r.toLowerCase()),t?.name==="return"){if(this.opts.validate){let i=this.opts.validate(this.value);i&&(this.error=i,this.state="error",this.rl.write(this.value))}this.state!=="error"&&(this.state="submit")}r===""&&(this.state="cancel"),(this.state==="submit"||this.state==="cancel")&&this.emit("finalize"),this.render(),(this.state==="submit"||this.state==="cancel")&&this.close()}close(){this.input.unpipe(),this.input.removeListener("keypress",this.onKeypress),this.output.write(`
`),Ga(this.input,!1),this.rl.close(),this.emit(`${this.state}`,this.value),this.unsubscribe()}restoreCursor(){let r=qm(this._prevFrame,process.stdout.columns,{hard:!0}).split(`
`).length-1;this.output.write(Pt.cursor.move(-999,r*-1))}render(){let r=qm(this._render(this)??"",process.stdout.columns,{hard:!0});if(r!==this._prevFrame){if(this.state==="initial")this.output.write(Pt.cursor.hide);else{let t=WP(this._prevFrame,r);if(this.restoreCursor(),t&&t?.length===1){let i=t[0];this.output.write(Pt.cursor.move(0,i)),this.output.write(Pt.erase.lines(1));let n=r.split(`
`);this.output.write(n[i]),this._prevFrame=r,this.output.write(Pt.cursor.move(0,n.length-i-1));return}else if(t&&t?.length>1){let i=t[0];this.output.write(Pt.cursor.move(0,i)),this.output.write(Pt.erase.down());let n=r.split(`
`).slice(i);this.output.write(n.join(`
`)),this._prevFrame=r;return}this.output.write(Pt.erase.down())}this.output.write(r),this.state==="initial"&&(this.state="active"),this._prevFrame=r}}},Ja=class extends ts{get cursor(){return this.value?0:1}get _value(){return this.cursor===0}constructor(r){super(r,!1),this.value=!!r.initialValue,this.on("value",()=>{this.value=this._value}),this.on("confirm",t=>{this.output.write(Pt.cursor.move(0,-1)),this.value=t,this.state="submit",this.close()}),this.on("cursor",()=>{this.value=!this.value})}};var HP=Object.defineProperty,JP=(e,r,t)=>r in e?HP(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Vm=(e,r,t)=>(JP(e,typeof r!="symbol"?r+"":r,t),t),Zm=class extends ts{constructor(e){super(e,!1),Vm(this,"options"),Vm(this,"cursor",0),this.options=e.options,this.value=[...e.initialValues??[]],this.cursor=Math.max(this.options.findIndex(({value:r})=>r===e.cursorAt),0),this.on("key",r=>{r==="a"&&this.toggleAll()}),this.on("cursor",r=>{switch(r){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break;case"space":this.toggleValue();break}})}get _value(){return this.options[this.cursor].value}toggleAll(){let e=this.value.length===this.options.length;this.value=e?[]:this.options.map(r=>r.value)}toggleValue(){let e=this.value.includes(this._value);this.value=e?this.value.filter(r=>r!==this._value):[...this.value,this._value]}};var YP=Object.defineProperty,XP=(e,r,t)=>r in e?YP(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,zm=(e,r,t)=>(XP(e,typeof r!="symbol"?r+"":r,t),t),eg=class extends ts{constructor(e){super(e,!1),zm(this,"options"),zm(this,"cursor",0),this.options=e.options,this.cursor=this.options.findIndex(({value:r})=>r===e.initialValue),this.cursor===-1&&(this.cursor=0),this.changeValue(),this.on("cursor",r=>{switch(r){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break}this.changeValue()})}get _value(){return this.options[this.cursor]}changeValue(){this.value=this._value.value}};var QP=Object.defineProperty,ZP=(e,r,t)=>r in e?QP(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,e1=(e,r,t)=>(ZP(e,typeof r!="symbol"?r+"":r,t),t),Ya=class extends ts{constructor(r){super(r),e1(this,"valueWithCursor",""),this.on("finalize",()=>{this.value||(this.value=r.defaultValue),this.valueWithCursor=this.value}),this.on("value",()=>{if(this.cursor>=this.value.length)this.valueWithCursor=`${this.value}${Ha.default.inverse(Ha.default.hidden("_"))}`;else{let t=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.valueWithCursor=`${t}${Ha.default.inverse(i[0])}${i.slice(1)}`}})}get cursor(){return this._cursor}},t1=globalThis.process.platform.startsWith("win");function tg({input:e=rs.stdin,output:r=rs.stdout,overwrite:t=!0,hideCursor:i=!0}={}){let n=en.createInterface({input:e,output:r,prompt:"",tabSize:1});en.emitKeypressEvents(e,n),e.isTTY&&e.setRawMode(!0);let s=(o,{name:a})=>{if(String(o)===""){i&&r.write(Pt.cursor.show),process.exit(0);return}if(!t)return;en.moveCursor(r,a==="return"?0:-1,a==="return"?-1:0,()=>{en.clearLine(r,1,()=>{e.once("keypress",s)})})};return i&&r.write(Pt.cursor.hide),e.once("keypress",s),()=>{e.off("keypress",s),i&&r.write(Pt.cursor.show),e.isTTY&&!t1&&e.setRawMode(!1),n.terminal=!1,n.close()}}var hr=V(require("node:process"),1),O=V(Gt(),1),is=V($e(),1);function r1(){return hr.default.platform!=="win32"?hr.default.env.TERM!=="linux":!!hr.default.env.CI||!!hr.default.env.WT_SESSION||!!hr.default.env.TERMINUS_SUBLIME||hr.default.env.ConEmuTask==="{cmd::Cmder}"||hr.default.env.TERM_PROGRAM==="Terminus-Sublime"||hr.default.env.TERM_PROGRAM==="vscode"||hr.default.env.TERM==="xterm-256color"||hr.default.env.TERM==="alacritty"||hr.default.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var Mc=r1(),nt=(e,r)=>Mc?e:r,i1=nt("\u25C6","*"),ig=nt("\u25A0","x"),ng=nt("\u25B2","x"),jc=nt("\u25C7","o"),n1=nt("\u250C","T"),_e=nt("\u2502","|"),tn=nt("\u2514","\u2014"),Bc=nt("\u25CF",">"),$c=nt("\u25CB"," "),s1=nt("\u25FB","[\u2022]"),rg=nt("\u25FC","[+]"),o1=nt("\u25FB","[ ]"),A$=nt("\u25AA","\u2022"),P$=nt("\u2500","-"),I$=nt("\u256E","+"),_$=nt("\u251C","+"),N$=nt("\u256F","+"),a1=nt("\u25CF","\u2022"),l1=nt("\u25C6","*"),u1=nt("\u25B2","!"),c1=nt("\u25A0","x"),Qa=e=>{switch(e){case"initial":case"active":return O.default.cyan(i1);case"cancel":return O.default.red(ig);case"error":return O.default.yellow(ng);case"submit":return O.default.green(jc)}},Uc=e=>{let{cursor:r,options:t,style:i}=e,n=e.maxItems??1/0,s=Math.max(process.stdout.rows-4,0),o=Math.min(s,Math.max(n,5)),a=0;r>=a+o-3?a=Math.max(Math.min(r-o+3,t.length-o),0):r<a+2&&(a=Math.max(r-2,0));let l=o<t.length&&a>0,u=o<t.length&&a+o<t.length;return t.slice(a,a+o).map((c,p,d)=>{let h=p===0&&l,f=p===d.length-1&&u;return h||f?O.default.dim("..."):i(c,p+a===r)})},Lt=e=>new Ya({validate:e.validate,placeholder:e.placeholder,defaultValue:e.defaultValue,initialValue:e.initialValue,render(){let r=`${O.default.gray(_e)}
${Qa(this.state)}  ${e.message}
`,t=e.placeholder?O.default.inverse(e.placeholder[0])+O.default.dim(e.placeholder.slice(1)):O.default.inverse(O.default.hidden("_")),i=this.value?this.valueWithCursor:t;switch(this.state){case"error":return`${r.trim()}
${O.default.yellow(_e)}  ${i}
${O.default.yellow(tn)}  ${O.default.yellow(this.error)}
`;case"submit":return`${r}${O.default.gray(_e)}  ${O.default.dim(this.value||e.placeholder)}`;case"cancel":return`${r}${O.default.gray(_e)}  ${O.default.strikethrough(O.default.dim(this.value??""))}${this.value?.trim()?`
`+O.default.gray(_e):""}`;default:return`${r}${O.default.cyan(_e)}  ${i}
${O.default.cyan(tn)}
`}}}).prompt();var pt=e=>{let r=e.active??"Yes",t=e.inactive??"No";return new Ja({active:r,inactive:t,initialValue:e.initialValue??!0,render(){let i=`${O.default.gray(_e)}
${Qa(this.state)}  ${e.message}
`,n=this.value?r:t;switch(this.state){case"submit":return`${i}${O.default.gray(_e)}  ${O.default.dim(n)}`;case"cancel":return`${i}${O.default.gray(_e)}  ${O.default.strikethrough(O.default.dim(n))}
${O.default.gray(_e)}`;default:return`${i}${O.default.cyan(_e)}  ${this.value?`${O.default.green(Bc)} ${r}`:`${O.default.dim($c)} ${O.default.dim(r)}`} ${O.default.dim("/")} ${this.value?`${O.default.dim($c)} ${O.default.dim(t)}`:`${O.default.green(Bc)} ${t}`}
${O.default.cyan(tn)}
`}}}).prompt()},Za=e=>{let r=(t,i)=>{let n=t.label??String(t.value);switch(i){case"selected":return`${O.default.dim(n)}`;case"active":return`${O.default.green(Bc)} ${n} ${t.hint?O.default.dim(`(${t.hint})`):""}`;case"cancelled":return`${O.default.strikethrough(O.default.dim(n))}`;default:return`${O.default.dim($c)} ${O.default.dim(n)}`}};return new eg({options:e.options,initialValue:e.initialValue,render(){let t=`${O.default.gray(_e)}
${Qa(this.state)}  ${e.message}
`;switch(this.state){case"submit":return`${t}${O.default.gray(_e)}  ${r(this.options[this.cursor],"selected")}`;case"cancel":return`${t}${O.default.gray(_e)}  ${r(this.options[this.cursor],"cancelled")}
${O.default.gray(_e)}`;default:return`${t}${O.default.cyan(_e)}  ${Uc({cursor:this.cursor,options:this.options,maxItems:e.maxItems,style:(i,n)=>r(i,n?"active":"inactive")}).join(`
${O.default.cyan(_e)}  `)}
${O.default.cyan(tn)}
`}}}).prompt()};var sg=e=>{let r=(t,i)=>{let n=t.label??String(t.value);return i==="active"?`${O.default.cyan(s1)} ${n} ${t.hint?O.default.dim(`(${t.hint})`):""}`:i==="selected"?`${O.default.green(rg)} ${O.default.dim(n)}`:i==="cancelled"?`${O.default.strikethrough(O.default.dim(n))}`:i==="active-selected"?`${O.default.green(rg)} ${n} ${t.hint?O.default.dim(`(${t.hint})`):""}`:i==="submitted"?`${O.default.dim(n)}`:`${O.default.dim(o1)} ${O.default.dim(n)}`};return new Zm({options:e.options,initialValues:e.initialValues,required:e.required??!0,cursorAt:e.cursorAt,validate(t){if(this.required&&t.length===0)return`Please select at least one option.
${O.default.reset(O.default.dim(`Press ${O.default.gray(O.default.bgWhite(O.default.inverse(" space ")))} to select, ${O.default.gray(O.default.bgWhite(O.default.inverse(" enter ")))} to submit`))}`},render(){let t=`${O.default.gray(_e)}
${Qa(this.state)}  ${e.message}
`,i=(n,s)=>{let o=this.value.includes(n.value);return s&&o?r(n,"active-selected"):o?r(n,"selected"):r(n,s?"active":"inactive")};switch(this.state){case"submit":return`${t}${O.default.gray(_e)}  ${this.options.filter(({value:n})=>this.value.includes(n)).map(n=>r(n,"submitted")).join(O.default.dim(", "))||O.default.dim("none")}`;case"cancel":{let n=this.options.filter(({value:s})=>this.value.includes(s)).map(s=>r(s,"cancelled")).join(O.default.dim(", "));return`${t}${O.default.gray(_e)}  ${n.trim()?`${n}
${O.default.gray(_e)}`:""}`}case"error":{let n=this.error.split(`
`).map((s,o)=>o===0?`${O.default.yellow(tn)}  ${O.default.yellow(s)}`:`   ${s}`).join(`
`);return t+O.default.yellow(_e)+"  "+Uc({options:this.options,cursor:this.cursor,maxItems:e.maxItems,style:i}).join(`
${O.default.yellow(_e)}  `)+`
`+n+`
`}default:return`${t}${O.default.cyan(_e)}  ${Uc({options:this.options,cursor:this.cursor,maxItems:e.maxItems,style:i}).join(`
${O.default.cyan(_e)}  `)}
${O.default.cyan(tn)}
`}}}).prompt()};var ue=(e="")=>{process.stdout.write(`${O.default.gray(tn)}  ${O.default.red(e)}

`)},It=(e="")=>{process.stdout.write(`${O.default.gray(n1)}  ${e}
`)},Mt=(e="")=>{process.stdout.write(`${O.default.gray(_e)}
${O.default.gray(tn)}  ${e}

`)},q={message:(e="",{symbol:r=O.default.gray(_e)}={})=>{let t=[`${O.default.gray(_e)}`];if(e){let[i,...n]=e.split(`
`);t.push(`${r}  ${i}`,...n.map(s=>`${O.default.gray(_e)}  ${s}`))}process.stdout.write(`${t.join(`
`)}
`)},info:e=>{q.message(e,{symbol:O.default.blue(a1)})},success:e=>{q.message(e,{symbol:O.default.green(l1)})},step:e=>{q.message(e,{symbol:O.default.green(jc)})},warn:e=>{q.message(e,{symbol:O.default.yellow(u1)})},warning:e=>{q.warn(e)},error:e=>{q.message(e,{symbol:O.default.red(c1)})}},nr=()=>{let e=Mc?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],r=Mc?80:120,t,i,n=!1,s="",o=h=>{let f=h>1?"Something went wrong":"Canceled";n&&d(f,h)},a=()=>o(2),l=()=>o(1),u=()=>{process.on("uncaughtExceptionMonitor",a),process.on("unhandledRejection",a),process.on("SIGINT",l),process.on("SIGTERM",l),process.on("exit",o)},c=()=>{process.removeListener("uncaughtExceptionMonitor",a),process.removeListener("unhandledRejection",a),process.removeListener("SIGINT",l),process.removeListener("SIGTERM",l),process.removeListener("exit",o)},p=(h="")=>{n=!0,t=tg(),s=h.replace(/\.+$/,""),process.stdout.write(`${O.default.gray(_e)}
`);let f=0,g=0;u(),i=setInterval(()=>{let m=O.default.magenta(e[f]),y=".".repeat(Math.floor(g)).slice(0,3);process.stdout.write(is.cursor.move(-999,0)),process.stdout.write(is.erase.down(1)),process.stdout.write(`${m}  ${s}${y}`),f=f+1<e.length?f+1:0,g=g<e.length?g+.125:0},r)},d=(h="",f=0)=>{s=h??s,n=!1,clearInterval(i);let g=f===0?O.default.green(jc):f===1?O.default.red(ig):O.default.red(ng);process.stdout.write(is.cursor.move(-999,0)),process.stdout.write(is.erase.down(1)),process.stdout.write(`${g}  ${s}
`),c(),t()};return{start:p,stop:d,message:(h="")=>{s=h??s}}};var eo=V(Gt(),1),Xi=V(require("@sentry/node"),1);var at=V(require("typescript"),1);var im=V(require("@sentry/node"),1);var me=V(Gt(),1);function sr(e){let r=e.join(e.getAppRootDir(),"tsconfig.json");return e.exists(r)}var p1=["node_modules","dist","build","public"];async function mr(e,r){async function t(n,s){if(s>10)return;let o=await e.readdir(n);for(let a of o){if(p1.includes(a))continue;let l=e.join(n,a),u=await e.stat(l);if(u){if(u.isFile()&&a.startsWith("builder-registry."))return l;if(u.isDirectory()){let c=await t(l,s+1);if(c)return c}}}}let i=await t(e.getAppRootDir(),0);if(!i){let s=`builder-registry.${await sr(e)?"ts":"js"}`;return e.join(r,s)}return i}async function Si(e,r){let t=e.resolve("/");for(let i=0;i<20;i++){let n=e.join(r,"package.json"),s=await e.readFile(n);if(s)return JSON.parse(s);if(r===t)break;r=e.dirname(r)}return null}async function og(e,r){for(let t=0;t<20;t++){let i=e.dirname(r),n=e.join(i,"node_modules");if(await e.exists(n))return n;if(r===e.getAppRootDir())break;r=e.dirname(r)}return e.join(e.getAppRootDir(),"node_modules")}async function po(e,r,t){let i=await e.readdir(r);return i.includes(t)?e.join(r,t):(await Promise.all(i.map(async s=>{if(s.startsWith(".")||s==="node_modules")return;let o=e.join(r,s);if((await e.stat(o)).isDirectory()){let l=await po(e,o,t);if(l)return l}}))).find(s=>typeof s=="string")}var ug=V(qc(),1);function gr(e){return e.endsWith(".mapper.tsx")||e.endsWith(".mapper.jsx")}function Se(e,r,t){r=Tr(r),t=Tr(t),r=e.dirname(r);let i=e.basename(t,e.extname(t));t=e.dirname(t);let n;return i==="index"?n=e.relative(r,t):n=e.relative(r,e.join(t,i)),n=Tr(e.normalize(n)),n.startsWith(".")||(n="./"+n),n}function Tr(e){return e.startsWith("\\\\?\\")?e:e.replace(/\\/g,"/")}function _n(e,r){let t=e.extname(r),i=e.basename(r,t).split(/[\/\\]/),n=i[i.length-1];return lg(n==="index"?e.basename(e.dirname(r)):n)}function lg(e){return Ve(e).replace(/ /g,"")}function yr(e,r){let t=e.extname(r),i=Tr(e.basename(r,t)).split("/").pop();return Ve(i==="index"?e.basename(e.dirname(r)):i)}function Ue(e,r){let t=Tr(e.relative(e.getAppRootDir(),r));t=t.split("/").filter(n=>n!=="."&&n!==".."&&n!=="").join("/"),t.endsWith(".tsx")||t.endsWith(".jsx")?t=t.slice(0,-4):(t.endsWith(".ts")||t.endsWith(".js"))&&(t=t.slice(0,-3));let i=e.getFrameworks();return t.startsWith("src/")&&(t=t.slice(4)),i.some(n=>n.name.includes("next"))?"@/"+t:"~/"+t}function Ne(e,r){let t=r,i=[];for(let n=0;n<2;n++){let s=e.basename(t);if(!s||s==="components")break;i.unshift(s),t=e.dirname(t)}return i.join("/")}function Ve(e){for(e=e.replace(/([A-Z])/g," $1").replace(/\./g," ").replace(/_/g," ").replace(/-/g," ").replace(/\s/g," ").trim();e.includes("  ");)e=e.replace(/  /g," ");return e.split(" ").map(r=>r.length>2?r[0].toUpperCase()+r.slice(1):r).join("").trim()}function Ht(e){return e.sort((r,t)=>r.name.toLocaleLowerCase().localeCompare(t.name.toLocaleLowerCase()))}async function je(e,r,t,i){if(typeof t!="string"||t==="")throw new Error(`getComponentId(), exportName must be a non-empty string, received: ${t}, ${r}`);return i&&(r=i),r=e.normalize(r),(await e.hash(r+"#"+t)).substring(0,8)}async function cg(e){return(await e.hash(e.getAppRootDir())).substring(0,8)}function fo(e){return typeof e=="number"}function ns(e){return typeof e=="boolean"}function Bt(e){return typeof e=="string"}function ss(e){return typeof e=="string"?/^[A-Z][A-Za-z0-9]*$/.test(e):!1}function or(e){return JSON.parse(JSON.stringify(e))}function el(e,r,t){for(let i of r)if(e.dirname(t).includes(i))return!0;return!1}function pg(){try{let e=(0,ug.default)();if(e?.name)return e.name}catch{}return"npm"}async function Nn(e){let r=[],t=await Si(e,e.getRepoRootDir());if(t){let i=await hg(t,e);r.push(...i)}return r}async function fg(e){let r=await Si(e,e.getRepoRootDir());return r?.scripts?.dev?r.scripts.dev.includes("--turbopack"):!1}async function hg(e,r){let t=[];if(e&&typeof e=="object"){let i=new Set(Object.keys({...e.dependencies,...e.devDependencies}));for(let n of f1)if(i.has(n)&&!t.some(s=>s.name===n)){let s={name:n};dg.has(n)&&(s.version=await dg.get(n)(r)),t.push(s)}}return t}function Kc(e){let r=parseInt(e);return Number.isNaN(r)?void 0:r}var dg=new Map([["next",async e=>{if(!e.spawnSync)return;let r=pg(),t=r==="npm"?"npx":r,{stdout:i}=e.spawnSync(t,["next","-v"],{encoding:"utf8"});if(!i)return;let n=i.match(/(Next.js v)([\d.]+)/g);if(!n)return;let s=n[0].split("Next.js v")[1],[o,a,l]=s.split(".");return{major:Kc(o),minor:Kc(a),patch:Kc(l)}}]]),f1=["@shopify/remix-oxygen","@shopify/hydrogen","@builder.io/qwik-city","@remix-run/react","@sveltejs/kit","astro","gatsby","next","nuxt","@builder.io/qwik","@angular/core","react","solid-js","svelte","vue"];async function Kr(e){let r=mg(e),t=await e.readFile(r);return typeof t=="string"?JSON.parse(t):{}}async function Vr(e,r){r=typeof r=="object"&&r!=null?r:{};let t=mg(e);await e.writeFile(t,JSON.stringify(r??{},null,2))}function mg(e){let r=e.getAppRootDir();return e.join(r,"node_modules",".builder","builder-cache.json")}async function rn(e,r,t){let i={envKey:t,envValue:null,file:""};for(let n of r){let s=e.join(e.getAppRootDir(),n),o=await h1(e,s);if(o){let a=o[t];if(typeof a=="string"&&a.length>0&&a!=="YOUR_API_KEY")return i.envValue=a,i.file=s,i}}return i.file=e.join(e.getAppRootDir(),r[r.length-1]),i}async function h1(e,r){let t=await e.readFile(r);return typeof t=="string"?gg(t):null}function gg(e){let r={},t=e.replace(/\r\n?/gm,`
`),i;for(;(i=m1.exec(t))!=null;){let n=i[1],s=i[2]||"";s=s.trim();let o=s[0];s=s.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),o==='"'&&(s=s.replace(/\\n/g,`
`),s=s.replace(/\\r/g,"\r")),r[n]=s}return r}var m1=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;async function nn(e,r,t,i){let n="# https://www.builder.io/c/docs/using-your-api-key",s=await e.readFile(r);if(s)if(s.includes(t))if(s.includes(i))e.debug(`"${t}" with "${i}" already set in ${r}`);else return e.debug(`Replace "${t}" in ${r}`),s=s.replace(new RegExp(`${t}=.*`),`${t}=${i}`),await e.writeFile(r,s),"update";else return e.debug(`Append "${t}" to ${r}`),s+=`

${n}
${t}=${i}

`,await e.writeFile(r,s),"update";else return e.debug(`Creating new .env file with "${t}" at ${r}`),s=[n,`${t}=${i}`,""].join(`
`),await e.writeFile(r,s),"create";return null}async function ho(e){return await rn(e,[".env.local",".env.development.local",".env.production.local",".env.development",".env.production",".env"],zr)}async function yg(e,r){let t=await ho(e),i=await nn(e,t.file,t.envKey,r);return{...t,modifiedType:i}}var zr="NEXT_PUBLIC_BUILDER_API_KEY";var ie={gen1:"Gen 1",gen2:"Gen 2"},mo={CMS:"cms",VCP:"vcp",HYBRID:"hybrid"};function xe(e,r=""){return e.ts.createSourceFile("module.tsx",typeof r=="string"?r:"",e.ts.ScriptTarget.Latest,void 0)}function tl(e,r=""){let t=xe(e,r?.trim());if(t.statements.length===0)throw new Error(`No statements found in code: ${r}`);return t.statements[0]}function yt(e,r,t){if(r){let i=e.ts.createPrinter({newLine:e.ts.NewLineKind.LineFeed,removeComments:t});return e.ts.isSourceFile(r)?i.printFile(r).trim()+`
`:i.printNode(e.ts.EmitHint.Unspecified,r,e.ts.createSourceFile("module.tsx","",e.ts.ScriptTarget.Latest)).trim()+`
`}return""}function os(e,r,t,i,n=!0){let s=r.properties.filter(a=>e.ts.isPropertyAssignment(a)),o=g1(e,r,t);return o>-1?i==null&&n?e.ts.factory.updateObjectLiteralExpression(r,s.filter((a,l)=>l!==o)):(s[o]=e.ts.factory.updatePropertyAssignment(s[o],s[o].name,go(e,i)),e.ts.factory.updateObjectLiteralExpression(r,s)):(i!=null&&s.push(e.ts.factory.createPropertyAssignment(t,go(e,i))),e.ts.factory.updateObjectLiteralExpression(r,s))}function g1(e,r,t){return r.properties.findIndex(i=>Fe(e,i)===t)}function yo(e,r){switch(r.kind){case e.ts.SyntaxKind.ArrayLiteralExpression:return b1(e,r);case e.ts.SyntaxKind.ObjectLiteralExpression:return y1(e,r);case e.ts.SyntaxKind.StringLiteral:return r.text;case e.ts.SyntaxKind.NumericLiteral:return Number(r.text);case e.ts.SyntaxKind.NoSubstitutionTemplateLiteral:return r.text;case e.ts.SyntaxKind.TrueKeyword:return!0;case e.ts.SyntaxKind.FalseKeyword:return!1;case e.ts.SyntaxKind.Identifier:switch(r.escapedText){case"undefined":return;case"null":return null;case"String":return String;case"Number":return Number;case"Boolean":return Boolean;case"NaN":return NaN}}}function y1(e,r){let t={};if(r&&e.ts.isObjectLiteralExpression(r)){for(let i of r.properties)if(e.ts.isPropertyAssignment(i)){let n=Fe(e,i);n&&(t[n]=yo(e,i.initializer))}}return t}function b1(e,r){return r&&e.ts.isArrayLiteralExpression(r)?r.elements.map(t=>yo(e,t)):[]}function Fe(e,r){if(r&&e.ts.isPropertyAssignment(r)){let t=r.name;switch(t.kind){case e.ts.SyntaxKind.Identifier:return t.text;case e.ts.SyntaxKind.StringLiteral:case e.ts.SyntaxKind.NumericLiteral:return t.text;case e.ts.SyntaxKind.ComputedPropertyName:let i=t.expression;if(e.ts.isStringLiteral(i)||e.ts.isNumericLiteral(i))return t.expression.text}}}function go(e,r){return Vc(e,r,new WeakSet)}function Vc(e,r,t){return r===void 0?e.ts.factory.createIdentifier("undefined"):r===null?e.ts.factory.createIdentifier("null"):typeof r=="string"?e.ts.factory.createStringLiteral(r):typeof r=="number"?isNaN(r)?e.ts.factory.createIdentifier("NaN"):e.ts.factory.createNumericLiteral(r):r===!0?e.ts.factory.createTrue():r===!1?e.ts.factory.createFalse():r===String?e.ts.factory.createIdentifier("String"):r===Number?e.ts.factory.createIdentifier("Number"):r===Boolean?e.ts.factory.createIdentifier("Boolean"):Array.isArray(r)?D1(e,r,t):typeof r=="object"?x1(e,r,t):e.ts.factory.createIdentifier(r)}function D1(e,r,t){let i=r.map(n=>Vc(e,n,t));return e.ts.factory.createArrayLiteralExpression(i,!0)}function x1(e,r,t){if(t.has(r))return e.ts.factory.createIdentifier("undefined");t.add(r);let i=Object.keys(r).map(n=>e.ts.factory.createPropertyAssignment(n,Vc(e,r[n],t)));return e.ts.factory.createObjectLiteralExpression(i,!0)}function Fn(e,r,t){let i=[];if(!t)return i;let n=null;if(e.ts.isArrowFunction(t)||e.ts.isFunctionExpression(t)||e.ts.isFunctionDeclaration(t)){let s=t.parameters;if(s.length>0){let o=s[0],a=r.getTypeAtLocation(o);a.aliasTypeArguments&&a.aliasTypeArguments.length>0?n=a.aliasTypeArguments[0].getProperties():n=a.getProperties()}}else if(e.ts.isIdentifier(t)){let s=r.getTypeAtLocation(t),o=s.symbol?.valueDeclaration;if(o&&e.ts.isClassDeclaration(o)){let l=o.heritageClauses?.find(u=>u.token===e.ts.SyntaxKind.ExtendsKeyword)?.types;if(l){for(let u of l)if(r.getSymbolAtLocation(u.expression)?.name==="Component"){if(e.ts.isExpressionWithTypeArguments(u)){let p=u.typeArguments;if(p){let d=p[0];n=r.getTypeFromTypeNode(d).getProperties()}}break}}}if(!n){let a=s.getCallSignatures();if(a.length>0){let l=a[0].getParameters();l.length>0&&(n=r.getTypeOfSymbolAtLocation(l[0],t).getProperties())}}}else if(e.ts.isExportSpecifier(t)){let s=r.getSymbolAtLocation(t.name);if(s){let a=r.getTypeOfSymbolAtLocation(s,t).getCallSignatures();if(a.length>0){let l=a[0].getParameters();l.length>0&&(n=r.getTypeOfSymbolAtLocation(l[0],t).getProperties())}}}if(n)for(let s of n){let o=E1(e,r,s);o&&i.push(o)}return i=i.filter(Dg),i.length>0?i:C1(e,t)}function E1(e,r,t){let i=t.valueDeclaration,n=t.getName();if(i||(i=t.getDeclarations()?.[0]),i&&e.ts.isPropertySignature(i)){if(n!=="children"&&i.getSourceFile().fileName.includes("node_modules/@types/"))return null;let s="string",o;if(i?.type){let l=r.getTypeFromTypeNode(i.type),u=r.typeToString(l),c=zc(u);c.knownType?s=c.builderType:v1(u)||l.flags&e.ts.TypeFlags.StringLike?s="string":l.flags&e.ts.TypeFlags.NumberLike?s="number":l.flags&e.ts.TypeFlags.IndexedAccess?s="list":l.flags&e.ts.TypeFlags.Object||l.isUnion()&&l.types.every(p=>p.flags&e.ts.TypeFlags.Object)||l.isIntersection()&&l.types.some(p=>p.flags&e.ts.TypeFlags.Object)?s="object":s="string",u!==s&&(o=u)}let a={name:n,type:s,isRegistered:!1};if(o&&i.type){let l=P1(e,r,r.getTypeFromTypeNode(i.type));a.meta=a.meta||{},l&&l.length>0&&a.type==="string"&&l.every(T1)?a.enum=l.map(A1):a.meta.ts=o}return i.questionToken||(a.required=!0),a}return null}function C1(e,r){let t=[],i=e.ts.getJSDocCommentsAndTags(r);for(let n of i)if(!(!e.ts.isJSDoc(n)||!n.tags))for(let s of n.tags){if(!e.ts.isJSDocParameterTag(s)||s.tagName.text!=="param")continue;let a=s.typeExpression?.type;if(!a||!e.ts.isJSDocTypeLiteral(a))continue;let l=a.jsDocPropertyTags;if(l)for(let u of l){if(!e.ts.isJSDocPropertyLikeTag(u))continue;let c=u.name;if(!e.ts.isQualifiedName(c))continue;let p=u.typeExpression;if(!p)continue;let d="";switch(p.type.kind){case e.ts.SyntaxKind.StringKeyword:{d="string";break}case e.ts.SyntaxKind.NumberKeyword:{d="number";break}case e.ts.SyntaxKind.BooleanKeyword:{d="boolean";break}default:continue}let f={name:c.right.text,type:d,isRegistered:!1};t.push(f)}}return t.filter(Dg)}var S1=["ClassicComponent","FunctionComponent","IntrinsicElements","JSX","ReactNode","ReactElement","ReactPortal"];function v1(e){return typeof e!="string"?!1:!!S1.some(r=>e.includes(r))}function zc(e){return typeof e=="string"&&(e=e.trim(),w1.some(r=>r.value===e))?{builderType:e,knownType:!0}:{builderType:"string",knownType:!1}}var w1=[{value:"boolean",text:"boolean"},{value:"color",text:"color (provides a color in hex or rgb)"},{value:"date",text:"date (same format as the Date constructor)"},{value:"email",text:"email"},{value:"file",text:"file (uploads a file and provides a url)"},{value:"list",text:"list (collection of items)"},{value:"longText",text:"longText (multiline text editor)"},{value:"number",text:"number"},{value:"object",text:"object (set of specific names and values)"},{value:"richText",text:"richText (provides value as html)"},{value:"string",text:"string"}];function T1(e){return/^['"].*['"]$/.test(e)}function A1(e){return(e.startsWith('"')||e.startsWith("'"))&&(e.endsWith('"')||e.endsWith("'"))?e.slice(1,-1):e}var P1=(e,r,t)=>{let i=new Set;bg(e,r,t,i);let n=i.delete("true"),s=i.delete("false");(n||s)&&i.add("boolean");let o=Array.from(i.keys()).sort();if(o.length>1&&(o=o.map(a=>a.indexOf("=>")>=0?`(${a})`:a)),!(o.length>20))return o},I1=(e,r,t)=>{let i=e.ts.TypeFormatFlags.InElementType|e.ts.TypeFormatFlags.NoTruncation;return r.typeToString(t,void 0,i)},bg=(e,r,t,i)=>{if(t.isUnion())t.types.forEach(n=>{bg(e,r,n,i)});else if(t.isLiteral()){let n=I1(e,r,t);i.add(n)}};function Dg(e){let r=e?.name;if(typeof r!="string"||r===""||r.startsWith("aria")||r.startsWith("data-"))return!1;if(r.startsWith("on")&&r.length>2){let t=r.charAt(2);if(t.toUpperCase()===t)return!1}return!_1.has(r.toLowerCase())}var _1=new Set(["about","accessKey","accessKeyLabel","asChild","autoCapitalize","autoCorrect","autoFocus","autoSave","blur","contentEditable","contextMenu","dangerouslySetInnerHTML","datatype","defaultChecked","defaultValue","dir","draggable","enterKeyHint","focus","form","formAction","formEncType","formMethod","formNoValidate","formTarget","inlist","innerText","inputMode","is","isContentEditable","itemID","itemProp","itemRef","itemScope","itemType","lang","nonce","offsetHeight","offsetLeft","offsetTop","offsetWidth","outerText","prefix","property","radioGroup","rel","resource","results","rev","role","security","slot","spellCheck","suppressContentEditableWarning","suppressHydrationWarning","tabIndex","translate","typeof","unselectable","vocab"].map(e=>e.toLowerCase()));function Jt(e,r,t){for(let i of t.properties){if(!e.ts.isPropertyAssignment(i))continue;let n=Fe(e,i);if(n==="name"&&e.ts.isStringLiteral(i.initializer)){r.name=i.initializer.text;continue}if(n==="description"&&e.ts.isStringLiteral(i.initializer)){r.description=i.initializer.text;continue}if(n==="image"&&e.ts.isStringLiteral(i.initializer)){r.image=i.initializer.text;continue}if(n==="inputs"&&e.ts.isArrayLiteralExpression(i.initializer)){let s=N1(e,i.initializer);ar(r,s);continue}if(n==="meta"&&e.ts.isObjectLiteralExpression(i.initializer)){let s=yo(e,i.initializer);s&&typeof s=="object"&&(r.meta=s);continue}}return r}function N1(e,r){let t=[];for(let i of r.elements)e.ts.isObjectLiteralExpression(i)&&t.push(F1(e,i));return t}function F1(e,r){let t=yo(e,r),i=$1(t);return i.isRegistered=!0,i}function dt(e,r,t){let i=O1(t);return r=os(e,r,"name",i.name,!1),r=os(e,r,"description",i.description),r=os(e,r,"image",i.image),r=os(e,r,"meta",i.meta),r=k1(e,r,i),U1(e,r)}function k1(e,r,t){let i=null,n=r.properties.filter(a=>e.ts.isPropertyAssignment(a)&&e.ts.isIdentifier(a.name)),s=n.findIndex(a=>e.ts.isIdentifier(a.name)&&a.name.text==="inputs"),o=[...t.inputs??[]];if(s>-1){if(o.length===0)return os(e,r,"inputs",null);let a=n[s];e.ts.isPropertyAssignment(a)&&e.ts.isArrayLiteralExpression(a.initializer)&&(i=a.initializer)}return o.length===0?r:(i=L1(e,i||e.ts.factory.createArrayLiteralExpression(),o),s>-1?n[s]=e.ts.factory.updatePropertyAssignment(n[s],n[s].name,i):n.push(e.ts.factory.createPropertyAssignment("inputs",i)),e.ts.factory.updateObjectLiteralExpression(r,n))}function O1(e){return{name:e.name,description:e.description,image:e.image,inputs:(e.inputs||[]).filter(t=>t.isRegistered).map(R1),...e.meta?{meta:{...e.meta}}:{}}}function R1(e){let r={name:e.name,type:e.type};return(Bt(e.defaultValue)||fo(e.defaultValue)||ns(e.defaultValue))&&(r.defaultValue=e.defaultValue),Bt(e.friendlyName)&&(r.friendlyName=e.friendlyName),Bt(e.helperText)&&(r.helperText=e.helperText),e.required===!0&&(r.required=!0),Array.isArray(e.enum)&&(r.enum=e.enum),e.hideFromUI===!0&&(r.hideFromUI=!0),typeof e.meta=="object"&&e.meta!=null&&Object.keys(e.meta).length>0&&(r.meta=e.meta),r}function L1(e,r,t){let i=r.elements.filter(n=>{if(!e.ts.isObjectLiteralExpression(n))return!1;let s=n.properties.find(a=>Fe(e,a)==="name");if(!s)return!1;let o=s.initializer;return e.ts.isStringLiteral(o)?t.some(a=>a.name===o.text):!1});for(let n of t)i=M1(e,i,n);return i.sort((n,s)=>{let o=n.properties.find(d=>Fe(e,d)==="name"),a=s.properties.find(d=>Fe(e,d)==="name"),l=o?.initializer,u=a?.initializer,c=l&&e.ts.isStringLiteral(l)?l.text:"zz",p=u&&e.ts.isStringLiteral(u)?u.text:"zz";return c.toLowerCase().localeCompare(p.toLowerCase())}),e.ts.factory.updateArrayLiteralExpression(r,i)}function M1(e,r,t){let i=r.findIndex(n=>n.properties.some(s=>{let o=Fe(e,s);return e.ts.isPropertyAssignment(s)&&o==="name"&&e.ts.isStringLiteral(s.initializer)&&s.initializer.text===t.name}));if(i>-1)r[i]=xg(e,r[i],t);else{let n=xg(e,e.ts.factory.createObjectLiteralExpression([e.ts.factory.createPropertyAssignment("name",e.ts.factory.createStringLiteral(t.name))],!0),t);r.push(n)}return r}function xg(e,r,t){let i=r.properties.filter(s=>e.ts.isPropertyAssignment(s)),n=Object.keys(t).filter(s=>s!=="isRegistered");for(let s of n)i=B1(e,i,t,s);return i=j1(e,i.filter(s=>{let o=Fe(e,s);return n.includes(o)})),e.ts.factory.updateObjectLiteralExpression(r,i)}function B1(e,r,t,i){let n=r.findIndex(s=>e.ts.isIdentifier(s.name)&&s.name.text===i);return n>-1?r[n]=e.ts.factory.updatePropertyAssignment(r[n],r[n].name,go(e,t[i])):r.push(e.ts.factory.createPropertyAssignment(i,go(e,t[i]))),r}function ar(e,r){for(let t of r){let i=e.inputs.findIndex(n=>n.name===t.name);i>-1?(t.isRegistered||!e.inputs[i].isRegistered)&&(e.inputs[i]=t):e.inputs.push(t)}e.acceptsChildren=Wc(e)}function $1(e){let r=zc(e.type),t={name:e.name.trim(),type:r.builderType};return Bt(e.friendlyName)&&e.friendlyName.trim()!==e.name.trim()&&(t.friendlyName=e.friendlyName),(Bt(e.defaultValue)||fo(e.defaultValue)||ns(e.defaultValue))&&(t.defaultValue=e.defaultValue),Bt(e.helperText)&&(t.helperText=e.helperText),ns(e.required)&&(t.required=e.required),typeof e.meta=="object"&&e.meta!=null&&Object.keys(e.meta).length>0&&(t.meta=e.meta),Array.isArray(e.enum)&&e.enum.length>0&&(t.enum=e.enum),e.hideFromUI===!0&&(t.hideFromUI=!0),Gc(t)}function Wc(e){let r=e.inputs.some(i=>i.name==="children"),t=e.inputs.some(i=>i.meta?.ts==="ReactNode");return!!(r||t||e.acceptsChildren===!0)}function Gc(e){if(e.name==="children"&&(e.hideFromUI=!0,delete e.required),e.type==="object"&&e.defaultValue==null&&(e.hideFromUI=!0),e.type==="list"&&e.defaultValue==null&&(e.hideFromUI=!0),e.meta){let r=e.meta.ts;typeof r=="string"&&(r=r.trim(),r.endsWith("ReactNode")&&(r="ReactNode"),e.meta.ts=r,r==="ReactNode"&&(e.hideFromUI=!0))}return e}function U1(e,r){let t=[...r.properties].sort((i,n)=>{let s=Fe(e,i)||"zz",o=Fe(e,n)||"zz";if(s==="inputs")return 1;let a=Eg.indexOf(s),l=Eg.indexOf(o);return a>-1?l>-1&&a>l?1:-1:l>-1?a>-1&&l<a?-1:1:s.localeCompare(o)});return e.ts.factory.updateObjectLiteralExpression(r,t)}var Eg=["component","name","description"];function j1(e,r){return[...r].sort((i,n)=>{let s=Fe(e,i)||"zz",o=Fe(e,n)||"zz",a=Cg.indexOf(s),l=Cg.indexOf(o);return a>-1?l>-1&&a>l?1:-1:l>-1?a>-1&&l<a?-1:1:s.localeCompare(o)})}var Cg=["name","type"];function as(e,r){for(let t of r.properties){if(!e.ts.isPropertyAssignment(t)||!e.ts.isIdentifier(t.name))continue;if(Fe(e,t)==="canHaveChildren"){let{initializer:n}=t;return n.kind===e.ts.SyntaxKind.TrueKeyword}}return!1}function Sg(e,r){let t=`Builder.registerComponent(
`;if(e.appDir)r.acceptsChildren?t+=`  withChildren(${r.importName}),
`:t+=`  ${r.importName},
`;else{let n=r.externalImportPath?r.externalImportPath:Se(e,e.registryPath,r.filePath);r.exportName==="default"?r.acceptsChildren?t+=`  withChildren(dynamic(() => import(${JSON.stringify(n)}))),
`:t+=`  dynamic(() => import(${JSON.stringify(n)})),
`:r.acceptsChildren?t+=`  withChildren(dynamic(async () => (await import(${JSON.stringify(n)})).${r.exportName})),
`:t+=`  dynamic(async () => (await import(${JSON.stringify(n)})).${r.exportName}),
`}t+=`  {
    name: "${r.name}",
  }
`,t+=");";let i=tl(e,t);return Hc(e,i,r)}function Hc(e,r,t){if(!e.ts.isExpressionStatement(r))return r;let i=r.expression;if(!e.ts.isCallExpression(i))return r;let n=[...i.arguments];if(n.length<2)return r;t.acceptsChildren?e.ts.isCallExpression(n[0])&&e.ts.isIdentifier(n[0].expression)&&n[0].expression.text==="withChildren"||(n[0]=e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("withChildren"),void 0,[n[0]])):e.ts.isCallExpression(n[0])&&e.ts.isIdentifier(n[0].expression)&&n[0].expression.text==="withChildren"&&(n[0]=n[0].arguments[0]);let s=n[1];return e.ts.isObjectLiteralExpression(s)?(n[1]=dt(e,s,t),e.ts.factory.updateExpressionStatement(r,e.ts.factory.updateCallExpression(i,i.expression,i.typeArguments,n))):r}async function ft(e,r,t){if(!Array.isArray(r)||r.length===0)throw new Error(`createTsProgram() Invalid filePaths: ${r}`);let i=await og(e,r[0]),n=e.join(i,"typescript","lib"),s=new Map,o={fileExists:a=>{if(a=e.normalize(a),a.includes("node_modules")){let l=bo.get(a);if(!l){try{e.statSync(a).isFile()?l={exists:!0,content:e.readFileSync(a)}:l={exists:!1}}catch{l={exists:!1}}bo.set(a,l)}return l.exists}return s.has(a)||s.set(a,e.existsSync(a)),s.get(a)},getCanonicalFileName:a=>e.normalize(a),getCurrentDirectory:()=>e.cwd(),getDefaultLibFileName:()=>e.join(n,"lib.d.ts"),getDefaultLibLocation:()=>n,getNewLine:()=>`
`,getSourceFile:a=>{if(a=e.normalize(a),a.includes("node_modules")){let u=bo.get(a);if(u)return xe(e,u.content)}let l=e.readFileSync(a);if(l==null){let u=e.basename(a),c=e.extname(u).toLowerCase();if(a.startsWith(n)&&c===".ts"&&(l=wg.get(u),l==null&&typeof self<"u"&&typeof fetch=="function"))throw new il(u)}return a.includes("node_modules")&&(l?bo.set(a,{exists:!0,content:l}):bo.set(a,{exists:!1})),xe(e,l)},readFile:a=>{let l=e.readFileSync(a);return typeof l=="string"?l:void 0},useCaseSensitiveFileNames:()=>!1,writeFile:()=>{}};for(;;)try{return q1(e,o,r,t)}catch(a){if(a instanceof il){await K1(e,a.libName);continue}throw console.error("createTsProgram",a),new Error(`createTsProgram() Could not create program for: ${r[0]}`)}}function q1(e,r,t,i){let n={rootNames:[...t],options:{},host:r},s=e.ts.findConfigFile(e.dirname(t[0]),o=>e.existsSync(o));if(s){let o=vg.get(s);if(!o){let a=e.ts.readConfigFile(s,l=>{let u=e.readFileSync(l);return typeof u=="string"?u:void 0});a.error?console.error("error reading tsconfig for createTsProgram"):(o=e.ts.parseJsonConfigFileContent(a.config,e.ts.sys||{useCaseSensitiveFileNames:!1,readDirectory:(u,c)=>e.readdirSync(u),fileExists:u=>e.existsSync(u),readFile:u=>e.readFileSync(u)||void 0},e.dirname(s),void 0,s).options,vg.set(s,o))}o&&(n.options=or(o))}return n.options.noEmit=!0,n.options.isolatedModules=!1,n.options.strict=!1,n.options.jsx=e.ts.JsxEmit.Preserve,n.options.allowJs=!0,Object.assign(n.options,i),e.ts.createProgram(n)}async function ls(e,r,t){t||(t=await ft(e,[r]));let i=t.getSourceFile(r);if(!i)throw new Error(`getTypeChecker() Could not find source file: ${r}`);return{typeChecker:t.getTypeChecker(),sourceFile:i}}var il=class{constructor(r){this.libName=r}};async function K1(e,r){let t=`https://cdn.jsdelivr.net/npm/typescript@${e.ts.version}/lib/${r}`;rl.has(r)||rl.set(r,fetch(t).then(i=>i.text()).then(i=>{wg.set(r,i)})),await rl.get(r),rl.delete(r)}var wg=new Map,rl=new Map,bo=new Map,vg=new Map;async function Tg(e,r){let t=await e.readFile(r.filePath);return t==null?{diagnostics:[{messageText:`Error reading: ${r.filePath}`}],code:null,output:null}:Jc(e,{code:t,filePath:r.filePath,compilerOptions:r.compilerOptions})}function Jc(e,r){let t={diagnostics:[],code:r.code,output:null};try{let i=e.ts.transpileModule(r.code,{compilerOptions:r.compilerOptions,fileName:r.filePath??"module.tsx",reportDiagnostics:!0});i.diagnostics?.forEach(n=>{t.diagnostics.push({messageText:String(n.messageText)})}),t.output=i.outputText}catch(i){console.error("transpileModule",i),t.diagnostics.push({messageText:String(i)})}return t}function Ce(e,r,t,i="esm"){return Array.isArray(t.namedImports)&&t.namedImports.forEach(n=>{r=V1(e,r,n,t.importPath,!!t.isTypeOnly,i)}),typeof t.defaultImport=="string"&&(r=z1(e,r,t.defaultImport,t.importPath,i)),r}function V1(e,r,t,i,n,s){return s==="cjs"?Pg(e,r,null,t,i):Ag(e,r,null,t,i,n)}function z1(e,r,t,i,n){return n==="cjs"?Pg(e,r,t,null,i):Ag(e,r,t,null,i,!1)}function Ag(e,r,t,i,n,s){let o=[...r.statements],a=0,l=!1,u=!1;for(let h=0;h<o.length;h++){let f=o[h];if(!e.ts.isImportDeclaration(f)||(a=h,!f.moduleSpecifier||!e.ts.isStringLiteral(f.moduleSpecifier))||f.moduleSpecifier.text!==n||!!f.importClause?.isTypeOnly!==s)continue;let g=[],m=f.importClause?.namedBindings;if(m&&e.ts.isNamedImports(m)&&m.elements&&g.push(...m.elements),typeof i=="string"){if(g.some(b=>b.name.text===i))return r;g.push(e.ts.factory.createImportSpecifier(!1,void 0,e.ts.factory.createIdentifier(i))),g.sort((b,C)=>b.name.text.localeCompare(C.name.text)),l=!0}let y=f.importClause?f.importClause.name:void 0;if(typeof t=="string"){if(y&&y.text===t)return r;y=e.ts.factory.createIdentifier(t),u=!0}if(l||u)return o[h]=e.ts.factory.updateImportDeclaration(f,void 0,e.ts.factory.createImportClause(s,y,e.ts.factory.createNamedImports(g)),f.moduleSpecifier,void 0),e.ts.factory.updateSourceFile(r,o)}let c,p;typeof t=="string"&&(c=e.ts.factory.createIdentifier(t)),typeof i=="string"&&(p=e.ts.factory.createNamedImports([e.ts.factory.createImportSpecifier(!1,void 0,e.ts.factory.createIdentifier(i))]));let d=e.ts.factory.createImportDeclaration(void 0,e.ts.factory.createImportClause(s,c,p),e.ts.factory.createStringLiteral(n));return o.splice(a,0,d),e.ts.factory.updateSourceFile(r,o)}function Pg(e,r,t,i,n){let s=[...r.statements],o=0;for(let a=0;a<s.length;a++){let l=s[a];if(e.ts.isVariableStatement(l))for(let u=0;u<l.declarationList.declarations.length;u++){let c=[...l.declarationList.declarations],p=c[u],d=p.initializer;if(!d||!e.ts.isCallExpression(d))continue;let h=d.expression;if(!e.ts.isIdentifier(h)||h.text!=="require"||d.arguments.length!==1)continue;let f=d.arguments[0];if(e.ts.isStringLiteral(f)&&(o=a,f.text===n)){if(e.ts.isIdentifier(p.name)&&typeof t=="string")return p.name.text===t?r:(c[u]=e.ts.factory.updateVariableDeclaration(p,e.ts.factory.createIdentifier(t),p.exclamationToken,p.type,p.initializer),s[a]=e.ts.factory.updateVariableStatement(l,l.modifiers,e.ts.factory.updateVariableDeclarationList(l.declarationList,c)),e.ts.factory.updateSourceFile(r,s));if(e.ts.isObjectBindingPattern(p.name)&&typeof i=="string"){let g=[...p.name.elements];return g.some(y=>!e.ts.isBindingElement(y)||!e.ts.isIdentifier(y.name)?!1:y.name.text===i)?r:(g.push(e.ts.factory.createBindingElement(void 0,void 0,i)),g.sort((y,b)=>!e.ts.isBindingElement(y)||!e.ts.isIdentifier(y.name)||!e.ts.isBindingElement(b)||!e.ts.isIdentifier(b.name)?0:y.name.text.localeCompare(b.name.text)),c[u]=e.ts.factory.updateVariableDeclaration(p,e.ts.factory.createObjectBindingPattern(g),p.exclamationToken,p.type,p.initializer),s[a]=e.ts.factory.updateVariableStatement(l,l.modifiers,e.ts.factory.updateVariableDeclarationList(l.declarationList,c)),e.ts.factory.updateSourceFile(r,s))}}}}if(typeof t=="string"){let a=e.ts.factory.createVariableStatement(void 0,e.ts.factory.createVariableDeclarationList([e.ts.factory.createVariableDeclaration(t,void 0,void 0,e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("require"),void 0,[e.ts.factory.createStringLiteral(n)]))],e.ts.NodeFlags.Const));return s.splice(o,0,a),e.ts.factory.updateSourceFile(r,s)}if(typeof i=="string"){let a=e.ts.factory.createVariableStatement(void 0,e.ts.factory.createVariableDeclarationList([e.ts.factory.createVariableDeclaration(e.ts.factory.createObjectBindingPattern([e.ts.factory.createBindingElement(void 0,void 0,i)]),void 0,void 0,e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("require"),void 0,[e.ts.factory.createStringLiteral(n)]))],e.ts.NodeFlags.Const));return s.splice(o,0,a),e.ts.factory.updateSourceFile(r,s)}return r}function kn(e,r,t="esm"){return t==="cjs"?G1(e,r):W1(e,r)}function W1(e,r){let t=[];for(let i of r.statements){if(e.ts.isExportDeclaration(i)){if(i.exportClause&&e.ts.isNamedExports(i.exportClause)){for(let n of i.exportClause.elements)if(i.moduleSpecifier&&t.push({isDefaultExport:!1,statement:i,node:n}),e.ts.isIdentifier(n.name)){let s=n.name.text;for(let o of r.statements)if(e.ts.isVariableStatement(o))for(let a of o.declarationList.declarations)e.ts.isIdentifier(a.name)&&a.name.text===s&&t.push({isDefaultExport:!1,statement:o,node:o});else e.ts.isFunctionDeclaration(o)&&o.name&&o.name.text===s&&t.push({isDefaultExport:!1,statement:o,node:o})}}else!i.exportClause&&i.moduleSpecifier&&t.push({isDefaultExport:!1,statement:i,node:i});continue}if(e.ts.isExportAssignment(i)){let n=i.flags===e.ts.NodeFlags.None,s=i.expression;if(e.ts.isIdentifier(s)){let o=s.text;for(let a of r.statements){if(e.ts.isVariableStatement(a))for(let l of a.declarationList.declarations)e.ts.isIdentifier(l.name)&&l.name.text===o&&t.push({isDefaultExport:n,statement:a,node:a});e.ts.isFunctionDeclaration(a)&&a.name?.text===o&&t.push({isDefaultExport:n,statement:a,node:a})}}else(e.ts.isArrowFunction(s)||e.ts.isCallExpression(s)||e.ts.isFunctionDeclaration(s)||e.ts.isObjectLiteralExpression(s))&&t.push({isDefaultExport:n,statement:i,node:s});continue}if((e.ts.isVariableStatement(i)||e.ts.isFunctionDeclaration(i))&&i.modifiers&&i.modifiers.some(n=>n.kind===e.ts.SyntaxKind.ExportKeyword)){t.push({isDefaultExport:i.modifiers.some(n=>n.kind===e.ts.SyntaxKind.DefaultKeyword),statement:i,node:i});continue}}return t}function G1(e,r){let t=[];for(let i of r.statements)if(e.ts.isExpressionStatement(i)&&e.ts.isBinaryExpression(i.expression)&&e.ts.isPropertyAccessExpression(i.expression.left)){let n=i.expression.left,s=i.expression.right;if(!e.ts.isIdentifier(n.expression))continue;if(n.expression.text==="module"&&n.name.text==="exports"){if(e.ts.isIdentifier(s)){let o=s.text;for(let a of r.statements)if(e.ts.isVariableStatement(a))for(let l of a.declarationList.declarations)e.ts.isIdentifier(l.name)&&l.name.text===o&&t.push({isDefaultExport:!0,statement:a,node:a});else e.ts.isFunctionDeclaration(a)&&a.name&&a.name.text===o&&t.push({isDefaultExport:!0,statement:a,node:a})}else t.push({isDefaultExport:!0,statement:i,node:s});continue}}return t}function H1(e,r,t){for(let i of r.statements)if(e.ts.isImportDeclaration(i)&&i.importClause){if(i.importClause.namedBindings&&e.ts.isNamedImports(i.importClause.namedBindings)){for(let n of i.importClause.namedBindings.elements)if(e.ts.isIdentifier(n.name)&&n.name.text===t&&e.ts.isStringLiteral(i.moduleSpecifier))return{importPath:i.moduleSpecifier.text,exportType:"named"}}if(i.importClause.name&&i.importClause.name.text===t&&e.ts.isStringLiteral(i.moduleSpecifier))return{importPath:i.moduleSpecifier.text,exportType:"default"}}return null}async function Wr(e,r,t,i){let n=H1(e,t,i);if(n){let s=await Do(e,e.normalize(e.resolve(e.dirname(r),n.importPath))),o=e.relative(e.getAppRootDir(),s);return{displayFilePath:Ne(e,s),filePath:s,relFilePath:o,importPath:n.importPath,exportType:n.exportType}}return null}function us(e,r,t){for(let i=0;i<r.statements.length;i++){let n=r.statements[i];if(e.ts.isVariableStatement(n)){for(let s of n.declarationList.declarations)if(e.ts.isIdentifier(s.name)&&s.name.text===t)return{statement:n,statementIndex:i}}}return null}function lt(e,r,t){let i=us(e,r,t);if(i&&i.statement.declarationList.declarations.length>0){let n=i.statement.declarationList.declarations[0];if(n.initializer&&e.ts.isArrayLiteralExpression(n.initializer))return{statement:i.statement,statementIndex:i.statementIndex,variableDeclaration:n,arrayLiteralExp:n.initializer}}return null}function nl(e,r){if(r){if(J1(e,r))return!0;let t=!1;if(r.forEachChild(i=>{nl(e,i)&&(t=!0)}),t)return!0}return!1}function J1(e,r){return e.ts.isJsxElement(r)||e.ts.isJsxOpeningElement(r)||e.ts.isJsxOpeningFragment(r)||e.ts.isJsxSelfClosingElement(r)||e.ts.isJsxFragment(r)||e.ts.isJsxChild(r)}async function Do(e,r){let t=e.extname(r).toLowerCase();if(t===""||!Yc.includes(t)){for(let i of Yc){let n=r+i;if(await e.exists(n))return n}for(let i of Yc){let n=e.join(r,"index"+i);if(await e.exists(n))return n}}return r}var Yc=[".tsx",".jsx",".ts",".js"];function cs(e,r,t){if(!t||!r)return;let i=r.getSymbolAtLocation(t);if(!i)return;let n=i.valueDeclaration;if(!n)return;let s=n.getSourceFile().fileName,o=Y1(e,s);return o?[{name:o}]:void 0}function Y1(e,r){if(typeof r=="string"){r=e.normalize(Tr(r));let t=r.split("/"),i=t.lastIndexOf("node_modules");if(i>-1){let n=t.slice(i+1),s=n[0];if(s)return s.startsWith("@")&&n[1]&&(s+="/"+n[1]),s}}}function Gr(e){let r=[];for(let t of e)if(t.dependencies)for(let i of t.dependencies)r.some(n=>n.name===i.name)||r.push({...i});return r.sort((t,i)=>t.name.localeCompare(i.name))}function Ig(e,r,t="esm"){return t==="cjs"?Z1(e,r):Q1(e,r)}var X1=/^(@\w|\w)/;function Q1(e,r){let t=[];for(let i of r.statements)if(e.ts.isImportDeclaration(i)&&e.ts.isLiteralExpression(i.moduleSpecifier)){if(!X1.test(i.moduleSpecifier.text)||i.importClause?.isTypeOnly)continue;if(i.importClause&&i.importClause.namedBindings&&e.ts.isNamedImports(i.importClause.namedBindings))for(let n of i.importClause.namedBindings.elements)n.isTypeOnly||t.push({isDefaultExport:!1,statement:i,node:n.name});i.importClause&&i.importClause.name&&t.push({isDefaultExport:!0,statement:i,node:i.importClause.name})}return t}function Z1(e,r){return[]}async function ps(e,r){if(!r.some(o=>!o.isRegistered))return r;let i=await ft(e,r.map(o=>o.filePath)),n=i.getTypeChecker();return await Promise.all(r.map(async o=>{let a=i.getSourceFile(o.filePath);if(a){let u=(await sn(e,n,o.filePath,a,!1)).find(c=>c.cmpInfo.id===o.id);u&&(o.inputs=Fn(e,n,u.node.fnNode))}return o}))}async function ds(e,r,t,i){if(r.node.fnNode){let{sourceFile:n,typeChecker:s}=await ls(e,r.cmpInfo.filePath,t),a=(await sn(e,s,r.cmpInfo.filePath,n,i)).find(l=>l.cmpInfo.id===r.cmpInfo.id);if(!a)throw new Error(`createComponentInputs() Could not find component ${r.cmpInfo.name} in ${r.cmpInfo.filePath}`);return Fn(e,s,a.node.fnNode)}return[]}async function Ng(e,r,t){let i=e.extname(r).toLowerCase();if(i===".tsx"||i===".jsx"||i===".ts"||i===".js"){let n=await e.readFile(r);if(n)return eI(e,r,n,t)}return null}function eI(e,r,t,i=!1){let n=xe(e,t);return sn(e,null,r,n,i)}async function sn(e,r,t,i,n){let s=[];for(let a of i.statements)if(e.ts.isExpressionStatement(a)&&e.ts.isStringLiteral(a.expression)&&a.expression.text==="use server")return s;let o=kn(e,i);return n&&o.push(...Ig(e,i)),t=e.normalize(t),await Promise.all(o.map(async a=>{let l=await tI(e,r,t,a);s.push(...l)})),s}async function tI(e,r,t,i){let n=[],s=e.relative(e.getAppRootDir(),t),o=Ue(e,t);if(e.ts.isVariableStatement(i.node)){for(let a of i.node.declarationList.declarations){if(!e.ts.isIdentifier(a.name)||!ss(a.name.text))continue;let l=vi(e,r,a.initializer);if(l){let u=l.name||a.name.text,c=i.isDefaultExport?"default":u,p=i.isDefaultExport?"default":"named";n.push({cmpInfo:{id:await je(e,t,c),displayFilePath:Ne(e,t),name:Ve(u),inputs:[],exportName:c,exportType:p,importName:u,filePath:t,relFilePath:s,importPath:o,dependencies:l.deps},node:l})}}return n}if(e.ts.isArrowFunction(i.node)){let a=vi(e,r,i.node);if(a){let l=yr(e,t),u=i.isDefaultExport?"default":l,c=i.isDefaultExport?"default":"named";n.push({cmpInfo:{id:await je(e,t,u),displayFilePath:Ne(e,t),name:l,inputs:[],exportName:u,exportType:c,importName:_n(e,t),filePath:t,relFilePath:s,importPath:o,dependencies:a.deps},node:a})}return n}if(e.ts.isFunctionExpression(i.node)||e.ts.isFunctionDeclaration(i.node)){let a=i.node.name?.text;if(a&&!ss(a))return n;let l=vi(e,r,i.node);if(l){let u=l.name||yr(e,t),c=i.isDefaultExport||!l.name?"default":l.name,p=i.isDefaultExport?"default":"named";n.push({cmpInfo:{id:await je(e,t,c),displayFilePath:Ne(e,t),name:u,inputs:[],exportName:c,exportType:p,importName:l.name||_n(e,t),filePath:t,relFilePath:s,importPath:o,dependencies:l.deps},node:l})}return n}if((e.ts.isExportSpecifier(i.node)||e.ts.isIdentifier(i.node))&&ss(i.node.getText())){let a,l=vi(e,r,i.node);if(l){let u=l.name||yr(e,t),c=i.isDefaultExport||!l.name?"default":l.name,p=i.isDefaultExport?"default":"named",d=rI(e,i.node)?.moduleSpecifier??iI(e,i.node)?.moduleSpecifier;if(d&&e.ts.isStringLiteral(d)){let h=r?.getSymbolAtLocation(d);if(h&&h.declarations&&h.declarations.length>0){let f=h.declarations[0];(!e.ts.isSourceFile(f)||e.ts.isSourceFile(f)&&f.fileName.includes("node_modules"))&&(a=d.text)}}n.push({cmpInfo:{id:await je(e,t,c,a),displayFilePath:Ne(e,t),name:u,inputs:[],exportName:c,exportType:p,importName:l.name||_n(e,t),filePath:t,relFilePath:s,importPath:a||o,externalImportPath:a,dependencies:l.deps},node:l})}return n}if(e.ts.isExportDeclaration(i.node)&&i.node.exportClause===void 0){let a=i.node.moduleSpecifier;if(a&&e.ts.isStringLiteral(a)){let l=await sI(e,r,t,a);n.push(...l)}return n}return n}function rI(e,r){for(;r;){if(e.ts.isExportDeclaration(r))return r;r=r.parent}return null}function iI(e,r){for(;r;){if(e.ts.isImportDeclaration(r))return r;r=r.parent}return null}function vi(e,r,t){if(!t)return null;if(e.ts.isArrowFunction(t))return nl(e,t.body)?{name:"",fnNode:t,deps:cs(e,r,t)}:null;if(e.ts.isFunctionExpression(t)||e.ts.isFunctionDeclaration(t))return nl(e,t.body)?{name:t.name?.text||"",fnNode:t,deps:cs(e,r,t)}:null;if(e.ts.isCallExpression(t)){let i=t.expression;if(e.ts.isPropertyAccessExpression(i)){let n=t.arguments;if(n.length===0)return null;let s=i.expression;if(!e.ts.isIdentifier(s)||s.text!=="React")return null;let o=i.name;return!e.ts.isIdentifier(o)||o.text!=="forwardRef"?null:vi(e,r,n[0])}else if(e.ts.isIdentifier(i)&&i.text==="observer"){let n=t.arguments;return n.length===0?null:vi(e,r,n[0])}return null}if(!r)return null;if(e.ts.isPropertyAccessExpression(t)){let i=t.expression,n=t.name;if(!e.ts.isIdentifier(i)||!e.ts.isIdentifier(n)||!ss(n.text))return null;let o=r.getTypeAtLocation(n).getCallSignatures();if(o.length>0&&o[0].getParameters().length>0)return{name:"",fnNode:n,deps:cs(e,r,n)}}if(e.ts.isExportSpecifier(t)){let i=t.name;return{name:i.text||"",fnNode:i,deps:cs(e,r,i)}}if(e.ts.isIdentifier(t))return{name:t.text||"",fnNode:t,deps:cs(e,r,t)};if(e.ts.isExpressionStatement(t)){let i=t.expression;if(e.ts.isAsExpression(i)&&e.ts.isIdentifier(i.type)&&i.type.text==="default")return vi(e,r,i.expression)}if(e.ts.isVariableStatement(t)){for(let i of t.declarationList.declarations)if(i.initializer&&e.ts.isAsExpression(i.initializer)){let n=i.initializer;if(e.ts.isIdentifier(n.type)&&n.type.text==="default"){let s=vi(e,r,n.expression);if(s&&e.ts.isIdentifier(i.name))return{name:i.name.text,fnNode:s.fnNode,deps:s.deps}}}}return null}async function Fg(e,r){let t=[],i=r.getSourceFiles(),n=r.getTypeChecker();return await Promise.all(i.map(async s=>{let o=e.normalize(s.fileName);if(el(e,nI,s.fileName)||o===e.reactConfigPath||o===e.builderComponentPath)return;let a=await sn(e,n,o,s,o===e.registryPath);t.push(...a)})),t.sort((s,o)=>s.cmpInfo.name.localeCompare(o.cmpInfo.name))}var nI=new Set(["node_modules","dist"]);async function sI(e,r,t,i){let n=[],s=i.text;if(!r)return n;try{let o=r.getSymbolAtLocation(i);if(!o)return n;let a=r.getExportsOfModule(o);for(let l of a){let u=l.valueDeclaration||l.declarations?.[0];if(!u)continue;let c=l.name;if(!ss(c)&&c!=="default"||!kg(e,r,u))continue;let p=vi(e,r,u);if(p){let d=l.name,h=d==="default"?"default":"named",f=Ve(d),g=d==="default"?_n(e,t):d;n.push({cmpInfo:{id:await je(e,t,d,s),displayFilePath:Ne(e,t),name:f,inputs:[],exportName:d,exportType:h,importName:g,filePath:t,relFilePath:e.relative(e.getAppRootDir(),t),importPath:s,externalImportPath:s,dependencies:p.deps},node:p})}}}catch(o){console.error(`Error processing module ${s}:`,o)}return n}function kg(e,r,t){if(e.ts.isInterfaceDeclaration(t)||e.ts.isTypeAliasDeclaration(t))return!1;if(e.ts.isExportSpecifier(t)){let i=r.getSymbolAtLocation(t.name);if(i){let s=r.getAliasedSymbol(i).declarations?.[0];if(s)return kg(e,r,s)}return!1}if(e.ts.isFunctionDeclaration(t)||e.ts.isArrowFunction(t)||e.ts.isFunctionExpression(t)){let i=r.getSignatureFromDeclaration(t);if(i){let n=r.getReturnTypeOfSignature(i);return _g(n,r)}}return e.ts.isClassDeclaration(t)?t.heritageClauses?.some(n=>n.types.some(s=>s.expression.getText()==="React.Component"||s.expression.getText()==="Component"))??!1:e.ts.isVariableDeclaration(t)?r.getTypeAtLocation(t).getCallSignatures().some(s=>_g(r.getReturnTypeOfSignature(s),r)):!1}function _g(e,r){let t=r.typeToString(e);return t==="JSX.Element"||t==="Element"||t.includes("ReactElement")||t.includes("React.ReactElement")||t.includes("ReactNode")}async function Og(e,r){let t=[],i=r.getSourceFiles(),n=r.getTypeChecker();return await Promise.all(i.map(async s=>{let o=e.basename(s.fileName);if(e.appDir&&oI.has(o)||e.dirname(s.fileName).includes("node_modules"))return;let a=e.normalize(s.fileName);if(a===e.nextConfigPath||a===e.builderComponentPath)return;let l=await sn(e,n,a,s,a===e.registryPath||gr(a));t.push(...l)})),t.sort((s,o)=>s.cmpInfo.name.localeCompare(o.cmpInfo.name))}var oI=new Set(["default.tsx","default.ts","default.jsx","default.js","error.tsx","error.ts","error.jsx","error.js","layout.tsx","layout.ts","layout.jsx","layout.js","loading.tsx","loading.ts","loading.jsx","loading.js","not-found.tsx","not-found.ts","not-found.jsx","not-found.js","page.tsx","page.ts","page.jsx","page.js","route.tsx","route.ts","route.jsx","route.js","template.tsx","template.ts","template.jsx","template.js"]);function Hr(e,r){let t=[],i=[],n=[],s=[];for(let o of r.statements){if(e.ts.isImportDeclaration(o)){if(e.ts.isStringLiteral(o.moduleSpecifier)){let l=o.moduleSpecifier.text;if(!l.startsWith(".")&&!l.startsWith("/")){t.push(o);continue}}let a=o.importClause;if(a){if(a.namedBindings){i.push(o);continue}if(a.name){i.push(o);continue}}n.push(o);continue}s.push(o)}return e.ts.factory.updateSourceFile(r,[...Xc(e,t),...Xc(e,i),...Xc(e,n),...s])}function Ar(e){let r=e.split(`
`).map(i=>i.trimEnd());e="";let t=!1;for(let i=r.length-1;i>=0;i--){let n=r[i];!t&&n.startsWith("import ")&&(t=!0,n=n+`
`),/^builder.init(.*)$/.test(n)&&(n=n+`
`),r[i-1]&&!r[i-1].includes("*/")&&(n.trim().startsWith("Builder.registerComponent")&&(n=`
`+n),n.trim().startsWith("/**")&&(n=`
`+n),n.trim().startsWith("module.exports")&&(n=`
`+n),n.trim().startsWith("export ")&&(n=`
`+n)),e=n+`
`+e}return e.trim()+`
`}function Xc(e,r){return r.sort((t,i)=>{let n=Rg(e,t),s=Rg(e,i);return n.toLocaleLowerCase().localeCompare(s.toLocaleLowerCase())})}function Rg(e,r){let t=r.importClause;if(t){let i=t.namedBindings;if(i&&e.ts.isNamedImports(i)&&i.elements.length>0)return i.elements[0].name.text;if(t.name)return t.name.text}return r.moduleSpecifier&&e.ts.isStringLiteral(r.moduleSpecifier)?r.moduleSpecifier.text:""}function Mg(e){return typeof e=="string"&&!e.includes("'use client'")&&!e.includes(`"use client"'`)&&(e=`"use client"
${e}`),e}function Bg(e,r){let t=r.statements.filter(i=>!(e.ts.isExpressionStatement(i)&&e.ts.isStringLiteral(i.expression)&&e.ts.isStringLiteral(i.expression)&&i.expression.text==="use client"));return e.ts.factory.updateSourceFile(r,t)}function Jr(e,r){return r.sort((t,i)=>{if(e.ts.isObjectLiteralExpression(t)&&e.ts.isObjectLiteralExpression(i)){let n=Lg(e,t),s=Lg(e,i);return n.toLocaleLowerCase().localeCompare(s.toLocaleLowerCase())}return 1})}function Lg(e,r){let t=r.properties.find(i=>Fe(e,i)==="name");return t&&e.ts.isPropertyAssignment(t)&&e.ts.isStringLiteral(t.initializer)?t.initializer.text:"zzzz"}async function $g(e){let r=await e.readFile(e.registryPath);return r?aI(e,r):{components:[],sourceFile:xe(e,"")}}async function aI(e,r){let t=xe(e,r);return e.sdkVersion===ie.gen2?uI(e,t):lI(e,t)}async function lI(e,r){let t=[];for(let i=0;i<r.statements.length;i++){let n=r.statements[i];if(!e.ts.isExpressionStatement(n))continue;let s=n.expression;if(!e.ts.isCallExpression(s))continue;let o=s.expression;if(!e.ts.isPropertyAccessExpression(o))continue;let a=o.expression;if(!e.ts.isIdentifier(a)||a.text!=="Builder"||o.name.text!=="registerComponent")continue;let u=s.arguments;if(u.length<2)continue;let c=u[1];if(!e.ts.isObjectLiteralExpression(c))continue;let p=u[0];if(e.ts.isCallExpression(p)){let d=e.ts.isIdentifier(p.expression)&&p.expression.text;if(d==="withChildren"){let f=ep(e,p.arguments[0]);if(e.ts.isCallExpression(f)){let g=await Qc(e,i,f,c,!0);g&&t.push(g)}else{let g=f;if(e.ts.isIdentifier(g)){let m=await Zc(e,r,i,g,c,!0);m&&t.push(m)}}continue}if(d==="dynamic"){let f=await Qc(e,i,p,c,!1);f&&t.push(f);continue}let h=ep(e,p.arguments[0]);if(e.ts.isCallExpression(h)&&e.ts.isIdentifier(h.expression)&&h.expression.text==="dynamic"){let f=await Qc(e,i,h,c,!1);f&&t.push(f);continue}if(e.ts.isIdentifier(h)){let f=await Zc(e,r,i,h,c,!1);f&&t.push(f);continue}continue}if(e.ts.isIdentifier(p)){let d=await Zc(e,r,i,p,c,!1);d&&t.push(d);continue}}return{sourceFile:r,components:Ht(t)}}function ep(e,r){return e.ts.isCallExpression(r)?(e.ts.isIdentifier(r.expression)&&r.expression.text)==="dynamic"?r:ep(e,r.arguments[0]):r}async function Qc(e,r,t,i,n){let s={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],nodeIndex:r,acceptsChildren:n},o=t.arguments;if(o.length===0)return null;let a=o[0];if(!e.ts.isArrowFunction(a))return null;let l=a.body;if(e.ts.isCallExpression(l)){if(l.expression.kind!==e.ts.SyntaxKind.ImportKeyword||l.arguments.length!==1)return null;let c=l.arguments[0];if(!e.ts.isStringLiteral(c))return null;let p=c.text,d=await fs(e,p);s.filePath=d,s.relFilePath=e.relative(e.getAppRootDir(),s.filePath),await e.exists(d)?s.importPath=Ue(e,s.filePath):(s.externalImportPath=p,s.importPath=s.externalImportPath),s.name=yr(e,s.filePath),s.importName="default",s.exportName="default",s.exportType="default"}else if(e.ts.isPropertyAccessExpression(l)){let u=l.expression;if(!e.ts.isParenthesizedExpression(u))return null;let c=u.expression;if(!e.ts.isAwaitExpression(c))return null;let p=c.expression;if(!e.ts.isCallExpression(p)||p.expression.kind!==e.ts.SyntaxKind.ImportKeyword||p.arguments.length!==1)return null;let h=p.arguments[0];if(!e.ts.isStringLiteral(h)||!e.ts.isIdentifier(l.name))return null;let f=h.text,g=await fs(e,f);s.filePath=g,s.relFilePath=e.relative(e.getAppRootDir(),s.filePath),await e.exists(g)?s.importPath=Ue(e,s.filePath):(s.externalImportPath=f,s.importPath=s.externalImportPath),s.name=Ve(l.name.text),s.importName=l.name.text,s.exportName=l.name.text,s.exportType="named"}else return null;return s=Jt(e,s,i),s.displayFilePath=Ne(e,s.filePath),s.filePath&&s.exportName&&(s.id=await je(e,s.filePath,s.exportName,s.externalImportPath)),s}async function Zc(e,r,t,i,n,s){let o={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],nodeIndex:t,acceptsChildren:s},a=r.statements.filter(u=>e.ts.isImportDeclaration(u)),l=a.find(u=>u.importClause&&u.importClause.name?.text===i.text);if(l){let u=l.moduleSpecifier;if(!e.ts.isStringLiteral(u))return null;let c=await fs(e,u.text);o.filePath=c,o.relFilePath=e.relative(e.getAppRootDir(),o.filePath),await e.exists(c)?o.importPath=Ue(e,o.filePath):(o.externalImportPath=u.text,o.importPath=o.externalImportPath),o.name=yr(e,o.filePath),o.importName=i.text,o.exportName="default",o.exportType="default"}else{let u=a.find(d=>!d.importClause||!d.importClause.namedBindings||!e.ts.isNamedImports(d.importClause.namedBindings)?!1:d.importClause.namedBindings.elements.some(h=>h.name.text===i.text));if(!u)return null;let c=u.moduleSpecifier;if(!e.ts.isStringLiteral(c))return null;let p=await fs(e,c.text);o.filePath=p,o.relFilePath=e.relative(e.getAppRootDir(),o.filePath),await e.exists(p)?o.importPath=Ue(e,o.filePath):(o.externalImportPath=c.text,o.importPath=o.externalImportPath),o.name=Ve(i.text),o.importName=i.text,o.exportName=i.text,o.exportType="named"}return o=Jt(e,o,n),o.displayFilePath=Ne(e,o.filePath),o.filePath&&o.exportName&&(o.id=await je(e,o.filePath,o.exportName,o.externalImportPath)),o}function fs(e,r){return Do(e,e.normalize(e.resolve(e.dirname(e.registryPath),r)))}function Ug(e,r,t){let i=!1,n=0,s=[...r.statements];for(let u=0;u<s.length;u++){let c=s[u];if(e.ts.isImportDeclaration(c)){n=u;continue}if(!e.ts.isExpressionStatement(c))continue;let p=c.expression;if(!e.ts.isCallExpression(p))continue;let d=p.expression;if(!e.ts.isPropertyAccessExpression(d))continue;let h=d.expression;if(!e.ts.isIdentifier(h)||h.text!=="builder")continue;if(d.name.text=="init"){i=!0;break}else continue}if(i)return r;let o=e.ts.factory.createPropertyAccessExpression(e.ts.factory.createPropertyAccessExpression(e.ts.factory.createIdentifier("process"),e.ts.factory.createIdentifier("env")),e.ts.factory.createIdentifier(zr)),a=t?e.ts.factory.createNonNullExpression(o):o,l=e.ts.factory.createExpressionStatement(e.ts.factory.createCallExpression(e.ts.factory.createPropertyAccessExpression(e.ts.factory.createIdentifier("builder"),e.ts.factory.createIdentifier("init")),void 0,[a]));return s.splice(n+1,0,l),e.ts.factory.updateSourceFile(r,s)}async function uI(e,r){let t=[],i=lt(e,r,"CUSTOM_COMPONENTS");return i&&await Promise.all(i.arrayLiteralExp.elements.map(async(n,s)=>{let o=await tp(e,r,n);o&&(o.nodeIndex=s,t.push(o))})),{sourceFile:r,components:Ht(t)}}async function tp(e,r,t){if(!e.ts.isObjectLiteralExpression(t))return null;let i={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],acceptsChildren:!1};as(e,t)&&(i.acceptsChildren=!0);for(let s of t.properties){if(!e.ts.isPropertyAssignment(s)||!e.ts.isIdentifier(s.name))continue;if(Fe(e,s)==="component"){let a,{initializer:l}=s;if(e.ts.isCallExpression(l)&&(e.ts.isIdentifier(l.expression)&&l.expression.text)==="dynamic"){let h=l.arguments;if(h.length===0)return null;let f=h[0];if(!e.ts.isArrowFunction(f))return null;let g=f.body;if(e.ts.isCallExpression(g)){if(g.expression.kind!==e.ts.SyntaxKind.ImportKeyword||g.arguments.length!==1)return null;let y=g.arguments[0];if(!e.ts.isStringLiteral(y))return null;let b=y.text,C=await fs(e,b);i.filePath=C,i.relFilePath=e.relative(e.getAppRootDir(),i.filePath),await e.exists(C)?i.importPath=Ue(e,i.filePath):(i.externalImportPath=b,i.importPath=i.externalImportPath),i.name=yr(e,i.filePath),i.importName="default",i.exportName="default",i.exportType="default"}else if(e.ts.isPropertyAccessExpression(g)){let m=g.expression;if(!e.ts.isParenthesizedExpression(m))return null;let y=m.expression;if(!e.ts.isAwaitExpression(y))return null;let b=y.expression;if(!e.ts.isCallExpression(b)||b.expression.kind!==e.ts.SyntaxKind.ImportKeyword||b.arguments.length!==1)return null;let D=b.arguments[0];if(!e.ts.isStringLiteral(D)||!e.ts.isIdentifier(g.name))return null;let x=D.text,E=await fs(e,x);i.filePath=E,i.relFilePath=e.relative(e.getAppRootDir(),i.filePath),await e.exists(E)?i.importPath=Ue(e,i.filePath):(i.externalImportPath=x,i.importPath=i.externalImportPath),i.name=Ve(g.name.text),i.importName=g.name.text,i.exportName=g.name.text,i.exportType="named"}else return null;return i=Jt(e,i,t),i.displayFilePath=Ne(e,i.filePath),i.filePath&&i.exportName&&(i.id=await je(e,i.filePath,i.exportName,i.externalImportPath)),i}if(e.ts.isIdentifier(l)&&(a=l.text),!a)continue;i.name===""&&(i.name=Ve(a)),i.importName=a;let u=await Wr(e,e.registryPath,r,a);if(!u)continue;i.filePath=u.filePath,i.relFilePath=u.relFilePath,await e.exists(u.filePath)?i.importPath=Ue(e,u.filePath):(i.externalImportPath=u.importPath,i.importPath=i.externalImportPath),i.importPath=Ue(e,u.filePath),i.displayFilePath=u.displayFilePath,i.exportType=u.exportType;let c=r.statements.filter(d=>e.ts.isImportDeclaration(d)),p=c.find(d=>d.importClause&&d.importClause.name?.text===a);if(p){let d=p.moduleSpecifier;if(!e.ts.isStringLiteral(d))return null;i.exportName="default"}else{let d=c.find(f=>!f.importClause||!f.importClause.namedBindings||!e.ts.isNamedImports(f.importClause.namedBindings)?!1:f.importClause.namedBindings.elements.some(g=>g.name.text===a));if(!d)return null;let h=d.moduleSpecifier;if(!e.ts.isStringLiteral(h))return null;i.exportName=a}continue}}return i=Jt(e,i,t),i.filePath&&i.exportName&&(i.id=await je(e,i.filePath,i.exportName,i.externalImportPath)),i}function Yr(e,r){let t=[...r.statements],i=!1;for(let n=r.statements.length-1;n>=0;n--){let s=r.statements[n];if(e.ts.isImportDeclaration(s)&&s.importClause){let o=!1,a=s.importClause.namedBindings;if(a&&e.ts.isNamedImports(a)&&a.elements){let l=[...a.elements];for(let u=l.length-1;u>=0;u--){let c=l[u];if(e.ts.isImportSpecifier(c)){let p=c.name;if(p&&e.ts.isIdentifier(p)){let d=p.text;jg(e,r,d)||l.splice(u,1)}}}if(l.length===0)o=!0;else if(a.elements.length!==l.length){let u=e.ts.factory.updateImportClause(s.importClause,!1,s.importClause.name,e.ts.factory.createNamedImports(l)),c=e.ts.factory.updateImportDeclaration(s,void 0,u,s.moduleSpecifier,void 0);t[n]=c,i=!0}}else if(s.importClause.name&&e.ts.isIdentifier(s.importClause.name)){let l=s.importClause.name.text;jg(e,r,l)||(o=!0)}o&&(t.splice(n,1),i=!0)}}return i?e.ts.factory.updateSourceFile(r,t):r}function jg(e,r,t){let i=!1;function n(s){if(!e.ts.isImportDeclaration(s)){if(e.ts.isIdentifier(s)&&s.text===t){i=!0;return}e.ts.forEachChild(s,n)}}return e.ts.forEachChild(r,n),i}function Xr(e,r,t,i,n,s,o){let a=null,l=null,u=null,c=-1;r=or(r),t=or(t);let p=r.find(h=>h.id===e),d=t.find(h=>h.id===e);if(i)d||(a={...or(p),inputs:or(p.inputs).map(h=>(h.isRegistered=!0,h))},c=t.length,t.push(a));else if(typeof d?.nodeIndex=="number"&&d.nodeIndex>-1){if(n)c=d.nodeIndex,l=or(d),t=t.filter(h=>h.id!==e);else if(s!=null)cI(d,s),c=d.nodeIndex,u=d;else if(o!=null){let h=d.inputs.find(f=>f.name===o.name);h&&(o.registerInput===!1?h.isRegistered=!1:(pI(h,o),h.isRegistered=!0),u=d,c=d.nodeIndex)}}return{addCmpToRegistry:a,removeCmpFromRegistry:l,updateRegisteredCmp:u,nodeIndex:c,components:Pr(r,t)}}function Pr(e,r){let t=Ht([...r.map(i=>(i.isRegistered=!0,i)),...e.filter(i=>!r.some(n=>n.id===i.id)).map(i=>(i.isRegistered=!1,i))]);return t.forEach(i=>{i.inputs=i.inputs.map(Gc),i.inputs.sort((o,a)=>o.name.toLowerCase().localeCompare(a.name.toLowerCase()));let n=r.find(o=>o.id===i.id);n&&(n.acceptsChildren=Wc(i));let s=e.find(o=>o.id===i.id&&o.externalImportPath);s&&(i.filePath=s.filePath,i.relFilePath=s.relFilePath)}),t}function cI(e,r){Bt(r.name)?e.name=r.name:r.name===null&&(e.name=e.importName),Bt(r.description)?e.description=r.description:r.description===null&&delete e.description,Bt(r.image)?e.image=r.image:r.image===null&&delete e.image}function pI(e,r){Bt(r.type)&&(e.type=r.type),Bt(r.friendlyName)?e.friendlyName=r.friendlyName:r.friendlyName===null&&delete e.friendlyName,Bt(r.defaultValue)||fo(r.defaultValue)||ns(r.defaultValue)?e.defaultValue=r.defaultValue:r.defaultValue===null&&delete e.defaultValue,Bt(r.helperText)?e.helperText=r.helperText:r.helperText===null&&delete e.helperText,r.required===!0?e.required=r.required:(r.required===null||r.required===!1)&&delete e.required}async function on(e){let r=new Set,t=async n=>{let s=await e.readdir(n);await Promise.all(s.map(async o=>{if(o.startsWith(".")||o==="node_modules")return;let a=e.join(n,o),l=e.extname(o).toLowerCase();if(l===".tsx"||l===".jsx"||l===".ts"||l===".js"){r.add(a);return}(await e.stat(a)).isDirectory()&&await t(a)}))};return await t(e.getAppRootDir()),await ft(e,[...r])}function Qr(e,r,t){return us(e,r,t.variableName)?r:dI(e,r,t)}function dI(e,r,t){let i=typeof t.arrayType=="string"?e.ts.factory.createArrayTypeNode(e.ts.factory.createTypeReferenceNode(t.arrayType,void 0)):void 0,n=e.ts.factory.createArrayLiteralExpression([]),s=e.ts.factory.createVariableDeclaration(t.variableName,void 0,i,n),o=e.ts.factory.createVariableDeclarationList([s],e.ts.NodeFlags.Const),a=e.ts.factory.createModifier(e.ts.SyntaxKind.ExportKeyword),l=e.ts.factory.createVariableStatement([a],o),u=[...r.statements,l];return e.ts.factory.updateSourceFile(r,u)}async function Zr(e,r,t,i,n,s,o,a){let l=await on(e),[u,c,p,d]=await Promise.all([Og(e,l),$g(e),sr(e),ho(e)]),h=u.map(C=>C.cmpInfo),f=c.components,g={components:Pr(h,f),registryPath:e.registryPath,registryDisplayPath:Ne(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:Gr(h),publicApiKey:d.envValue??void 0,devToolsVersion:e.version};if(a)return g.components=await ps(e,g.components),g;let m=!1,y=c.sourceFile,b=Array.isArray(r)?r:typeof r=="string"?[r]:[];if(b.length>0){let C=b.map(E=>{let w=u.find(k=>k.cmpInfo.id===E);if(!w)throw new Error(`Component ${E} not found`);return w}),D=Array.from(new Set(C.map(E=>E.cmpInfo.filePath))),x=await ft(e,D);for(let E of C){let w=g.components.find(N=>N.id===E.cmpInfo.id),k=await ds(e,E,x,e.registryPath===E.cmpInfo.filePath||gr(E.cmpInfo.filePath));ar(w,k);let M=h.findIndex(N=>N.id===E.cmpInfo.id);h[M].inputs=k;let R=Xr(E.cmpInfo.id,h,f,t,i,n,s);if(e.sdkVersion===ie.gen2){let{elements:N,elmIndex:K,statementIndex:Z,statement:re,variableDeclaration:ee}=await mI(e,y,E);if(R.addCmpToRegistry)N.push(hI(e,R.addCmpToRegistry)),m=!0;else if(R.removeCmpFromRegistry)N.splice(K,1),m=!0;else if(R.updateRegisteredCmp){let Pe=dt(e,N[K],R.updateRegisteredCmp);N[K]=e.ts.factory.updateObjectLiteralExpression(Pe,[Kg(e,R.updateRegisteredCmp),...Pe.properties.slice(1)]),m=!0}if(m&&o){let Pe=[...y.statements];Pe[Z]=e.ts.factory.updateVariableStatement(re,re.modifiers,e.ts.factory.updateVariableDeclarationList(re.declarationList,[e.ts.factory.updateVariableDeclaration(ee,ee.name,ee.exclamationToken,ee.type,e.ts.factory.createArrayLiteralExpression(Jr(e,N)))])),y=e.ts.factory.updateSourceFile(y,Pe),y=qg(e,R,y),y=Ce(e,y,{namedImports:["RegisteredComponent"],importPath:"@builder.io/sdk-react",isTypeOnly:!0}),y=Qr(e,y,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),g.components=R.components,f=R.components.filter(I=>I.isRegistered)}}else{let N=[...y.statements];R.addCmpToRegistry?(N.push(Sg(e,R.addCmpToRegistry)),m=!0):R.removeCmpFromRegistry?(N.splice(R.nodeIndex,1),m=!0):R.updateRegisteredCmp&&(N[R.nodeIndex]=Hc(e,N[R.nodeIndex],R.updateRegisteredCmp),m=!0),m&&o&&(y=e.ts.factory.updateSourceFile(y,N),y=Ce(e,y,{namedImports:["Builder","builder"],importPath:"@builder.io/react"}),y=Ug(e,y,p),y=qg(e,R,y),w?.acceptsChildren&&(y=Ce(e,y,{namedImports:["withChildren"],importPath:"@builder.io/react"})),g.components=R.components,f=R.components.filter(K=>K.isRegistered))}}}if(m&&o){y=Yr(e,y),y=Hr(e,y),e.appDir&&(y=Bg(e,y));let C=yt(e,y);C=Ar(C),e.appDir&&(C=Mg(C)),C=await e.formatCode(e.registryPath,C),await e.writeFile(e.registryPath,C)}return g}function Kg(e,r){let t=e.ts.factory.createIdentifier(r.importName);return e.appDir?e.ts.factory.createPropertyAssignment("component",t):e.ts.factory.createPropertyAssignment("component",gI(e,r))}function fI(e){return e.ts.factory.createPropertyAssignment("canHaveChildren",e.ts.factory.createTrue())}function hI(e,r){return dt(e,e.ts.factory.createObjectLiteralExpression([Kg(e,r),...r.acceptsChildren?[fI(e)]:[]],!0),r)}async function mI(e,r,t){let i=lt(e,r,"CUSTOM_COMPONENTS");if(!i)throw new Error(`Exported name of the Builder registry must be "CUSTOM_COMPONENTS". Please update your Builder registry file: ${e.registryPath}`);let n=i.arrayLiteralExp.elements.filter(o=>e.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<n.length;o++)if((await tp(e,r,n[o]))?.id===t.cmpInfo.id){s=o;break}return{...i,elements:n,elmIndex:s}}function qg(e,r,t){if(e.appDir){let i=r.addCmpToRegistry||r.updateRegisteredCmp;if(i){let n=i.externalImportPath?i.externalImportPath:Se(e,e.registryPath,i.filePath);i.exportType==="default"?t=Ce(e,t,{defaultImport:i.importName,importPath:n}):i.exportType==="named"&&(t=Ce(e,t,{namedImports:[i.importName],importPath:n}))}}else t=Ce(e,t,{defaultImport:"dynamic",importPath:"next/dynamic"});return t}function gI(e,r){let t=r.externalImportPath?r.externalImportPath:Se(e,e.registryPath,r.filePath),i=r.exportName!=="default",n;i?n=e.ts.factory.createPropertyAccessExpression(e.ts.factory.createAwaitExpression(e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("import"),void 0,[e.ts.factory.createStringLiteral(t)])),e.ts.factory.createIdentifier(r.exportName)):n=e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("import"),void 0,[e.ts.factory.createStringLiteral(t)]);let s=e.ts.factory.createArrowFunction(i?[e.ts.factory.createModifier(e.ts.SyntaxKind.AsyncKeyword)]:void 0,void 0,[],void 0,e.ts.factory.createToken(e.ts.SyntaxKind.EqualsGreaterThanToken),n);return e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("dynamic"),void 0,[s])}async function zg(e){let r=[],t=await EI(e,r);return await Yg(e,r,t),e.appDir?(e.debug(`ensure builder setup for next.js app ${e.appDir}`),await bI(e,e.appDir,r)):e.pagesDir&&(e.debug(`ensure builder setup for next.js pages ${e.pagesDir}`),await DI(e,e.pagesDir,r)),r}async function Wg(e){let r=[];return await Yg(e,r),e.appDir?(e.debug(`ensure figma-imports setup for next.js app ${e.appDir}`),await yI(e,e.appDir,r)):e.pagesDir&&(e.debug(`ensure figma-imports setup for next.js pages ${e.pagesDir}`),await xI(e,e.pagesDir,r)),r}async function yI(e,r,t){let i=`page.${e.typescriptEnabled?"tsx":"jsx"}`,n=e.join(r,"figma-imports",i);if(!await e.exists(n)){let s=await e.formatCode(n,Hg({sys:e,routePath:n,modelName:"figma-imports"}));await e.writeFile(n,s),t.push({filePath:n,modifiedType:"create"})}if(!await e.exists(e.builderComponentPath)){let s=await e.formatCode(e.builderComponentPath,Gg(e));await e.writeFile(e.builderComponentPath,s),t.push({filePath:e.builderComponentPath,modifiedType:"create"})}}async function bI(e,r,t){let i=`page.${e.typescriptEnabled?"tsx":"jsx"}`,n=e.join(r,"[...page]",i);if(!await e.exists(n)){let s=await e.formatCode(n,Hg({sys:e,routePath:n,modelName:"page"}));await e.writeFile(n,s),t.push({filePath:n,modifiedType:"create"})}if(!await e.exists(e.builderComponentPath)){let s=await e.formatCode(e.builderComponentPath,Gg(e));await e.writeFile(e.builderComponentPath,s),t.push({filePath:e.builderComponentPath,modifiedType:"create"})}}function Gg(e){let r=e.typescriptEnabled;return e.sdkVersion===ie.gen2?`
  "use client";
  import { ${r?"BuilderContent, ":""} isPreviewing, Content } from "@builder.io/sdk-react";
  import DefaultErrorPage from "next/error";
  import { CUSTOM_COMPONENTS } from ${JSON.stringify(Se(e,e.builderComponentPath,e.registryPath))};
  ${r?`
interface BuilderPageProps {
      content: BuilderContent | null;
      model: string;
      }`:""}

  // Builder Public API Key set in .env file
  const builderApiKey = process.env.${zr}${r?"!":""};

  export function RenderBuilderContent({ content, model }${r?": BuilderPageProps":""}) {
    // Call the isPreviewing hook to determine if
    // the page is being previewed in Builder
    // If "content" has a value or the page is being previewed in Builder,
    // render the BuilderComponent with the specified content and model props.
    if (content || isPreviewing()) {
      return <Content
        content={content}
        apiKey={builderApiKey}
        model={model}
        customComponents={CUSTOM_COMPONENTS}
      />;
    }
    // If the "content" is falsy and the page is
    // not being previewed in Builder, render the
    // DefaultErrorPage with a 404.
    return <DefaultErrorPage statusCode={404} />;
  }
  `.trimStart():`
"use client";
${r?'import { ComponentProps } from "react";':""}
import { BuilderComponent, useIsPreviewing } from "@builder.io/react";
import { ${r?"BuilderContent, ":""}builder } from '@builder.io/sdk';
import DefaultErrorPage from "next/error";
import ${JSON.stringify(Se(e,e.builderComponentPath,e.registryPath))};
${r?`
type BuilderPageProps = ComponentProps<typeof BuilderComponent>;`:""}

// Builder Public API Key set in .env file
builder.init(process.env.${zr}${r?"!":""});

export function RenderBuilderContent({ content, model }${r?": BuilderPageProps":""}) {
  // Call the useIsPreviewing hook to determine if
  // the page is being previewed in Builder
  const isPreviewing = useIsPreviewing();
  // If "content" has a value or the page is being previewed in Builder,
  // render the BuilderComponent with the specified content and model props.
  if (content || isPreviewing) {
    return <BuilderComponent content={content} model={model} />;
  }
  // If the "content" is falsy and the page is
  // not being previewed in Builder, render the
  // DefaultErrorPage with a 404.
  return <DefaultErrorPage statusCode={404} />;
}
`.trimStart()}function Vg(e){return e.features.asyncParams?`
interface PageProps {
      params: Promise<{
        page: string[];
      }>;
    }`:`
interface PageProps {
      params: {
        page: string[];
      };
    }`}function Hg({sys:e,routePath:r,modelName:t}){let i=e.typescriptEnabled,n=Se(e,r,e.builderComponentPath);return e.sdkVersion===ie.gen2?`
import { fetchOneEntry } from "@builder.io/sdk-react";
import { RenderBuilderContent } from ${JSON.stringify(n)};

// Builder Public API Key set in .env file
const PUBLIC_API_KEY = process.env.${zr}${i?"!":""};

${i?Vg(e):""}

export default async function Page(props${i?": PageProps":""}) {
  const builderModelName = "${t}";

  // Use the page path specified in the URL to fetch the content
  const urlPath = "/" + (${e.features.asyncParams?"(await props?.params)":"props?.params"}?.page?.join("/") || "");

  const content = await fetchOneEntry({
   // Get the page content from Builder with the specified options
    apiKey: PUBLIC_API_KEY,
    model: builderModelName,
    userAttributes: { urlPath },
  });

  return (
    <>
      {/* Render the Builder page */}
      <RenderBuilderContent content={content} model={builderModelName} />
    </>
  );
}
`.trimStart():`
import { builder } from "@builder.io/sdk";
import { RenderBuilderContent } from ${JSON.stringify(n)};

// Builder Public API Key set in .env file
builder.init(process.env.${zr}${i?"!":""});
${i?Vg(e):""}

export default async function Page(props${i?": PageProps":""}) {
  const builderModelName = "${t}";

  const content = await builder
    // Get the page content from Builder with the specified options
    .get(builderModelName, {
      userAttributes: {
        // Use the page path specified in the URL to fetch the content
        urlPath: "/" + (${e.features.asyncParams?"(await props?.params)":"props?.params"}?.page?.join("/") || ""),
      },
    })
    // Convert the result to a promise
    .toPromise();

  return (
    <>
      {/* Render the Builder page */}
      <RenderBuilderContent content={content} model={builderModelName} />
    </>
  );
}
`.trimStart()}async function DI(e,r,t){let i=`[...page].${e.typescriptEnabled?"tsx":"jsx"}`,n=e.join(r,i);if(!await e.exists(n)){let s=await e.formatCode(n,Jg({sys:e,routePath:n,modelName:"page"}));await e.writeFile(n,s),t.push({filePath:n,modifiedType:"create"})}}async function xI(e,r,t){let i=`figma-imports.${e.typescriptEnabled?"tsx":"jsx"}`,n=e.join(r,i);if(!await e.exists(n)){let s=await e.formatCode(n,Jg({sys:e,routePath:n,modelName:"figma-imports"}));await e.writeFile(n,s),t.push({filePath:n,modifiedType:"create"})}}function Jg({sys:e,routePath:r,modelName:t}){let i=e.typescriptEnabled;return e.sdkVersion===ie.gen2?`
import React from "react";
import { useRouter } from "next/router";
${i?'import type { BuilderContent } from "@builder.io/sdk-react";':""}
import {
  Content,
  fetchEntries,
  fetchOneEntry,
  isPreviewing,
} from "@builder.io/sdk-react";
import DefaultErrorPage from "next/error";
import Head from "next/head";
${i?'import { GetStaticProps } from "next";':""}
import { CUSTOM_COMPONENTS } from ${JSON.stringify(Se(e,e.builderComponentPath,e.registryPath))};

const BUILDER_API_KEY = process.env.${zr}${i?"!":""};

// Define a function that fetches the Builder
// content for a given page
export const getStaticProps${i?": GetStaticProps":""} = async ({ params }) => {
  ${e.features.asyncParams?"await params;":""}
  const urlPath =
    "/" +
    (Array.isArray(params?.page) ? params.page.join("/") : params?.page || "");

  // Fetch the builder content for the given page
  const page = await fetchOneEntry({
    apiKey: BUILDER_API_KEY,
    model: "${t}",
    userAttributes: { urlPath },
  });

  return {
    // Return the page content as props
    props: { page },
    // Revalidate the content every 5 seconds
    revalidate: 5,
  };
};

${t==="page"?`
// Define a function that generates the
// static paths for all pages in Builder
export async function getStaticPaths() {
  // Get a list of all pages in Builder
  const pages = await fetchEntries({
    apiKey: BUILDER_API_KEY,
    model: "page",
    // We only need the URL field
    fields: "data.url",
    options: { noTargeting: true },
  });
  // Generate the static paths for all pages in Builder
  return {
    paths: pages.map((page) => \`\${page.data?.url}\`),
    fallback: "blocking",
  };
}
`:""}

// Define the Page component
export default function Page(props${i?": { page: BuilderContent | null }":""}) {
  const router = useRouter();
  const canShowContent = props.page || isPreviewing(router.asPath);

  // If the page content is not available
  // and not in preview/editing mode, show a 404 error page
  if (!canShowContent) {
    return <DefaultErrorPage statusCode={404} />;
  }

  // If the page content is available, render
  // the BuilderComponent with the page content
  return (
    <>
      <Head>
        <title>{props.page?.data?.title}</title>
      </Head>
      {/* Render the Builder page */}
      <Content
        model="${t}"
        content={props.page}
        apiKey={BUILDER_API_KEY}
        customComponents={CUSTOM_COMPONENTS}
      />
    </>
  );
}

    `:`
import React from "react";
import { useRouter } from "next/router";
import { BuilderComponent, builder, useIsPreviewing } from "@builder.io/react";
import DefaultErrorPage from "next/error";
import Head from "next/head";${i?`
import { BuilderContent } from "@builder.io/sdk";`:""}${i?`
import { GetStaticProps } from "next";`:""}
import ${JSON.stringify(Se(e,r,e.registryPath))};

builder.init(process.env.${zr}${i?"!":""});

// Define a function that fetches the Builder
// content for a given page
export const getStaticProps${i?": GetStaticProps":""} = async ({ params }) => {
  ${e.features.asyncParams?"await params;":""}
  // Fetch the builder content for the given page
  const page = await builder
    .get("${t}", {
      userAttributes: {
        urlPath: "/" + ((params?.page${i?" as string[]":""})?.join("/") || ""),
      },
    })
    .toPromise();

  // Return the page content as props
  return {
    props: {
      page: page || null,
    },
    // Revalidate the content every 5 seconds
    revalidate: 5,
  };
};

${t==="page"?`// Define a function that generates the
// static paths for all pages in Builder
export async function getStaticPaths() {
  // Get a list of all pages in Builder
  const pages = await builder.getAll("page", {
    // We only need the URL field
    fields: "data.url",
    options: { noTargeting: true },
  });

  // Generate the static paths for all pages in Builder
  return {
    paths: pages.map((page) => String(page.data?.url)).filter(url => url !== '/'),
    fallback: 'blocking',
  };
}`:""}

// Define the Page component
export default function Page({ page }${i?": { page: BuilderContent | null }":""}) {
  const router = useRouter();
  const isPreviewing = useIsPreviewing();

  // If the page content is not available
  // and not in preview mode, show a 404 error page
  if (!page && !isPreviewing) {
    return <DefaultErrorPage statusCode={404} />;
  }

  // If the page content is available, render
  // the BuilderComponent with the page content
  return (
    <>
      <Head>
        <title>{page?.data?.title}</title>
      </Head>
      {/* Render the Builder page */}
      <BuilderComponent model="${t}" content={page || undefined} />
    </>
  );
}
`.trimStart()}async function EI(e,r){let i=e.typescriptEnabled?"tsx":"jsx",n=e.join(e.componentsDir,"Counter"),s=e.join(n,`Counter.${i}`),o=e.join(n,"styles.module.css"),{component:a,styles:l}=CI(e);if(!await e.exists(s)){let u=await e.formatCode(s,a);await e.writeFile(s,u),r.push({filePath:s,modifiedType:"create"})}return await e.exists(o)||(await e.writeFile(o,l),r.push({filePath:o,modifiedType:"create"})),s}function CI(e){let r=e.typescriptEnabled,t=`
"use client"
import React, { useState } from "react";
import styles from "./styles.module.css";
${r?`
interface CounterProps {
  initialCount?: number;
}`:""}

function Counter({ initialCount = 99 }${r?": CounterProps":""}) {
  const [count, setCount] = useState(initialCount);

  const increment = () => {
    setCount((prevCount) => prevCount + 1);
  };

  const decrement = () => {
    setCount((prevCount) => prevCount - 1);
  };

  return (
    <div className={styles.counter}>
      <button className={styles.btn} onClick={decrement}>
        -
      </button>
      <span className={styles.count}>{count}</span>
      <button className={styles.btn} onClick={increment}>
        +
      </button>
    </div>
  );
}

export default Counter;
`.trimStart(),i=`
.counter {
  margin: 32px auto;
  display: flex;
  width: 100%;
  max-width: 190px;
}

.btn {
  width: 42px;
  font-size: 32px;
  font-weight: bold;
  background-color: #1c6bd1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  line-height: 1.4;
}

.btn:hover {
  opacity: 0.8;
}

.count {
  flex: 1;
  font-size: 42px;
  text-align: center;
}
`.trimStart();return{component:t,styles:i}}async function Yg(e,r,t){if(!await e.exists(e.registryPath)){if(e.sdkVersion===ie.gen2){let s=SI(e);await e.writeFile(e.registryPath,s)}else await e.writeFile(e.registryPath,"");r.push({filePath:e.registryPath,modifiedType:"create"})}if(!t)return;let n=(await Zr(e,null,!1,!1,null,null,!1,!1)).components.find(s=>s.filePath===t);n&&await Zr(e,n.id,!0,!1,null,null,!0,!1)}function SI(e){return e.typescriptEnabled?`import type { RegisteredComponent } from "@builder.io/sdk-react";

export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}async function hs(e){let r=await Si(e,e.getRepoRootDir());if(r&&typeof r=="object"){let t=new Set(Object.keys({...r.dependencies,...r.devDependencies}));if(t.has("@builder.io/sdk-react"))return ie.gen2;if(t.has("@builder.io/react"))return ie.gen1}return null}async function Xg(e){let r=await vI(e);return{builderPageOptions:async()=>({templateContentId:"3de2f13211234071a4b19a17b4fbc5a7",pathname:"/builder-demo",title:"Builder + Next.js Demo Page"}),ensureBuilderSetup:()=>zg(r),ensureFigmaImportPage:()=>Wg(r),getRegistryPath:()=>r.registryPath,getRegistry:i=>Zr(r,null,!1,!1,null,null,!1,!!i?.readAllInputTypes),addExternalPackage:i=>{r.addExternalPackage(i)},loadComponent:async i=>{let n=await Zr(r,i.cmpId,!1,!1,null,null,!1,!1);return{...n,component:n.components.find(s=>s.id===i.cmpId)}},registerComponent:i=>Zr(r,i.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:i=>Zr(r,i.cmpId,!1,!1,i,null,!0,!1),setRegisteredComponentInput:i=>Zr(r,i.cmpId,!1,!1,null,i,!0,!1),unregisterComponent:i=>Zr(r,i.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>ho(r),setPublicApiKey:i=>yg(r,i.publicApiKey),getDependencies:i=>i.sdkVersion===ie.gen2?[{name:"@builder.io/dev-tools"},{name:"@builder.io/sdk-react"}]:[{name:"@builder.io/dev-tools"},{name:"@builder.io/react"},{name:"@builder.io/sdk"}],getDevRunCommand:()=>"dev",getCache:()=>Kr(r),setCache:i=>Vr(r,i)}}async function vI(e){let r=e.getAppRootDir(),t=e.join(r,"src"),i=await wI(e),n=await sr(e),s=e.getFrameworks().find(u=>u.name==="next"),o={asyncParams:s?.version?.major!==void 0&&s.version.major>=15},a={},l={...e,addExternalPackage:u=>{a[e.join(r,u,"index.ts")]=`export * from "${u}";`},readFileSync:u=>a[u]??e.readFileSync(u),existsSync:u=>!!a[u]||e.existsSync(u),readdirSync:u=>{let c=e.readdirSync(u);return u===r?[...c,...Object.keys(a).map(p=>p.slice(r.length+1))]:c},readdir:async u=>{let c=await e.readdir(u);return u===r?[...c,...Object.keys(a).map(p=>p.slice(r.length+1))]:c},appDir:null,pagesDir:null,srcDir:null,builderComponentPath:"",componentsDir:"",registryPath:"",nextConfigPath:i,typescriptEnabled:n,features:o};if(e.sdkVersion?l.sdkVersion=e.sdkVersion:l.sdkVersion=await hs(l),await e.exists(t)){l.srcDir=t,l.componentsDir=e.join(t,"components");let u=e.join(t,"app");await e.exists(u)&&(l.appDir=u);let c=e.join(t,"pages");await e.exists(c)&&(l.pagesDir=c),l.registryPath=await mr(e,t)}else l.componentsDir=e.join(r,"components"),l.registryPath=await mr(e,r);if(l.builderComponentPath=e.join(l.componentsDir,`builder.${n?"tsx":"jsx"}`),!l.appDir){let u=e.join(r,"app");await e.exists(u)&&(l.appDir=u)}if(!l.pagesDir){let u=e.join(r,"pages");await e.exists(u)&&(l.pagesDir=u)}if(!l.appDir&&!l.pagesDir)throw new Error(`Could not find Next.js "app" or "pages" directory. Searched in "${r}".`);return l}async function wI(e){let r=e.join(e.getAppRootDir(),"next.config.ts");if(await e.exists(r))return r;let t=e.join(e.getAppRootDir(),"next.config.mjs");if(await e.exists(t))return t;let i=e.join(e.getAppRootDir(),"next.config.js");if(await e.exists(i))return i;throw new Error(`Could not find Next.js config file. Searched for "next.config.ts", "next.config.mjs" and "next.config.js" in "${e.getAppRootDir()}".`)}async function xo(e){return await rn(e,[".env"],Zg)}async function Qg(e,r){TI(r);let t=await xo(e),i=await nn(e,t.file,t.envKey,r);return{...t,modifiedType:i}}function TI(e){typeof process<"u"&&(process.env[Zg]=e)}var Zg="PUBLIC_BUILDER_API_KEY";function ey(e,r,t){if(t.length===0)return e;let i=e.split(`
`),n=i.findIndex(a=>a.includes(t));if(n===-1||i.some(a=>a.includes(r[0])))return e;let o=["/**",...r.map(a=>` * ${a.trim()}`)," */"];return i.splice(n,0,...o),i.join(`
`)}async function ry(e,r){let t=[],i=r.getSourceFiles(),n=r.getTypeChecker();return await Promise.all(i.map(async s=>{let o=e.basename(s.fileName);if(o.startsWith(".")||II.has(o))return;let a=e.normalize(s.fileName);if(a===e.registryPath)return;let l=await sl(e,n,a,s);t.push(...l)})),t}async function iy(e,r){if(e.extname(r).toLowerCase()===".tsx"){let i=await e.readFile(r);if(i)return AI(e,r,i)}return null}function AI(e,r,t){let i=xe(e,t);return sl(e,null,r,i)}async function sl(e,r,t,i){t=e.normalize(t);let n=[],s=kn(e,i);return await Promise.all(s.map(async o=>{let a=await PI(e,r,t,o);a&&n.push(a)})),n}async function PI(e,r,t,i){let n=e.relative(e.getAppRootDir(),t),s=Ue(e,t);if(e.ts.isVariableStatement(i.node))for(let o of i.node.declarationList.declarations){let a=ty(e,o.initializer);if(a&&e.ts.isIdentifier(o.name)){let l=o.name.text;return{cmpInfo:{id:await je(e,t,l),displayFilePath:Ne(e,t),name:Ve(l),inputs:[],exportName:i.isDefaultExport?"default":l,exportType:i.isDefaultExport?"default":"named",importName:l,filePath:t,relFilePath:n,importPath:s},node:a}}}else if(e.ts.isCallExpression(i.node)){let o=ty(e,i.node);if(o)return{cmpInfo:{id:await je(e,t,"default"),displayFilePath:Ne(e,t),name:yr(e,t),inputs:[],exportName:"default",exportType:"default",importName:_n(e,t),filePath:t,relFilePath:n,importPath:s},node:o}}return null}function ty(e,r){if(r&&e.ts.isCallExpression(r)&&e.ts.isIdentifier(r.expression)&&r.expression.text==="component$"&&r.arguments.length>0){let t=r.arguments[0];if(e.ts.isArrowFunction(t)||e.ts.isFunctionExpression(t))return{callExpression:r,fnNode:t}}return null}var II=new Set(["node_modules","layout.tsx","404.tsx","router-head.tsx"]);async function ny(e,r){let t=r.node.fnNode;if((e.ts.isArrowFunction(t)||e.ts.isFunctionExpression(t))&&t.parameters.length>0){let{sourceFile:n,typeChecker:s}=await ls(e,r.cmpInfo.filePath,null);if(!(await sl(e,s,r.cmpInfo.filePath,n)).find(l=>l.cmpInfo.id===r.cmpInfo.id))throw new Error(`createComponentInputs() Could not find component ${r.cmpInfo.name} in ${r.cmpInfo.filePath}`);return Fn(e,s,t)}return[]}async function sy(e){return rp(e)}async function rp(e){let r=[];return await e.exists(e.registryPath)||(await e.writeFile(e.registryPath,_I),r.push({filePath:e.registryPath,modifiedType:"create"})),r}var _I=`import type { RegisteredComponent } from "@builder.io/sdk-qwik";

export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];
`;async function oy(e){await rp(e);let r=await e.readFile(e.registryPath);return r?NI(e,r):{components:[],sourceFile:xe(e,"")}}async function NI(e,r){let t=xe(e,r);return FI(e,t)}async function FI(e,r){let t=[],i=lt(e,r,"CUSTOM_COMPONENTS");return i&&await Promise.all(i.arrayLiteralExp.elements.map(async(n,s)=>{let o=await ip(e,r,n);o&&(o.nodeIndex=s,t.push(o))})),{sourceFile:r,components:Ht(t)}}async function ip(e,r,t){if(!e.ts.isObjectLiteralExpression(t))return null;let i={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[]};for(let n of t.properties){if(!e.ts.isPropertyAssignment(n)||!e.ts.isIdentifier(n.name))continue;if(Fe(e,n)==="component"&&e.ts.isIdentifier(n.initializer)){let o=n.initializer.text;i.name===""&&(i.name=Ve(o)),i.importName=o;let a=await Wr(e,e.registryPath,r,o);if(!a)continue;i.filePath=a.filePath,i.relFilePath=a.relFilePath,i.importPath=Ue(e,a.filePath),i.displayFilePath=a.displayFilePath,i.exportType=a.exportType;let l=await iy(e,a.filePath);if(l&&l.length>0)if(l.length===1)i.exportName=l[0].cmpInfo.exportName;else{let u=l.find(c=>c.cmpInfo.exportName===o);u&&(i.exportName=u.cmpInfo.exportName)}continue}}return i=Jt(e,i,t),i.filePath&&i.exportName&&(i.id=await je(e,i.filePath,i.exportName)),i}async function ay(e){let r=new Set,t=async n=>{let s=await e.readdir(n);await Promise.all(s.map(async o=>{if(o.startsWith(".")||o==="node_modules")return;let a=e.join(n,o),l=e.extname(o).toLowerCase();if(l===".tsx"||l===".ts"){r.add(a);return}(await e.stat(a)).isDirectory()&&await t(a)}))};return await t(e.getAppRootDir()),await ft(e,[...r])}async function On(e,r,t,i,n,s,o,a){let l=await ay(e),[u,c,p]=await Promise.all([ry(e,l),oy(e),xo(e)]),d=u.map(g=>g.cmpInfo),h=c.components,f={components:Pr(d,h),registryPath:e.registryPath,registryDisplayPath:Ne(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:Gr(d),publicApiKey:p.envValue??void 0,devToolsVersion:e.version};if(a)return f;if(r!=null){let g=u.find(R=>R.cmpInfo.id===r);if(!g)throw new Error(`Component ${r} not found`);let m=c.sourceFile,y=f.components.find(R=>R.id===r),b=await ny(e,g);ar(y,b),r=Array.isArray(r)?r[0]:r;let C=Xr(r,d,h,t,i,n,s),{elements:D,elmIndex:x,statementIndex:E,statement:w,variableDeclaration:k}=await OI(e,m,g),M=!1;if(C.addCmpToRegistry?(D.push(kI(e,C.addCmpToRegistry)),M=!0):C.removeCmpFromRegistry?(D.splice(x,1),M=!0):C.updateRegisteredCmp&&(D[x]=dt(e,D[x],C.updateRegisteredCmp),M=!0),M&&o){let R=[...m.statements];R[E]=e.ts.factory.updateVariableStatement(w,w.modifiers,e.ts.factory.updateVariableDeclarationList(w.declarationList,[e.ts.factory.updateVariableDeclaration(k,k.name,k.exclamationToken,k.type,e.ts.factory.createArrayLiteralExpression(Jr(e,D)))])),m=e.ts.factory.updateSourceFile(m,R),y.exportType==="named"?m=Ce(e,m,{namedImports:[y.importName],importPath:Se(e,e.registryPath,y.filePath)}):m=Ce(e,m,{defaultImport:y.importName,importPath:Se(e,e.registryPath,y.filePath)}),m=Ce(e,m,{namedImports:["RegisteredComponent"],importPath:"@builder.io/sdk-qwik",isTypeOnly:!0}),m=Qr(e,m,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),m=Yr(e,m),m=Hr(e,m);let N=yt(e,m);N=Ar(N),N=ey(N,RI,"CUSTOM_COMPONENTS"),N=await e.formatCode(e.registryPath,N),await e.writeFile(e.registryPath,N)}f.components=C.components}return f}function kI(e,r){return dt(e,e.ts.factory.createObjectLiteralExpression([e.ts.factory.createPropertyAssignment("component",e.ts.factory.createIdentifier(r.importName))],!0),r)}async function OI(e,r,t){let i=lt(e,r,"CUSTOM_COMPONENTS");if(!i)throw new Error(`Exported name of the Builder registry must be "CUSTOM_COMPONENTS". Please update your Builder registry file: ${e.registryPath}`);let n=i.arrayLiteralExp.elements.filter(o=>e.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<n.length;o++)if((await ip(e,r,n[o]))?.id===t.cmpInfo.id){s=o;break}return{...i,elements:n,elmIndex:s}}var RI=["This array is used to integrate custom components within Builder.","https://www.builder.io/c/docs/custom-components-intro","",'These components will be found the "Custom Components"',"section of Builder's visual editor.",'You can also turn on "components only mode" to limit',"editing to only these components.","https://www.builder.io/c/docs/guides/components-only-mode"];async function ly(e){let r=await LI(e);return{builderPageOptions:async()=>({templateContentId:"dc70f1d979ad416d8fd357137eb9ddfb",pathname:"/",title:"Builder + Qwik Demo Page"}),ensureBuilderSetup:()=>sy(r),ensureFigmaImportPage:async()=>[],getRegistryPath:()=>r.registryPath,getRegistry:i=>On(r,null,!1,!1,null,null,!1,!!i?.readAllInputTypes),addExternalPackage:async i=>{},loadComponent:async i=>{let n=await On(r,i.cmpId,!1,!1,null,null,!1,!1);return{...n,component:n.components.find(s=>s.id===i.cmpId)}},registerComponent:i=>On(r,i.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:i=>On(r,i.cmpId,!1,!1,i,null,!0,!1),setRegisteredComponentInput:i=>On(r,i.cmpId,!1,!1,null,i,!0,!1),unregisterComponent:i=>On(r,i.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>xo(r),setPublicApiKey:i=>Qg(r,i.publicApiKey),getDependencies:i=>[{name:"@builder.io/dev-tools"},{name:"@builder.io/sdk-qwik"}],getDevRunCommand:()=>"dev",getCache:()=>Kr(r),setCache:i=>Vr(r,i)}}async function LI(e){let r=await po(e,e.getAppRootDir(),"components");if(!r)throw new Error(`Could not find components directory within project: ${e.getAppRootDir()}`);let t=await mr(e,r),i=e.join(e.getAppRootDir(),".env");return{...e,componentsDir:r,registryPath:t,envPath:i}}async function Eo(e){return await rn(e,[".env"],Co)}async function uy(e,r){let t=await Eo(e),i=await nn(e,t.file,t.envKey,r);return{...t,modifiedType:i}}var Co="PUBLIC_BUILDER_KEY";var MI=new Set(["dist","node_modules"]);async function cy(e,r){let t=[],i=r.getSourceFiles(),n=r.getTypeChecker(),s=e.join(e.getAppRootDir(),"build");return await Promise.all(i.map(async o=>{let a=e.basename(o.fileName);if(a.startsWith(".")||a==="node_modules"||el(e,MI,o.fileName)||BI.has(a)||a.includes("$."))return;let l=e.normalize(o.fileName);if(l===e.remixConfigPath||l===s)return;let u=await sn(e,n,l,o,l===e.registryPath);t.push(...u)})),t}var BI=new Set(["root.tsx","root.ts","root.jsx","root.js","_index.tsx","_index.jsx","_index.ts","_index.js"]);async function py(e){await ol(e);let r=await e.readFile(e.registryPath);return r?$I(e,r):{components:[],sourceFile:xe(e,"")}}async function $I(e,r){let t=xe(e,r);return UI(e,t)}async function UI(e,r){let t=[],i=lt(e,r,"CUSTOM_COMPONENTS");return i&&await Promise.all(i.arrayLiteralExp.elements.map(async(n,s)=>{let o=await np(e,r,n);o&&(o.nodeIndex=s,t.push(o))})),{sourceFile:r,components:Ht(t)}}async function np(e,r,t){if(!e.ts.isObjectLiteralExpression(t))return null;let i={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],acceptsChildren:!1};e.sdkVersion===ie.gen2&&as(e,t)&&(i.acceptsChildren=!0);for(let n of t.properties){if(!e.ts.isPropertyAssignment(n)||!e.ts.isIdentifier(n.name))continue;if(Fe(e,n)==="component"){let o,{initializer:a}=n;if(e.ts.isIdentifier(a))o=a.text;else if(e.ts.isCallExpression(a)){(e.ts.isIdentifier(a.expression)&&a.expression.text)==="withChildren"&&(i.acceptsChildren=!0);let c=a.arguments[0];e.ts.isIdentifier(c)&&(o=c.text)}if(!o)continue;i.name===""&&(i.name=Ve(o)),i.importName=o;let l=await Wr(e,e.registryPath,r,o);if(!l)continue;if(i.filePath=l.filePath,i.relFilePath=l.relFilePath,await e.exists(l.filePath)?i.importPath=Ue(e,l.filePath):(i.externalImportPath=l.importPath,i.importPath=i.externalImportPath),i.displayFilePath=l.displayFilePath,i.exportType=l.exportType,i.externalImportPath)i.exportName=o;else{let u=await Ng(e,l.filePath,e.registryPath===l.filePath||gr(l.filePath));if(u&&u.length>0)if(u.length===1)i.exportName=u[0].cmpInfo.exportName;else{let c=u.find(p=>p.cmpInfo.exportName===o);c&&(i.exportName=c.cmpInfo.exportName)}}continue}}return i=Jt(e,i,t),i.filePath&&i.exportName&&(i.id=await je(e,i.filePath,i.exportName,i.externalImportPath)),i}async function ei(e,r,t,i,n,s,o,a){let l=await on(e),[u,c,p]=await Promise.all([cy(e,l),py(e),Eo(e)]),d=u.map(b=>b.cmpInfo),h=c.components,f={components:Pr(d,h),registryPath:e.registryPath,registryDisplayPath:Ne(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:Gr(d),publicApiKey:p.envValue??void 0,devToolsVersion:e.version};if(a)return f.components=await ps(e,f.components),f;let g=!1,m=c.sourceFile,y=Array.isArray(r)?r:typeof r=="string"?[r]:[];if(y.length>0){let b=y.map(x=>{let E=u.find(w=>w.cmpInfo.id===x);if(!E)throw new Error(`Component ${x} not found`);return E}),C=Array.from(new Set(b.map(x=>x.cmpInfo.filePath))),D=await ft(e,C);for(let x of b){let E=f.components.find(ee=>ee.id===x.cmpInfo.id),w=await ds(e,x,D,e.registryPath===x.cmpInfo.filePath||gr(x.cmpInfo.filePath));ar(E,w);let k=d.findIndex(ee=>ee.id===x.cmpInfo.id);d[k].inputs=w;let M=Xr(x.cmpInfo.id,d,h,t,i,n,s),{elements:R,elmIndex:N,statementIndex:K,statement:Z,variableDeclaration:re}=await qI(e,m,x);if(M.addCmpToRegistry)R.push(jI(e,M.addCmpToRegistry)),g=!0;else if(M.removeCmpFromRegistry)R.splice(N,1),g=!0;else if(M.updateRegisteredCmp){let ee=dt(e,R[N],M.updateRegisteredCmp);R[N]=e.ts.factory.updateObjectLiteralExpression(ee,[dy(e,M.updateRegisteredCmp),...ee.properties.slice(1)]),g=!0}if(g&&o){let ee=[...m.statements];ee[K]=e.ts.factory.updateVariableStatement(Z,Z.modifiers,e.ts.factory.updateVariableDeclarationList(Z.declarationList,[e.ts.factory.updateVariableDeclaration(re,re.name,re.exclamationToken,re.type,e.ts.factory.createArrayLiteralExpression(Jr(e,R)))])),m=e.ts.factory.updateSourceFile(m,ee),E.exportType==="named"?m=Ce(e,m,{namedImports:[E.importName],importPath:E.externalImportPath?E.externalImportPath:Se(e,e.registryPath,E.filePath)}):m=Ce(e,m,{defaultImport:E.importName,importPath:E.externalImportPath?E.externalImportPath:Se(e,e.registryPath,E.filePath)});let Pe=e.sdkVersion===ie.gen2?"@builder.io/sdk-react":"@builder.io/react";m=Ce(e,m,{namedImports:["RegisteredComponent"],importPath:Pe,isTypeOnly:!0}),E.acceptsChildren&&e.sdkVersion!==ie.gen2&&(m=Ce(e,m,{namedImports:["withChildren"],importPath:"@builder.io/react"})),m=Qr(e,m,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),f.components=M.components,h=M.components.filter(I=>I.isRegistered)}}}if(g&&o){m=Yr(e,m),m=Hr(e,m);let b=yt(e,m);b=Ar(b),b=await e.formatCode(e.registryPath,b),await e.writeFile(e.registryPath,b)}return f}function dy(e,r){if(e.sdkVersion===ie.gen2)return e.ts.factory.createPropertyAssignment("component",e.ts.factory.createIdentifier(r.importName));let t=e.ts.factory.createIdentifier(r.importName),i=r.acceptsChildren?e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("withChildren"),void 0,[t]):t;return e.ts.factory.createPropertyAssignment("component",i)}function jI(e,r){return dt(e,e.ts.factory.createObjectLiteralExpression([dy(e,r),...r.acceptsChildren&&e.sdkVersion===ie.gen2?[e.ts.factory.createPropertyAssignment("canHaveChildren",e.ts.factory.createTrue())]:[]],!0),r)}async function qI(e,r,t){let i=lt(e,r,"CUSTOM_COMPONENTS");if(!i)throw new Error(`Exported name of the Builder registry must be "CUSTOM_COMPONENTS". Please update your Builder registry file: ${e.registryPath}`);let n=i.arrayLiteralExp.elements.filter(o=>e.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<n.length;o++)if((await np(e,r,n[o]))?.id===t.cmpInfo.id){s=o;break}return{...i,elements:n,elmIndex:s}}async function fy(e){let r=[],t=await zI(e,r);return r.push(...await ol(e)),await GI(e,t),await VI(e,r),r}async function hy(e){let r=[];return r.push(...await ol(e)),await KI(e,r),r}async function KI(e,r){let t=`figma-imports.${e.typescriptEnabled?"tsx":"jsx"}`;e.hasLocaleParam&&(e.debug("remixEnsureFigmaImportRoute, hasLocaleParam"),t=`($locale).${t}`);let i=e.join(e.routesDir,t),n=await e.exists(i);e.debug(`remixEnsureFigmaImportRoute, hasRoute: ${n}`);let s=await e.formatCode(i,my({sys:e,routePath:i,modelName:"figma-imports"}));await e.writeFile(i,s),r.push({filePath:i,modifiedType:n?"update":"create"})}async function VI(e,r){let t=`$.${e.typescriptEnabled?"tsx":"jsx"}`;e.hasLocaleParam&&(e.debug("remixEnsureAppRoute, hasLocaleParam"),t=`($locale).${t}`),e.sdkVersion===ie.gen2&&(t=`($slug)._index.${e.typescriptEnabled?"tsx":"jsx"}`);let i=e.join(e.routesDir,t),n=await e.exists(i);e.debug(`remixEnsureAppRoute, hasRoute: ${n}`);let s=await e.formatCode(i,my({sys:e,routePath:i,modelName:"page"}));await e.writeFile(i,s),r.push({filePath:i,modifiedType:n?"update":"create"})}function my({sys:e,routePath:r,modelName:t}){let i=e.typescriptEnabled,n=Se(e,r,e.registryPath),s="",o="";i&&(s="import type { LoaderArgs } from '@remix-run/server-runtime';",o=": LoaderArgs");let a=`process.env.${Co}`;return e.getFrameworks().some(l=>l.name==="@shopify/remix-oxygen")&&(a=`context.env.${Co}`),i&&(a+="!"),e.sdkVersion===ie.gen2?`
    
import {
  Content,
  fetchOneEntry,
  getBuilderSearchParams,
  isPreviewing,
} from "@builder.io/sdk-react";
${i?'import type { LoaderFunctionArgs } from "@remix-run/node";':""}
import { useLoaderData } from "@remix-run/react";
import { fetch ${i?"as webFetch":""}} from "@remix-run/web-fetch";
import { CUSTOM_COMPONENTS } from ${JSON.stringify(n)};

export const loader = async ({ params, request }${i?": LoaderFunctionArgs":""}) => {
  const builderApiKey = ${a};
  const url = new URL(request.url);
  const urlPath = \`/\${params["slug"] || ""}\`;

  const page = await fetchOneEntry({
    model: "${t}",
    apiKey: builderApiKey,
    options: getBuilderSearchParams(url.searchParams),
    userAttributes: { urlPath },
    fetch: webFetch,
  });

  if (!page && !isPreviewing(url.search)) {
    throw new Response("Page Not Found", {
      status: 404,
      statusText: "Page not found in Builder.io",
    });
  }

  return { page, builderApiKey };
};

// Define and render the page.
export default function Page() {
  const { page, builderApiKey } = useLoaderData${i?"<typeof loader>":""}();
  // Render the page content from Builder.io
  return (
    <Content
      model="${t}"
      apiKey={builderApiKey}
      content={page}
      customComponents={CUSTOM_COMPONENTS}
    />
  );
}
    `:`
import { BuilderComponent, builder } from "@builder.io/react";
import { useLoaderData } from "@remix-run/react";
import { CUSTOM_COMPONENTS } from ${JSON.stringify(n)};
${s}

// Fetch contents of the page
export const loader = async ({ params, request, context }${o}) => {
  // Initialize the Builder client and pass in your Public API Key
  const builderApiKey = ${a};
  builder.init(builderApiKey);

  // Fetch data content from Builder.io based on the URL path
  const page = await builder
    .get("${t}", {
      userAttributes: {
        urlPath: "/" + params["*"],
      },
      locale: params.locale,
    })
    .toPromise();

  // Verify the user is previewing or editing in Builder
  const isPreviewing = new URL(request.url).searchParams.has("builder.preview");

  // If the page is not found and the user is not previewing, throw a 404.
  // The CatchBoundary component will catch the error
  if (!page && !isPreviewing) {
    throw new Response("Page Not Found", {
      status: 404,
      statusText:
        "We couldn't find this page, please check your url path and if the page is published on Builder.io.",
    });
  }

  return { page, builderApiKey };
};

// Define and render the page.
export default function Page() {
  // Use the useLoaderData hook to get the Page data from "loader" above.
  const { page, builderApiKey } = useLoaderData${i?"<typeof loader>":""}();

  // Render the page content from Builder.io
  return (
    <BuilderComponent
      customComponents={CUSTOM_COMPONENTS}
      apiKey={builderApiKey}
      model="${t}"
      content={page}
    />
  );
}

${i?`
declare global {
  interface Env {
    ${Co}: string;
  }
}
`:""}
`}async function zI(e,r){let i=e.typescriptEnabled?"tsx":"jsx",n=e.join(e.componentsDir,"Counter"),s=e.join(n,`Counter.${i}`),o=e.join(n,"styles.module.css"),{component:a,styles:l}=WI(e),u=await e.exists(s);if(e.debug(`remixEnsureCounterComponent, hasCounterCmp: ${u}`),!u){let p=await e.formatCode(s,a);await e.writeFile(s,p),r.push({filePath:s,modifiedType:"create"})}let c=await e.exists(o);return e.debug(`remixEnsureCounterComponent, hasCounterStyles: ${c}`),c||(await e.writeFile(o,l),r.push({filePath:o,modifiedType:"create"})),s}function WI(e){let r=e.typescriptEnabled,t=`
import { useState } from "react";
import styles from "./styles.module.css";
${r?`
interface CounterProps {
  initialCount?: number;
}`:""}

function Counter({ initialCount = 99 }${r?": CounterProps":""}) {
  const [count, setCount] = useState(initialCount);

  const increment = () => {
    setCount((prevCount) => prevCount + 1);
  };

  const decrement = () => {
    setCount((prevCount) => prevCount - 1);
  };

  return (
    <div className={styles.counter}>
      <button className={styles.btn} onClick={decrement}>
        -
      </button>
      <span className={styles.count}>{count}</span>
      <button className={styles.btn} onClick={increment}>
        +
      </button>
    </div>
  );
}

export default Counter;
`.trimStart(),i=`
.counter {
  margin: 32px auto;
  display: flex;
  width: 100%;
  max-width: 190px;
  color: #1c6bd1;
}

.btn {
  width: 42px;
  font-size: 32px;
  font-weight: bold;
  background-color: #1c6bd1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  line-height: 1.4;
}

.btn:hover {
  opacity: 0.8;
}

.count {
  flex: 1;
  font-size: 42px;
  text-align: center;
}
`.trimStart();return{component:t,styles:i}}async function GI(e,r){let i=(await ei(e,null,!1,!1,null,null,!1,!1)).components.find(n=>n.filePath===r);i&&await ei(e,i.id,!0,!1,null,null,!0,!1)}async function ol(e){let r=[];return await e.exists(e.registryPath)||(await e.writeFile(e.registryPath,HI(e)),r.push({filePath:e.registryPath,modifiedType:"create"})),r}function HI(e){let r=e.sdkVersion===ie.gen2;return e.typescriptEnabled?`import type { RegisteredComponent } from ${r?'"@builder.io/sdk-react"':'"@builder.io/react"'};
    
export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}async function gy(e){let r=await JI(e);return{builderPageOptions:async()=>{let i="/builder-demo",n=r.hasLocaleParam?`/en-us${i}`:void 0;return{templateContentId:"a5c9eef7909d4fc99554264a17de22c9",pathname:i,localePathname:n,title:"Builder + Remix Demo Page"}},ensureBuilderSetup:()=>fy(r),ensureFigmaImportPage:()=>hy(r),getRegistryPath:()=>r.registryPath,getRegistry:i=>ei(r,null,!1,!1,null,null,!1,!!i?.readAllInputTypes),addExternalPackage:i=>{r.addExternalPackage(i)},loadComponent:async i=>{let n=await ei(r,i.cmpId,!1,!1,null,null,!1,!1);return{...n,component:n.components.find(s=>s.id===i.cmpId)}},registerComponent:i=>ei(r,i.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:i=>ei(r,i.cmpId,!1,!1,i,null,!0,!1),setRegisteredComponentInput:i=>ei(r,i.cmpId,!1,!1,null,i,!0,!1),unregisterComponent:i=>ei(r,i.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Eo(r),setPublicApiKey:i=>uy(r,i.publicApiKey),getDependencies:i=>i.sdkVersion===ie.gen2?[{name:"@builder.io/dev-tools"},{name:"@builder.io/sdk-react"}]:[{name:"@builder.io/dev-tools"},{name:"@builder.io/react"},{name:"@builder.io/sdk"}],getDevRunCommand:()=>"dev",getCache:()=>Kr(r),setCache:i=>Vr(r,i)}}async function JI(e){let r=await XI(e),t=e.getAppRootDir(),i=await QI(e),n=e.dirname(i),s=e.join(n,"components"),o=await sr(e),a=await mr(e,n),l={},u={...e,registryPath:a,remixConfigPath:r,typescriptEnabled:o,appDir:n,componentsDir:s,routesDir:i,hasLocaleParam:await YI(e,i),addExternalPackage:c=>{l[e.join(t,c,"index.ts")]=`export * from "${c}";`},readFileSync:c=>l[c]??e.readFileSync(c),existsSync:c=>!!l[c]||e.existsSync(c),readdirSync:c=>{let p=e.readdirSync(c);return c===t?[...p,...Object.keys(l).map(d=>d.slice(t.length+1))]:p},readdir:async c=>{let p=await e.readdir(c);return c===t?[...p,...Object.keys(l).map(d=>d.slice(t.length+1))]:p}};return e.sdkVersion?u.sdkVersion=e.sdkVersion:u.sdkVersion=await hs(u),u}async function YI(e,r){return(await e.readdir(r)).some(i=>i.startsWith("($locale)."))}async function XI(e){let r=["remix.config.ts","remix.config.js","vite.config.ts","vite.config.js"];for(let t of r){let i=e.join(e.getAppRootDir(),t);if(await e.exists(i))return i}throw new Error(`Could not find Remix config file. Searched for ${r.join(", ")} in "${e.getAppRootDir()}".`)}async function QI(e){let r=await po(e,e.getAppRootDir(),"routes");if(r)return r;throw new Error(`Could not find Remix "routes" directory in "${e.getAppRootDir()}". Please ensure this command is ran from within your Remix project's directory.`)}async function So(e){let r=[".env"],t=e.configType==="vite"?vo:al;return await rn(e,r,t)}async function yy(e,r){let t=await So(e),i=await nn(e,t.file,t.envKey,r);return{...t,modifiedType:i}}var vo="VITE_PUBLIC_BUILDER_KEY",al="YOUR_PUBLIC_BUILDER_KEY";function by(e,r){let t=`Builder.registerComponent(
`;t+=`  ${r.importName},
`,t+=`  {
    name: "${r.name}",
  }
`,t+=");";let i=tl(e,t);return sp(e,i,r)}function sp(e,r,t){if(!e.ts.isExpressionStatement(r))return r;let i=r.expression;if(!e.ts.isCallExpression(i))return r;let n=[...i.arguments];if(n.length<2)return r;let s=n[1];return e.ts.isObjectLiteralExpression(s)?(n[1]=dt(e,s,t),e.ts.factory.updateExpressionStatement(r,e.ts.factory.updateCallExpression(i,i.expression,i.typeArguments,n))):r}async function Dy(e){let r=await e.readFile(e.registryPath);return r?ZI(e,r):{components:[],sourceFile:xe(e,"")}}async function ZI(e,r){let t=xe(e,r);return e.sdkVersion===ie.gen2?r_(e,t):e_(e,t)}async function e_(e,r){let t=[];for(let i=0;i<r.statements.length;i++){let n=r.statements[i];if(!e.ts.isExpressionStatement(n))continue;let s=n.expression;if(!e.ts.isCallExpression(s))continue;let o=s.expression;if(!e.ts.isPropertyAccessExpression(o))continue;let a=o.expression;if(!e.ts.isIdentifier(a)||a.text!=="Builder"||o.name.text!=="registerComponent")continue;let u=s.arguments;if(u.length<2)continue;let c=u[1];if(!e.ts.isObjectLiteralExpression(c))continue;let p=u[0];if(e.ts.isIdentifier(p)){let d=await t_(e,r,i,p,c,!1);d&&t.push(d);continue}}return{sourceFile:r,components:Ht(t)}}async function t_(e,r,t,i,n,s){let o={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],nodeIndex:t,acceptsChildren:s},a=r.statements.filter(u=>e.ts.isImportDeclaration(u)),l=a.find(u=>u.importClause&&u.importClause.name?.text===i.text);if(l){let u=l.moduleSpecifier;if(!e.ts.isStringLiteral(u))return null;o.filePath=await op(e,u.text),o.relFilePath=e.relative(e.getAppRootDir(),o.filePath),o.importPath=Ue(e,o.filePath),o.name=yr(e,o.filePath),o.importName=i.text,o.exportName="default",o.exportType="default"}else{let u=a.find(d=>!d.importClause||!d.importClause.namedBindings||!e.ts.isNamedImports(d.importClause.namedBindings)?!1:d.importClause.namedBindings.elements.some(h=>h.name.text===i.text));if(!u)return null;let c=u.moduleSpecifier;if(!e.ts.isStringLiteral(c))return null;let p=await op(e,c.text);o.filePath=await op(e,c.text),o.relFilePath=e.relative(e.getAppRootDir(),o.filePath),await e.exists(p)?o.importPath=Ue(e,o.filePath):(o.externalImportPath=c.text,o.importPath=o.externalImportPath),o.name=Ve(i.text),o.importName=i.text,o.exportName=i.text,o.exportType="named"}return o=Jt(e,o,n),o.displayFilePath=Ne(e,o.filePath),o.filePath&&o.exportName&&(o.id=await je(e,o.filePath,o.exportName,o.externalImportPath)),o}function op(e,r){return Do(e,e.normalize(e.resolve(e.dirname(e.registryPath),r)))}async function r_(e,r){let t=[],i=lt(e,r,"CUSTOM_COMPONENTS");return i&&await Promise.all(i.arrayLiteralExp.elements.map(async(n,s)=>{let o=await ap(e,r,n);o&&(o.nodeIndex=s,t.push(o))})),{sourceFile:r,components:Ht(t)}}async function ap(e,r,t){if(!e.ts.isObjectLiteralExpression(t))return null;let i={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],acceptsChildren:!1};as(e,t)&&(i.acceptsChildren=!0);for(let s of t.properties){if(!e.ts.isPropertyAssignment(s)||!e.ts.isIdentifier(s.name))continue;if(Fe(e,s)==="component"){let a,{initializer:l}=s;if(e.ts.isIdentifier(l)&&(a=l.text),!a)continue;i.name===""&&(i.name=Ve(a)),i.importName=a;let u=await Wr(e,e.registryPath,r,a);if(!u)continue;i.filePath=u.filePath,i.relFilePath=u.relFilePath,await e.exists(u.filePath)?i.importPath=Ue(e,u.filePath):(i.externalImportPath=u.importPath,i.importPath=i.externalImportPath),i.displayFilePath=u.displayFilePath,i.exportType=u.exportType;let c=r.statements.filter(d=>e.ts.isImportDeclaration(d)),p=c.find(d=>d.importClause&&d.importClause.name?.text===a);if(p){let d=p.moduleSpecifier;if(!e.ts.isStringLiteral(d))return null;i.exportName="default"}else{let d=c.find(f=>!f.importClause||!f.importClause.namedBindings||!e.ts.isNamedImports(f.importClause.namedBindings)?!1:f.importClause.namedBindings.elements.some(g=>g.name.text===a));if(!d)return null;let h=d.moduleSpecifier;if(!e.ts.isStringLiteral(h))return null;i.exportName=a}continue}}return i=Jt(e,i,t),i.filePath&&i.exportName&&(i.id=await je(e,i.filePath,i.exportName,i.externalImportPath)),i}async function ti(e,r,t,i,n,s,o,a){let l=await on(e),[u,c,p,d]=await Promise.all([Fg(e,l),Dy(e),sr(e),So(e)]),h=u.map(C=>C.cmpInfo),f=c.components,g={components:Pr(h,f),registryPath:e.registryPath,registryDisplayPath:Ne(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:Gr(h),publicApiKey:d.envValue??void 0,devToolsVersion:e.version};if(a)return g.components=await ps(e,g.components),g;let m=!1,y=c.sourceFile,b=Array.isArray(r)?r:typeof r=="string"?[r]:[];if(b.length>0){let C=b.map(E=>{let w=u.find(k=>k.cmpInfo.id===E);if(!w)throw new Error(`Component ${E} not found`);return w}),D=Array.from(new Set(C.map(E=>E.cmpInfo.filePath))),x=await ft(e,D);for(let E of C){let w=g.components.find(N=>N.id===E.cmpInfo.id),k=await ds(e,E,x,e.registryPath===E.cmpInfo.filePath||gr(E.cmpInfo.filePath));ar(w,k);let M=h.findIndex(N=>N.id===E.cmpInfo.id);h[M].inputs=k;let R=Xr(E.cmpInfo.id,h,f,t,i,n,s);if(e.sdkVersion===ie.gen2){let{elements:N,elmIndex:K,statementIndex:Z,statement:re,variableDeclaration:ee}=await i_(e,y,E);if(R.addCmpToRegistry)N.push(n_(e,R.addCmpToRegistry)),m=!0;else if(R.removeCmpFromRegistry)N.splice(K,1),m=!0;else if(R.updateRegisteredCmp){let Pe=dt(e,N[K],R.updateRegisteredCmp),I=e.ts.factory.createIdentifier(R.updateRegisteredCmp.importName);N[K]=e.ts.factory.updateObjectLiteralExpression(Pe,[e.ts.factory.createPropertyAssignment("component",I),...Pe.properties.slice(1)]),m=!0}if(m&&o){let Pe=[...y.statements];Pe[Z]=e.ts.factory.updateVariableStatement(re,re.modifiers,e.ts.factory.updateVariableDeclarationList(re.declarationList,[e.ts.factory.updateVariableDeclaration(ee,ee.name,ee.exclamationToken,ee.type,e.ts.factory.createArrayLiteralExpression(Jr(e,N)))])),y=e.ts.factory.updateSourceFile(y,Pe),y=xy(e,R,y),y=Ce(e,y,{namedImports:["RegisteredComponent"],importPath:"@builder.io/sdk-react",isTypeOnly:!0}),y=Qr(e,y,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),g.components=R.components,f=R.components.filter(I=>I.isRegistered)}}else{let N=[...y.statements];R.addCmpToRegistry?(N.push(by(e,R.addCmpToRegistry)),m=!0):R.removeCmpFromRegistry?(N.splice(R.nodeIndex,1),m=!0):R.updateRegisteredCmp&&(N[R.nodeIndex]=sp(e,N[R.nodeIndex],R.updateRegisteredCmp),m=!0),m&&o&&(y=e.ts.factory.updateSourceFile(y,N),y=Ce(e,y,{namedImports:["Builder","builder"],importPath:"@builder.io/react"}),y=xy(e,R,y),w?.acceptsChildren&&(y=Ce(e,y,{namedImports:["withChildren"],importPath:"@builder.io/react"})),g.components=R.components,f=R.components.filter(K=>K.isRegistered))}}}if(m&&o){y=Yr(e,y),y=Hr(e,y);let C=yt(e,y);C=Ar(C),C=await e.formatCode(e.registryPath,C),await e.writeFile(e.registryPath,C)}return g}async function i_(e,r,t){let i=lt(e,r,"CUSTOM_COMPONENTS");if(!i)throw new Error(`Exported name of the Builder registry must be "CUSTOM_COMPONENTS". Please update your Builder registry file: ${e.registryPath}`);let n=i.arrayLiteralExp.elements.filter(o=>e.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<n.length;o++)if((await ap(e,r,n[o]))?.id===t.cmpInfo.id){s=o;break}return{...i,elements:n,elmIndex:s}}function n_(e,r){let t=e.ts.factory.createIdentifier(r.importName);return dt(e,e.ts.factory.createObjectLiteralExpression([e.ts.factory.createPropertyAssignment("component",t),...r.acceptsChildren?[e.ts.factory.createPropertyAssignment("canHaveChildren",e.ts.factory.createTrue())]:[]],!0),r)}function xy(e,r,t){let i=r.addCmpToRegistry||r.updateRegisteredCmp;if(i){let n=i.externalImportPath?i.externalImportPath:Se(e,e.registryPath,i.filePath);i.exportType==="default"?t=Ce(e,t,{defaultImport:i.importName,importPath:n}):i.exportType==="named"&&(t=Ce(e,t,{namedImports:[i.importName],importPath:n}))}return t}async function Ey(e){let r=[],t=await s_(e,r);if(await vy(e,r,t),!await e.exists(e.builderComponentPath)){let i=await e.formatCode(e.builderComponentPath,Sy(e,e.builderComponentPath));await e.writeFile(e.builderComponentPath,i),r.push({filePath:e.builderComponentPath,modifiedType:"create"})}return r}async function Cy(e){let r=[];await vy(e,r);let t=`figma-imports.${e.typescriptEnabled?"tsx":"jsx"}`,i=e.join(e.componentsDir,t);if(!await e.exists(i)){let n=await e.formatCode(i,Sy(e,i,"figma-imports"));await e.writeFile(i,n),r.push({filePath:i,modifiedType:"create"})}return r}function Sy(e,r,t="page"){let i=e.typescriptEnabled;return e.sdkVersion===ie.gen2?`
  import React from "react";
  import {
      Content,
      fetchOneEntry,
      getBuilderSearchParams,
      isPreviewing,
    ${i?"type BuilderContent,":""}
    } from "@builder.io/sdk-react";
  import { CUSTOM_COMPONENTS } from ${JSON.stringify(Se(e,r,e.registryPath))};

  // Builder Public API Key set in .env file
  const BUILDER_API_KEY = ${e.configType==="vite"?`import.meta.env.${vo};`:`${al};`}
  const MODEL_NAME = "${t}";

  export default function BuilderPage() {
  const [notFound, setNotFound] = React.useState(false);
  const [content, setContent] = React.useState${i?"<BuilderContent | null>":""}(null);

  // get the page content from Builder
  React.useEffect(() => {
    fetchOneEntry({
      model: MODEL_NAME,
      apiKey: BUILDER_API_KEY,
      userAttributes: {
        urlPath: window.location.pathname,
      },
      options: getBuilderSearchParams(new URL(location.href).searchParams),
    })
      .then((content) => {
        if (content) {
          setContent(content);
        }
        setNotFound(!content);
      })
      .catch((err) => {
        console.log("Oops: ", err);
      });
  }, []);

  // If no page is found, return
  // a 404 page from your code.
  if (notFound && !isPreviewing()) {
    return <div>404 Page Not Found</div>;
  }

  // return the page when found
  return (
  <>
    {/* Render the Builder page */}
    <Content
      content={content}
      model={MODEL_NAME}
      apiKey={BUILDER_API_KEY}
      customComponents={CUSTOM_COMPONENTS}
    />
  </>
  );
}
    `:`
import React from "react";
import { BuilderComponent, builder, useIsPreviewing } from "@builder.io/react"; 
import ${JSON.stringify(Se(e,r,e.registryPath))};

// Builder Public API Key set in .env file
${e.configType==="vite"?`builder.init(import.meta.env.${vo}${i?"!":""})`:`builder.init("${al}")`}

export default function BuilderPage() {
  const isPreviewingInBuilder = useIsPreviewing();
  const [notFound, setNotFound] = React.useState(false);
  const [content, setContent] = React.useState(null);

  // get the page content from Builder
  React.useEffect(() => {
    async function fetchContent() {
      const content = await builder
        .get("${t}", {
          url: window.location.pathname,
        })
        .promise();

      setContent(content);
      setNotFound(!content);

      // if the page title is found, 
      // set the document title
      if (content?.data.title) {
        document.title = content.data.title;
      }
    }
    fetchContent();
  }, []);
  
  if (content === null) {
    return;
  }
  // If no page is found, return 
  // a 404 page from your code.
  if (notFound && !isPreviewingInBuilder) {
    return <div>404 Page Not Found</div>;
  }

  // return the page when found
  return (
    <>
      {/* Render the Builder page */}
      <BuilderComponent model="${t}" content={content} />
    </>
  );
}
`.trimStart()}async function vy(e,r,t){if(!await e.exists(e.registryPath)){if(e.sdkVersion===ie.gen2){let s=a_(e);await e.writeFile(e.registryPath,s)}else await e.writeFile(e.registryPath,"");r.push({filePath:e.registryPath,modifiedType:"create"})}if(!t)return;let n=(await ti(e,null,!1,!1,null,null,!1,!1)).components.find(s=>s.filePath===t);n&&await ti(e,n.id,!0,!1,null,null,!0,!1)}async function s_(e,r){let i=e.typescriptEnabled?"tsx":"jsx",n=e.join(e.componentsDir,"Counter"),s=e.join(n,`Counter.${i}`),o=e.join(n,"styles.module.css"),{component:a,styles:l}=o_(e);if(!await e.exists(s)){let u=await e.formatCode(s,a);await e.writeFile(s,u),r.push({filePath:s,modifiedType:"create"})}return await e.exists(o)||(await e.writeFile(o,l),r.push({filePath:o,modifiedType:"create"})),s}function o_(e){let r=e.typescriptEnabled,t=`
"use client"
import React, { useState } from "react";
import styles from "./styles.module.css";
${r?`
interface CounterProps {
  initialCount?: number;
}`:""}

function Counter({ initialCount = 99 }${r?": CounterProps":""}) {
  const [count, setCount] = useState(initialCount);

  const increment = () => {
    setCount((prevCount) => prevCount + 1);
  };

  const decrement = () => {
    setCount((prevCount) => prevCount - 1);
  };

  return (
    <div className={styles.counter}>
      <button className={styles.btn} onClick={decrement}>
        -
      </button>
      <span className={styles.count}>{count}</span>
      <button className={styles.btn} onClick={increment}>
        +
      </button>
    </div>
  );
}

export default Counter;
`.trimStart(),i=`
.counter {
  margin: 32px auto;
  display: flex;
  width: 100%;
  max-width: 190px;
}

.btn {
  width: 42px;
  font-size: 32px;
  font-weight: bold;
  background-color: #1c6bd1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  line-height: 1.4;
}

.btn:hover {
  opacity: 0.8;
}

.count {
  flex: 1;
  font-size: 42px;
  text-align: center;
}
`.trimStart();return{component:t,styles:i}}function a_(e){return e.typescriptEnabled?`import type { RegisteredComponent } from "@builder.io/sdk-react";
    
export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}async function wy(e){let r=await l_(e);return{builderPageOptions:async()=>({templateContentId:"2e36438034894a8abf279ea9e6d3596f",pathname:"/builder-demo",title:"Builder + React Demo Page"}),ensureBuilderSetup:()=>Ey(r),ensureFigmaImportPage:()=>Cy(r),getRegistryPath:()=>r.registryPath,getRegistry:i=>ti(r,null,!1,!1,null,null,!1,!!i?.readAllInputTypes),addExternalPackage:i=>{r.addExternalPackage(i)},loadComponent:async i=>{let n=await ti(r,i.cmpId,!1,!1,null,null,!1,!1);return{...n,component:n.components.find(s=>s.id===i.cmpId)}},registerComponent:i=>ti(r,i.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:i=>ti(r,i.cmpId,!1,!1,i,null,!0,!1),setRegisteredComponentInput:i=>ti(r,i.cmpId,!1,!1,null,i,!0,!1),unregisterComponent:i=>ti(r,i.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>So(r),setPublicApiKey:i=>yy(r,i.publicApiKey),getDependencies:i=>i.sdkVersion===ie.gen2?[{name:"@builder.io/dev-tools"},{name:"@builder.io/sdk-react"}]:[{name:"@builder.io/dev-tools"},{name:"@builder.io/react"},{name:"@builder.io/sdk"}],getDevRunCommand:()=>"dev",getCache:()=>Kr(r),setCache:i=>Vr(r,i)}}async function l_(e){let r=await u_(e),t=e.getAppRootDir(),i=e.join(t,"src"),n=await sr(e),s={},o={...e,srcDir:null,builderComponentPath:"",componentsDir:"",registryPath:"",reactConfigPath:r,typescriptEnabled:n,configType:"",addExternalPackage:a=>{s[e.join(t,a,"index.ts")]=`export * from "${a}";`},readFileSync:a=>s[a]??e.readFileSync(a),existsSync:a=>!!s[a]||e.existsSync(a),readdirSync:a=>{let l=e.readdirSync(a);return a===t?[...l,...Object.keys(s).map(u=>u.slice(t.length+1))]:l},readdir:async a=>{let l=await e.readdir(a);return a===t?[...l,...Object.keys(s).map(u=>u.slice(t.length+1))]:l}};return e.sdkVersion?o.sdkVersion=e.sdkVersion:o.sdkVersion=await hs(o),r.includes("webpack.config")&&(o.configType="webpack"),r.includes("vite.config")&&(o.configType="vite"),await e.exists(i)?(o.srcDir=i,o.componentsDir=e.join(i,"components"),o.registryPath=await mr(e,i),o.builderComponentPath=e.join(o.srcDir,`builder-page.${n?"tsx":"jsx"}`)):(o.componentsDir=e.join(t,"components"),o.registryPath=await mr(e,t),o.builderComponentPath=e.join(t,`builder-page.${n?"tsx":"jsx"}`)),o}async function u_(e){let r=["vite.config.ts","vite.config.js","webpack.config.js","webpack.config.ts"];for(let t of r){let i=e.join(e.getAppRootDir(),t);if(await e.exists(i))return i}if(e.ignoreMissingConfig)return"";throw new Error(`Could not find React config file. Searched for ${r.join(", ")} in "${e.getAppRootDir()}".`)}async function wo(e){return await c_(e,["environment.ts"],ll)}async function Ty(e,r){let t=await wo(e),i=await h_(e,t.file,t.envKey,r);return{...t,modifiedType:i}}async function c_(e,r,t){let i={envKey:t,envValue:null,file:""};for(let n of r){let s=e.join(e.getAppRootDir(),"src","environments",n),o=await p_(e,s);if(typeof o=="string"&&o.length>0&&o!=="YOUR_API_KEY")return i.envValue=o,i.file=s,i}return i.file=e.join(e.getAppRootDir(),"src","environments",r[r.length-1]),i}async function p_(e,r){let t=await e.readFile(r);return t?d_(e,t):""}function d_(e,r){let t=xe(e,r),i="",s=us(e,t,"environment");if(s&&s.statement.declarationList.declarations.length>0){let a=s.statement.declarationList.declarations[0].initializer;a&&e.ts.isObjectLiteralExpression(a)&&a.properties.forEach(l=>{e.ts.isPropertyAssignment(l)&&e.ts.isIdentifier(l.name)&&l.name.text===ll&&e.ts.isStringLiteral(l.initializer)&&(i=l.initializer.text)})}return i}async function f_(e,r,t,i){let n=xe(e,r),o=us(e,n,"environment");if(o&&o.statement.declarationList.declarations.length>0){let a=o.statement.declarationList,l=a.declarations[0],u=l.initializer;if(u&&e.ts.isObjectLiteralExpression(u)){let c=e.ts.factory.createPropertyAssignment(e.ts.factory.createIdentifier(t),e.ts.factory.createStringLiteral(i)),p=e.ts.factory.createNodeArray([...u.properties,c]),d=e.ts.factory.updateObjectLiteralExpression(u,p),h=e.ts.factory.updateVariableDeclaration(l,l.name,l.exclamationToken,l.type,d),f=e.ts.factory.updateVariableDeclarationList(a,[h]);return e.ts.factory.updateVariableStatement(o.statement,o.statement.modifiers,f)}return null}return null}async function h_(e,r,t,i){let n=await e.readFile(r);if(n)if(n.includes(t))e.debug(`"${t}" already set in ${r}`);else{e.debug(`Add "${t}" to ${r}`);let s=await f_(e,n,t,i);if(s){let o=yt(e,s),a=await e.formatCode(r,o);await e.writeFile(r,a)}return"update"}else{e.debug(`Creating new env file with "${t}" at ${r}`);let s=`
    // https://www.builder.io/c/docs/using-your-api-key
    export const environment = {
      production: false,
      builderApiKey: "${i}",
    };
    `.trimStart(),o=await e.formatCode(r,s);return await e.writeFile(r,o),"create"}return null}var ll="builderApiKey";async function Py(e,r){let t=[],i=r.getSourceFiles(),n=r.getTypeChecker();return await Promise.all(i.map(async s=>{let o=e.basename(s.fileName);if(y_(e,s.fileName)||o.startsWith(".")||o==="node_modules"||m_.has(o))return;let a=e.normalize(s.fileName);if(a===e.registryPath)return;let l=await ul(e,n,a,s);t.push(...l)})),t.sort((s,o)=>s.cmpInfo.name.localeCompare(o.cmpInfo.name))}var m_=new Set([]),g_=new Set(["node_modules"]);function y_(e,r){for(let t of g_)if(e.dirname(r).includes(t))return!0;return!1}async function Iy(e,r){let t=e.extname(r).toLowerCase();if(t===".tsx"||t===".jsx"||t===".ts"||t===".js"){let i=await e.readFile(r);if(i)return b_(e,r,i)}return null}function b_(e,r,t){let i=xe(e,t);return ul(e,null,r,i)}async function ul(e,r,t,i){let n=[],s={};t=e.normalize(t);let o=i.statements.filter(c=>e.ts.isClassDeclaration(c)&&S_(e,c)),a=i.statements.find(c=>e.ts.isImportDeclaration(c)&&e.ts.isStringLiteral(c.moduleSpecifier)&&c.moduleSpecifier.text==="@angular/core");if(a&&e.ts.isImportDeclaration(a)){let c=a.importClause?.namedBindings;if(c&&e.ts.isNamedImports(c)){let p=c.elements.find(d=>(d.propertyName??d.name).text==="input");p&&(s.inputSignalImportName=p.name.text)}}let l=await x_(e,r,t,i),u=v_(e,i);return await Promise.all(o.map(async c=>{let p=await D_(e,r,t,c,u,s);n.push(...p)})),n.push(...l),n}async function lp(e,r,t){if(r.node.fnNode){let{sourceFile:i,typeChecker:n}=await ls(e,r.cmpInfo.filePath,t),o=(await ul(e,n,r.cmpInfo.filePath,i)).find(a=>a.cmpInfo.id===r.cmpInfo.id);if(!o)throw new Error(`Could not find component ${r.cmpInfo.name} in ${r.cmpInfo.filePath}`);return o.cmpInfo.inputs}return[]}async function _y(e,r,t){if(!t.some(a=>!a.isRegistered))return t;let n=await ft(e,t.map(a=>a.filePath)),s=n.getTypeChecker();return await Promise.all(t.filter(a=>!(a.name.endsWith("Page")||a.name.endsWith("Module")||a.name==="AppComponent")).map(async a=>{if(!a.isRegistered){let l=n.getSourceFile(a.filePath);if(l){let c=(await ul(e,s,a.filePath,l)).find(p=>p.cmpInfo.id===a.id);if(c){a.inputs=Fn(e,s,c.node.fnNode);let p=r.find(d=>d.cmpInfo.id===a.id);if(p){let d=await lp(e,p,n);ar(a,d)}}}}return a}))}async function D_(e,r,t,i,n,s){let o=[],a=e.relative(e.getAppRootDir(),t),l=Ue(e,t),u=i.name?.text;if(!u)return o;let c=!1;i.modifiers&&(c=i.modifiers.some(f=>f.kind===e.ts.SyntaxKind.DefaultKeyword));let p=c?"default":u,d=c?"default":"named",h=[];return i.members.forEach(f=>{if(e.ts.isPropertyDeclaration(f)||e.ts.isGetAccessor(f)||e.ts.isSetAccessor(f)){let y=(e.ts.getDecorators(f)??[]).find(C=>E_(e,C))!==void 0&&e.ts.isIdentifier(f.name),b=s?.inputSignalImportName!==void 0&&e.ts.isIdentifier(f.name)&&C_(e,f,s.inputSignalImportName);if(y||b){let C="any";if(e.ts.isSetAccessor(f))C=Ay(e,f.parameters[0].type);else if(f.type&&r){let x=r.getTypeAtLocation(f.type);C=r.typeToString(x)}else C=Ay(e,f.type);let D={name:f.name.text,type:n[C]?"string":C};n[C]&&(D.enum=n[C]),h.push(D)}}}),o.push({cmpInfo:{id:await je(e,t,u),displayFilePath:Ne(e,t),name:Ve(u),inputs:h,exportName:p,exportType:d,importName:u,filePath:t,relFilePath:a,importPath:l,meta:{...T_(e,i)}},node:{name:u,fnNode:i,deps:void 0}}),o}async function x_(e,r,t,i){let n=[],s=e.relative(e.getAppRootDir(),t),o=Ue(e,t);for(let a of i.statements)if(e.ts.isExportDeclaration(a)&&a.exportClause&&e.ts.isNamedExports(a.exportClause))for(let l of a.exportClause.elements){let u=l.name?.text;if(!u)continue;let c=u,p="named",d=[];if(r){let g=r.getSymbolAtLocation(l.name);if(g){let m=r.getDeclaredTypeOfSymbol(g);r.getPropertiesOfType(m).forEach(b=>{let C=b.getDeclarations();C&&C.forEach(D=>{if(e.ts.isPropertyDeclaration(D)){let x=r.getTypeAtLocation(D),E={name:b.getName(),type:w_(e,r,x)};d.push(E)}})})}}let h=e.ts.isExportSpecifier(l)&&l.parent?l.parent.parent:void 0,f;if(h){let g=h.moduleSpecifier;if(g&&e.ts.isStringLiteral(g)){let m=r?.getSymbolAtLocation(g);if(m&&m.declarations&&m.declarations.length>0){let y=m.declarations[0];(!e.ts.isSourceFile(y)||e.ts.isSourceFile(y)&&y.fileName.includes("node_modules"))&&(f=g.text)}}}n.push({cmpInfo:{id:await je(e,t,u,f),displayFilePath:Ne(e,t),name:Ve(u),inputs:d,exportName:c,exportType:p,importName:u,filePath:t,relFilePath:s,importPath:f||o,externalImportPath:f},node:{name:u,fnNode:l,deps:void 0}})}return n}function E_(e,r){return Ny(e,r,"Input")}function C_(e,r,t){return e.ts.isPropertyDeclaration(r)&&r.initializer!==void 0&&e.ts.isCallExpression(r.initializer)&&e.ts.isIdentifier(r.initializer.expression)&&r.initializer.expression.text===t}function Ny(e,r,t){if(e.ts.isCallExpression(r.expression)){let i=r.expression;if(e.ts.isIdentifier(i.expression))return i.expression?.text===t}return!1}function S_(e,r){return!!e.ts.getDecorators(r)?.some(n=>e.ts.isCallExpression(n.expression)&&e.ts.isIdentifier(n.expression.expression)&&n.expression.expression.text==="Component")}function Ay(e,r){if(!r)return"any";let t="any";switch(r.kind){case e.ts.SyntaxKind.StringKeyword:t="string";break;case e.ts.SyntaxKind.NumberKeyword:t="number";break;case e.ts.SyntaxKind.BooleanKeyword:t="boolean";break;case e.ts.SyntaxKind.TypeReference:e.ts.isTypeReferenceNode(r)&&e.ts.isIdentifier(r.typeName)&&(t=r.typeName.text);break}return t.includes("|")?"string":t}function v_(e,r){let t={};return e.ts.forEachChild(r,i=>{e.ts.isTypeAliasDeclaration(i)&&e.ts.isUnionTypeNode(i.type)&&i.type.types.every(n=>e.ts.isLiteralTypeNode(n)&&e.ts.isStringLiteral(n.literal))&&(t[i.name.text]=i.type.types.map(n=>n.literal.text))}),t}function w_(e,r,t){let i=r.typeToString(t);if(i==="any"){let n=t.getSymbol();if(n){let s=n.getDeclarations();if(s&&s.length>0){let o=s[0];if(e.ts.isVariableDeclaration(o)){let a=o.type;a&&(i=r.typeToString(r.getTypeAtLocation(a)))}}}}return i}function T_(e,r){let{getDecorators:t,isCallExpression:i,isIdentifier:n,isObjectLiteralExpression:s,isPropertyAssignment:o,isStringLiteral:a,SyntaxKind:l}=e.ts,u,c;return t(r)?.forEach(d=>{if(Ny(e,d,"Component")){let{expression:h}=d;if(i(h)){let[f]=h.arguments;s(f)&&f.properties.forEach(g=>{o(g)&&n(g.name)&&(g.name.escapedText==="selector"&&a(g.initializer)&&(u=g.initializer.text),g.name.escapedText==="standalone"&&(c=g.initializer.kind===l.TrueKeyword))})}}}),{selector:u,standalone:c}}async function cl(e,r,t){let i=e.typescriptEnabled?".ts":".js",n=`app.module${i}`,s=e.join(e.appDir,n),o=await e.readFile(s);if(!o){console.error(`Unable to read app.module.${i} at ${s}`);return}let a=await A_(e,s,r,t,o);if(!a){console.error(`Unable to update app.module.${i} at ${s}`);return}return await e.writeFile(s,a),s}async function A_(e,r,t,i,n){let s=n,o=xe(e,n),a=Se(e,r,i);o=Ce(e,o,{namedImports:[t],importPath:a}),o=Ce(e,o,{namedImports:["Content"],importPath:"@builder.io/sdk-angular"});let l=[];for(let u of o.statements)if(e.ts.isClassDeclaration(u)&&u.name?.text==="AppModule"){let c=P_(e,t,u);l.push(c)}else l.push(u);return o=e.ts.factory.updateSourceFile(o,l),s=yt(e,o),s}function P_(e,r,t){let i=e.ts.getDecorators(t);if(i){for(let n of i)if(e.ts.isCallExpression(n.expression)&&e.ts.isIdentifier(n.expression.expression)&&n.expression.expression.text==="NgModule"){let s=n.expression.arguments;if(s.length===1&&e.ts.isObjectLiteralExpression(s[0])){let o=Fy(e,s[0],"declarations",r);if(o){let a=Fy(e,o,"imports","Content");if(a&&(o=a),o){let l=e.ts.factory.updateDecorator(n,e.ts.factory.updateCallExpression(n.expression,n.expression.expression,n.expression.typeArguments,[o])),c=[...i.map(p=>p===n?l:p),...e.ts.getModifiers(t)||[]];return e.ts.factory.updateClassDeclaration(t,c,t.name,t.typeParameters,t.heritageClauses,t.members)}}}}}return t}function Fy(e,r,t,i){let n=[...r.properties],s=n.findIndex(a=>Fe(e,a)===t);if(s>-1){let a=n[s];if(e.ts.isPropertyAssignment(a)&&a.initializer&&e.ts.isArrayLiteralExpression(a.initializer)){let l=ky(e,a.initializer,i);return l?(n[s]=e.ts.factory.updatePropertyAssignment(a,a.name,l),e.ts.factory.updateObjectLiteralExpression(r,n)):null}return null}let o=ky(e,e.ts.factory.createArrayLiteralExpression([],!0),i);return o?e.ts.factory.updateObjectLiteralExpression(r,[...n,e.ts.factory.createPropertyAssignment(t,o)]):null}function ky(e,r,t){return r.elements.some(n=>e.ts.isIdentifier(n)?n.text===t:!1)?null:e.ts.factory.updateArrayLiteralExpression(r,[...r.elements,e.ts.factory.createIdentifier(t)])}async function up(e,r,t,i){try{if(e.magicast){let s=`app.routes${e.typescriptEnabled?".ts":".js"}`,o=e.join(e.appDir,s),a=await e.magicast.loadFile(o);Object.keys(a.exports).length===0&&(a.exports.routes=[]);let u=Object.keys(a.exports)[0],c=a.exports[u];if(c.find(d=>d.path===r))return;let p=e.magicast.builders.raw("{}");if(p.path=r,p.component=e.magicast.builders.raw(t),c.push(p),a.imports.$items.find(d=>d.imported===t))return;a.imports.$append({imported:t,from:i}),await e.magicast.writeFile(a,o)}}catch(n){console.error(n)}}var zy=V(Vy(),1);async function Wy(e){let r=e.ts.findConfigFile(e.getAppRootDir(),e.existsSync);if(r){let t=await e.readFile(r);if(!t)return;let i=zy.default.parse(t);if(!i||typeof i!="object"||Array.isArray(i))return;let n=i.compilerOptions;if(!n||typeof n!="object"||Array.isArray(n))return;let s=n.paths;(!s||typeof s!="object"||Array.isArray(s))&&(n.paths={},s=n.paths),Object.assign(n.paths,{"~/*":["./src/*"]}),await e.writeFile(r,JSON.stringify(i,null,2))}}async function Gy(e){let r=[],t=await $_(e,r);r.push(...await ml(e)),await M_(e,t);let i="BuilderPage";if(!await e.exists(e.builderPageComponentPath)){let n=await e.formatCode(e.builderPageComponentPath,Jy(e,i,e.builderPageComponentPath,"builder-page","page",!0));await e.writeFile(e.builderPageComponentPath,n),r.push({filePath:e.builderPageComponentPath,modifiedType:"create"})}if(e.hasAppModule){await cl(e,"Counter",t);let n=await cl(e,i,e.builderPageComponentPath);n&&r.push({filePath:n,modifiedType:"update"})}return await up(e,"**",i,"./components/builder-page.component"),r}async function Hy(e){let r=[];r.push(...await ml(e));let t="FigmaImportsPage",i="figma-imports.component",n=e.join(e.componentsDir,`${i}.${e.typescriptEnabled?"ts":"js"}`);if(!await e.exists(n)){let s=await e.formatCode(n,Jy(e,t,n,"figma-imports","figma-imports",!1));await e.writeFile(n,s),r.push({filePath:n,modifiedType:"create"})}if(e.hasAppModule){let s=await cl(e,t,n);s&&r.push({filePath:s,modifiedType:"update"})}return await up(e,"figma-imports",t,`./components/${i}`),await Wy(e),r}async function ml(e){let r=[];return await e.exists(e.registryPath)||(await e.writeFile(e.registryPath,B_(e)),r.push({filePath:e.registryPath,modifiedType:"create"})),r}async function M_(e,r){let i=(await ri(e,null,!1,!1,null,null,!1,!1)).components.find(n=>n.filePath===r);i&&await ri(e,i.id,!0,!1,null,null,!0,!1)}function Jy(e,r,t,i,n,s){let o=!e.hasAppModule,a=Se(e,t,e.registryPath),l=e.join(e.getAppRootDir(),"src","environments","environment.ts"),u=Se(e,t,l),c=s?`    <ng-container *ngIf="content || isPreviewing; else notFound">
      <builder-content
        [model]="model"
        [content]="content"
        [apiKey]="apiKey"
        [customComponents]="customComponents"
      ></builder-content>
    </ng-container>

    <ng-template #notFound>
      <div>404 - Content not found</div>
    </ng-template>`:`    <builder-content
      [model]="model"
      [content]="content"
      [apiKey]="apiKey"
      [customComponents]="customComponents"
    ></builder-content>`;return`
import { Component, Input } from '@angular/core';
import { fetchOneEntry, type BuilderContent${s?", isPreviewing":""} } from '@builder.io/sdk-angular';
${o?"import { Content } from '@builder.io/sdk-angular';":""}
${o?"import { CommonModule } from '@angular/common';":""}
import { environment } from ${JSON.stringify(u)};
import { CUSTOM_COMPONENTS } from ${JSON.stringify(a)};

@Component({
  selector: 'app-${i}',
  ${o?"standalone: true,":""}
  ${o?"imports: [Content, CommonModule],":""}
  template: \`
${c}
  \`,
})
export class ${r} {
  
  ${s?`isPreviewing = isPreviewing();
`:""}
  @Input() model = '${n}';

  apiKey = environment.${ll};
  ${e.typescriptEnabled?`
  content: BuilderContent | null = null;
`:`
  content = null;
`}

  customComponents = CUSTOM_COMPONENTS;

  async ngOnInit() {
    const urlPath = window.location.pathname || '/';

    const builderContent = await fetchOneEntry({
      model: this.model,
      apiKey: this.apiKey,
      userAttributes: {
        urlPath,
      },
    });

    if (!builderContent) {
      return;
    }

    this.content = builderContent;
  }
}

  `.trimStart()}function B_(e){return e.typescriptEnabled?`import type { RegisteredComponent } from "@builder.io/sdk-angular";
    
export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}async function $_(e,r){let i=e.typescriptEnabled?"ts":"js",n=e.join(e.componentsDir,`counter.component.${i}`),s=await e.exists(n);e.debug(`angularEnsureCounterComponent, hasCounterCmp: ${s}`);let o=U_(e);if(!s){let a=await e.formatCode(n,o);await e.writeFile(n,a),r.push({filePath:n,modifiedType:"create"})}return n}function U_(e){return`
import { Component, Input } from '@angular/core';

@Component({
  selector: 'app-counter',
  ${e.hasAppModule?"":"standalone: true,"}
  template: \`
    <div class="counter">
      <button class="btn" (click)="decrement()">-</button>
      <span class="count">{{ count }}</span>
      <button class="btn" (click)="increment()">+</button>
    </div>
  \`,
  styles: [
    \`
      .counter {
        margin: 32px auto;
        display: flex;
        width: 100%;
        max-width: 190px;
      }

      .btn {
        width: 42px;
        font-size: 32px;
        font-weight: bold;
        background-color: #1c6bd1;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        line-height: 1.4;
      }

      .btn:hover {
        opacity: 0.8;
      }

      .count {
        flex: 1;
        font-size: 42px;
        text-align: center;
        margin: 0 8px;
      }
    \`,
  ],
})
export class Counter {
  @Input() initialCount: number = 99;
  count: number;

  constructor() {
    this.count = this.initialCount;
  }

  ngOnInit(): void {
    this.count = this.initialCount;
  }

  increment(): void {
    this.count += 1;
  }

  decrement(): void {
    this.count -= 1;
  }
}

`.trimStart()}async function Yy(e){await ml(e);let r=await e.readFile(e.registryPath);return r?j_(e,r):{components:[],sourceFile:xe(e,"")}}async function j_(e,r){let t=xe(e,r);return q_(e,t)}async function q_(e,r){let t=[],i=lt(e,r,"CUSTOM_COMPONENTS");return i&&await Promise.all(i.arrayLiteralExp.elements.map(async(n,s)=>{let o=await bp(e,r,n);o&&(o.nodeIndex=s,t.push(o))})),{sourceFile:r,components:Ht(t)}}async function bp(e,r,t){if(!e.ts.isObjectLiteralExpression(t))return null;let i={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[]};for(let n of t.properties){if(!e.ts.isPropertyAssignment(n)||!e.ts.isIdentifier(n.name))continue;if(Fe(e,n)==="component"){let o,{initializer:a}=n;if(e.ts.isIdentifier(a))o=a.text;else if(e.ts.isCallExpression(a)){let u=a.arguments[0];e.ts.isIdentifier(u)&&(o=u.text)}if(!o)continue;i.name===""&&(i.name=Ve(o)),i.importName=o;let l=await Wr(e,e.registryPath,r,o);if(!l)continue;if(i.filePath=l.filePath,i.relFilePath=l.relFilePath,await e.exists(l.filePath)?i.importPath=Ue(e,l.filePath):(i.externalImportPath=l.importPath,i.importPath=i.externalImportPath),i.displayFilePath=l.displayFilePath,i.exportType=l.exportType,i.externalImportPath)i.exportName=o;else{let u=await Iy(e,l.filePath);if(u&&u.length>0)if(u.length===1)i.exportName=u[0].cmpInfo.exportName;else{let c=u.find(p=>p.cmpInfo.exportName===o);c&&(i.exportName=c.cmpInfo.exportName)}}continue}}return i=Jt(e,i,t),i.filePath&&i.exportName&&(i.id=await je(e,i.filePath,i.exportName,i.externalImportPath)),i}async function ri(e,r,t,i,n,s,o,a){let l=await on(e),[u,c,p]=await Promise.all([Py(e,l),Yy(e),wo(e)]),d=u.map(b=>b.cmpInfo),h=c.components,f={components:Pr(d,h),registryPath:e.registryPath,registryDisplayPath:Ne(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:Gr(d),publicApiKey:p.envValue??void 0,devToolsVersion:e.version};if(a)return f.components=await _y(e,u,f.components),f;let g=!1,m=c.sourceFile,y=Array.isArray(r)?r:typeof r=="string"?[r]:[];if(y.length>0){let b=y.map(x=>{let E=u.find(w=>w.cmpInfo.id===x);if(!E)throw new Error(`Component ${x} not found`);return E}),C=Array.from(new Set(b.map(x=>x.cmpInfo.filePath))),D=await ft(e,C);for(let x of b){let E=f.components.find(ee=>ee.id===x.cmpInfo.id),w=await lp(e,x,D);ar(E,w);let k=d.findIndex(ee=>ee.id===x.cmpInfo.id);d[k].inputs=w;let M=Xr(x.cmpInfo.id,d,h,t,i,n,s),{elements:R,elmIndex:N,statementIndex:K,statement:Z,variableDeclaration:re}=await V_(e,m,x);if(M.addCmpToRegistry)R.push(K_(e,M.addCmpToRegistry)),g=!0;else if(M.removeCmpFromRegistry)R.splice(N,1),g=!0;else if(M.updateRegisteredCmp){let ee=dt(e,R[N],M.updateRegisteredCmp);R[N]=e.ts.factory.updateObjectLiteralExpression(ee,[Xy(e,M.updateRegisteredCmp),...ee.properties.slice(1)]),g=!0}if(g&&o){let ee=[...m.statements];ee[K]=e.ts.factory.updateVariableStatement(Z,Z.modifiers,e.ts.factory.updateVariableDeclarationList(Z.declarationList,[e.ts.factory.updateVariableDeclaration(re,re.name,re.exclamationToken,re.type,e.ts.factory.createArrayLiteralExpression(Jr(e,R)))])),m=e.ts.factory.updateSourceFile(m,ee),E.exportType==="named"?m=Ce(e,m,{namedImports:[E.importName],importPath:E.externalImportPath?E.externalImportPath:Se(e,e.registryPath,E.filePath)}):m=Ce(e,m,{defaultImport:E.importName,importPath:E.externalImportPath?E.externalImportPath:Se(e,e.registryPath,E.filePath)}),m=Ce(e,m,{namedImports:["RegisteredComponent"],importPath:"@builder.io/sdk-angular",isTypeOnly:!0}),m=Qr(e,m,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),f.components=M.components,h=M.components.filter(Pe=>Pe.isRegistered)}}}if(g&&o){m=Yr(e,m),m=Hr(e,m);let b=yt(e,m);b=Ar(b),b=await e.formatCode(e.registryPath,b),await e.writeFile(e.registryPath,b)}return f}function Xy(e,r){let t=e.ts.factory.createIdentifier(r.importName);return e.ts.factory.createPropertyAssignment("component",t)}function K_(e,r){return dt(e,e.ts.factory.createObjectLiteralExpression([Xy(e,r)],!0),r)}async function V_(e,r,t){let i=lt(e,r,"CUSTOM_COMPONENTS");if(!i)throw new Error(`Exported name of the Builder registry must be "CUSTOM_COMPONENTS". Please update your Builder registry file: ${e.registryPath}`);let n=i.arrayLiteralExp.elements.filter(o=>e.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<n.length;o++)if((await bp(e,r,n[o]))?.id===t.cmpInfo.id){s=o;break}return{...i,elements:n,elmIndex:s}}async function Qy(e){let r=await z_(e),t={};return{builderPageOptions:async()=>({templateContentId:"f0b8016ac92e474699293211a268ebaa",pathname:"/builder-demo",title:"Builder + Angular Demo Page"}),ensureBuilderSetup:()=>Gy(r),ensureFigmaImportPage:()=>Hy(r),getRegistryPath:()=>r.registryPath,getRegistry:n=>ri(r,null,!1,!1,null,null,!1,!!n?.readAllInputTypes),addExternalPackage:async n=>{t[n]||(t[n]=`export * from "${n}";`)},loadComponent:async n=>{let s=await ri(r,n.cmpId,!1,!1,null,null,!1,!1);return{...s,component:s.components.find(o=>o.id===n.cmpId)}},registerComponent:n=>ri(r,n.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:n=>ri(r,n.cmpId,!1,!1,n,null,!0,!1),setRegisteredComponentInput:n=>ri(r,n.cmpId,!1,!1,null,n,!0,!1),unregisterComponent:n=>ri(r,n.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>wo(r),setPublicApiKey:n=>Ty(r,n.publicApiKey),getDependencies:n=>[{name:"@builder.io/dev-tools"},{name:"@builder.io/sdk-angular"},{name:"concurrently"}],getDevRunCommand:()=>"builder-dev",getCache:()=>Kr(r),setCache:n=>Vr(r,n)}}async function z_(e){let r=await W_(e),t=e.getAppRootDir(),i=e.join(t,"src"),n=await sr(e),s=e.join(i,"app"),o=await mr(e,s),a={...e,srcDir:"",appDir:"",componentsDir:"",registryPath:o,angularConfigPath:r,typescriptEnabled:n,builderPageComponentPath:"",hasAppModule:!1};if(!await e.exists(i))throw new Error(`Could not find src directory. Searched for src in "${e.getAppRootDir()}".`);a.srcDir=i,a.appDir=s,a.componentsDir=e.join(a.appDir,"components"),a.builderPageComponentPath=e.join(a.componentsDir,`builder-page.component.${n?"ts":"js"}`);let l=`app.module.${n?"ts":"js"}`,u=e.join(a.appDir,l);return await e.exists(u)&&(a.hasAppModule=!0),a}async function W_(e){let r=e.join(e.getAppRootDir(),"angular.json");if(await e.exists(r))return r;let t=e.join(e.getAppRootDir(),"project.json");if(await e.exists(t))return t;throw new Error(`Could not find Angular config file. Searched for angular.json & project.json in "${e.getAppRootDir()}".`)}var El=V(pb(),1);async function db(e,r){let i={components:(await r.getRegistry()).components.filter(s=>s.isRegistered).map(s=>{let o={filePath:Tr(e.relative(e.getAppRootDir(),s.filePath)),name:s.name,image:s.image,description:s.description,exportName:s.exportName,inputs:or(s.inputs)};return or(o)}),version:1};e.debug("exporting registry components:",i.components.length);let n=(0,El.compress)(i);return btoa(JSON.stringify(n))}async function fb(e,r,t){if(typeof t!="string")throw new Error("Invalid registry to import");let i=await r.getRegistry(),n=JSON.parse(atob(t)),s=(0,El.decompress)(n),o=or(i);e.debug("importing registry components:",s.components.length);for(let a of s.components){let l=Tr(e.normalize(a.filePath)),u=i.components.find(p=>Tr(p.filePath).endsWith(l)&&p.exportName===a.exportName);if(!u){console.error(`Could not find component to register: ${a.filePath}, ${a.exportName}`);continue}e.debug(`register (${u.id})`,u.filePath),await r.registerComponent({cmpId:u.id});for(let p of a.inputs)e.debug(`set input (${u.id})`),await r.setRegisteredComponentInput({cmpId:u.id,name:p.name,type:p.type,required:p.required,defaultValue:p.defaultValue,friendlyName:p.friendlyName,helperText:p.helperText});e.debug(`set input (${u.id}) info`);let c=await r.setRegisteredComponentInfo({cmpId:u.id,name:a.name,image:a.image,description:a.description});o=or(c)}return o}var _r={react:"react",remix:"remix",angular:"angular",next:"next",qwik:"qwik"},gj={[_r.react]:[{version:ie.gen1,recommended:!0},{version:ie.gen2,recommended:!1}],[_r.remix]:[{version:ie.gen1,recommended:!1},{version:ie.gen2,recommended:!0}],[_r.angular]:[{version:ie.gen2,recommended:!0}],[_r.next]:[{version:ie.gen1,recommended:!0},{version:ie.gen2,recommended:!1}],[_r.qwik]:[{version:ie.gen2,recommended:!0}]};async function hb(e,r){let t=[],i=new Set;async function n(a){let l=e.join(a,"package.json");try{let u=await e.readFile(l);if(u===null)throw new Error(`Failed to read package.json at ${l}`);let c=JSON.parse(u);if(i.has(c.name))return null;i.add(c.name);let p={name:c.name,subPackages:[]},d=await e.readdir(a);for(let h of d)h!=="node_modules"&&(await e.stat(e.join(a,h))).isDirectory()&&p.subPackages.push(h);return t.push(p),p}catch(u){return console.error(`Error reading package.json at ${a}:`,u),null}}let s=e.join(r,"package.json"),o=await e.readFile(s);if(o!==null){let a=JSON.parse(o),l={...a.dependencies,...a.devDependencies};for(let u of Object.keys(l)){let c=e.join(r,"node_modules",u);await n(c)}if(a.workspaces)for(let u of a.workspaces){let c=await e.readdir(e.join(r,u));for(let p of c){let d=e.join(r,u,p);await n(d)}}}return t}var gN={"@builder.io/qwik-city":ly,next:Xg,"@remix-run/react":gy,react:wy,"@angular/core":Qy},yN={"@builder.io/qwik-city":_r.qwik,next:_r.next,"@remix-run/react":_r.remix,react:_r.react,"@angular/core":_r.angular};async function un(e){if(!e.ts)throw new Error("createDevTools() requires a TypeScript instance passed to the 'ts' option");if((!e.frameworks||e.frameworks.length===0)&&(e.frameworks=await Nn(e)),e.frameworks.length===0)throw new Error("Supported Devtools framework for not found");for(let r of e.frameworks){let t=gN[r.name];if(t){if(r.name==="next"&&await fg(e))throw new Error("Turbopack does not support the Builder.io devtools cli. Please disable Turbopack or manually integrate Builder.io into your Next.js project.");let i=await t(e);return{...i,exportRegistry:()=>db(e,i),importRegistry:s=>fb(e,i,s),framework:yN[r.name],findAllDependencies:async()=>await hb(e,e.getRepoRootDir())}}}throw new Error(`Devtools framework not found for ${e.getAppRootDir()}, ${JSON.stringify(e.frameworks,null,2)}`)}var cq=`
/** @type {import('next').NextConfig} */
const nextConfig = {
}
 
module.exports = nextConfig
`.trimStart();var lc=V(KE(),1),Ra=V(require("fs"),1);function D2(e){let r=e.regex,t=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),i="decltype\\(auto\\)",n="[a-zA-Z_]\\w*::",o="(?!struct)("+i+"|"+r.optional(n)+"[a-zA-Z_]\\w*"+r.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},t,e.C_BLOCK_COMMENT_MODE]},d={className:"title",begin:r.optional(n)+e.IDENT_RE,relevance:0},h=r.optional(n)+e.IDENT_RE+"\\s*\\(",f=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],m=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],D={type:g,keyword:f,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:m},x={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:r.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,r.lookahead(/(<[^<>]+>|)\s*\(/))},E=[x,p,a,t,e.C_BLOCK_COMMENT_MODE,c,u],w={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:D,contains:E.concat([{begin:/\(/,end:/\)/,keywords:D,contains:E.concat(["self"]),relevance:0}]),relevance:0},k={className:"function",begin:"("+o+"[\\*&\\s]+)+"+h,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:D,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:i,keywords:D,relevance:0},{begin:h,returnBegin:!0,contains:[d],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,c]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:D,relevance:0,contains:[t,e.C_BLOCK_COMMENT_MODE,u,c,a,{begin:/\(/,end:/\)/,keywords:D,relevance:0,contains:["self",t,e.C_BLOCK_COMMENT_MODE,u,c,a]}]},a,t,e.C_BLOCK_COMMENT_MODE,p]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:D,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(w,k,x,E,[p,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:D,contains:["self",a]},{begin:e.IDENT_RE+"::",keywords:D},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function VE(e){let r={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},t=D2(e),i=t.keywords;return i.type=[...i.type,...r.type],i.literal=[...i.literal,...r.literal],i.built_in=[...i.built_in,...r.built_in],i._hints=r._hints,t.name="Arduino",t.aliases=["ino"],t.supersetOf="cpp",t}function zE(e){let r=e.regex,t={},i={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[t]}]};Object.assign(t,{className:"variable",variants:[{begin:r.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},i]});let n={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},s={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t,n]};n.contains.push(o);let a={match:/\\"/},l={className:"string",begin:/'/,end:/'/},u={match:/\\'/},c={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,t]},p=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],d=e.SHEBANG({binary:`(${p.join("|")})`,relevance:10}),h={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},f=["if","then","else","elif","fi","for","while","until","in","do","done","case","esac","function","select"],g=["true","false"],m={match:/(\/[a-z._-]+)+/},y=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],b=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias"],C=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],D=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:f,literal:g,built_in:[...y,...b,"set","shopt",...C,...D]},contains:[d,e.SHEBANG(),h,c,e.HASH_COMMENT_MODE,s,m,o,a,l,u,t]}}function WE(e){let r=e.regex,t=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),i="decltype\\(auto\\)",n="[a-zA-Z_]\\w*::",o="("+i+"|"+r.optional(n)+"[a-zA-Z_]\\w*"+r.optional("<[^<>]+>")+")",a={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},t,e.C_BLOCK_COMMENT_MODE]},d={className:"title",begin:r.optional(n)+e.IDENT_RE,relevance:0},h=r.optional(n)+e.IDENT_RE+"\\s*\\(",m={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal128","const","static","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},y=[p,a,t,e.C_BLOCK_COMMENT_MODE,c,u],b={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:m,contains:y.concat([{begin:/\(/,end:/\)/,keywords:m,contains:y.concat(["self"]),relevance:0}]),relevance:0},C={begin:"("+o+"[\\*&\\s]+)+"+h,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:m,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:i,keywords:m,relevance:0},{begin:h,returnBegin:!0,contains:[e.inherit(d,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:m,relevance:0,contains:[t,e.C_BLOCK_COMMENT_MODE,u,c,a,{begin:/\(/,end:/\)/,keywords:m,relevance:0,contains:["self",t,e.C_BLOCK_COMMENT_MODE,u,c,a]}]},a,t,e.C_BLOCK_COMMENT_MODE,p]};return{name:"C",aliases:["h"],keywords:m,disableAutodetect:!0,illegal:"</",contains:[].concat(b,C,y,[p,{begin:e.IDENT_RE+"::",keywords:m},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:p,strings:u,keywords:m}}}function GE(e){let r=e.regex,t=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),i="decltype\\(auto\\)",n="[a-zA-Z_]\\w*::",o="(?!struct)("+i+"|"+r.optional(n)+"[a-zA-Z_]\\w*"+r.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},t,e.C_BLOCK_COMMENT_MODE]},d={className:"title",begin:r.optional(n)+e.IDENT_RE,relevance:0},h=r.optional(n)+e.IDENT_RE+"\\s*\\(",f=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],m=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],D={type:g,keyword:f,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:m},x={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:r.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,r.lookahead(/(<[^<>]+>|)\s*\(/))},E=[x,p,a,t,e.C_BLOCK_COMMENT_MODE,c,u],w={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:D,contains:E.concat([{begin:/\(/,end:/\)/,keywords:D,contains:E.concat(["self"]),relevance:0}]),relevance:0},k={className:"function",begin:"("+o+"[\\*&\\s]+)+"+h,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:D,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:i,keywords:D,relevance:0},{begin:h,returnBegin:!0,contains:[d],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,c]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:D,relevance:0,contains:[t,e.C_BLOCK_COMMENT_MODE,u,c,a,{begin:/\(/,end:/\)/,keywords:D,relevance:0,contains:["self",t,e.C_BLOCK_COMMENT_MODE,u,c,a]}]},a,t,e.C_BLOCK_COMMENT_MODE,p]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:D,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(w,k,x,E,[p,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:D,contains:["self",a]},{begin:e.IDENT_RE+"::",keywords:D},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function HE(e){let r=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],t=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],i=["default","false","null","true"],n=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"],o={keyword:n.concat(s),built_in:r,literal:i},a=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},c=e.inherit(u,{illegal:/\n/}),p={className:"subst",begin:/\{/,end:/\}/,keywords:o},d=e.inherit(p,{illegal:/\n/}),h={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,d]},f={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},p]},g=e.inherit(f,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},d]});p.contains=[f,h,u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.C_BLOCK_COMMENT_MODE],d.contains=[g,h,c,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];let m={variants:[f,h,u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},y={begin:"<",end:">",contains:[{beginKeywords:"in out"},a]},b=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",C={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:o,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},m,l,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},a,y,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,y,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+b+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:o,contains:[{beginKeywords:t.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,y],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,relevance:0,contains:[m,l,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},C]}}var x2=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),E2=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],C2=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],S2=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],v2=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],w2=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function JE(e){let r=e.regex,t=x2(e),i={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},n="and or not only",s=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",a=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[t.BLOCK_COMMENT,i,t.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+S2.join("|")+")"},{begin:":(:)?("+v2.join("|")+")"}]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+w2.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[t.BLOCK_COMMENT,t.HEXCOLOR,t.IMPORTANT,t.CSS_NUMBER_MODE,...a,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...a,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},t.FUNCTION_DISPATCH]},{begin:r.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:n,attribute:C2.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...a,t.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+E2.join("|")+")\\b"}]}}function YE(e){let r=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:r.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:r.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function XE(e){let s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:e.C_NUMBER_RE+"[i]",relevance:1},e.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function QE(e){let r=e.regex,t=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:r.concat(t,r.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function ZE(e){let r=e.regex,t={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},i=e.COMMENT();i.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];let n={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},o={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},a={begin:/\[/,end:/\]/,contains:[i,s,n,o,t,"self"],relevance:0},l=/[A-Za-z0-9_-]+/,u=/"(\\"|[^"])*"/,c=/'[^']*'/,p=r.either(l,u,c),d=r.concat(p,"(\\s*\\.\\s*",p,")*",r.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[i,{className:"section",begin:/\[+/,end:/\]+/},{begin:d,className:"attr",starts:{end:/$/,contains:[i,a,s,n,o,t]}}]}}var xs="[0-9](_*[0-9])*",Bl=`\\.(${xs})`,$l="[0-9a-fA-F](_*[0-9a-fA-F])*",e0={className:"number",variants:[{begin:`(\\b(${xs})((${Bl})|\\.)?|(${Bl}))[eE][+-]?(${xs})[fFdD]?\\b`},{begin:`\\b(${xs})((${Bl})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Bl})[fFdD]?\\b`},{begin:`\\b(${xs})[fFdD]\\b`},{begin:`\\b0[xX]((${$l})\\.?|(${$l})?\\.(${$l}))[pP][+-]?(${xs})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${$l})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function t0(e,r,t){return t===-1?"":e.replace(r,i=>t0(e,r,t-1))}function r0(e){let r=e.regex,t="[\xC0-\u02B8a-zA-Z_$][\xC0-\u02B8a-zA-Z_$0-9]*",i=t+t0("(?:<"+t+"~~~(?:\\s*,\\s*"+t+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},u={className:"meta",begin:"@"+t,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},c={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,t],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[r.concat(/(?!else)/,t),/\s+/,t,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,t],className:{1:"keyword",3:"title.class"},contains:[c,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+i+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e0,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},e0,u]}}var i0="[A-Za-z$_][0-9A-Za-z$_]*",T2=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],A2=["true","false","null","undefined","NaN","Infinity"],n0=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],s0=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],o0=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],P2=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],I2=[].concat(o0,n0,s0);function a0(e){let r=e.regex,t=(B,{after:H})=>{let A="</"+B[0].slice(1);return B.input.indexOf(A,H)!==-1},i=i0,n={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(B,H)=>{let A=B[0].length+B.index,_=B.input[A];if(_==="<"||_===","){H.ignoreMatch();return}_===">"&&(t(B,{after:A})||H.ignoreMatch());let L,z=B.input.substring(A);if(L=z.match(/^\s*=/)){H.ignoreMatch();return}if((L=z.match(/^\s+extends\s+/))&&L.index===0){H.ignoreMatch();return}}},a={$pattern:i0,keyword:T2,literal:A2,built_in:I2,"variable.language":P2},l="[0-9](_?[0-9])*",u=`\\.(${l})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",p={className:"number",variants:[{begin:`(\\b(${c})((${u})|\\.)?|(${u}))[eE][+-]?(${l})\\b`},{begin:`\\b(${c})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},h={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},f={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},g={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},m={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},b={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:i+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},C=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,f,g,m,{match:/\$\d+/},p];d.contains=C.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(C)});let D=[].concat(b,d.contains),x=D.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(D)}]),E={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:x},w={variants:[{match:[/class/,/\s+/,i,/\s+/,/extends/,/\s+/,r.concat(i,"(",r.concat(/\./,i),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,i],scope:{1:"keyword",3:"title.class"}}]},k={relevance:0,match:r.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...n0,...s0]}},M={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},R={variants:[{match:[/function/,/\s+/,i,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[E],illegal:/%/},N={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function K(B){return r.concat("(?!",B.join("|"),")")}let Z={match:r.concat(/\b/,K([...o0,"super","import"]),i,r.lookahead(/\(/)),className:"title.function",relevance:0},re={begin:r.concat(/\./,r.lookahead(r.concat(i,/(?![0-9A-Za-z$_(])/))),end:i,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},ee={match:[/get|set/,/\s+/,i,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},E]},Pe="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",I={match:[/const|var|let/,/\s+/,i,/\s*/,/=\s*/,/(async\s*)?/,r.lookahead(Pe)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[E]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:x,CLASS_REFERENCE:k},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),M,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,f,g,m,b,{match:/\$\d+/},p,k,{className:"attr",begin:i+r.lookahead(":"),relevance:0},I,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[b,e.REGEXP_MODE,{className:"function",begin:Pe,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:x}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:n.begin,end:n.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},R,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[E,e.inherit(e.TITLE_MODE,{begin:i,className:"title.function"})]},{match:/\.\.\./,relevance:0},re,{match:"\\$"+i,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[E]},Z,N,w,ee,{match:/\$[(.]/}]}}function l0(e){let r={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},t={match:/[{}[\],:]/,className:"punctuation",relevance:0},i=["true","false","null"],n={scope:"literal",beginKeywords:i.join(" ")};return{name:"JSON",keywords:{literal:i},contains:[r,t,e.QUOTE_STRING_MODE,n,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var Es="[0-9](_*[0-9])*",Ul=`\\.(${Es})`,jl="[0-9a-fA-F](_*[0-9a-fA-F])*",_2={className:"number",variants:[{begin:`(\\b(${Es})((${Ul})|\\.)?|(${Ul}))[eE][+-]?(${Es})[fFdD]?\\b`},{begin:`\\b(${Es})((${Ul})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Ul})[fFdD]?\\b`},{begin:`\\b(${Es})[fFdD]\\b`},{begin:`\\b0[xX]((${jl})\\.?|(${jl})?\\.(${jl}))[pP][+-]?(${Es})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${jl})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function u0(e){let r={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},t={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},i={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},n={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},o={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,n]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,s,n]}]};n.contains.push(o);let a={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(o,{className:"string"}),"self"]}]},u=_2,c=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),p={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},d=p;return d.variants[1].contains=[p],p.variants[1].contains=[d],{name:"Kotlin",aliases:["kt","kts"],keywords:r,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,c,t,i,a,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:r,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:r,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[p,e.C_LINE_COMMENT_MODE,c],relevance:0},e.C_LINE_COMMENT_MODE,c,a,l,o,e.C_NUMBER_MODE]},c]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},a,l]},o,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},u]}}var N2=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),F2=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],k2=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],c0=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],p0=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],O2=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse(),R2=c0.concat(p0);function d0(e){let r=N2(e),t=R2,i="and or not only",n="[\\w-]+",s="("+n+"|@\\{"+n+"\\})",o=[],a=[],l=function(C){return{className:"string",begin:"~?"+C+".*?"+C}},u=function(C,D,x){return{className:C,begin:D,relevance:x}},c={$pattern:/[a-z-]+/,keyword:i,attribute:k2.join(" ")},p={begin:"\\(",end:"\\)",contains:a,keywords:c,relevance:0};a.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,l("'"),l('"'),r.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},r.HEXCOLOR,p,u("variable","@@?"+n,10),u("variable","@\\{"+n+"\\}"),u("built_in","~?`[^`]*?`"),{className:"attribute",begin:n+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},r.IMPORTANT,{beginKeywords:"and not"},r.FUNCTION_DISPATCH);let d=a.concat({begin:/\{/,end:/\}/,contains:o}),h={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(a)},f={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},r.CSS_VARIABLE,{className:"attribute",begin:"\\b("+O2.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:a}}]},g={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:c,returnEnd:!0,contains:a,relevance:0}},m={className:"variable",variants:[{begin:"@"+n+"\\s*:",relevance:15},{begin:"@"+n}],starts:{end:"[;}]",returnEnd:!0,contains:d}},y={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,h,u("keyword","all\\b"),u("variable","@\\{"+n+"\\}"),{begin:"\\b("+F2.join("|")+")\\b",className:"selector-tag"},r.CSS_NUMBER_MODE,u("selector-tag",s,0),u("selector-id","#"+s),u("selector-class","\\."+s,0),u("selector-tag","&",0),r.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+c0.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+p0.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:d},{begin:"!important"},r.FUNCTION_DISPATCH]},b={begin:n+`:(:)?(${t.join("|")})`,returnBegin:!0,contains:[y]};return o.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,g,m,b,f,y,h,r.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:o}}function f0(e){let r="\\[=*\\[",t="\\]=*\\]",i={begin:r,end:t,contains:["self"]},n=[e.COMMENT("--(?!"+r+")","$"),e.COMMENT("--"+r,t,{contains:[i],relevance:10})];return{name:"Lua",keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:n.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:n}].concat(n)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:r,end:t,contains:[i],relevance:5}])}}function h0(e){let r={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},t={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,r]},i={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[r]},n={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[r]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,r,t,i,n,s,o]}}function m0(e){let r=e.regex,t={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},i={begin:"^[-\\*]{3,}",end:"$"},n={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},a=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:r.concat(/\[.+?\]\(/,a,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},c={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},p=e.inherit(u,{contains:[]}),d=e.inherit(c,{contains:[]});u.contains.push(d),c.contains.push(p);let h=[t,l];return[u,c,p,d].forEach(m=>{m.contains=m.contains.concat(h)}),h=h.concat(u,c),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:h},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:h}]}]},t,s,u,c,{className:"quote",begin:"^>\\s+",contains:h,end:"$"},n,i,l,o]}}function g0(e){let r={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},t=/[a-zA-Z@][a-zA-Z0-9_]*/,a={"variable.language":["this","super"],$pattern:t,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},l={$pattern:t,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:a,illegal:"</",contains:[r,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+l.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:l,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function y0(e){let r=e.regex,t=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],i=/[dualxmsipngr]{0,12}/,n={$pattern:/[\w.]+/,keyword:t.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:n},o={begin:/->\{/,end:/\}/},a={variants:[{begin:/\$\d/},{begin:r.concat(/[$%@](\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@][^\s\w{]/,relevance:0}]},l=[e.BACKSLASH_ESCAPE,s,a],u=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],c=(h,f,g="\\1")=>{let m=g==="\\1"?g:r.concat(g,f);return r.concat(r.concat("(?:",h,")"),f,/(?:\\.|[^\\\/])*?/,m,/(?:\\.|[^\\\/])*?/,g,i)},p=(h,f,g)=>r.concat(r.concat("(?:",h,")"),f,/(?:\\.|[^\\\/])*?/,g,i),d=[a,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:l,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:c("s|tr|y",r.either(...u,{capture:!0}))},{begin:c("s|tr|y","\\(","\\)")},{begin:c("s|tr|y","\\[","\\]")},{begin:c("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:p("(?:m|qr)?",/\//,/\//)},{begin:p("m|qr",r.either(...u,{capture:!0}),/\1/)},{begin:p("m|qr",/\(/,/\)/)},{begin:p("m|qr",/\[/,/\]/)},{begin:p("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=d,o.contains=d,{name:"Perl",aliases:["pl","pm"],keywords:n,contains:d}}function b0(e){let r=e.regex,t=/(?![A-Za-z0-9])(?![$])/,i=r.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,t),n=r.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,t),s={scope:"variable",match:"\\$+"+i},o={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},a={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},l=e.inherit(e.APOS_STRING_MODE,{illegal:null}),u=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(a)}),c={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(a),"on:begin":(Z,re)=>{re.data._beginMatch=Z[1]||Z[2]},"on:end":(Z,re)=>{re.data._beginMatch!==Z[1]&&re.ignoreMatch()}},p=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),d=`[ 	
]`,h={scope:"string",variants:[u,l,c,p]},f={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},g=["false","null","true"],m=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],y=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],C={keyword:m,literal:(Z=>{let re=[];return Z.forEach(ee=>{re.push(ee),ee.toLowerCase()===ee?re.push(ee.toUpperCase()):re.push(ee.toLowerCase())}),re})(g),built_in:y},D=Z=>Z.map(re=>re.replace(/\|\d+$/,"")),x={variants:[{match:[/new/,r.concat(d,"+"),r.concat("(?!",D(y).join("\\b|"),"\\b)"),n],scope:{1:"keyword",4:"title.class"}}]},E=r.concat(i,"\\b(?!\\()"),w={variants:[{match:[r.concat(/::/,r.lookahead(/(?!class\b)/)),E],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[n,r.concat(/::/,r.lookahead(/(?!class\b)/)),E],scope:{1:"title.class",3:"variable.constant"}},{match:[n,r.concat("::",r.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[n,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},k={scope:"attr",match:r.concat(i,r.lookahead(":"),r.lookahead(/(?!::)/))},M={relevance:0,begin:/\(/,end:/\)/,keywords:C,contains:[k,s,w,e.C_BLOCK_COMMENT_MODE,h,f,x]},R={relevance:0,match:[/\b/,r.concat("(?!fn\\b|function\\b|",D(m).join("\\b|"),"|",D(y).join("\\b|"),"\\b)"),i,r.concat(d,"*"),r.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[M]};M.contains.push(R);let N=[k,w,e.C_BLOCK_COMMENT_MODE,h,f,x],K={begin:r.concat(/#\[\s*/,n),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:g,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:g,keyword:["new","array"]},contains:["self",...N]},...N,{scope:"meta",match:n}]};return{case_insensitive:!1,keywords:C,contains:[K,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},o,{scope:"variable.language",match:/\$this\b/},s,R,w,{match:[/const/,/\s/,i],scope:{1:"keyword",3:"variable.constant"}},x,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:C,contains:["self",s,w,e.C_BLOCK_COMMENT_MODE,h,f]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},h,f]}}function D0(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function x0(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function E0(e){let r=e.regex,t=/[\p{XID_Start}_]\p{XID_Continue}*/u,i=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],a={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:i,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:a,illegal:/#/},c={begin:/\{\{/,relevance:0},p={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l,c,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l,c,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,c,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,c,u]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},d="[0-9](_?[0-9])*",h=`(\\b(${d}))?\\.(${d})|\\b(${d})\\.`,f=`\\b|${i.join("|")}`,g={className:"number",relevance:0,variants:[{begin:`(\\b(${d})|(${h}))[eE][+-]?(${d})[jJ]?(?=${f})`},{begin:`(${h})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${f})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${f})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${f})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${f})`},{begin:`\\b(${d})[jJ](?=${f})`}]},m={className:"comment",begin:r.lookahead(/# type:/),end:/$/,keywords:a,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},y={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:["self",l,g,p,e.HASH_COMMENT_MODE]}]};return u.contains=[p,g,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:a,illegal:/(<\/|\?)|=>/,contains:[l,g,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},p,m,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,t],scope:{1:"keyword",3:"title.function"},contains:[y]},{variants:[{match:[/\bclass/,/\s+/,t,/\s*/,/\(\s*/,t,/\s*\)/]},{match:[/\bclass/,/\s+/,t]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[g,y,p]}]}}function C0(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function S0(e){let r=e.regex,t=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,i=r.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),n=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=r.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:t,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:r.lookahead(r.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:t},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[n,i]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,i]},{scope:{1:"punctuation",2:"number"},match:[s,i]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,i]}]},{scope:{3:"operator"},match:[t,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:n},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function v0(e){let r=e.regex,t="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",i=r.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),n=r.concat(i,/(::\w+)*/),o={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},a={className:"doctag",begin:"@[A-Za-z]+"},l={begin:"#<",end:">"},u=[e.COMMENT("#","$",{contains:[a]}),e.COMMENT("^=begin","^=end",{contains:[a],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],c={className:"subst",begin:/#\{/,end:/\}/,keywords:o},p={className:"string",contains:[e.BACKSLASH_ESCAPE,c],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:r.concat(/<<[-~]?'?/,r.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,c]})]}]},d="[1-9](_?[0-9])*|0",h="[0-9](_?[0-9])*",f={className:"number",relevance:0,variants:[{begin:`\\b(${d})(\\.(${h}))?([eE][+-]?(${h})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},g={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:o}]},E=[p,{variants:[{match:[/class\s+/,n,/\s+<\s+/,n]},{match:[/\b(class|module)\s+/,n]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:o},{match:[/(include|extend)\s+/,n],scope:{2:"title.class"},keywords:o},{relevance:0,match:[n,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:i,scope:"title.class"},{match:[/def/,/\s+/,t],scope:{1:"keyword",3:"title.function"},contains:[g]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[p,{begin:t}],relevance:0},f,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:o},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,c],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(l,u),relevance:0}].concat(l,u);c.contains=E,g.contains=E;let R=[{begin:/^\s*=>/,starts:{end:"$",contains:E}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:o,contains:E}}];return u.unshift(l),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:o,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(R).concat(u).concat(E)}}function w0(e){let r=e.regex,t={className:"title.function.invoke",relevance:0,begin:r.concat(/\b/,/(?!let|for|while|if|else|match\b)/,e.IDENT_RE,r.lookahead(/\s*\(/))},i="([ui](8|16|32|64|128|size)|f(32|64))?",n=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","unsafe","unsized","use","virtual","where","while","yield"],s=["true","false","Some","None","Ok","Err"],o=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],a=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:a,keyword:n,literal:s,built_in:o},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{begin:"\\b0b([01_]+)"+i},{begin:"\\b0o([0-7_]+)"+i},{begin:"\\b0x([A-Fa-f0-9_]+)"+i},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+i}],relevance:0},{begin:[/fn/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,e.UNDERSCORE_IDENT_RE,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:o,type:a}},{className:"punctuation",begin:"->"},t]}}var L2=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),M2=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],B2=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],$2=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],U2=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],j2=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function T0(e){let r=L2(e),t=U2,i=$2,n="@[a-z-]+",s="and or not only",a={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,r.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},r.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+M2.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+i.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+t.join("|")+")"},a,{begin:/\(/,end:/\)/,contains:[r.CSS_NUMBER_MODE]},r.CSS_VARIABLE,{className:"attribute",begin:"\\b("+j2.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[r.BLOCK_COMMENT,a,r.HEXCOLOR,r.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,r.IMPORTANT,r.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:n,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:B2.join(" ")},contains:[{begin:n,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},a,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,r.HEXCOLOR,r.CSS_NUMBER_MODE]},r.FUNCTION_DISPATCH]}}function A0(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function P0(e){let r=e.regex,t=e.COMMENT("--","$"),i={className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},n={begin:/"/,end:/"/,contains:[{begin:/""/}]},s=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],a=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],c=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],p=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],d=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],h=c,f=[...u,...l].filter(C=>!c.includes(C)),g={className:"variable",begin:/@[a-z0-9][a-z0-9_]*/},m={className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},y={begin:r.concat(/\b/,r.either(...h),/\s*\(/),relevance:0,keywords:{built_in:h}};function b(C,{exceptions:D,when:x}={}){let E=x;return D=D||[],C.map(w=>w.match(/\|\d+$/)||D.includes(w)?w:E(w)?`${w}|0`:w)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:b(f,{when:C=>C.length<3}),literal:s,type:a,built_in:p},contains:[{begin:r.either(...d),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:f.concat(d),literal:s,type:a}},{className:"type",begin:r.either(...o)},y,g,i,n,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,t,m]}}function F0(e){return e?typeof e=="string"?e:e.source:null}function ql(e){return Me("(?=",e,")")}function Me(...e){return e.map(t=>F0(t)).join("")}function q2(e){let r=e[e.length-1];return typeof r=="object"&&r.constructor===Object?(e.splice(e.length-1,1),r):{}}function Qt(...e){return"("+(q2(e).capture?"":"?:")+e.map(i=>F0(i)).join("|")+")"}var Vd=e=>Me(/\b/,e,/\w$/.test(e)?/\b/:/\B/),K2=["Protocol","Type"].map(Vd),I0=["init","self"].map(Vd),V2=["Any","Self"],jd=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],_0=["false","nil","true"],z2=["assignment","associativity","higherThan","left","lowerThan","none","right"],W2=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],N0=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],k0=Qt(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),O0=Qt(k0,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),qd=Me(k0,O0,"*"),R0=Qt(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),Kl=Qt(R0,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Bi=Me(R0,Kl,"*"),Kd=Me(/[A-Z]/,Kl,"*"),G2=["attached","autoclosure",Me(/convention\(/,Qt("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Me(/objc\(/,Bi,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],H2=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function L0(e){let r={match:/\s+/,relevance:0},t=e.COMMENT("/\\*","\\*/",{contains:["self"]}),i=[e.C_LINE_COMMENT_MODE,t],n={match:[/\./,Qt(...K2,...I0)],className:{2:"keyword"}},s={match:Me(/\./,Qt(...jd)),relevance:0},o=jd.filter(Ie=>typeof Ie=="string").concat(["_|0"]),a=jd.filter(Ie=>typeof Ie!="string").concat(V2).map(Vd),l={variants:[{className:"keyword",match:Qt(...a,...I0)}]},u={$pattern:Qt(/\b\w+/,/#\w+/),keyword:o.concat(W2),literal:_0},c=[n,s,l],p={match:Me(/\./,Qt(...N0)),relevance:0},d={className:"built_in",match:Me(/\b/,Qt(...N0),/(?=\()/)},h=[p,d],f={match:/->/,relevance:0},g={className:"operator",relevance:0,variants:[{match:qd},{match:`\\.(\\.|${O0})+`}]},m=[f,g],y="([0-9]_*)+",b="([0-9a-fA-F]_*)+",C={className:"number",relevance:0,variants:[{match:`\\b(${y})(\\.(${y}))?([eE][+-]?(${y}))?\\b`},{match:`\\b0x(${b})(\\.(${b}))?([pP][+-]?(${y}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},D=(Ie="")=>({className:"subst",variants:[{match:Me(/\\/,Ie,/[0\\tnr"']/)},{match:Me(/\\/,Ie,/u\{[0-9a-fA-F]{1,8}\}/)}]}),x=(Ie="")=>({className:"subst",match:Me(/\\/,Ie,/[\t ]*(?:[\r\n]|\r\n)/)}),E=(Ie="")=>({className:"subst",label:"interpol",begin:Me(/\\/,Ie,/\(/),end:/\)/}),w=(Ie="")=>({begin:Me(Ie,/"""/),end:Me(/"""/,Ie),contains:[D(Ie),x(Ie),E(Ie)]}),k=(Ie="")=>({begin:Me(Ie,/"/),end:Me(/"/,Ie),contains:[D(Ie),E(Ie)]}),M={className:"string",variants:[w(),w("#"),w("##"),w("###"),k(),k("#"),k("##"),k("###")]},R=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],N={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:R},K=Ie=>{let Ei=Me(Ie,/\//),Zi=Me(/\//,Ie);return{begin:Ei,end:Zi,contains:[...R,{scope:"comment",begin:`#(?!.*${Zi})`,end:/$/}]}},Z={scope:"regexp",variants:[K("###"),K("##"),K("#"),N]},re={match:Me(/`/,Bi,/`/)},ee={className:"variable",match:/\$\d+/},Pe={className:"variable",match:`\\$${Kl}+`},I=[re,ee,Pe],B={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:H2,contains:[...m,C,M]}]}},H={scope:"keyword",match:Me(/@/,Qt(...G2))},A={scope:"meta",match:Me(/@/,Bi)},_=[B,H,A],L={match:ql(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Me(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,Kl,"+")},{className:"type",match:Kd,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Me(/\s+&\s+/,ql(Kd)),relevance:0}]},z={begin:/</,end:/>/,keywords:u,contains:[...i,...c,..._,f,L]};L.contains.push(z);let pe={match:Me(Bi,/\s*:/),keywords:"_|0",relevance:0},te={begin:/\(/,end:/\)/,relevance:0,keywords:u,contains:["self",pe,...i,Z,...c,...h,...m,C,M,...I,..._,L]},ae={begin:/</,end:/>/,keywords:"repeat each",contains:[...i,L]},ct={begin:Qt(ql(Me(Bi,/\s*:/)),ql(Me(Bi,/\s+/,Bi,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Bi}]},gt={begin:/\(/,end:/\)/,keywords:u,contains:[ct,...i,...c,...m,C,M,..._,L,te],endsParent:!0,illegal:/["']/},Di={match:[/(func|macro)/,/\s+/,Qt(re.match,Bi,qd)],className:{1:"keyword",3:"title.function"},contains:[ae,gt,r],illegal:[/\[/,/%/]},lo={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[ae,gt,r],illegal:/\[|%/},xi={match:[/operator/,/\s+/,qd],className:{1:"keyword",3:"title"}},uo={begin:[/precedencegroup/,/\s+/,Kd],className:{1:"keyword",3:"title"},contains:[L],keywords:[...z2,..._0],end:/}/};for(let Ie of M.variants){let Ei=Ie.contains.find(dr=>dr.label==="interpol");Ei.keywords=u;let Zi=[...c,...h,...m,C,M,...I];Ei.contains=[...Zi,{begin:/\(/,end:/\)/,contains:["self",...Zi]}]}return{name:"Swift",keywords:u,contains:[...i,Di,lo,{beginKeywords:"struct protocol class extension enum actor",end:"\\{",excludeEnd:!0,keywords:u,contains:[e.inherit(e.TITLE_MODE,{className:"title.class",begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/}),...c]},xi,uo,{beginKeywords:"import",end:/$/,contains:[...i],relevance:0},Z,...c,...h,...m,C,M,...I,..._,L,te]}}var Vl="[A-Za-z$_][0-9A-Za-z$_]*",M0=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],B0=["true","false","null","undefined","NaN","Infinity"],$0=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],U0=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],j0=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],q0=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],K0=[].concat(j0,$0,U0);function J2(e){let r=e.regex,t=(B,{after:H})=>{let A="</"+B[0].slice(1);return B.input.indexOf(A,H)!==-1},i=Vl,n={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(B,H)=>{let A=B[0].length+B.index,_=B.input[A];if(_==="<"||_===","){H.ignoreMatch();return}_===">"&&(t(B,{after:A})||H.ignoreMatch());let L,z=B.input.substring(A);if(L=z.match(/^\s*=/)){H.ignoreMatch();return}if((L=z.match(/^\s+extends\s+/))&&L.index===0){H.ignoreMatch();return}}},a={$pattern:Vl,keyword:M0,literal:B0,built_in:K0,"variable.language":q0},l="[0-9](_?[0-9])*",u=`\\.(${l})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",p={className:"number",variants:[{begin:`(\\b(${c})((${u})|\\.)?|(${u}))[eE][+-]?(${l})\\b`},{begin:`\\b(${c})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},h={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},f={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},g={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},m={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},b={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:i+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},C=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,f,g,m,{match:/\$\d+/},p];d.contains=C.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(C)});let D=[].concat(b,d.contains),x=D.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(D)}]),E={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:x},w={variants:[{match:[/class/,/\s+/,i,/\s+/,/extends/,/\s+/,r.concat(i,"(",r.concat(/\./,i),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,i],scope:{1:"keyword",3:"title.class"}}]},k={relevance:0,match:r.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...$0,...U0]}},M={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},R={variants:[{match:[/function/,/\s+/,i,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[E],illegal:/%/},N={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function K(B){return r.concat("(?!",B.join("|"),")")}let Z={match:r.concat(/\b/,K([...j0,"super","import"]),i,r.lookahead(/\(/)),className:"title.function",relevance:0},re={begin:r.concat(/\./,r.lookahead(r.concat(i,/(?![0-9A-Za-z$_(])/))),end:i,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},ee={match:[/get|set/,/\s+/,i,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},E]},Pe="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",I={match:[/const|var|let/,/\s+/,i,/\s*/,/=\s*/,/(async\s*)?/,r.lookahead(Pe)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[E]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:x,CLASS_REFERENCE:k},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),M,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,f,g,m,b,{match:/\$\d+/},p,k,{className:"attr",begin:i+r.lookahead(":"),relevance:0},I,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[b,e.REGEXP_MODE,{className:"function",begin:Pe,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:x}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:n.begin,end:n.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},R,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[E,e.inherit(e.TITLE_MODE,{begin:i,className:"title.function"})]},{match:/\.\.\./,relevance:0},re,{match:"\\$"+i,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[E]},Z,N,w,ee,{match:/\$[(.]/}]}}function V0(e){let r=J2(e),t=Vl,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],n={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[r.exports.CLASS_REFERENCE]},s={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[r.exports.CLASS_REFERENCE]},o={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},a=["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"],l={$pattern:Vl,keyword:M0.concat(a),literal:B0,built_in:K0.concat(i),"variable.language":q0},u={className:"meta",begin:"@"+t},c=(d,h,f)=>{let g=d.contains.findIndex(m=>m.label===h);if(g===-1)throw new Error("can not find mode to replace");d.contains.splice(g,1,f)};Object.assign(r.keywords,l),r.exports.PARAMS_CONTAINS.push(u),r.contains=r.contains.concat([u,n,s]),c(r,"shebang",e.SHEBANG()),c(r,"use_strict",o);let p=r.contains.find(d=>d.label==="func.def");return p.relevance=0,Object.assign(r,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),r}function z0(e){let r=e.regex,t={className:"string",begin:/"(""|[^/n])"C\b/},i={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},n=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,o=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,a=/\d{1,2}(:\d{1,2}){1,2}/,l={className:"literal",variants:[{begin:r.concat(/# */,r.either(s,n),/ *#/)},{begin:r.concat(/# */,a,/ *#/)},{begin:r.concat(/# */,o,/ *#/)},{begin:r.concat(/# */,r.either(s,n),/ +/,r.either(o,a),/ *#/)}]},u={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},c={className:"label",begin:/^\w+:/},p=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),d=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[t,i,l,u,c,p,d,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[d]}]}}function W0(e){e.regex;let r=e.COMMENT(/\(;/,/;\)/);r.contains.push("self");let t=e.COMMENT(/;;/,/$/),i=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],n={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},o={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},a={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},l={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},u={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:i},contains:[t,r,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,o,n,e.QUOTE_STRING_MODE,l,u,a]}}function G0(e){let r=e.regex,t=r.concat(/[\p{L}_]/u,r.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),i=/[\p{L}0-9._:-]+/u,n={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(s,{begin:/\(/,end:/\)/}),a=e.inherit(e.APOS_STRING_MODE,{className:"string"}),l=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:i,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[n]},{begin:/'/,end:/'/,contains:[n]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,l,a,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,o,l,a]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},n,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:r.concat(/</,r.lookahead(r.concat(t,r.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:t,relevance:0,starts:u}]},{className:"tag",begin:r.concat(/<\//,r.lookahead(r.concat(t,/>/))),contains:[{className:"name",begin:t,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function H0(e){let r="true false yes no null",t="[\\w#;/?:@&=+$,.~*'()[\\]]+",i={className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ 	]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ 	]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ 	]|$)"}]},n={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,n]},o=e.inherit(s,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),p={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},d={end:",",endsWithParent:!0,excludeEnd:!0,keywords:r,relevance:0},h={begin:/\{/,end:/\}/,contains:[d],illegal:"\\n",relevance:0},f={begin:"\\[",end:"\\]",contains:[d],illegal:"\\n",relevance:0},g=[i,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+t},{className:"type",begin:"!<"+t+">"},{className:"type",begin:"!"+t},{className:"type",begin:"!!"+t},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:r,keywords:{literal:r}},p,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},h,f,s],m=[...g];return m.pop(),m.push(o),d.contains=m,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:g}}var hn={arduino:VE,bash:zE,c:WE,cpp:GE,csharp:HE,css:JE,diff:YE,go:XE,graphql:QE,ini:ZE,java:r0,javascript:a0,json:l0,kotlin:u0,less:d0,lua:f0,makefile:h0,markdown:m0,objectivec:g0,perl:y0,php:b0,"php-template":D0,plaintext:x0,python:E0,"python-repl":C0,r:S0,ruby:v0,rust:w0,scss:T0,shell:A0,sql:P0,swift:L0,typescript:V0,vbnet:z0,wasm:W0,xml:G0,yaml:H0};var mC=V(hC(),1);var gC=mC.default;var yC={},$O="hljs-";function ef(e){let r=gC.newInstance();return e&&s(e),{highlight:t,highlightAuto:i,listLanguages:n,register:s,registerAlias:o,registered:a};function t(l,u,c){let p=c||yC,d=typeof p.prefix=="string"?p.prefix:$O;if(!r.getLanguage(l))throw new Error("Unknown language: `"+l+"` is not registered");r.configure({__emitter:Zd,classPrefix:d});let h=r.highlight(u,{ignoreIllegals:!0,language:l});if(h.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:h.errorRaised});let f=h._emitter.root,g=f.data;return g.language=h.language,g.relevance=h.relevance,f}function i(l,u){let p=(u||yC).subset||n(),d=-1,h=0,f;for(;++d<p.length;){let g=p[d];if(!r.getLanguage(g))continue;let m=t(g,l,u);m.data&&m.data.relevance!==void 0&&m.data.relevance>h&&(h=m.data.relevance,f=m)}return f||{type:"root",children:[],data:{language:void 0,relevance:h}}}function n(){return r.listLanguages()}function s(l,u){if(typeof l=="string")r.registerLanguage(l,u);else{let c;for(c in l)Object.hasOwn(l,c)&&r.registerLanguage(c,l[c])}}function o(l,u){if(typeof l=="string")r.registerAliases(typeof u=="string"?u:[...u],{languageName:l});else{let c;for(c in l)if(Object.hasOwn(l,c)){let p=l[c];r.registerAliases(typeof p=="string"?p:[...p],{languageName:c})}}}function a(l){return!!r.getLanguage(l)}}var Zd=class{constructor(r){this.options=r,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(r){if(r==="")return;let t=this.stack[this.stack.length-1],i=t.children[t.children.length-1];i&&i.type==="text"?i.value+=r:t.children.push({type:"text",value:r})}startScope(r){this.openNode(String(r))}endScope(){this.closeNode()}__addSublanguage(r,t){let i=this.stack[this.stack.length-1],n=r.root.children;t?i.children.push({type:"element",tagName:"span",properties:{className:[t]},children:n}):i.children.push(...n)}openNode(r){let t=this,i=r.split(".").map(function(o,a){return a?o+"_".repeat(a):t.options.classPrefix+o}),n=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:i},children:[]};n.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}};var bC=(e=0)=>r=>`\x1B[${r+e}m`,DC=(e=0)=>r=>`\x1B[${38+e};5;${r}m`,xC=(e=0)=>(r,t,i)=>`\x1B[${38+e};2;${r};${t};${i}m`,Ye={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},fz=Object.keys(Ye.modifier),UO=Object.keys(Ye.color),jO=Object.keys(Ye.bgColor),hz=[...UO,...jO];function qO(){let e=new Map;for(let[r,t]of Object.entries(Ye)){for(let[i,n]of Object.entries(t))Ye[i]={open:`\x1B[${n[0]}m`,close:`\x1B[${n[1]}m`},t[i]=Ye[i],e.set(n[0],n[1]);Object.defineProperty(Ye,r,{value:t,enumerable:!1})}return Object.defineProperty(Ye,"codes",{value:e,enumerable:!1}),Ye.color.close="\x1B[39m",Ye.bgColor.close="\x1B[49m",Ye.color.ansi=bC(),Ye.color.ansi256=DC(),Ye.color.ansi16m=xC(),Ye.bgColor.ansi=bC(10),Ye.bgColor.ansi256=DC(10),Ye.bgColor.ansi16m=xC(10),Object.defineProperties(Ye,{rgbToAnsi256:{value(r,t,i){return r===t&&t===i?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(t/255*5)+Math.round(i/255*5)},enumerable:!1},hexToRgb:{value(r){let t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(r.toString(16));if(!t)return[0,0,0];let[i]=t;i.length===3&&(i=[...i].map(s=>s+s).join(""));let n=Number.parseInt(i,16);return[n>>16&255,n>>8&255,n&255]},enumerable:!1},hexToAnsi256:{value:r=>Ye.rgbToAnsi256(...Ye.hexToRgb(r)),enumerable:!1},ansi256ToAnsi:{value(r){if(r<8)return 30+r;if(r<16)return 90+(r-8);let t,i,n;if(r>=232)t=((r-232)*10+8)/255,i=t,n=t;else{r-=16;let a=r%36;t=Math.floor(r/36)/5,i=Math.floor(a/6)/5,n=a%6/5}let s=Math.max(t,i,n)*2;if(s===0)return 30;let o=30+(Math.round(n)<<2|Math.round(i)<<1|Math.round(t));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(r,t,i)=>Ye.ansi256ToAnsi(Ye.rgbToAnsi256(r,t,i)),enumerable:!1},hexToAnsi:{value:r=>Ye.ansi256ToAnsi(Ye.hexToAnsi256(r)),enumerable:!1}}),Ye}var KO=qO(),kr=KO;var Yl=V(require("node:process"),1),CC=V(require("node:os"),1),tf=V(require("node:tty"),1);function br(e,r=globalThis.Deno?globalThis.Deno.args:Yl.default.argv){let t=e.startsWith("-")?"":e.length===1?"-":"--",i=r.indexOf(t+e),n=r.indexOf("--");return i!==-1&&(n===-1||i<n)}var{env:et}=Yl.default,Jl;br("no-color")||br("no-colors")||br("color=false")||br("color=never")?Jl=0:(br("color")||br("colors")||br("color=true")||br("color=always"))&&(Jl=1);function VO(){if("FORCE_COLOR"in et)return et.FORCE_COLOR==="true"?1:et.FORCE_COLOR==="false"?0:et.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(et.FORCE_COLOR,10),3)}function zO(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function WO(e,{streamIsTTY:r,sniffFlags:t=!0}={}){let i=VO();i!==void 0&&(Jl=i);let n=t?Jl:i;if(n===0)return 0;if(t){if(br("color=16m")||br("color=full")||br("color=truecolor"))return 3;if(br("color=256"))return 2}if("TF_BUILD"in et&&"AGENT_NAME"in et)return 1;if(e&&!r&&n===void 0)return 0;let s=n||0;if(et.TERM==="dumb")return s;if(Yl.default.platform==="win32"){let o=CC.default.release().split(".");return Number(o[0])>=10&&Number(o[2])>=10586?Number(o[2])>=14931?3:2:1}if("CI"in et)return"GITHUB_ACTIONS"in et||"GITEA_ACTIONS"in et?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(o=>o in et)||et.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in et)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(et.TEAMCITY_VERSION)?1:0;if(et.COLORTERM==="truecolor"||et.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in et){let o=Number.parseInt((et.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(et.TERM_PROGRAM){case"iTerm.app":return o>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(et.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(et.TERM)||"COLORTERM"in et?1:s}function EC(e,r={}){let t=WO(e,{streamIsTTY:e&&e.isTTY,...r});return zO(t)}var GO={stdout:EC({isTTY:tf.default.isatty(1)}),stderr:EC({isTTY:tf.default.isatty(2)})},SC=GO;function vC(e,r,t){let i=e.indexOf(r);if(i===-1)return e;let n=r.length,s=0,o="";do o+=e.slice(s,i)+r+t,s=i+n,i=e.indexOf(r,s);while(i!==-1);return o+=e.slice(s),o}function wC(e,r,t,i){let n=0,s="";do{let o=e[i-1]==="\r";s+=e.slice(n,o?i-1:i)+r+(o?`\r
`:`
`)+t,n=i+1,i=e.indexOf(`
`,n)}while(i!==-1);return s+=e.slice(n),s}var{stdout:TC,stderr:AC}=SC,rf=Symbol("GENERATOR"),vs=Symbol("STYLER"),Vo=Symbol("IS_EMPTY"),PC=["ansi","ansi","ansi256","ansi16m"],ws=Object.create(null),HO=(e,r={})=>{if(r.level&&!(Number.isInteger(r.level)&&r.level>=0&&r.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let t=TC?TC.level:0;e.level=r.level===void 0?t:r.level},Xl=class{constructor(r){return IC(r)}},IC=e=>{let r=(...t)=>t.join(" ");return HO(r,e),Object.setPrototypeOf(r,zo.prototype),r};function zo(e){return IC(e)}Object.setPrototypeOf(zo.prototype,Function.prototype);for(let[e,r]of Object.entries(kr))ws[e]={get(){let t=Ql(this,sf(r.open,r.close,this[vs]),this[Vo]);return Object.defineProperty(this,e,{value:t}),t}};ws.visible={get(){let e=Ql(this,this[vs],!0);return Object.defineProperty(this,"visible",{value:e}),e}};var nf=(e,r,t,...i)=>e==="rgb"?r==="ansi16m"?kr[t].ansi16m(...i):r==="ansi256"?kr[t].ansi256(kr.rgbToAnsi256(...i)):kr[t].ansi(kr.rgbToAnsi(...i)):e==="hex"?nf("rgb",r,t,...kr.hexToRgb(...i)):kr[t][e](...i),JO=["rgb","hex","ansi256"];for(let e of JO){ws[e]={get(){let{level:t}=this;return function(...i){let n=sf(nf(e,PC[t],"color",...i),kr.color.close,this[vs]);return Ql(this,n,this[Vo])}}};let r="bg"+e[0].toUpperCase()+e.slice(1);ws[r]={get(){let{level:t}=this;return function(...i){let n=sf(nf(e,PC[t],"bgColor",...i),kr.bgColor.close,this[vs]);return Ql(this,n,this[Vo])}}}}var YO=Object.defineProperties(()=>{},{...ws,level:{enumerable:!0,get(){return this[rf].level},set(e){this[rf].level=e}}}),sf=(e,r,t)=>{let i,n;return t===void 0?(i=e,n=r):(i=t.openAll+e,n=r+t.closeAll),{open:e,close:r,openAll:i,closeAll:n,parent:t}},Ql=(e,r,t)=>{let i=(...n)=>XO(i,n.length===1?""+n[0]:n.join(" "));return Object.setPrototypeOf(i,YO),i[rf]=e,i[vs]=r,i[Vo]=t,i},XO=(e,r)=>{if(e.level<=0||!r)return e[Vo]?"":r;let t=e[vs];if(t===void 0)return r;let{openAll:i,closeAll:n}=t;if(r.includes("\x1B"))for(;t!==void 0;)r=vC(r,t.close,t.open),t=t.parent;let s=r.indexOf(`
`);return s!==-1&&(r=wC(r,n,i,s)),i+r+n};Object.defineProperties(zo.prototype,ws);var Ez=zo(),Cz=zo({level:AC?AC.level:0});var be=new Xl({level:2}),_C={comment:be.gray,quote:be.gray,keyword:be.green,"selector-tag":be.green,addition:be.green,number:be.cyan,string:be.cyan,"meta meta-string":be.cyan,literal:be.cyan,doctag:be.cyan,regexp:be.cyan,title:be.blue,section:be.blue,name:be.blue,"selector-id":be.blue,"selector-class":be.blue,attribute:be.yellow,attr:be.yellow,variable:be.yellow,"template-variable":be.yellow,"class title":be.yellow,type:be.yellow,symbol:be.magenta,bullet:be.magenta,subst:be.magenta,meta:be.magenta,"meta keyword":be.magenta,"selector-attr":be.magenta,"selector-pseudo":be.magenta,link:be.magenta,built_in:be.red,deletion:be.red,emphasis:be.italic,strong:be.bold,formula:be.inverse};function Kn(e){let r=ef(e);return{highlight:t,highlightAuto:i,listLanguages:r.listLanguages,register:r.register,registerAlias:r.registerAlias,registered:r.registered};function t(n,s,o){let a=r.highlight(n,s),l=a.data;return{language:l.language,relevance:l.relevance,value:of(o||_C,a)}}function i(n,s){let o,a;if(s&&("subset"in s||"sheet"in s)){let c=s;a={subset:c.subset},o=c.sheet}else o=s;let l=r.highlightAuto(n,a),u=l.data;return{language:u.language,relevance:u.relevance,value:of(o||_C,l)}}}function of(e,r){let t=new Set(r.type==="element"&&Array.isArray(r.properties.className)?r.properties.className.map(function(a){return String(a).replace(/^hljs-/,"")}):[]),i={},n,s="",o;for(o in e)if(Object.hasOwn(e,o)){let a=o.split(" "),l=e[o];t.has(a[0])?a.length===1?n=l:i[a.slice(1).join(" ")]=l:i[o]=l}return"value"in r?s=r.value:"children"in r&&(s=QO(i,r.children)),n&&(s=n(s)),s}function QO(e,r){let t=[],i=-1;for(;++i<r.length;)t.push(of(e,r[i]));return t.join("")}var Jh=V(require("readline"),1);var J=V(Gt(),1),hT=require("path");var $=V(Gt(),1);var mi=V(Cu(),1),Cn=V(require("@sentry/node"),1);var WS="1.3.9";var Ct=require("node:fs/promises"),Gw=require("node:crypto"),rt=require("node:fs"),ka=require("node:os"),Ae=V(require("node:path"),1),$h=V(require("prettier"),1),Hw=V(require("typescript"),1),Jw=V(require("launch-editor"),1);var Xs=require("node:child_process");var Bh={};vc(Bh,{MagicastError:()=>kt,builders:()=>l8,detectCodeFormat:()=>Vw,generateCode:()=>Mh,loadFile:()=>o8,parseExpression:()=>Ww,parseModule:()=>zw,writeFile:()=>a8});var Wu=require("node:fs");var ec=V(bv(),1),cw=V(Jv(),1);function pr(e){var r=e.use(it),t=r.Type,i=r.builtInTypes,n=i.number;function s(u){return t.from(c=>n.check(c)&&c>=u,n+" >= "+u)}let o={null:function(){return null},emptyArray:function(){return[]},false:function(){return!1},true:function(){return!0},undefined:function(){},"use strict":function(){return"use strict"}};var a=t.or(i.string,i.number,i.boolean,i.null,i.undefined);let l=t.from(u=>{if(u===null)return!0;var c=typeof u;return!(c==="object"||c==="function")},a.toString());return{geq:s,defaults:o,isPrimitive:l}}function Be(e){try{var r=e(),t=r.exports,i=t.default}catch{return}i&&i!==t&&typeof t=="object"&&(Object.assign(i,t,{default:i}),t.__esModule&&Object.defineProperty(i,"__esModule",{value:!0}),r.exports=i)}var kB=Object.defineProperty,OB=(e,r,t)=>r in e?kB(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,qt=(e,r,t)=>(OB(e,typeof r!="symbol"?r+"":r,t),t),pw=Object.prototype,Gu=pw.toString,Sr=pw.hasOwnProperty,Qn=class{assert(r,t){if(!this.check(r,t)){var i=Fh(r);throw new Error(i+" does not match type "+this)}return!0}arrayOf(){let r=this;return new Pa(r)}},Pa=class extends Qn{constructor(r){super(),this.elemType=r,qt(this,"kind","ArrayType")}toString(){return"["+this.elemType+"]"}check(r,t){return Array.isArray(r)&&r.every(i=>this.elemType.check(i,t))}},Hu=class extends Qn{constructor(r){super(),this.value=r,qt(this,"kind","IdentityType")}toString(){return String(this.value)}check(r,t){let i=r===this.value;return!i&&typeof t=="function"&&t(this,r),i}},Ju=class extends Qn{constructor(r){super(),this.fields=r,qt(this,"kind","ObjectType")}toString(){return"{ "+this.fields.join(", ")+" }"}check(r,t){return Gu.call(r)===Gu.call({})&&this.fields.every(i=>i.type.check(r[i.name],t))}},Yu=class extends Qn{constructor(r){super(),this.types=r,qt(this,"kind","OrType")}toString(){return this.types.join(" | ")}check(r,t){return this.types.some(i=>i.check(r,!!t))?!0:(typeof t=="function"&&t(this,r),!1)}},Xn=class extends Qn{constructor(r,t){super(),this.name=r,this.predicate=t,qt(this,"kind","PredicateType")}toString(){return this.name}check(r,t){let i=this.predicate(r,t);return!i&&typeof t=="function"&&t(this,r),i}},Ta=class e{constructor(r,t){this.type=r,this.typeName=t,qt(this,"baseNames",[]),qt(this,"ownFields",Object.create(null)),qt(this,"allSupertypes",Object.create(null)),qt(this,"supertypeList",[]),qt(this,"allFields",Object.create(null)),qt(this,"fieldNames",[]),qt(this,"finalized",!1),qt(this,"buildable",!1),qt(this,"buildParams",[])}isSupertypeOf(r){if(r instanceof e){if(this.finalized!==!0||r.finalized!==!0)throw new Error("");return Sr.call(r.allSupertypes,this.typeName)}else throw new Error(r+" is not a Def")}checkAllFields(r,t){var i=this.allFields;if(this.finalized!==!0)throw new Error(""+this.typeName);function n(s){var o=i[s],a=o.type,l=o.getValue(r);return a.check(l,t)}return r!==null&&typeof r=="object"&&Object.keys(i).every(n)}bases(...r){var t=this.baseNames;if(this.finalized){if(r.length!==t.length)throw new Error("");for(var i=0;i<r.length;i++)if(r[i]!==t[i])throw new Error("");return this}return r.forEach(n=>{t.indexOf(n)<0&&t.push(n)}),this}},Xu=class{constructor(r,t,i,n){this.name=r,this.type=t,this.defaultFn=i,qt(this,"hidden"),this.hidden=!!n}toString(){return JSON.stringify(this.name)+": "+this.type}getValue(r){var t=r[this.name];return typeof t<"u"||typeof this.defaultFn=="function"&&(t=this.defaultFn.call(r)),t}};function Fh(e){return Array.isArray(e)?"["+e.map(Fh).join(", ")+"]":e&&typeof e=="object"?"{ "+Object.keys(e).map(function(r){return r+": "+e[r]}).join(", ")+" }":JSON.stringify(e)}function it(e){let r={or(...A){return new Yu(A.map(_=>r.from(_)))},from(A,_){if(A instanceof Pa||A instanceof Hu||A instanceof Ju||A instanceof Yu||A instanceof Xn)return A;if(A instanceof Ta)return A.type;if(a.check(A)){if(A.length!==1)throw new Error("only one element type is permitted for typed arrays");return new Pa(r.from(A[0]))}if(l.check(A))return new Ju(Object.keys(A).map(z=>new Xu(z,r.from(A[z],z))));if(typeof A=="function"){var L=t.indexOf(A);if(L>=0)return i[L];if(typeof _!="string")throw new Error("missing name");return new Xn(_,A)}return new Hu(A)},def(A){return Sr.call(y,A)?y[A]:y[A]=new C(A)},hasDef(A){return Sr.call(y,A)}};var t=[],i=[];function n(A,_){let L=Gu.call(_),z=new Xn(A,pe=>Gu.call(pe)===L);return _&&typeof _.constructor=="function"&&(t.push(_.constructor),i.push(z)),z}let s=n("string","truthy"),o=n("function",function(){}),a=n("array",[]),l=n("object",{}),u=n("RegExp",/./),c=n("Date",new Date),p=n("number",3),d=n("boolean",!0),h=n("null",null),f=n("undefined",void 0),g=typeof BigInt=="function"?n("BigInt",BigInt(1234)):new Xn("BigInt",()=>!1),m={string:s,function:o,array:a,object:l,RegExp:u,Date:c,number:p,boolean:d,null:h,undefined:f,BigInt:g};var y=Object.create(null);function b(A){if(A&&typeof A=="object"){var _=A.type;if(typeof _=="string"&&Sr.call(y,_)){var L=y[_];if(L.finalized)return L}}return null}class C extends Ta{constructor(_){super(new Xn(_,(L,z)=>this.check(L,z)),_)}check(_,L){if(this.finalized!==!0)throw new Error("prematurely checking unfinalized type "+this.typeName);if(_===null||typeof _!="object")return!1;var z=b(_);return z?L&&z===this?this.checkAllFields(_,L):this.isSupertypeOf(z)?L?z.checkAllFields(_,L)&&this.checkAllFields(_,!1):!0:!1:this.typeName==="SourceLocation"||this.typeName==="Position"?this.checkAllFields(_,L):!1}build(..._){if(this.buildParams=_,this.buildable)return this;this.field("type",String,()=>this.typeName),this.buildable=!0;let L=(pe,te,ae,ct)=>{if(!Sr.call(pe,te)){var gt=this.allFields;if(!Sr.call(gt,te))throw new Error(""+te);var Di=gt[te],lo=Di.type,xi;if(ct)xi=ae;else if(Di.defaultFn)xi=Di.defaultFn.call(pe);else{var uo="no value or default function given for field "+JSON.stringify(te)+" of "+this.typeName+"("+this.buildParams.map(function(Ie){return gt[Ie]}).join(", ")+")";throw new Error(uo)}if(!lo.check(xi))throw new Error(Fh(xi)+" does not match field "+Di+" of type "+this.typeName);pe[te]=xi}},z=(...pe)=>{var te=pe.length;if(!this.finalized)throw new Error("attempting to instantiate unfinalized type "+this.typeName);var ae=Object.create(w);if(this.buildParams.forEach(function(ct,gt){gt<te?L(ae,ct,pe[gt],!0):L(ae,ct,null,!1)}),Object.keys(this.allFields).forEach(function(ct){L(ae,ct,null,!1)}),ae.type!==this.typeName)throw new Error("");return ae};return z.from=pe=>{if(!this.finalized)throw new Error("attempting to instantiate unfinalized type "+this.typeName);var te=Object.create(w);if(Object.keys(this.allFields).forEach(function(ae){Sr.call(pe,ae)?L(te,ae,pe[ae],!0):L(te,ae,null,!1)}),te.type!==this.typeName)throw new Error("");return te},Object.defineProperty(E,M(this.typeName),{enumerable:!0,value:z}),this}field(_,L,z,pe){return this.finalized?(console.error("Ignoring attempt to redefine field "+JSON.stringify(_)+" of finalized type "+JSON.stringify(this.typeName)),this):(this.ownFields[_]=new Xu(_,r.from(L),z,pe),this)}finalize(){if(!this.finalized){var _=this.allFields,L=this.allSupertypes;this.baseNames.forEach(pe=>{var te=y[pe];if(te instanceof Ta)te.finalize(),B(_,te.allFields),B(L,te.allSupertypes);else{var ae="unknown supertype name "+JSON.stringify(pe)+" for subtype "+JSON.stringify(this.typeName);throw new Error(ae)}}),B(_,this.ownFields),L[this.typeName]=this,this.fieldNames.length=0;for(var z in _)Sr.call(_,z)&&!_[z].hidden&&this.fieldNames.push(z);Object.defineProperty(N,this.typeName,{enumerable:!0,value:this.type}),this.finalized=!0,I(this.typeName,this.supertypeList),this.buildable&&this.supertypeList.lastIndexOf("Expression")>=0&&Pe(this.typeName)}}}function D(A){if(!Sr.call(y,A))throw new Error("");var _=y[A];if(_.finalized!==!0)throw new Error("");return _.supertypeList.slice(1)}function x(A){for(var _={},L=Object.keys(y),z=L.length,pe=0;pe<z;++pe){var te=L[pe],ae=y[te];if(ae.finalized!==!0)throw new Error(""+te);for(var ct=0;ct<ae.supertypeList.length;++ct){var gt=ae.supertypeList[ct];if(Sr.call(A,gt)){_[te]=gt;break}}}return _}var E=Object.create(null),w={};function k(A,_){var L=w[A];return f.check(_)?delete w[A]:(o.assert(_),Object.defineProperty(w,A,{enumerable:!0,configurable:!0,value:_})),L}function M(A){return A.replace(/^[A-Z]+/,function(_){var L=_.length;switch(L){case 0:return"";case 1:return _.toLowerCase();default:return _.slice(0,L-1).toLowerCase()+_.charAt(L-1)}})}function R(A){return A=M(A),A.replace(/(Expression)?$/,"Statement")}var N={};function K(A){var _=b(A);if(_)return _.fieldNames.slice(0);if("type"in A)throw new Error("did not recognize object of type "+JSON.stringify(A.type));return Object.keys(A)}function Z(A,_){var L=b(A);if(L){var z=L.allFields[_];if(z)return z.getValue(A)}return A&&A[_]}function re(A,_,L){K(A).forEach(function(z){_.call(this,z,Z(A,z))},L)}function ee(A,_,L){return K(A).some(function(z){return _.call(this,z,Z(A,z))},L)}function Pe(A){var _=R(A);if(E[_])return;var L=E[M(A)];if(!L)return;let z=function(...pe){return E.expressionStatement(L.apply(E,pe))};z.from=function(...pe){return E.expressionStatement(L.from.apply(E,pe))},E[_]=z}function I(A,_){_.length=0,_.push(A);for(var L=Object.create(null),z=0;z<_.length;++z){A=_[z];var pe=y[A];if(pe.finalized!==!0)throw new Error("");Sr.call(L,A)&&delete _[L[A]],L[A]=z,_.push.apply(_,pe.baseNames)}for(var te=0,ae=te,ct=_.length;ae<ct;++ae)Sr.call(_,ae)&&(_[te++]=_[ae]);_.length=te}function B(A,_){return Object.keys(_).forEach(function(L){A[L]=_[L]}),A}function H(){Object.keys(y).forEach(function(A){y[A].finalize()})}return{Type:r,builtInTypes:m,getSupertypeNames:D,computeSupertypeLookupTable:x,builders:E,defineMethod:k,getBuilderName:M,getStatementBuilderName:R,namedTypes:N,getFieldNames:K,getFieldValue:Z,eachField:re,someField:ee,finalize:H}}Be(()=>module);var RB=Object.prototype,Mu=RB.hasOwnProperty;function dw(e){var r=e.use(it),t=r.builtInTypes.array,i=r.builtInTypes.number;let n=function p(d,h,f){if(!(this instanceof p))throw new Error("Path constructor cannot be invoked without 'new'");if(h){if(!(h instanceof p))throw new Error("")}else h=null,f=null;this.value=d,this.parentPath=h,this.name=f,this.__childCache=null};var s=n.prototype;function o(p){return p.__childCache||(p.__childCache=Object.create(null))}function a(p,d){var h=o(p),f=p.getValueProperty(d),g=h[d];return(!Mu.call(h,d)||g.value!==f)&&(g=h[d]=new p.constructor(f,p,d)),g}s.getValueProperty=function(d){return this.value[d]},s.get=function(...d){for(var h=this,f=d.length,g=0;g<f;++g)h=a(h,d[g]);return h},s.each=function(d,h){for(var f=[],g=this.value.length,m=0,m=0;m<g;++m)Mu.call(this.value,m)&&(f[m]=this.get(m));for(h=h||this,m=0;m<g;++m)Mu.call(f,m)&&d.call(h,f[m])},s.map=function(d,h){var f=[];return this.each(function(g){f.push(d.call(this,g))},h),f},s.filter=function(d,h){var f=[];return this.each(function(g){d.call(this,g)&&f.push(g)},h),f};function l(){}function u(p,d,h,f){if(t.assert(p.value),d===0)return l;var g=p.value.length;if(g<1)return l;var m=arguments.length;m===2?(h=0,f=g):m===3?(h=Math.max(h,0),f=g):(h=Math.max(h,0),f=Math.min(f,g)),i.assert(h),i.assert(f);for(var y=Object.create(null),b=o(p),C=h;C<f;++C)if(Mu.call(p.value,C)){var D=p.get(C);if(D.name!==C)throw new Error("");var x=C+d;D.name=x,y[x]=D,delete b[C]}return delete b.length,function(){for(var E in y){var w=y[E];if(w.name!==+E)throw new Error("");b[E]=w,p.value[E]=w.value}}}s.shift=function(){var d=u(this,-1),h=this.value.shift();return d(),h},s.unshift=function(...d){var h=u(this,d.length),f=this.value.unshift.apply(this.value,d);return h(),f},s.push=function(...d){return t.assert(this.value),delete o(this).length,this.value.push.apply(this.value,d)},s.pop=function(){t.assert(this.value);var d=o(this);return delete d[this.value.length-1],delete d.length,this.value.pop()},s.insertAt=function(d){var h=arguments.length,f=u(this,h-1,d);if(f===l&&h<=1)return this;d=Math.max(d,0);for(var g=1;g<h;++g)this.value[d+g-1]=arguments[g];return f(),this},s.insertBefore=function(...d){for(var h=this.parentPath,f=d.length,g=[this.name],m=0;m<f;++m)g.push(d[m]);return h.insertAt.apply(h,g)},s.insertAfter=function(...d){for(var h=this.parentPath,f=d.length,g=[this.name+1],m=0;m<f;++m)g.push(d[m]);return h.insertAt.apply(h,g)};function c(p){if(!(p instanceof n))throw new Error("");var d=p.parentPath;if(!d)return p;var h=d.value,f=o(d);if(h[p.name]===p.value)f[p.name]=p;else if(t.check(h)){var g=h.indexOf(p.value);g>=0&&(f[p.name=g]=p)}else h[p.name]=p.value,f[p.name]=p;if(h[p.name]!==p.value)throw new Error("");if(p.parentPath.get(p.name)!==p)throw new Error("");return p}return s.replace=function(d){var h=[],f=this.parentPath.value,g=o(this.parentPath),m=arguments.length;if(c(this),t.check(f)){for(var y=f.length,b=u(this.parentPath,m-1,this.name+1),C=[this.name,1],D=0;D<m;++D)C.push(arguments[D]);var x=f.splice.apply(f,C);if(x[0]!==this.value)throw new Error("");if(f.length!==y-1+m)throw new Error("");if(b(),m===0)delete this.value,delete g[this.name],this.__childCache=null;else{if(f[this.name]!==d)throw new Error("");for(this.value!==d&&(this.value=d,this.__childCache=null),D=0;D<m;++D)h.push(this.parentPath.get(this.name+D));if(h[0]!==this)throw new Error("")}}else if(m===1)this.value!==d&&(this.__childCache=null),this.value=f[this.name]=d,h.push(this);else if(m===0)delete f[this.name],delete this.value,this.__childCache=null;else throw new Error("Could not replace path");return h},n}Be(()=>module);var Ks=Object.prototype.hasOwnProperty;function LB(e){var r=e.use(it),t=r.Type,i=r.namedTypes,n=i.Node,s=i.Expression,o=r.builtInTypes.array,a=r.builders;let l=function D(x,E){if(!(this instanceof D))throw new Error("Scope constructor cannot be invoked without 'new'");c.check(x.value)||u.assert(x.value);var w;if(E){if(!(E instanceof D))throw new Error("");w=E.depth+1}else E=null,w=0;Object.defineProperties(this,{path:{value:x},node:{value:x.value},isGlobal:{value:!E,enumerable:!0},depth:{value:w},parent:{value:E},bindings:{value:{}},types:{value:{}}})};var u=t.or(i.Program,i.Function,i.CatchClause),c=t.or(i.Function,i.ClassDeclaration,i.ClassExpression,i.InterfaceDeclaration,i.TSInterfaceDeclaration,i.TypeAlias,i.TSTypeAliasDeclaration),p=t.or(i.TypeParameter,i.TSTypeParameter);l.isEstablishedBy=function(D){return u.check(D)||c.check(D)};var d=l.prototype;d.didScan=!1,d.declares=function(D){return this.scan(),Ks.call(this.bindings,D)},d.declaresType=function(D){return this.scan(),Ks.call(this.types,D)},d.declareTemporary=function(D){if(D){if(!/^[a-z$_]/i.test(D))throw new Error("")}else D="t$";D+=this.depth.toString(36)+"$",this.scan();for(var x=0;this.declares(D+x);)++x;var E=D+x;return this.bindings[E]=r.builders.identifier(E)},d.injectTemporary=function(D,x){D||(D=this.declareTemporary());var E=this.path.get("body");return i.BlockStatement.check(E.value)&&(E=E.get("body")),E.unshift(a.variableDeclaration("var",[a.variableDeclarator(D,x||null)])),D},d.scan=function(D){if(D||!this.didScan){for(var x in this.bindings)delete this.bindings[x];for(var x in this.types)delete this.types[x];h(this.path,this.bindings,this.types),this.didScan=!0}},d.getBindings=function(){return this.scan(),this.bindings},d.getTypes=function(){return this.scan(),this.types};function h(D,x,E){var w=D.value;if(c.check(w)){let k=D.get("typeParameters","params");o.check(k.value)&&k.each(M=>{C(M,E)})}u.check(w)&&(i.CatchClause.check(w)?y(D.get("param"),x):f(D,x,E))}function f(D,x,E){var w=D.value;D.parent&&i.FunctionExpression.check(D.parent.node)&&D.parent.node.id&&y(D.parent.get("id"),x),w&&(o.check(w)?D.each(k=>{m(k,x,E)}):i.Function.check(w)?(D.get("params").each(k=>{y(k,x)}),m(D.get("body"),x,E),f(D.get("typeParameters"),x,E)):i.TypeAlias&&i.TypeAlias.check(w)||i.InterfaceDeclaration&&i.InterfaceDeclaration.check(w)||i.TSTypeAliasDeclaration&&i.TSTypeAliasDeclaration.check(w)||i.TSInterfaceDeclaration&&i.TSInterfaceDeclaration.check(w)?b(D.get("id"),E):i.VariableDeclarator.check(w)?(y(D.get("id"),x),m(D.get("init"),x,E)):w.type==="ImportSpecifier"||w.type==="ImportNamespaceSpecifier"||w.type==="ImportDefaultSpecifier"?y(D.get(w.local?"local":w.name?"name":"id"),x):n.check(w)&&!s.check(w)&&r.eachField(w,function(k,M){var R=D.get(k);if(!g(R,M))throw new Error("");m(R,x,E)}))}function g(D,x){return!!(D.value===x||Array.isArray(D.value)&&D.value.length===0&&Array.isArray(x)&&x.length===0)}function m(D,x,E){var w=D.value;if(!(!w||s.check(w)))if(i.FunctionDeclaration.check(w)&&w.id!==null)y(D.get("id"),x);else if(i.ClassDeclaration&&i.ClassDeclaration.check(w)&&w.id!==null)y(D.get("id"),x),f(D.get("typeParameters"),x,E);else if(i.InterfaceDeclaration&&i.InterfaceDeclaration.check(w)||i.TSInterfaceDeclaration&&i.TSInterfaceDeclaration.check(w))b(D.get("id"),E);else if(u.check(w)){if(i.CatchClause.check(w)&&i.Identifier.check(w.param)){var k=w.param.name,M=Ks.call(x,k);f(D.get("body"),x,E),M||delete x[k]}}else f(D,x,E)}function y(D,x){var E=D.value;i.Pattern.assert(E),i.Identifier.check(E)?Ks.call(x,E.name)?x[E.name].push(D):x[E.name]=[D]:i.AssignmentPattern&&i.AssignmentPattern.check(E)?y(D.get("left"),x):i.ObjectPattern&&i.ObjectPattern.check(E)?D.get("properties").each(function(w){var k=w.value;i.Pattern.check(k)?y(w,x):i.Property.check(k)||i.ObjectProperty&&i.ObjectProperty.check(k)?y(w.get("value"),x):i.SpreadProperty&&i.SpreadProperty.check(k)&&y(w.get("argument"),x)}):i.ArrayPattern&&i.ArrayPattern.check(E)?D.get("elements").each(function(w){var k=w.value;i.Pattern.check(k)?y(w,x):i.SpreadElement&&i.SpreadElement.check(k)&&y(w.get("argument"),x)}):i.PropertyPattern&&i.PropertyPattern.check(E)?y(D.get("pattern"),x):(i.SpreadElementPattern&&i.SpreadElementPattern.check(E)||i.RestElement&&i.RestElement.check(E)||i.SpreadPropertyPattern&&i.SpreadPropertyPattern.check(E))&&y(D.get("argument"),x)}function b(D,x){var E=D.value;i.Pattern.assert(E),i.Identifier.check(E)&&(Ks.call(x,E.name)?x[E.name].push(D):x[E.name]=[D])}function C(D,x){var E=D.value;p.assert(E),Ks.call(x,E.name)?x[E.name].push(D):x[E.name]=[D]}return d.lookup=function(D){for(var x=this;x&&!x.declares(D);x=x.parent);return x},d.lookupType=function(D){for(var x=this;x&&!x.declaresType(D);x=x.parent);return x},d.getGlobalScope=function(){for(var D=this;!D.isGlobal;)D=D.parent;return D},l}Be(()=>module);function fw(e){var r=e.use(it),t=r.namedTypes,i=r.builders,n=r.builtInTypes.number,s=r.builtInTypes.array,o=e.use(dw),a=e.use(LB);let l=function m(y,b,C){if(!(this instanceof m))throw new Error("NodePath constructor cannot be invoked without 'new'");o.call(this,y,b,C)};var u=l.prototype=Object.create(o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}});Object.defineProperties(u,{node:{get:function(){return Object.defineProperty(this,"node",{configurable:!0,value:this._computeNode()}),this.node}},parent:{get:function(){return Object.defineProperty(this,"parent",{configurable:!0,value:this._computeParent()}),this.parent}},scope:{get:function(){return Object.defineProperty(this,"scope",{configurable:!0,value:this._computeScope()}),this.scope}}}),u.replace=function(){return delete this.node,delete this.parent,delete this.scope,o.prototype.replace.apply(this,arguments)},u.prune=function(){var m=this.parent;return this.replace(),f(m)},u._computeNode=function(){var m=this.value;if(t.Node.check(m))return m;var y=this.parentPath;return y&&y.node||null},u._computeParent=function(){var m=this.value,y=this.parentPath;if(!t.Node.check(m)){for(;y&&!t.Node.check(y.value);)y=y.parentPath;y&&(y=y.parentPath)}for(;y&&!t.Node.check(y.value);)y=y.parentPath;return y||null},u._computeScope=function(){var m=this.value,y=this.parentPath,b=y&&y.scope;return t.Node.check(m)&&a.isEstablishedBy(m)&&(b=new a(this,b)),b||null},u.getValueProperty=function(m){return r.getFieldValue(this.value,m)},u.needsParens=function(m){var y=this.parentPath;if(!y)return!1;var b=this.value;if(!t.Expression.check(b)||b.type==="Identifier")return!1;for(;!t.Node.check(y.value);)if(y=y.parentPath,!y)return!1;var C=y.value;switch(b.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return C.type==="MemberExpression"&&this.name==="object"&&C.object===b;case"BinaryExpression":case"LogicalExpression":switch(C.type){case"CallExpression":return this.name==="callee"&&C.callee===b;case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return!0;case"MemberExpression":return this.name==="object"&&C.object===b;case"BinaryExpression":case"LogicalExpression":{let D=b,x=C.operator,E=p[x],w=D.operator,k=p[w];if(E>k)return!0;if(E===k&&this.name==="right"){if(C.right!==D)throw new Error("Nodes must be equal");return!0}}default:return!1}case"SequenceExpression":switch(C.type){case"ForStatement":return!1;case"ExpressionStatement":return this.name!=="expression";default:return!0}case"YieldExpression":switch(C.type){case"BinaryExpression":case"LogicalExpression":case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"CallExpression":case"MemberExpression":case"NewExpression":case"ConditionalExpression":case"YieldExpression":return!0;default:return!1}case"Literal":return C.type==="MemberExpression"&&n.check(b.value)&&this.name==="object"&&C.object===b;case"AssignmentExpression":case"ConditionalExpression":switch(C.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"BinaryExpression":case"LogicalExpression":return!0;case"CallExpression":return this.name==="callee"&&C.callee===b;case"ConditionalExpression":return this.name==="test"&&C.test===b;case"MemberExpression":return this.name==="object"&&C.object===b;default:return!1}default:if(C.type==="NewExpression"&&this.name==="callee"&&C.callee===b)return d(b)}return!!(m!==!0&&!this.canBeFirstInStatement()&&this.firstInStatement())};function c(m){return t.BinaryExpression.check(m)||t.LogicalExpression.check(m)}var p={};[["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]].forEach(function(m,y){m.forEach(function(b){p[b]=y})});function d(m){return t.CallExpression.check(m)?!0:s.check(m)?m.some(d):t.Node.check(m)?r.someField(m,function(y,b){return d(b)}):!1}u.canBeFirstInStatement=function(){var m=this.node;return!t.FunctionExpression.check(m)&&!t.ObjectExpression.check(m)},u.firstInStatement=function(){return h(this)};function h(m){for(var y,b;m.parent;m=m.parent){if(y=m.node,b=m.parent.node,t.BlockStatement.check(b)&&m.parent.name==="body"&&m.name===0){if(b.body[0]!==y)throw new Error("Nodes must be equal");return!0}if(t.ExpressionStatement.check(b)&&m.name==="expression"){if(b.expression!==y)throw new Error("Nodes must be equal");return!0}if(t.SequenceExpression.check(b)&&m.parent.name==="expressions"&&m.name===0){if(b.expressions[0]!==y)throw new Error("Nodes must be equal");continue}if(t.CallExpression.check(b)&&m.name==="callee"){if(b.callee!==y)throw new Error("Nodes must be equal");continue}if(t.MemberExpression.check(b)&&m.name==="object"){if(b.object!==y)throw new Error("Nodes must be equal");continue}if(t.ConditionalExpression.check(b)&&m.name==="test"){if(b.test!==y)throw new Error("Nodes must be equal");continue}if(c(b)&&m.name==="left"){if(b.left!==y)throw new Error("Nodes must be equal");continue}if(t.UnaryExpression.check(b)&&!b.prefix&&m.name==="argument"){if(b.argument!==y)throw new Error("Nodes must be equal");continue}return!1}return!0}function f(m){if(t.VariableDeclaration.check(m.node)){var y=m.get("declarations").value;if(!y||y.length===0)return m.prune()}else if(t.ExpressionStatement.check(m.node)){if(!m.get("expression").value)return m.prune()}else t.IfStatement.check(m.node)&&g(m);return m}function g(m){var y=m.get("test").value,b=m.get("alternate").value,C=m.get("consequent").value;if(!C&&!b){var D=i.expressionStatement(y);m.replace(D)}else if(!C&&b){var x=i.unaryExpression("!",y,!0);t.UnaryExpression.check(y)&&y.operator==="!"&&(x=y.argument),m.get("test").replace(x),m.get("consequent").replace(b),m.get("alternate").replace()}}return l}Be(()=>module);var Bu=Object.prototype.hasOwnProperty;function MB(e){var r=e.use(it),t=e.use(fw),i=r.builtInTypes.array,n=r.builtInTypes.object,s=r.builtInTypes.function,o;let a=function f(){if(!(this instanceof f))throw new Error("PathVisitor constructor cannot be invoked without 'new'");this._reusableContextStack=[],this._methodNameTable=l(this),this._shouldVisitComments=Bu.call(this._methodNameTable,"Block")||Bu.call(this._methodNameTable,"Line"),this.Context=d(this),this._visiting=!1,this._changeReported=!1};function l(f){var g=Object.create(null);for(var m in f)/^visit[A-Z]/.test(m)&&(g[m.slice(5)]=!0);for(var y=r.computeSupertypeLookupTable(g),b=Object.create(null),C=Object.keys(y),D=C.length,x=0;x<D;++x){var E=C[x];m="visit"+y[E],s.check(f[m])&&(b[E]=m)}return b}a.fromMethodsObject=function(g){if(g instanceof a)return g;if(!n.check(g))return new a;let m=function b(){if(!(this instanceof b))throw new Error("Visitor constructor cannot be invoked without 'new'");a.call(this)};var y=m.prototype=Object.create(c);return y.constructor=m,u(y,g),u(m,a),s.assert(m.fromMethodsObject),s.assert(m.visit),new m};function u(f,g){for(var m in g)Bu.call(g,m)&&(f[m]=g[m]);return f}a.visit=function(g,m){return a.fromMethodsObject(m).visit(g)};var c=a.prototype;c.visit=function(){if(this._visiting)throw new Error("Recursively calling visitor.visit(path) resets visitor state. Try this.visit(path) or this.traverse(path) instead.");this._visiting=!0,this._changeReported=!1,this._abortRequested=!1;for(var f=arguments.length,g=new Array(f),m=0;m<f;++m)g[m]=arguments[m];g[0]instanceof t||(g[0]=new t({root:g[0]}).get("root")),this.reset.apply(this,g);var y;try{var b=this.visitWithoutReset(g[0]);y=!0}finally{if(this._visiting=!1,!y&&this._abortRequested)return g[0].value}return b},c.AbortRequest=function(){},c.abort=function(){var f=this;f._abortRequested=!0;var g=new f.AbortRequest;throw g.cancel=function(){f._abortRequested=!1},g},c.reset=function(f){},c.visitWithoutReset=function(f){if(this instanceof this.Context)return this.visitor.visitWithoutReset(f);if(!(f instanceof t))throw new Error("");var g=f.value,m=g&&typeof g=="object"&&typeof g.type=="string"&&this._methodNameTable[g.type];if(m){var y=this.acquireContext(f);try{return y.invokeVisitorMethod(m)}finally{this.releaseContext(y)}}else return p(f,this)};function p(f,g){if(!(f instanceof t))throw new Error("");if(!(g instanceof a))throw new Error("");var m=f.value;if(i.check(m))f.each(g.visitWithoutReset,g);else if(n.check(m)){var y=r.getFieldNames(m);g._shouldVisitComments&&m.comments&&y.indexOf("comments")<0&&y.push("comments");for(var b=y.length,C=[],D=0;D<b;++D){var x=y[D];Bu.call(m,x)||(m[x]=r.getFieldValue(m,x)),C.push(f.get(x))}for(var D=0;D<b;++D)g.visitWithoutReset(C[D])}return f.value}c.acquireContext=function(f){return this._reusableContextStack.length===0?new this.Context(f):this._reusableContextStack.pop().reset(f)},c.releaseContext=function(f){if(!(f instanceof this.Context))throw new Error("");this._reusableContextStack.push(f),f.currentPath=null},c.reportChanged=function(){this._changeReported=!0},c.wasChangeReported=function(){return this._changeReported};function d(f){function g(y){if(!(this instanceof g))throw new Error("");if(!(this instanceof a))throw new Error("");if(!(y instanceof t))throw new Error("");Object.defineProperty(this,"visitor",{value:f,writable:!1,enumerable:!0,configurable:!1}),this.currentPath=y,this.needToCallTraverse=!0,Object.seal(this)}if(!(f instanceof a))throw new Error("");var m=g.prototype=Object.create(f);return m.constructor=g,u(m,h),g}var h=Object.create(null);return h.reset=function(g){if(!(this instanceof this.Context))throw new Error("");if(!(g instanceof t))throw new Error("");return this.currentPath=g,this.needToCallTraverse=!0,this},h.invokeVisitorMethod=function(g){if(!(this instanceof this.Context))throw new Error("");if(!(this.currentPath instanceof t))throw new Error("");var m=this.visitor[g].call(this,this.currentPath);if(m===!1?this.needToCallTraverse=!1:m!==o&&(this.currentPath=this.currentPath.replace(m)[0],this.needToCallTraverse&&this.traverse(this.currentPath)),this.needToCallTraverse!==!1)throw new Error("Must either call this.traverse or return false in "+g);var y=this.currentPath;return y&&y.value},h.traverse=function(g,m){if(!(this instanceof this.Context))throw new Error("");if(!(g instanceof t))throw new Error("");if(!(this.currentPath instanceof t))throw new Error("");return this.needToCallTraverse=!1,p(g,a.fromMethodsObject(m||this.visitor))},h.visit=function(g,m){if(!(this instanceof this.Context))throw new Error("");if(!(g instanceof t))throw new Error("");if(!(this.currentPath instanceof t))throw new Error("");return this.needToCallTraverse=!1,a.fromMethodsObject(m||this.visitor).visitWithoutReset(g)},h.reportChanged=function(){this.visitor.reportChanged()},h.abort=function(){this.needToCallTraverse=!1,this.visitor.abort()},a}Be(()=>module);function BB(e){var r=e.use(it),t=r.getFieldNames,i=r.getFieldValue,n=r.builtInTypes.array,s=r.builtInTypes.object,o=r.builtInTypes.Date,a=r.builtInTypes.RegExp,l=Object.prototype.hasOwnProperty;function u(f,g,m){return n.check(m)?m.length=0:m=null,p(f,g,m)}u.assert=function(f,g){var m=[];if(!u(f,g,m))if(m.length===0){if(f!==g)throw new Error("Nodes must be equal")}else throw new Error("Nodes differ in the following path: "+m.map(c).join(""))};function c(f){return/[_$a-z][_$a-z0-9]*/i.test(f)?"."+f:"["+JSON.stringify(f)+"]"}function p(f,g,m){return f===g?!0:n.check(f)?d(f,g,m):s.check(f)?h(f,g,m):o.check(f)?o.check(g)&&+f==+g:a.check(f)?a.check(g)&&f.source===g.source&&f.global===g.global&&f.multiline===g.multiline&&f.ignoreCase===g.ignoreCase:f==g}function d(f,g,m){n.assert(f);var y=f.length;if(!n.check(g)||g.length!==y)return m&&m.push("length"),!1;for(var b=0;b<y;++b){if(m&&m.push(b),b in f!=b in g||!p(f[b],g[b],m))return!1;if(m){var C=m.pop();if(C!==b)throw new Error(""+C)}}return!0}function h(f,g,m){if(s.assert(f),!s.check(g))return!1;if(f.type!==g.type)return m&&m.push("type"),!1;var y=t(f),b=y.length,C=t(g),D=C.length;if(b===D){for(var x=0;x<b;++x){var E=y[x],w=i(f,E),k=i(g,E);if(m&&m.push(E),!p(w,k,m))return!1;if(m){var M=m.pop();if(M!==E)throw new Error(""+M)}}return!0}if(!m)return!1;var R=Object.create(null);for(x=0;x<b;++x)R[y[x]]=!0;for(x=0;x<D;++x){if(E=C[x],!l.call(R,E))return m.push(E),!1;delete R[E]}for(E in R){m.push(E);break}return!1}return u}Be(()=>module);function $B(e){let r=UB(),t=r.use(it);e.forEach(r.use),t.finalize();let i=r.use(MB);return{Type:t.Type,builtInTypes:t.builtInTypes,namedTypes:t.namedTypes,builders:t.builders,defineMethod:t.defineMethod,getFieldNames:t.getFieldNames,getFieldValue:t.getFieldValue,eachField:t.eachField,someField:t.someField,getSupertypeNames:t.getSupertypeNames,getBuilderName:t.getBuilderName,astNodesAreEquivalent:r.use(BB),finalize:t.finalize,Path:r.use(dw),NodePath:r.use(fw),PathVisitor:i,use:r.use,visit:i.visit}}function UB(){let e=[],r=[];function t(n){var s=e.indexOf(n);return s===-1&&(s=e.length,e.push(n),r[s]=n(i)),r[s]}var i={use:t};return i}Be(()=>module);function hw(){return{BinaryOperators:["==","!=","===","!==","<","<=",">",">=","<<",">>",">>>","+","-","*","/","%","&","|","^","in","instanceof"],AssignmentOperators:["=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","|=","^=","&="],LogicalOperators:["||","&&"]}}Be(()=>module);function mw(e){let r=e.use(hw);return r.BinaryOperators.indexOf("**")<0&&r.BinaryOperators.push("**"),r.AssignmentOperators.indexOf("**=")<0&&r.AssignmentOperators.push("**="),r}Be(()=>module);function gw(e){let r=e.use(mw);return r.LogicalOperators.indexOf("??")<0&&r.LogicalOperators.push("??"),r}Be(()=>module);function jB(e){let r=e.use(gw);return r.LogicalOperators.forEach(t=>{let i=t+"=";r.AssignmentOperators.indexOf(i)<0&&r.AssignmentOperators.push(i)}),r}Be(()=>module);function qB(e){var r=e.use(it),t=r.Type,i=t.def,n=t.or,s=e.use(pr),o=s.defaults,a=s.geq;let{BinaryOperators:l,AssignmentOperators:u,LogicalOperators:c}=e.use(hw);i("Printable").field("loc",n(i("SourceLocation"),null),o.null,!0),i("Node").bases("Printable").field("type",String).field("comments",n([i("Comment")],null),o.null,!0),i("SourceLocation").field("start",i("Position")).field("end",i("Position")).field("source",n(String,null),o.null),i("Position").field("line",a(1)).field("column",a(0)),i("File").bases("Node").build("program","name").field("program",i("Program")).field("name",n(String,null),o.null),i("Program").bases("Node").build("body").field("body",[i("Statement")]),i("Function").bases("Node").field("id",n(i("Identifier"),null),o.null).field("params",[i("Pattern")]).field("body",i("BlockStatement")).field("generator",Boolean,o.false).field("async",Boolean,o.false),i("Statement").bases("Node"),i("EmptyStatement").bases("Statement").build(),i("BlockStatement").bases("Statement").build("body").field("body",[i("Statement")]),i("ExpressionStatement").bases("Statement").build("expression").field("expression",i("Expression")),i("IfStatement").bases("Statement").build("test","consequent","alternate").field("test",i("Expression")).field("consequent",i("Statement")).field("alternate",n(i("Statement"),null),o.null),i("LabeledStatement").bases("Statement").build("label","body").field("label",i("Identifier")).field("body",i("Statement")),i("BreakStatement").bases("Statement").build("label").field("label",n(i("Identifier"),null),o.null),i("ContinueStatement").bases("Statement").build("label").field("label",n(i("Identifier"),null),o.null),i("WithStatement").bases("Statement").build("object","body").field("object",i("Expression")).field("body",i("Statement")),i("SwitchStatement").bases("Statement").build("discriminant","cases","lexical").field("discriminant",i("Expression")).field("cases",[i("SwitchCase")]).field("lexical",Boolean,o.false),i("ReturnStatement").bases("Statement").build("argument").field("argument",n(i("Expression"),null)),i("ThrowStatement").bases("Statement").build("argument").field("argument",i("Expression")),i("TryStatement").bases("Statement").build("block","handler","finalizer").field("block",i("BlockStatement")).field("handler",n(i("CatchClause"),null),function(){return this.handlers&&this.handlers[0]||null}).field("handlers",[i("CatchClause")],function(){return this.handler?[this.handler]:[]},!0).field("guardedHandlers",[i("CatchClause")],o.emptyArray).field("finalizer",n(i("BlockStatement"),null),o.null),i("CatchClause").bases("Node").build("param","guard","body").field("param",i("Pattern")).field("guard",n(i("Expression"),null),o.null).field("body",i("BlockStatement")),i("WhileStatement").bases("Statement").build("test","body").field("test",i("Expression")).field("body",i("Statement")),i("DoWhileStatement").bases("Statement").build("body","test").field("body",i("Statement")).field("test",i("Expression")),i("ForStatement").bases("Statement").build("init","test","update","body").field("init",n(i("VariableDeclaration"),i("Expression"),null)).field("test",n(i("Expression"),null)).field("update",n(i("Expression"),null)).field("body",i("Statement")),i("ForInStatement").bases("Statement").build("left","right","body").field("left",n(i("VariableDeclaration"),i("Expression"))).field("right",i("Expression")).field("body",i("Statement")),i("DebuggerStatement").bases("Statement").build(),i("Declaration").bases("Statement"),i("FunctionDeclaration").bases("Function","Declaration").build("id","params","body").field("id",i("Identifier")),i("FunctionExpression").bases("Function","Expression").build("id","params","body"),i("VariableDeclaration").bases("Declaration").build("kind","declarations").field("kind",n("var","let","const")).field("declarations",[i("VariableDeclarator")]),i("VariableDeclarator").bases("Node").build("id","init").field("id",i("Pattern")).field("init",n(i("Expression"),null),o.null),i("Expression").bases("Node"),i("ThisExpression").bases("Expression").build(),i("ArrayExpression").bases("Expression").build("elements").field("elements",[n(i("Expression"),null)]),i("ObjectExpression").bases("Expression").build("properties").field("properties",[i("Property")]),i("Property").bases("Node").build("kind","key","value").field("kind",n("init","get","set")).field("key",n(i("Literal"),i("Identifier"))).field("value",i("Expression")),i("SequenceExpression").bases("Expression").build("expressions").field("expressions",[i("Expression")]);var p=n("-","+","!","~","typeof","void","delete");i("UnaryExpression").bases("Expression").build("operator","argument","prefix").field("operator",p).field("argument",i("Expression")).field("prefix",Boolean,o.true);let d=n(...l);i("BinaryExpression").bases("Expression").build("operator","left","right").field("operator",d).field("left",i("Expression")).field("right",i("Expression"));let h=n(...u);i("AssignmentExpression").bases("Expression").build("operator","left","right").field("operator",h).field("left",n(i("Pattern"),i("MemberExpression"))).field("right",i("Expression"));var f=n("++","--");i("UpdateExpression").bases("Expression").build("operator","argument","prefix").field("operator",f).field("argument",i("Expression")).field("prefix",Boolean);var g=n(...c);i("LogicalExpression").bases("Expression").build("operator","left","right").field("operator",g).field("left",i("Expression")).field("right",i("Expression")),i("ConditionalExpression").bases("Expression").build("test","consequent","alternate").field("test",i("Expression")).field("consequent",i("Expression")).field("alternate",i("Expression")),i("NewExpression").bases("Expression").build("callee","arguments").field("callee",i("Expression")).field("arguments",[i("Expression")]),i("CallExpression").bases("Expression").build("callee","arguments").field("callee",i("Expression")).field("arguments",[i("Expression")]),i("MemberExpression").bases("Expression").build("object","property","computed").field("object",i("Expression")).field("property",n(i("Identifier"),i("Expression"))).field("computed",Boolean,function(){var m=this.property.type;return m==="Literal"||m==="MemberExpression"||m==="BinaryExpression"}),i("Pattern").bases("Node"),i("SwitchCase").bases("Node").build("test","consequent").field("test",n(i("Expression"),null)).field("consequent",[i("Statement")]),i("Identifier").bases("Expression","Pattern").build("name").field("name",String).field("optional",Boolean,o.false),i("Literal").bases("Expression").build("value").field("value",n(String,Boolean,null,Number,RegExp,BigInt)),i("Comment").bases("Printable").field("value",String).field("leading",Boolean,o.true).field("trailing",Boolean,o.false)}Be(()=>module);function KB(e){e.use(qB);let r=e.use(it),t=r.Type.def,i=r.Type.or,n=e.use(pr).defaults;t("Function").field("generator",Boolean,n.false).field("expression",Boolean,n.false).field("defaults",[i(t("Expression"),null)],n.emptyArray).field("rest",i(t("Identifier"),null),n.null),t("RestElement").bases("Pattern").build("argument").field("argument",t("Pattern")).field("typeAnnotation",i(t("TypeAnnotation"),t("TSTypeAnnotation"),null),n.null),t("SpreadElementPattern").bases("Pattern").build("argument").field("argument",t("Pattern")),t("FunctionDeclaration").build("id","params","body","generator","expression").field("id",i(t("Identifier"),null)),t("FunctionExpression").build("id","params","body","generator","expression"),t("ArrowFunctionExpression").bases("Function","Expression").build("params","body","expression").field("id",null,n.null).field("body",i(t("BlockStatement"),t("Expression"))).field("generator",!1,n.false),t("ForOfStatement").bases("Statement").build("left","right","body").field("left",i(t("VariableDeclaration"),t("Pattern"))).field("right",t("Expression")).field("body",t("Statement")),t("YieldExpression").bases("Expression").build("argument","delegate").field("argument",i(t("Expression"),null)).field("delegate",Boolean,n.false),t("GeneratorExpression").bases("Expression").build("body","blocks","filter").field("body",t("Expression")).field("blocks",[t("ComprehensionBlock")]).field("filter",i(t("Expression"),null)),t("ComprehensionExpression").bases("Expression").build("body","blocks","filter").field("body",t("Expression")).field("blocks",[t("ComprehensionBlock")]).field("filter",i(t("Expression"),null)),t("ComprehensionBlock").bases("Node").build("left","right","each").field("left",t("Pattern")).field("right",t("Expression")).field("each",Boolean),t("Property").field("key",i(t("Literal"),t("Identifier"),t("Expression"))).field("value",i(t("Expression"),t("Pattern"))).field("method",Boolean,n.false).field("shorthand",Boolean,n.false).field("computed",Boolean,n.false),t("ObjectProperty").field("shorthand",Boolean,n.false),t("PropertyPattern").bases("Pattern").build("key","pattern").field("key",i(t("Literal"),t("Identifier"),t("Expression"))).field("pattern",t("Pattern")).field("computed",Boolean,n.false),t("ObjectPattern").bases("Pattern").build("properties").field("properties",[i(t("PropertyPattern"),t("Property"))]),t("ArrayPattern").bases("Pattern").build("elements").field("elements",[i(t("Pattern"),null)]),t("SpreadElement").bases("Node").build("argument").field("argument",t("Expression")),t("ArrayExpression").field("elements",[i(t("Expression"),t("SpreadElement"),t("RestElement"),null)]),t("NewExpression").field("arguments",[i(t("Expression"),t("SpreadElement"))]),t("CallExpression").field("arguments",[i(t("Expression"),t("SpreadElement"))]),t("AssignmentPattern").bases("Pattern").build("left","right").field("left",t("Pattern")).field("right",t("Expression")),t("MethodDefinition").bases("Declaration").build("kind","key","value","static").field("kind",i("constructor","method","get","set")).field("key",t("Expression")).field("value",t("Function")).field("computed",Boolean,n.false).field("static",Boolean,n.false);let s=i(t("MethodDefinition"),t("VariableDeclarator"),t("ClassPropertyDefinition"),t("ClassProperty"),t("StaticBlock"));t("ClassProperty").bases("Declaration").build("key").field("key",i(t("Literal"),t("Identifier"),t("Expression"))).field("computed",Boolean,n.false),t("ClassPropertyDefinition").bases("Declaration").build("definition").field("definition",s),t("ClassBody").bases("Declaration").build("body").field("body",[s]),t("ClassDeclaration").bases("Declaration").build("id","body","superClass").field("id",i(t("Identifier"),null)).field("body",t("ClassBody")).field("superClass",i(t("Expression"),null),n.null),t("ClassExpression").bases("Expression").build("id","body","superClass").field("id",i(t("Identifier"),null),n.null).field("body",t("ClassBody")).field("superClass",i(t("Expression"),null),n.null),t("Super").bases("Expression").build(),t("Specifier").bases("Node"),t("ModuleSpecifier").bases("Specifier").field("local",i(t("Identifier"),null),n.null).field("id",i(t("Identifier"),null),n.null).field("name",i(t("Identifier"),null),n.null),t("ImportSpecifier").bases("ModuleSpecifier").build("imported","local").field("imported",t("Identifier")),t("ImportDefaultSpecifier").bases("ModuleSpecifier").build("local"),t("ImportNamespaceSpecifier").bases("ModuleSpecifier").build("local"),t("ImportDeclaration").bases("Declaration").build("specifiers","source","importKind").field("specifiers",[i(t("ImportSpecifier"),t("ImportNamespaceSpecifier"),t("ImportDefaultSpecifier"))],n.emptyArray).field("source",t("Literal")).field("importKind",i("value","type"),function(){return"value"}),t("ExportNamedDeclaration").bases("Declaration").build("declaration","specifiers","source").field("declaration",i(t("Declaration"),null)).field("specifiers",[t("ExportSpecifier")],n.emptyArray).field("source",i(t("Literal"),null),n.null),t("ExportSpecifier").bases("ModuleSpecifier").build("local","exported").field("exported",t("Identifier")),t("ExportDefaultDeclaration").bases("Declaration").build("declaration").field("declaration",i(t("Declaration"),t("Expression"))),t("ExportAllDeclaration").bases("Declaration").build("source").field("source",t("Literal")),t("TaggedTemplateExpression").bases("Expression").build("tag","quasi").field("tag",t("Expression")).field("quasi",t("TemplateLiteral")),t("TemplateLiteral").bases("Expression").build("quasis","expressions").field("quasis",[t("TemplateElement")]).field("expressions",[t("Expression")]),t("TemplateElement").bases("Node").build("value","tail").field("value",{cooked:String,raw:String}).field("tail",Boolean),t("MetaProperty").bases("Expression").build("meta","property").field("meta",t("Identifier")).field("property",t("Identifier"))}Be(()=>module);function VB(e){e.use(mw),e.use(KB)}Be(()=>module);function zB(e){e.use(VB);let t=e.use(it).Type.def,i=e.use(pr).defaults;t("Function").field("async",Boolean,i.false),t("AwaitExpression").bases("Expression").build("argument").field("argument",t("Expression"))}Be(()=>module);function WB(e){e.use(zB);let r=e.use(it),t=r.Type.def,i=r.Type.or,n=e.use(pr).defaults;t("ForOfStatement").field("await",Boolean,n.false),t("SpreadProperty").bases("Node").build("argument").field("argument",t("Expression")),t("ObjectExpression").field("properties",[i(t("Property"),t("SpreadProperty"),t("SpreadElement"))]),t("TemplateElement").field("value",{cooked:i(String,null),raw:String}),t("SpreadPropertyPattern").bases("Pattern").build("argument").field("argument",t("Pattern")),t("ObjectPattern").field("properties",[i(t("PropertyPattern"),t("Property"),t("RestElement"),t("SpreadPropertyPattern"))])}Be(()=>module);function GB(e){e.use(WB);let r=e.use(it),t=r.Type.def,i=r.Type.or,n=e.use(pr).defaults;t("CatchClause").field("param",i(t("Pattern"),null),n.null)}Be(()=>module);function HB(e){e.use(gw),e.use(GB);let r=e.use(it),t=r.Type.def,i=r.Type.or,s=e.use(pr).defaults;t("ImportExpression").bases("Expression").build("source").field("source",t("Expression")),t("ExportAllDeclaration").bases("Declaration").build("source","exported").field("source",t("Literal")).field("exported",i(t("Identifier"),null,void 0),s.null),t("ChainElement").bases("Node").field("optional",Boolean,s.false),t("CallExpression").bases("Expression","ChainElement"),t("MemberExpression").bases("Expression","ChainElement"),t("ChainExpression").bases("Expression").build("expression").field("expression",t("ChainElement")),t("OptionalCallExpression").bases("CallExpression").build("callee","arguments","optional").field("optional",Boolean,s.true),t("OptionalMemberExpression").bases("MemberExpression").build("object","property","computed","optional").field("optional",Boolean,s.true)}Be(()=>module);function JB(e){e.use(jB),e.use(HB)}Be(()=>module);function YB(e){e.use(JB);let t=e.use(it).Type.def;t("StaticBlock").bases("Declaration").build("body").field("body",[t("Statement")])}Be(()=>module);function Fa(e){e.use(YB);let r=e.use(it),t=r.Type,i=r.Type.def,n=t.or,o=e.use(pr).defaults;i("AwaitExpression").build("argument","all").field("argument",n(i("Expression"),null)).field("all",Boolean,o.false),i("Decorator").bases("Node").build("expression").field("expression",i("Expression")),i("Property").field("decorators",n([i("Decorator")],null),o.null),i("MethodDefinition").field("decorators",n([i("Decorator")],null),o.null),i("PrivateName").bases("Expression","Pattern").build("id").field("id",i("Identifier")),i("ClassPrivateProperty").bases("ClassProperty").build("key","value").field("key",i("PrivateName")).field("value",n(i("Expression"),null),o.null),i("ImportAttribute").bases("Node").build("key","value").field("key",n(i("Identifier"),i("Literal"))).field("value",i("Expression")),["ImportDeclaration","ExportAllDeclaration","ExportNamedDeclaration"].forEach(a=>{i(a).field("assertions",[i("ImportAttribute")],o.emptyArray)}),i("RecordExpression").bases("Expression").build("properties").field("properties",[n(i("ObjectProperty"),i("ObjectMethod"),i("SpreadElement"))]),i("TupleExpression").bases("Expression").build("elements").field("elements",[n(i("Expression"),i("SpreadElement"),null)]),i("ModuleExpression").bases("Node").build("body").field("body",i("Program"))}Be(()=>module);function XB(e){e.use(Fa);let r=e.use(it),t=r.Type.def,i=r.Type.or,n=e.use(pr).defaults;t("JSXAttribute").bases("Node").build("name","value").field("name",i(t("JSXIdentifier"),t("JSXNamespacedName"))).field("value",i(t("Literal"),t("JSXExpressionContainer"),t("JSXElement"),t("JSXFragment"),null),n.null),t("JSXIdentifier").bases("Identifier").build("name").field("name",String),t("JSXNamespacedName").bases("Node").build("namespace","name").field("namespace",t("JSXIdentifier")).field("name",t("JSXIdentifier")),t("JSXMemberExpression").bases("MemberExpression").build("object","property").field("object",i(t("JSXIdentifier"),t("JSXMemberExpression"))).field("property",t("JSXIdentifier")).field("computed",Boolean,n.false);let s=i(t("JSXIdentifier"),t("JSXNamespacedName"),t("JSXMemberExpression"));t("JSXSpreadAttribute").bases("Node").build("argument").field("argument",t("Expression"));let o=[i(t("JSXAttribute"),t("JSXSpreadAttribute"))];t("JSXExpressionContainer").bases("Expression").build("expression").field("expression",i(t("Expression"),t("JSXEmptyExpression")));let a=[i(t("JSXText"),t("JSXExpressionContainer"),t("JSXSpreadChild"),t("JSXElement"),t("JSXFragment"),t("Literal"))];t("JSXElement").bases("Expression").build("openingElement","closingElement","children").field("openingElement",t("JSXOpeningElement")).field("closingElement",i(t("JSXClosingElement"),null),n.null).field("children",a,n.emptyArray).field("name",s,function(){return this.openingElement.name},!0).field("selfClosing",Boolean,function(){return this.openingElement.selfClosing},!0).field("attributes",o,function(){return this.openingElement.attributes},!0),t("JSXOpeningElement").bases("Node").build("name","attributes","selfClosing").field("name",s).field("attributes",o,n.emptyArray).field("selfClosing",Boolean,n.false),t("JSXClosingElement").bases("Node").build("name").field("name",s),t("JSXFragment").bases("Expression").build("openingFragment","closingFragment","children").field("openingFragment",t("JSXOpeningFragment")).field("closingFragment",t("JSXClosingFragment")).field("children",a,n.emptyArray),t("JSXOpeningFragment").bases("Node").build(),t("JSXClosingFragment").bases("Node").build(),t("JSXText").bases("Literal").build("value","raw").field("value",String).field("raw",String,function(){return this.value}),t("JSXEmptyExpression").bases("Node").build(),t("JSXSpreadChild").bases("Node").build("expression").field("expression",t("Expression"))}Be(()=>module);function yw(e){var r=e.use(it),t=r.Type.def,i=r.Type.or,n=e.use(pr).defaults,s=i(t("TypeAnnotation"),t("TSTypeAnnotation"),null),o=i(t("TypeParameterDeclaration"),t("TSTypeParameterDeclaration"),null);t("Identifier").field("typeAnnotation",s,n.null),t("ObjectPattern").field("typeAnnotation",s,n.null),t("Function").field("returnType",s,n.null).field("typeParameters",o,n.null),t("ClassProperty").build("key","value","typeAnnotation","static").field("value",i(t("Expression"),null)).field("static",Boolean,n.false).field("typeAnnotation",s,n.null),["ClassDeclaration","ClassExpression"].forEach(a=>{t(a).field("typeParameters",o,n.null).field("superTypeParameters",i(t("TypeParameterInstantiation"),t("TSTypeParameterInstantiation"),null),n.null).field("implements",i([t("ClassImplements")],[t("TSExpressionWithTypeArguments")]),n.emptyArray)})}Be(()=>module);function bw(e){e.use(Fa),e.use(yw);let r=e.use(it),t=r.Type.def,i=r.Type.or,n=e.use(pr).defaults;t("Flow").bases("Node"),t("FlowType").bases("Flow"),t("AnyTypeAnnotation").bases("FlowType").build(),t("EmptyTypeAnnotation").bases("FlowType").build(),t("MixedTypeAnnotation").bases("FlowType").build(),t("VoidTypeAnnotation").bases("FlowType").build(),t("SymbolTypeAnnotation").bases("FlowType").build(),t("NumberTypeAnnotation").bases("FlowType").build(),t("BigIntTypeAnnotation").bases("FlowType").build(),t("NumberLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",Number).field("raw",String),t("NumericLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",Number).field("raw",String),t("BigIntLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",null).field("raw",String),t("StringTypeAnnotation").bases("FlowType").build(),t("StringLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",String).field("raw",String),t("BooleanTypeAnnotation").bases("FlowType").build(),t("BooleanLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",Boolean).field("raw",String),t("TypeAnnotation").bases("Node").build("typeAnnotation").field("typeAnnotation",t("FlowType")),t("NullableTypeAnnotation").bases("FlowType").build("typeAnnotation").field("typeAnnotation",t("FlowType")),t("NullLiteralTypeAnnotation").bases("FlowType").build(),t("NullTypeAnnotation").bases("FlowType").build(),t("ThisTypeAnnotation").bases("FlowType").build(),t("ExistsTypeAnnotation").bases("FlowType").build(),t("ExistentialTypeParam").bases("FlowType").build(),t("FunctionTypeAnnotation").bases("FlowType").build("params","returnType","rest","typeParameters").field("params",[t("FunctionTypeParam")]).field("returnType",t("FlowType")).field("rest",i(t("FunctionTypeParam"),null)).field("typeParameters",i(t("TypeParameterDeclaration"),null)),t("FunctionTypeParam").bases("Node").build("name","typeAnnotation","optional").field("name",i(t("Identifier"),null)).field("typeAnnotation",t("FlowType")).field("optional",Boolean),t("ArrayTypeAnnotation").bases("FlowType").build("elementType").field("elementType",t("FlowType")),t("ObjectTypeAnnotation").bases("FlowType").build("properties","indexers","callProperties").field("properties",[i(t("ObjectTypeProperty"),t("ObjectTypeSpreadProperty"))]).field("indexers",[t("ObjectTypeIndexer")],n.emptyArray).field("callProperties",[t("ObjectTypeCallProperty")],n.emptyArray).field("inexact",i(Boolean,void 0),n.undefined).field("exact",Boolean,n.false).field("internalSlots",[t("ObjectTypeInternalSlot")],n.emptyArray),t("Variance").bases("Node").build("kind").field("kind",i("plus","minus"));let s=i(t("Variance"),"plus","minus",null);t("ObjectTypeProperty").bases("Node").build("key","value","optional").field("key",i(t("Literal"),t("Identifier"))).field("value",t("FlowType")).field("optional",Boolean).field("variance",s,n.null),t("ObjectTypeIndexer").bases("Node").build("id","key","value").field("id",t("Identifier")).field("key",t("FlowType")).field("value",t("FlowType")).field("variance",s,n.null).field("static",Boolean,n.false),t("ObjectTypeCallProperty").bases("Node").build("value").field("value",t("FunctionTypeAnnotation")).field("static",Boolean,n.false),t("QualifiedTypeIdentifier").bases("Node").build("qualification","id").field("qualification",i(t("Identifier"),t("QualifiedTypeIdentifier"))).field("id",t("Identifier")),t("GenericTypeAnnotation").bases("FlowType").build("id","typeParameters").field("id",i(t("Identifier"),t("QualifiedTypeIdentifier"))).field("typeParameters",i(t("TypeParameterInstantiation"),null)),t("MemberTypeAnnotation").bases("FlowType").build("object","property").field("object",t("Identifier")).field("property",i(t("MemberTypeAnnotation"),t("GenericTypeAnnotation"))),t("IndexedAccessType").bases("FlowType").build("objectType","indexType").field("objectType",t("FlowType")).field("indexType",t("FlowType")),t("OptionalIndexedAccessType").bases("FlowType").build("objectType","indexType","optional").field("objectType",t("FlowType")).field("indexType",t("FlowType")).field("optional",Boolean),t("UnionTypeAnnotation").bases("FlowType").build("types").field("types",[t("FlowType")]),t("IntersectionTypeAnnotation").bases("FlowType").build("types").field("types",[t("FlowType")]),t("TypeofTypeAnnotation").bases("FlowType").build("argument").field("argument",t("FlowType")),t("ObjectTypeSpreadProperty").bases("Node").build("argument").field("argument",t("FlowType")),t("ObjectTypeInternalSlot").bases("Node").build("id","value","optional","static","method").field("id",t("Identifier")).field("value",t("FlowType")).field("optional",Boolean).field("static",Boolean).field("method",Boolean),t("TypeParameterDeclaration").bases("Node").build("params").field("params",[t("TypeParameter")]),t("TypeParameterInstantiation").bases("Node").build("params").field("params",[t("FlowType")]),t("TypeParameter").bases("FlowType").build("name","variance","bound","default").field("name",String).field("variance",s,n.null).field("bound",i(t("TypeAnnotation"),null),n.null).field("default",i(t("FlowType"),null),n.null),t("ClassProperty").field("variance",s,n.null),t("ClassImplements").bases("Node").build("id").field("id",t("Identifier")).field("superClass",i(t("Expression"),null),n.null).field("typeParameters",i(t("TypeParameterInstantiation"),null),n.null),t("InterfaceTypeAnnotation").bases("FlowType").build("body","extends").field("body",t("ObjectTypeAnnotation")).field("extends",i([t("InterfaceExtends")],null),n.null),t("InterfaceDeclaration").bases("Declaration").build("id","body","extends").field("id",t("Identifier")).field("typeParameters",i(t("TypeParameterDeclaration"),null),n.null).field("body",t("ObjectTypeAnnotation")).field("extends",[t("InterfaceExtends")]),t("DeclareInterface").bases("InterfaceDeclaration").build("id","body","extends"),t("InterfaceExtends").bases("Node").build("id").field("id",t("Identifier")).field("typeParameters",i(t("TypeParameterInstantiation"),null),n.null),t("TypeAlias").bases("Declaration").build("id","typeParameters","right").field("id",t("Identifier")).field("typeParameters",i(t("TypeParameterDeclaration"),null)).field("right",t("FlowType")),t("DeclareTypeAlias").bases("TypeAlias").build("id","typeParameters","right"),t("OpaqueType").bases("Declaration").build("id","typeParameters","impltype","supertype").field("id",t("Identifier")).field("typeParameters",i(t("TypeParameterDeclaration"),null)).field("impltype",t("FlowType")).field("supertype",i(t("FlowType"),null)),t("DeclareOpaqueType").bases("OpaqueType").build("id","typeParameters","supertype").field("impltype",i(t("FlowType"),null)),t("TypeCastExpression").bases("Expression").build("expression","typeAnnotation").field("expression",t("Expression")).field("typeAnnotation",t("TypeAnnotation")),t("TupleTypeAnnotation").bases("FlowType").build("types").field("types",[t("FlowType")]),t("DeclareVariable").bases("Statement").build("id").field("id",t("Identifier")),t("DeclareFunction").bases("Statement").build("id").field("id",t("Identifier")).field("predicate",i(t("FlowPredicate"),null),n.null),t("DeclareClass").bases("InterfaceDeclaration").build("id"),t("DeclareModule").bases("Statement").build("id","body").field("id",i(t("Identifier"),t("Literal"))).field("body",t("BlockStatement")),t("DeclareModuleExports").bases("Statement").build("typeAnnotation").field("typeAnnotation",t("TypeAnnotation")),t("DeclareExportDeclaration").bases("Declaration").build("default","declaration","specifiers","source").field("default",Boolean).field("declaration",i(t("DeclareVariable"),t("DeclareFunction"),t("DeclareClass"),t("FlowType"),t("TypeAlias"),t("DeclareOpaqueType"),t("InterfaceDeclaration"),null)).field("specifiers",[i(t("ExportSpecifier"),t("ExportBatchSpecifier"))],n.emptyArray).field("source",i(t("Literal"),null),n.null),t("DeclareExportAllDeclaration").bases("Declaration").build("source").field("source",i(t("Literal"),null),n.null),t("ImportDeclaration").field("importKind",i("value","type","typeof"),()=>"value"),t("FlowPredicate").bases("Flow"),t("InferredPredicate").bases("FlowPredicate").build(),t("DeclaredPredicate").bases("FlowPredicate").build("value").field("value",t("Expression")),t("Function").field("predicate",i(t("FlowPredicate"),null),n.null),t("CallExpression").field("typeArguments",i(null,t("TypeParameterInstantiation")),n.null),t("NewExpression").field("typeArguments",i(null,t("TypeParameterInstantiation")),n.null),t("EnumDeclaration").bases("Declaration").build("id","body").field("id",t("Identifier")).field("body",i(t("EnumBooleanBody"),t("EnumNumberBody"),t("EnumStringBody"),t("EnumSymbolBody"))),t("EnumBooleanBody").build("members","explicitType").field("members",[t("EnumBooleanMember")]).field("explicitType",Boolean),t("EnumNumberBody").build("members","explicitType").field("members",[t("EnumNumberMember")]).field("explicitType",Boolean),t("EnumStringBody").build("members","explicitType").field("members",i([t("EnumStringMember")],[t("EnumDefaultedMember")])).field("explicitType",Boolean),t("EnumSymbolBody").build("members").field("members",[t("EnumDefaultedMember")]),t("EnumBooleanMember").build("id","init").field("id",t("Identifier")).field("init",i(t("Literal"),Boolean)),t("EnumNumberMember").build("id","init").field("id",t("Identifier")).field("init",t("Literal")),t("EnumStringMember").build("id","init").field("id",t("Identifier")).field("init",t("Literal")),t("EnumDefaultedMember").build("id").field("id",t("Identifier"))}Be(()=>module);function QB(e){e.use(Fa);var r=e.use(it),t=e.use(pr).defaults,i=r.Type.def,n=r.Type.or;i("VariableDeclaration").field("declarations",[n(i("VariableDeclarator"),i("Identifier"))]),i("Property").field("value",n(i("Expression"),i("Pattern"))),i("ArrayPattern").field("elements",[n(i("Pattern"),i("SpreadElement"),null)]),i("ObjectPattern").field("properties",[n(i("Property"),i("PropertyPattern"),i("SpreadPropertyPattern"),i("SpreadProperty"))]),i("ExportSpecifier").bases("ModuleSpecifier").build("id","name"),i("ExportBatchSpecifier").bases("Specifier").build(),i("ExportDeclaration").bases("Declaration").build("default","declaration","specifiers","source").field("default",Boolean).field("declaration",n(i("Declaration"),i("Expression"),null)).field("specifiers",[n(i("ExportSpecifier"),i("ExportBatchSpecifier"))],t.emptyArray).field("source",n(i("Literal"),null),t.null),i("Block").bases("Comment").build("value","leading","trailing"),i("Line").bases("Comment").build("value","leading","trailing")}Be(()=>module);function Dw(e){e.use(Fa);let r=e.use(it),t=e.use(pr).defaults,i=r.Type.def,n=r.Type.or,{undefined:s}=r.builtInTypes;i("Noop").bases("Statement").build(),i("DoExpression").bases("Expression").build("body").field("body",[i("Statement")]),i("BindExpression").bases("Expression").build("object","callee").field("object",n(i("Expression"),null)).field("callee",i("Expression")),i("ParenthesizedExpression").bases("Expression").build("expression").field("expression",i("Expression")),i("ExportNamespaceSpecifier").bases("Specifier").build("exported").field("exported",i("Identifier")),i("ExportDefaultSpecifier").bases("Specifier").build("exported").field("exported",i("Identifier")),i("CommentBlock").bases("Comment").build("value","leading","trailing"),i("CommentLine").bases("Comment").build("value","leading","trailing"),i("Directive").bases("Node").build("value").field("value",i("DirectiveLiteral")),i("DirectiveLiteral").bases("Node","Expression").build("value").field("value",String,t["use strict"]),i("InterpreterDirective").bases("Node").build("value").field("value",String),i("BlockStatement").bases("Statement").build("body").field("body",[i("Statement")]).field("directives",[i("Directive")],t.emptyArray),i("Program").bases("Node").build("body").field("body",[i("Statement")]).field("directives",[i("Directive")],t.emptyArray).field("interpreter",n(i("InterpreterDirective"),null),t.null);function o(c=String,p){return["extra",{rawValue:c,raw:String},function(){let h=r.getFieldValue(this,"value");return{rawValue:h,raw:p?p(h):String(h)}}]}i("StringLiteral").bases("Literal").build("value").field("value",String).field(...o(String,c=>JSON.stringify(c))),i("NumericLiteral").bases("Literal").build("value").field("value",Number).field("raw",n(String,null),t.null).field(...o(Number)),i("BigIntLiteral").bases("Literal").build("value").field("value",n(String,Number)).field(...o(String,c=>c+"n")),i("DecimalLiteral").bases("Literal").build("value").field("value",String).field(...o(String,c=>c+"m")),i("NullLiteral").bases("Literal").build().field("value",null,t.null),i("BooleanLiteral").bases("Literal").build("value").field("value",Boolean),i("RegExpLiteral").bases("Literal").build("pattern","flags").field("pattern",String).field("flags",String).field("value",RegExp,function(){return new RegExp(this.pattern,this.flags)}).field(...o(n(RegExp,s),c=>`/${c.pattern}/${c.flags||""}`)).field("regex",{pattern:String,flags:String},function(){return{pattern:this.pattern,flags:this.flags}});var a=n(i("Property"),i("ObjectMethod"),i("ObjectProperty"),i("SpreadProperty"),i("SpreadElement"));i("ObjectExpression").bases("Expression").build("properties").field("properties",[a]),i("ObjectMethod").bases("Node","Function").build("kind","key","params","body","computed").field("kind",n("method","get","set")).field("key",n(i("Literal"),i("Identifier"),i("Expression"))).field("params",[i("Pattern")]).field("body",i("BlockStatement")).field("computed",Boolean,t.false).field("generator",Boolean,t.false).field("async",Boolean,t.false).field("accessibility",n(i("Literal"),null),t.null).field("decorators",n([i("Decorator")],null),t.null),i("ObjectProperty").bases("Node").build("key","value").field("key",n(i("Literal"),i("Identifier"),i("Expression"))).field("value",n(i("Expression"),i("Pattern"))).field("accessibility",n(i("Literal"),null),t.null).field("computed",Boolean,t.false);var l=n(i("MethodDefinition"),i("VariableDeclarator"),i("ClassPropertyDefinition"),i("ClassProperty"),i("ClassPrivateProperty"),i("ClassMethod"),i("ClassPrivateMethod"),i("ClassAccessorProperty"),i("StaticBlock"));i("ClassBody").bases("Declaration").build("body").field("body",[l]),i("ClassMethod").bases("Declaration","Function").build("kind","key","params","body","computed","static").field("key",n(i("Literal"),i("Identifier"),i("Expression"))),i("ClassPrivateMethod").bases("Declaration","Function").build("key","params","body","kind","computed","static").field("key",i("PrivateName")),i("ClassAccessorProperty").bases("Declaration").build("key","value","decorators","computed","static").field("key",n(i("Literal"),i("Identifier"),i("PrivateName"),i("Expression"))).field("value",n(i("Expression"),null),t.null),["ClassMethod","ClassPrivateMethod"].forEach(c=>{i(c).field("kind",n("get","set","method","constructor"),()=>"method").field("body",i("BlockStatement")).field("access",n("public","private","protected",null),t.null)}),["ClassMethod","ClassPrivateMethod","ClassAccessorProperty"].forEach(c=>{i(c).field("computed",Boolean,t.false).field("static",Boolean,t.false).field("abstract",Boolean,t.false).field("accessibility",n("public","private","protected",null),t.null).field("decorators",n([i("Decorator")],null),t.null).field("definite",Boolean,t.false).field("optional",Boolean,t.false).field("override",Boolean,t.false).field("readonly",Boolean,t.false)});var u=n(i("Property"),i("PropertyPattern"),i("SpreadPropertyPattern"),i("SpreadProperty"),i("ObjectProperty"),i("RestProperty"),i("RestElement"));i("ObjectPattern").bases("Pattern").build("properties").field("properties",[u]).field("decorators",n([i("Decorator")],null),t.null),i("SpreadProperty").bases("Node").build("argument").field("argument",i("Expression")),i("RestProperty").bases("Node").build("argument").field("argument",i("Expression")),i("ForAwaitStatement").bases("Statement").build("left","right","body").field("left",n(i("VariableDeclaration"),i("Expression"))).field("right",i("Expression")).field("body",i("Statement")),i("Import").bases("Expression").build()}Be(()=>module);function ZB(e){let t=e.use(it).Type.def;e.use(Dw),e.use(bw),t("V8IntrinsicIdentifier").bases("Expression").build("name").field("name",String),t("TopicReference").bases("Expression").build()}Be(()=>module);function e3(e){e.use(Dw),e.use(yw);var r=e.use(it),t=r.namedTypes,i=r.Type.def,n=r.Type.or,s=e.use(pr).defaults,o=r.Type.from(function(c,p){return!!(t.StringLiteral&&t.StringLiteral.check(c,p)||t.Literal&&t.Literal.check(c,p)&&typeof c.value=="string")},"StringLiteral");i("TSType").bases("Node");var a=n(i("Identifier"),i("TSQualifiedName"));i("TSTypeReference").bases("TSType","TSHasOptionalTypeParameterInstantiation").build("typeName","typeParameters").field("typeName",a),i("TSHasOptionalTypeParameterInstantiation").field("typeParameters",n(i("TSTypeParameterInstantiation"),null),s.null),i("TSHasOptionalTypeParameters").field("typeParameters",n(i("TSTypeParameterDeclaration"),null,void 0),s.null),i("TSHasOptionalTypeAnnotation").field("typeAnnotation",n(i("TSTypeAnnotation"),null),s.null),i("TSQualifiedName").bases("Node").build("left","right").field("left",a).field("right",a),i("TSAsExpression").bases("Expression","Pattern").build("expression","typeAnnotation").field("expression",i("Expression")).field("typeAnnotation",i("TSType")).field("extra",n({parenthesized:Boolean},null),s.null),i("TSTypeCastExpression").bases("Expression").build("expression","typeAnnotation").field("expression",i("Expression")).field("typeAnnotation",i("TSType")),i("TSSatisfiesExpression").bases("Expression","Pattern").build("expression","typeAnnotation").field("expression",i("Expression")).field("typeAnnotation",i("TSType")),i("TSNonNullExpression").bases("Expression","Pattern").build("expression").field("expression",i("Expression")),["TSAnyKeyword","TSBigIntKeyword","TSBooleanKeyword","TSNeverKeyword","TSNullKeyword","TSNumberKeyword","TSObjectKeyword","TSStringKeyword","TSSymbolKeyword","TSUndefinedKeyword","TSUnknownKeyword","TSVoidKeyword","TSIntrinsicKeyword","TSThisType"].forEach(c=>{i(c).bases("TSType").build()}),i("TSArrayType").bases("TSType").build("elementType").field("elementType",i("TSType")),i("TSLiteralType").bases("TSType").build("literal").field("literal",n(i("NumericLiteral"),i("StringLiteral"),i("BooleanLiteral"),i("TemplateLiteral"),i("UnaryExpression"),i("BigIntLiteral"))),i("TemplateLiteral").field("expressions",n([i("Expression")],[i("TSType")])),["TSUnionType","TSIntersectionType"].forEach(c=>{i(c).bases("TSType").build("types").field("types",[i("TSType")])}),i("TSConditionalType").bases("TSType").build("checkType","extendsType","trueType","falseType").field("checkType",i("TSType")).field("extendsType",i("TSType")).field("trueType",i("TSType")).field("falseType",i("TSType")),i("TSInferType").bases("TSType").build("typeParameter").field("typeParameter",i("TSTypeParameter")),i("TSParenthesizedType").bases("TSType").build("typeAnnotation").field("typeAnnotation",i("TSType"));var l=[n(i("Identifier"),i("RestElement"),i("ArrayPattern"),i("ObjectPattern"))];["TSFunctionType","TSConstructorType"].forEach(c=>{i(c).bases("TSType","TSHasOptionalTypeParameters","TSHasOptionalTypeAnnotation").build("parameters").field("parameters",l)}),i("TSDeclareFunction").bases("Declaration","TSHasOptionalTypeParameters").build("id","params","returnType").field("declare",Boolean,s.false).field("async",Boolean,s.false).field("generator",Boolean,s.false).field("id",n(i("Identifier"),null),s.null).field("params",[i("Pattern")]).field("returnType",n(i("TSTypeAnnotation"),i("Noop"),null),s.null),i("TSDeclareMethod").bases("Declaration","TSHasOptionalTypeParameters").build("key","params","returnType").field("async",Boolean,s.false).field("generator",Boolean,s.false).field("params",[i("Pattern")]).field("abstract",Boolean,s.false).field("accessibility",n("public","private","protected",void 0),s.undefined).field("static",Boolean,s.false).field("computed",Boolean,s.false).field("optional",Boolean,s.false).field("key",n(i("Identifier"),i("StringLiteral"),i("NumericLiteral"),i("Expression"))).field("kind",n("get","set","method","constructor"),function(){return"method"}).field("access",n("public","private","protected",void 0),s.undefined).field("decorators",n([i("Decorator")],null),s.null).field("returnType",n(i("TSTypeAnnotation"),i("Noop"),null),s.null),i("TSMappedType").bases("TSType").build("typeParameter","typeAnnotation").field("readonly",n(Boolean,"+","-"),s.false).field("typeParameter",i("TSTypeParameter")).field("optional",n(Boolean,"+","-"),s.false).field("typeAnnotation",n(i("TSType"),null),s.null),i("TSTupleType").bases("TSType").build("elementTypes").field("elementTypes",[n(i("TSType"),i("TSNamedTupleMember"))]),i("TSNamedTupleMember").bases("TSType").build("label","elementType","optional").field("label",i("Identifier")).field("optional",Boolean,s.false).field("elementType",i("TSType")),i("TSRestType").bases("TSType").build("typeAnnotation").field("typeAnnotation",i("TSType")),i("TSOptionalType").bases("TSType").build("typeAnnotation").field("typeAnnotation",i("TSType")),i("TSIndexedAccessType").bases("TSType").build("objectType","indexType").field("objectType",i("TSType")).field("indexType",i("TSType")),i("TSTypeOperator").bases("TSType").build("operator").field("operator",String).field("typeAnnotation",i("TSType")),i("TSTypeAnnotation").bases("Node").build("typeAnnotation").field("typeAnnotation",n(i("TSType"),i("TSTypeAnnotation"))),i("TSIndexSignature").bases("Declaration","TSHasOptionalTypeAnnotation").build("parameters","typeAnnotation").field("parameters",[i("Identifier")]).field("readonly",Boolean,s.false),i("TSPropertySignature").bases("Declaration","TSHasOptionalTypeAnnotation").build("key","typeAnnotation","optional").field("key",i("Expression")).field("computed",Boolean,s.false).field("readonly",Boolean,s.false).field("optional",Boolean,s.false).field("initializer",n(i("Expression"),null),s.null),i("TSMethodSignature").bases("Declaration","TSHasOptionalTypeParameters","TSHasOptionalTypeAnnotation").build("key","parameters","typeAnnotation").field("key",i("Expression")).field("computed",Boolean,s.false).field("optional",Boolean,s.false).field("parameters",l),i("TSTypePredicate").bases("TSTypeAnnotation","TSType").build("parameterName","typeAnnotation","asserts").field("parameterName",n(i("Identifier"),i("TSThisType"))).field("typeAnnotation",n(i("TSTypeAnnotation"),null),s.null).field("asserts",Boolean,s.false),["TSCallSignatureDeclaration","TSConstructSignatureDeclaration"].forEach(c=>{i(c).bases("Declaration","TSHasOptionalTypeParameters","TSHasOptionalTypeAnnotation").build("parameters","typeAnnotation").field("parameters",l)}),i("TSEnumMember").bases("Node").build("id","initializer").field("id",n(i("Identifier"),o)).field("initializer",n(i("Expression"),null),s.null),i("TSTypeQuery").bases("TSType").build("exprName").field("exprName",n(a,i("TSImportType")));var u=n(i("TSCallSignatureDeclaration"),i("TSConstructSignatureDeclaration"),i("TSIndexSignature"),i("TSMethodSignature"),i("TSPropertySignature"));i("TSTypeLiteral").bases("TSType").build("members").field("members",[u]),i("TSTypeParameter").bases("Identifier").build("name","constraint","default").field("name",n(i("Identifier"),String)).field("constraint",n(i("TSType"),void 0),s.undefined).field("default",n(i("TSType"),void 0),s.undefined),i("TSTypeAssertion").bases("Expression","Pattern").build("typeAnnotation","expression").field("typeAnnotation",i("TSType")).field("expression",i("Expression")).field("extra",n({parenthesized:Boolean},null),s.null),i("TSTypeParameterDeclaration").bases("Declaration").build("params").field("params",[i("TSTypeParameter")]),i("TSInstantiationExpression").bases("Expression","TSHasOptionalTypeParameterInstantiation").build("expression","typeParameters").field("expression",i("Expression")),i("TSTypeParameterInstantiation").bases("Node").build("params").field("params",[i("TSType")]),i("TSEnumDeclaration").bases("Declaration").build("id","members").field("id",i("Identifier")).field("const",Boolean,s.false).field("declare",Boolean,s.false).field("members",[i("TSEnumMember")]).field("initializer",n(i("Expression"),null),s.null),i("TSTypeAliasDeclaration").bases("Declaration","TSHasOptionalTypeParameters").build("id","typeAnnotation").field("id",i("Identifier")).field("declare",Boolean,s.false).field("typeAnnotation",i("TSType")),i("TSModuleBlock").bases("Node").build("body").field("body",[i("Statement")]),i("TSModuleDeclaration").bases("Declaration").build("id","body").field("id",n(o,a)).field("declare",Boolean,s.false).field("global",Boolean,s.false).field("body",n(i("TSModuleBlock"),i("TSModuleDeclaration"),null),s.null),i("TSImportType").bases("TSType","TSHasOptionalTypeParameterInstantiation").build("argument","qualifier","typeParameters").field("argument",o).field("qualifier",n(a,void 0),s.undefined),i("TSImportEqualsDeclaration").bases("Declaration").build("id","moduleReference").field("id",i("Identifier")).field("isExport",Boolean,s.false).field("moduleReference",n(a,i("TSExternalModuleReference"))),i("TSExternalModuleReference").bases("Declaration").build("expression").field("expression",o),i("TSExportAssignment").bases("Statement").build("expression").field("expression",i("Expression")),i("TSNamespaceExportDeclaration").bases("Declaration").build("id").field("id",i("Identifier")),i("TSInterfaceBody").bases("Node").build("body").field("body",[u]),i("TSExpressionWithTypeArguments").bases("TSType","TSHasOptionalTypeParameterInstantiation").build("expression","typeParameters").field("expression",a),i("TSInterfaceDeclaration").bases("Declaration","TSHasOptionalTypeParameters").build("id","body").field("id",a).field("declare",Boolean,s.false).field("extends",n([i("TSExpressionWithTypeArguments")],null),s.null).field("body",i("TSInterfaceBody")),i("TSParameterProperty").bases("Pattern").build("parameter").field("accessibility",n("public","private","protected",void 0),s.undefined).field("readonly",Boolean,s.false).field("parameter",n(i("Identifier"),i("AssignmentPattern"))),i("ClassProperty").field("access",n("public","private","protected",void 0),s.undefined),i("ClassAccessorProperty").bases("Declaration","TSHasOptionalTypeAnnotation"),i("ClassBody").field("body",[n(i("MethodDefinition"),i("VariableDeclarator"),i("ClassPropertyDefinition"),i("ClassProperty"),i("ClassPrivateProperty"),i("ClassAccessorProperty"),i("ClassMethod"),i("ClassPrivateMethod"),i("StaticBlock"),i("TSDeclareMethod"),u)])}Be(()=>module);var Ur;Ur||(Ur={});var{astNodesAreEquivalent:PW,builders:Ys,builtInTypes:jr,defineMethod:IW,eachField:_W,finalize:NW,getBuilderName:FW,getFieldNames:t3,getFieldValue:Hi,getSupertypeNames:kW,namedTypes:r3,NodePath:i3,Path:OW,PathVisitor:RW,someField:n3,Type:LW,use:MW,visit:BW}=$B([Fa,XB,bw,QB,ZB,e3]);Object.assign(Ur,r3);var $u=Ur,Yv=ec.default.SourceMapConsumer,s3=ec.default.SourceMapGenerator,xw=Object.prototype.hasOwnProperty;function o3(){return`
`}function Xv(e,r,t){return e&&xw.call(e,r)?e[r]:t}function a3(...e){let r={},t=e.length;for(let i=0;i<t;++i){let n=Object.keys(e[i]),s=n.length;for(let o=0;o<s;++o)r[n[o]]=!0}return r}function Te(e,r){return e.line-r.line||e.column-r.column}function En(e){return{line:e.line,column:e.column}}function l3(e,r){if(e){if(!r)return e}else return r||null;let t=new Yv(e),i=new Yv(r),n=new s3({file:r.file,sourceRoot:r.sourceRoot}),s={};return i.eachMapping(function(o){let a=t.originalPositionFor({line:o.originalLine,column:o.originalColumn}),l=a.source;if(l===null)return;n.addMapping({source:l,original:En(a),generated:{line:o.generatedLine,column:o.generatedColumn},name:o.name});let u=t.sourceContentFor(l);u&&!xw.call(s,l)&&(s[l]=u,n.setSourceContent(l,u))}),n.toJSON()}function Ew(e,r){if(!e.loc)return null;let t={start:e.loc.start,end:e.loc.end};function i(n){Sh(t,n.loc)}return e.declaration&&e.declaration.decorators&&tc(e)&&e.declaration.decorators.forEach(i),Te(t.start,t.end)<0&&(t.start=En(t.start),r.skipSpaces(t.start,!1,!0),Te(t.start,t.end)<0&&(t.end=En(t.end),r.skipSpaces(t.end,!0,!0))),e.comments&&e.comments.forEach(i),t}function Sh(e,r){e&&r&&(Te(r.start,e.start)<0&&(e.start=r.start),Te(e.end,r.end)<0&&(e.end=r.end))}function kh(e,r){let t=e.loc;if(t&&(t.start.line<1&&(t.start.line=1),t.end.line<1&&(t.end.line=1)),e.type==="File"&&(t.start=r.firstPos(),t.end=r.lastPos()),u3(e,r),c3(e,r),t&&e.decorators)e.decorators.forEach(function(i){Sh(t,i.loc)});else if(e.declaration&&tc(e)){e.declaration.loc=null;let i=e.declaration.decorators;i&&i.forEach(function(n){Sh(t,n.loc)})}else if($u.MethodDefinition&&$u.MethodDefinition.check(e)||$u.Property.check(e)&&(e.method||e.shorthand))e.value.loc=null,$u.FunctionExpression.check(e.value)&&(e.value.id=null);else if(e.type==="ObjectTypeProperty"){let i=e.loc,n=i&&i.end;n&&(n=En(n),r.prevPos(n)&&r.charAt(n)===","&&(n=r.skipSpaces(n,!0,!0))&&(i.end=n))}}function u3(e,r){if(e.type!=="ForStatement")return;function t(i){let n=i&&i.loc,s=n&&n.start,o=n&&En(n.end);for(;s&&o&&Te(s,o)<0&&(r.prevPos(o),r.charAt(o)===";");)n.end.line=o.line,n.end.column=o.column}t(e.init),t(e.test),t(e.update)}function c3(e,r){if(e.type==="TemplateLiteral"&&e.quasis.length!==0){if(e.loc){let t=En(e.loc.start),i=e.quasis[0];Te(i.loc.start,t)<0&&(i.loc.start=t);let n=En(e.loc.end),s=e.quasis[e.quasis.length-1];Te(n,s.loc.end)<0&&(s.loc.end=n)}e.expressions.forEach(function(t,i){let n=r.skipSpaces(t.loc.start,!0,!1);if(r.prevPos(n)&&r.charAt(n)==="{"&&r.prevPos(n)&&r.charAt(n)==="$"){let o=e.quasis[i];Te(n,o.loc.end)<0&&(o.loc.end=n)}let s=r.skipSpaces(t.loc.end,!1,!1);if(r.charAt(s)==="}"){let o=e.quasis[i+1];Te(o.loc.start,s)<0&&(o.loc.start=s)}})}}function tc(e){if(e)switch(e.type){case"ExportDeclaration":case"ExportDefaultDeclaration":case"ExportDefaultSpecifier":case"DeclareExportDeclaration":case"ExportNamedDeclaration":case"ExportAllDeclaration":return!0}return!1}function Cw(e){let r=e.getParentNode();return e.getName()==="declaration"&&tc(r)?r:null}function Aa(e,r){let t=e.trailingComma;return typeof t=="object"?!!t[r]:!!t}var vh={tabWidth:4,useTabs:!1,reuseWhitespace:!0,lineTerminator:o3(),wrapColumn:74,sourceFileName:null,sourceMapName:null,sourceRoot:null,inputSourceMap:null,range:!1,tolerant:!0,quote:null,trailingComma:!1,arrayBracketSpacing:!1,objectCurlySpacing:!0,arrowParensAlways:!1,flowObjectCommas:!0,tokens:!0},p3=vh.hasOwnProperty;function rc(e){let r=e||vh;function t(i){return p3.call(r,i)?r[i]:vh[i]}return{tabWidth:+t("tabWidth"),useTabs:!!t("useTabs"),reuseWhitespace:!!t("reuseWhitespace"),lineTerminator:t("lineTerminator"),wrapColumn:Math.max(t("wrapColumn"),0),sourceFileName:t("sourceFileName"),sourceMapName:t("sourceMapName"),sourceRoot:t("sourceRoot"),inputSourceMap:t("inputSourceMap"),parser:t("esprima")||t("parser"),range:t("range"),tolerant:t("tolerant"),quote:t("quote"),trailingComma:t("trailingComma"),arrayBracketSpacing:t("arrayBracketSpacing"),objectCurlySpacing:t("objectCurlySpacing"),arrowParensAlways:t("arrowParensAlways"),flowObjectCommas:t("flowObjectCommas"),tokens:!!t("tokens")}}var wh=class e{constructor(r,t,i=t){this.sourceLines=r,this.sourceLoc=t,this.targetLoc=i}slice(r,t,i=r.lastPos()){let n=this.sourceLines,s=this.sourceLoc,o=this.targetLoc;function a(l){let u=s[l],c=o[l],p=t;return l==="end"&&(p=i),d3(n,u,r,c,p)}if(Te(t,o.start)<=0)if(Te(o.end,i)<=0)o={start:xn(o.start,t.line,t.column),end:xn(o.end,t.line,t.column)};else{if(Te(i,o.start)<=0)return null;s={start:s.start,end:a("end")},o={start:xn(o.start,t.line,t.column),end:xn(i,t.line,t.column)}}else{if(Te(o.end,t)<=0)return null;Te(o.end,i)<=0?(s={start:a("start"),end:s.end},o={start:{line:1,column:0},end:xn(o.end,t.line,t.column)}):(s={start:a("start"),end:a("end")},o={start:{line:1,column:0},end:xn(i,t.line,t.column)})}return new e(this.sourceLines,s,o)}add(r,t){return new e(this.sourceLines,this.sourceLoc,{start:Qv(this.targetLoc.start,r,t),end:Qv(this.targetLoc.end,r,t)})}subtract(r,t){return new e(this.sourceLines,this.sourceLoc,{start:xn(this.targetLoc.start,r,t),end:xn(this.targetLoc.end,r,t)})}indent(r,t=!1,i=!1){if(r===0)return this;let n=this.targetLoc,s=n.start.line,o=n.end.line;if(t&&s===1&&o===1)return this;if(n={start:n.start,end:n.end},!t||s>1){let a=n.start.column+r;n.start={line:s,column:i?Math.max(0,a):a}}if(!t||o>1){let a=n.end.column+r;n.end={line:o,column:i?Math.max(0,a):a}}return new e(this.sourceLines,this.sourceLoc,n)}};function Qv(e,r,t){return{line:e.line+r-1,column:e.line===1?e.column+t:e.column}}function xn(e,r,t){return{line:e.line-r+1,column:e.line===r?e.column-t:e.column}}function d3(e,r,t,i,n){let s=Te(i,n);if(s===0)return r;let o,a;if(s<0){o=e.skipSpaces(r)||e.lastPos(),a=t.skipSpaces(i)||t.lastPos();let l=n.line-a.line;for(o.line+=l,a.line+=l,l>0&&(o.column=0,a.column=0);Te(a,n)<0&&t.nextPos(a,!0););}else{o=e.skipSpaces(r,!0)||e.firstPos(),a=t.skipSpaces(i,!0)||t.firstPos();let l=n.line-a.line;for(o.line+=l,a.line+=l,l<0&&(o.column=e.getLineLength(o.line),a.column=t.getLineLength(a.line));Te(n,a)<0&&t.prevPos(a,!0););}return o}var f3=Object.defineProperty,h3=(e,r,t)=>r in e?f3(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,xa=(e,r,t)=>(h3(e,typeof r!="symbol"?r+"":r,t),t),Hs=class e{constructor(r,t=null){this.infos=r,xa(this,"length"),xa(this,"name"),xa(this,"mappings",[]),xa(this,"cachedSourceMap",null),xa(this,"cachedTabWidth"),this.length=r.length,this.name=t||null,this.name&&this.mappings.push(new wh(this,{start:this.firstPos(),end:this.lastPos()}))}toString(r){return this.sliceString(this.firstPos(),this.lastPos(),r)}getSourceMap(r,t){if(!r)return null;let i=this;function n(a){return a=a||{},a.file=r,t&&(a.sourceRoot=t),a}if(i.cachedSourceMap)return n(i.cachedSourceMap.toJSON());let s=new ec.default.SourceMapGenerator(n()),o={};return i.mappings.forEach(function(a){let l=a.sourceLines.skipSpaces(a.sourceLoc.start)||a.sourceLines.lastPos(),u=i.skipSpaces(a.targetLoc.start)||i.lastPos();for(;Te(l,a.sourceLoc.end)<0&&Te(u,a.targetLoc.end)<0;){a.sourceLines.charAt(l),i.charAt(u);let c=a.sourceLines.name;if(s.addMapping({source:c,original:{line:l.line,column:l.column},generated:{line:u.line,column:u.column}}),!Th.call(o,c)){let p=a.sourceLines.toString();s.setSourceContent(c,p),o[c]=p}i.nextPos(u,!0),a.sourceLines.nextPos(l,!0)}}),i.cachedSourceMap=s,s.toJSON()}bootstrapCharAt(r){let t=r.line,i=r.column,n=this.toString().split(Ah),s=n[t-1];return typeof s>"u"?"":i===s.length&&t<n.length?`
`:i>=s.length?"":s.charAt(i)}charAt(r){let t=r.line,i=r.column,n=this,s=n.infos,o=s[t-1],a=i;if(typeof o>"u"||a<0)return"";let l=this.getIndentAt(t);return a<l?" ":(a+=o.sliceStart-l,a===o.sliceEnd&&t<this.length?`
`:a>=o.sliceEnd?"":o.line.charAt(a))}stripMargin(r,t){if(r===0)return this;if(t&&this.length===1)return this;let i=new e(this.infos.map(function(n,s){return n.line&&(s>0||!t)&&(n={...n,indent:Math.max(0,n.indent-r)}),n}));if(this.mappings.length>0){let n=i.mappings;this.mappings.forEach(function(s){n.push(s.indent(r,t,!0))})}return i}indent(r){if(r===0)return this;let t=new e(this.infos.map(function(i){return i.line&&!i.locked&&(i={...i,indent:i.indent+r}),i}));if(this.mappings.length>0){let i=t.mappings;this.mappings.forEach(function(n){i.push(n.indent(r))})}return t}indentTail(r){if(r===0)return this;if(this.length<2)return this;let t=new e(this.infos.map(function(i,n){return n>0&&i.line&&!i.locked&&(i={...i,indent:i.indent+r}),i}));if(this.mappings.length>0){let i=t.mappings;this.mappings.forEach(function(n){i.push(n.indent(r,!0))})}return t}lockIndentTail(){return this.length<2?this:new e(this.infos.map((r,t)=>({...r,locked:t>0})))}getIndentAt(r){return Math.max(this.infos[r-1].indent,0)}guessTabWidth(){if(typeof this.cachedTabWidth=="number")return this.cachedTabWidth;let r=[],t=0;for(let s=1,o=this.length;s<=o;++s){let a=this.infos[s-1],l=a.line.slice(a.sliceStart,a.sliceEnd);if(Vs(l))continue;let u=Math.abs(a.indent-t);r[u]=~~r[u]+1,t=a.indent}let i=-1,n=2;for(let s=1;s<r.length;s+=1)Th.call(r,s)&&r[s]>i&&(i=r[s],n=s);return this.cachedTabWidth=n}startsWithComment(){if(this.infos.length===0)return!1;let r=this.infos[0],t=r.sliceStart,i=r.sliceEnd,n=r.line.slice(t,i).trim();return n.length===0||n.slice(0,2)==="//"||n.slice(0,2)==="/*"}isOnlyWhitespace(){return Vs(this.toString())}isPrecededOnlyByWhitespace(r){let t=this.infos[r.line-1],i=Math.max(t.indent,0),n=r.column-i;if(n<=0)return!0;let s=t.sliceStart,o=Math.min(s+n,t.sliceEnd),a=t.line.slice(s,o);return Vs(a)}getLineLength(r){let t=this.infos[r-1];return this.getIndentAt(r)+t.sliceEnd-t.sliceStart}nextPos(r,t=!1){let i=Math.max(r.line,0);return Math.max(r.column,0)<this.getLineLength(i)?(r.column+=1,t?!!this.skipSpaces(r,!1,!0):!0):i<this.length?(r.line+=1,r.column=0,t?!!this.skipSpaces(r,!1,!0):!0):!1}prevPos(r,t=!1){let i=r.line,n=r.column;if(n<1){if(i-=1,i<1)return!1;n=this.getLineLength(i)}else n=Math.min(n-1,this.getLineLength(i));return r.line=i,r.column=n,t?!!this.skipSpaces(r,!0,!0):!0}firstPos(){return{line:1,column:0}}lastPos(){return{line:this.length,column:this.getLineLength(this.length)}}skipSpaces(r,t=!1,i=!1){if(r?r=i?r:{line:r.line,column:r.column}:t?r=this.lastPos():r=this.firstPos(),t){for(;this.prevPos(r);)if(!Vs(this.charAt(r))&&this.nextPos(r))return r;return null}else{for(;Vs(this.charAt(r));)if(!this.nextPos(r))return null;return r}}trimLeft(){let r=this.skipSpaces(this.firstPos(),!1,!0);return r?this.slice(r):Yn}trimRight(){let r=this.skipSpaces(this.lastPos(),!0,!0);return r?this.slice(this.firstPos(),r):Yn}trim(){let r=this.skipSpaces(this.firstPos(),!1,!0);if(r===null)return Yn;let t=this.skipSpaces(this.lastPos(),!0,!0);return t===null?Yn:this.slice(r,t)}eachPos(r,t=this.firstPos(),i=!1){let n=this.firstPos();if(t&&(n.line=t.line,n.column=t.column),!(i&&!this.skipSpaces(n,!1,!0)))do r.call(this,n);while(this.nextPos(n,i))}bootstrapSlice(r,t){let i=this.toString().split(Ah).slice(r.line-1,t.line);return i.length>0&&(i.push(i.pop().slice(0,t.column)),i[0]=i[0].slice(r.column)),P(i.join(`
`))}slice(r,t){if(!t){if(!r)return this;t=this.lastPos()}if(!r)throw new Error("cannot slice with end but not start");let i=this.infos.slice(r.line-1,t.line);r.line===t.line?i[0]=zs(i[0],r.column,t.column):(i[0]=zs(i[0],r.column),i.push(zs(i.pop(),0,t.column)));let n=new e(i);if(this.mappings.length>0){let s=n.mappings;this.mappings.forEach(function(o){let a=o.slice(this,r,t);a&&s.push(a)},this)}return n}bootstrapSliceString(r,t,i){return this.slice(r,t).toString(i)}sliceString(r=this.firstPos(),t=this.lastPos(),i){let{tabWidth:n,useTabs:s,reuseWhitespace:o,lineTerminator:a}=rc(i),l=[];for(let u=r.line;u<=t.line;++u){let c=this.infos[u-1];u===r.line?u===t.line?c=zs(c,r.column,t.column):c=zs(c,r.column):u===t.line&&(c=zs(c,0,t.column));let p=Math.max(c.indent,0),d=c.line.slice(0,c.sliceStart);if(o&&Vs(d)&&Sw(d,n)===p){l.push(c.line.slice(0,c.sliceEnd));continue}let h=0,f=p;s&&(h=Math.floor(p/n),f-=h*n);let g="";h>0&&(g+=new Array(h+1).join("	")),f>0&&(g+=new Array(f+1).join(" ")),g+=c.line.slice(c.sliceStart,c.sliceEnd),l.push(g)}return l.join(a)}isEmpty(){return this.length<2&&this.getLineLength(1)<1}join(r){let t=this,i=[],n=[],s;function o(u){if(u!==null){if(s){let c=u.infos[0],p=new Array(c.indent+1).join(" "),d=i.length,h=Math.max(s.indent,0)+s.sliceEnd-s.sliceStart;s.line=s.line.slice(0,s.sliceEnd)+p+c.line.slice(c.sliceStart,c.sliceEnd),s.locked=s.locked||c.locked,s.sliceEnd=s.line.length,u.mappings.length>0&&u.mappings.forEach(function(f){n.push(f.add(d,h))})}else u.mappings.length>0&&n.push.apply(n,u.mappings);u.infos.forEach(function(c,p){(!s||p>0)&&(s={...c},i.push(s))})}}function a(u,c){c>0&&o(t),o(u)}if(r.map(function(u){let c=P(u);return c.isEmpty()?null:c}).forEach((u,c)=>{t.isEmpty()?o(u):a(u,c)}),i.length<1)return Yn;let l=new e(i);return l.mappings=n,l}concat(...r){let t=[this];return t.push.apply(t,r),Yn.join(t)}},Vu={},Th=Vu.hasOwnProperty,m3=10;function Sw(e,r){let t=0,i=e.length;for(let n=0;n<i;++n)switch(e.charCodeAt(n)){case 9:{let s=Math.ceil(t/r)*r;s===t?t+=r:t=s;break}case 11:case 12:case 13:case 65279:break;case 32:default:t+=1;break}return t}var g3=/^\s*/,Ah=/\u000D\u000A|\u000D(?!\u000A)|\u000A|\u2028|\u2029/;function P(e,r){if(e instanceof Hs)return e;e+="";let t=r&&r.tabWidth,i=e.indexOf("	")<0,n=!r&&i&&e.length<=m3;if(n&&Th.call(Vu,e))return Vu[e];let s=new Hs(e.split(Ah).map(function(o){let a=g3.exec(o)[0];return{line:o,indent:Sw(a,t),locked:!1,sliceStart:a.length,sliceEnd:o.length}}),rc(r).sourceFileName);return n&&(Vu[e]=s),s}function Vs(e){return!/\S/.test(e)}function zs(e,r,t){let i=e.sliceStart,n=e.sliceEnd,s=Math.max(e.indent,0),o=s+n-i;return typeof t>"u"&&(t=o),r=Math.max(r,0),t=Math.min(t,o),t=Math.max(t,r),t<s?(s=t,n=i):n-=o-t,o=t,o-=r,r<s?s-=r:(r-=s,s=0,i+=r),e.indent===s&&e.sliceStart===i&&e.sliceEnd===n?e:{line:e.line,indent:s,locked:!1,sliceStart:i,sliceEnd:n}}function v(e){return Yn.join(e)}var Yn=P(""),Js=Ur,vw=jr.array,y3=jr.object,Zv=new WeakMap;function ww(e,r,t){if(!e)return t;if(kh(e,r),t){if(Js.Node.check(e)&&Js.SourceLocation.check(e.loc)){let n=t.length-1;for(;n>=0;--n){let s=t[n];if(s&&s.loc&&Te(s.loc.end,e.loc.start)<=0)break}return t.splice(n+1,0,e),t}}else{let n=Zv.get(e);if(n)return n}let i;if(vw.check(e))i=Object.keys(e);else if(y3.check(e))i=t3(e);else return t;t||Zv.set(e,t=[]);for(let n=0,s=i.length;n<s;++n)ww(e[i[n]],r,t);return t}function Tw(e,r,t){let i=ww(e,t),n=0,s=i&&i.length,o,a;for(;typeof s=="number"&&n<s;){let l=n+s>>1,u=i[l];if(Te(u.loc.start,r.loc.start)<=0&&Te(r.loc.end,u.loc.end)<=0){Tw(r.enclosingNode=u,r,t);return}if(Te(u.loc.end,r.loc.start)<=0){o=u,n=l+1;continue}if(Te(r.loc.end,u.loc.start)<=0){a=u,s=l;continue}throw new Error("Comment location overlaps with node location")}o&&(r.precedingNode=o),a&&(r.followingNode=a)}function b3(e,r,t){if(!vw.check(e))return;let i=[];e.forEach(function(n){n.loc.lines=t,Tw(r,n,t);let s=n.precedingNode,o=n.enclosingNode,a=n.followingNode;if(s&&a){let l=i.length;l>0&&i[l-1].followingNode!==n.followingNode&&Ea(i,t),i.push(n)}else if(s)Ea(i,t),Pw(s,n);else if(a)Ea(i,t),Aw(a,n);else if(o)Ea(i,t),D3(o,n);else throw new Error("AST contains no nodes at all?")}),Ea(i,t),e.forEach(function(n){delete n.precedingNode,delete n.enclosingNode,delete n.followingNode})}function Ea(e,r){let t=e.length;if(t===0)return;let i=e[0].precedingNode,n=e[0].followingNode,s=n.loc.start,o=t,a;for(;o>0;--o){a=e[o-1];let l=r.sliceString(a.loc.end,s);if(/\S/.test(l))break;s=a.loc.start}for(;o<=t&&(a=e[o])&&(a.type==="Line"||a.type==="CommentLine")&&a.loc.start.column>n.loc.start.column;)++o;if(o){let{enclosingNode:l}=e[o-1];l?.type==="CallExpression"&&--o}e.forEach(function(l,u){u<o?Pw(i,l):Aw(n,l)}),e.length=0}function Oh(e,r){(e.comments||(e.comments=[])).push(r)}function Aw(e,r){r.leading=!0,r.trailing=!1,Oh(e,r)}function D3(e,r){r.leading=!1,r.trailing=!1,Oh(e,r)}function Pw(e,r){r.leading=!1,r.trailing=!0,Oh(e,r)}function x3(e,r){let t=e.getValue();Js.Comment.assert(t);let i=t.loc,n=i&&i.lines,s=[r(e)];if(t.trailing)s.push(`
`);else if(n instanceof Hs){let o=n.slice(i.end,n.skipSpaces(i.end)||n.lastPos());o.length===1?s.push(o):s.push(new Array(o.length).join(`
`))}else s.push(`
`);return v(s)}function E3(e,r){let t=e.getValue(e);Js.Comment.assert(t);let i=t.loc,n=i&&i.lines,s=[];if(n instanceof Hs){let o=n.skipSpaces(i.start,!0)||n.firstPos(),a=n.slice(o,i.start);a.length===1?s.push(a):s.push(new Array(a.length).join(`
`))}return s.push(r(e)),v(s)}function ew(e,r){let t=e.getValue(),i=r(e),n=Js.Node.check(t)&&Hi(t,"comments");if(!n||n.length===0)return i;let s=[],o=[i];return e.each(function(a){let l=a.getValue(),u=Hi(l,"leading"),c=Hi(l,"trailing");u||c&&!(Js.Statement.check(t)||l.type==="Block"||l.type==="CommentBlock")?s.push(x3(a,r)):c&&o.push(E3(a,r))},"comments"),s.push.apply(s,o),v(s)}var C3=Ys,S3=jr.object,v3=jr.array;function Iw(e,r){r=rc(r);let t=P(e,r),i=t.toString({tabWidth:r.tabWidth,reuseWhitespace:!1,useTabs:!1}),n=[],s=r.parser.parse(i,{jsx:!0,loc:!0,locations:!0,range:r.range,comment:!0,onComment:n,tolerant:Xv(r,"tolerant",!0),ecmaVersion:6,sourceType:Xv(r,"sourceType","module")}),o=Array.isArray(s.tokens)?s.tokens:!1;delete s.tokens,o.forEach(function(c){typeof c.value!="string"&&(c.value=t.sliceString(c.loc.start,c.loc.end))}),Array.isArray(s.comments)&&(n=s.comments,delete s.comments),s.loc?kh(s,t):s.loc={start:t.firstPos(),end:t.lastPos()},s.loc.lines=t,s.loc.indent=0;let a,l;s.type==="Program"?(l=s,a=C3.file(s,r.sourceFileName||null),a.loc={start:t.firstPos(),end:t.lastPos(),lines:t,indent:0}):s.type==="File"&&(a=s,l=a.program),r.tokens&&(a.tokens=o);let u=Ew({type:l.type,loc:l.loc,body:[],comments:n},t);return l.loc.start=u.start,l.loc.end=u.end,b3(n,l.body.length?a.program:a,t),new _w(t,o).copy(a)}var _w=function(r,t){this.lines=r,this.tokens=t,this.startTokenIndex=0,this.endTokenIndex=t.length,this.indent=0,this.seen=new Map},Nw=_w.prototype;Nw.copy=function(e){if(this.seen.has(e))return this.seen.get(e);if(v3.check(e)){let u=new Array(e.length);return this.seen.set(e,u),e.forEach(function(c,p){u[p]=this.copy(c)},this),u}if(!S3.check(e))return e;kh(e,this.lines);let r=Object.create(Object.getPrototypeOf(e),{original:{value:e,configurable:!1,enumerable:!1,writable:!0}});this.seen.set(e,r);let t=e.loc,i=this.indent,n=i,s=this.startTokenIndex,o=this.endTokenIndex;t&&((e.type==="Block"||e.type==="Line"||e.type==="CommentBlock"||e.type==="CommentLine"||this.lines.isPrecededOnlyByWhitespace(t.start))&&(n=this.indent=t.start.column),t.lines=this.lines,t.tokens=this.tokens,t.indent=n,this.findTokenRange(t));let a=Object.keys(e),l=a.length;for(let u=0;u<l;++u){let c=a[u];c==="loc"||c==="tokens"&&e.type==="File"?r[c]=e[c]:r[c]=this.copy(e[c])}return this.indent=i,this.startTokenIndex=s,this.endTokenIndex=o,r};Nw.findTokenRange=function(e){for(;this.startTokenIndex>0;){let r=e.tokens[this.startTokenIndex];if(Te(e.start,r.loc.start)<0)--this.startTokenIndex;else break}for(;this.endTokenIndex<e.tokens.length;){let r=e.tokens[this.endTokenIndex];if(Te(r.loc.end,e.end)<0)++this.endTokenIndex;else break}for(;this.startTokenIndex<this.endTokenIndex;){let r=e.tokens[this.startTokenIndex];if(Te(r.loc.start,e.start)<0)++this.startTokenIndex;else break}for(e.start.token=this.startTokenIndex;this.endTokenIndex>this.startTokenIndex;){let r=e.tokens[this.endTokenIndex-1];if(Te(e.end,r.loc.end)<0)--this.endTokenIndex;else break}e.end.token=this.endTokenIndex};var He=Ur,w3=jr.array,T3=jr.number,Ph={};[["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]].forEach(function(e,r){e.forEach(function(t){Ph[t]=r})});var $r=function(r){this.stack=[r]},Ot=$r.prototype;$r.from=function(e){if(e instanceof $r)return e.copy();if(e instanceof i3){let r=Object.create($r.prototype),t=[e.value];for(let i;i=e.parentPath;e=i)t.push(e.name,i.value);return r.stack=t.reverse(),r}return new $r(e)};Ot.copy=function(){let r=Object.create($r.prototype);return r.stack=this.stack.slice(0),r};Ot.getName=function(){let r=this.stack,t=r.length;return t>1?r[t-2]:null};Ot.getValue=function(){let r=this.stack;return r[r.length-1]};Ot.valueIsDuplicate=function(){let e=this.stack,r=e.length-1;return e.lastIndexOf(e[r],r-1)>=0};function Fw(e,r){let t=e.stack;for(let i=t.length-1;i>=0;i-=2){let n=t[i];if(He.Node.check(n)&&--r<0)return n}return null}Ot.getNode=function(r=0){return Fw(this,~~r)};Ot.getParentNode=function(r=0){return Fw(this,~~r+1)};Ot.getRootValue=function(){let r=this.stack;return r.length%2===0?r[1]:r[0]};Ot.call=function(r){let t=this.stack,i=t.length,n=t[i-1],s=arguments.length;for(let a=1;a<s;++a){let l=arguments[a];n=n[l],t.push(l,n)}let o=r(this);return t.length=i,o};Ot.each=function(r){let t=this.stack,i=t.length,n=t[i-1],s=arguments.length;for(let o=1;o<s;++o){let a=arguments[o];n=n[a],t.push(a,n)}for(let o=0;o<n.length;++o)o in n&&(t.push(o,n[o]),r(this),t.length-=2);t.length=i};Ot.map=function(r){let t=this.stack,i=t.length,n=t[i-1],s=arguments.length;for(let a=1;a<s;++a){let l=arguments[a];n=n[l],t.push(l,n)}let o=new Array(n.length);for(let a=0;a<n.length;++a)a in n&&(t.push(a,n[a]),o[a]=r(this,a),t.length-=2);return t.length=i,o};Ot.hasParens=function(){let e=this.getNode(),r=this.getPrevToken(e);if(!r)return!1;let t=this.getNextToken(e);return t?!!(r.value==="("&&(t.value===")"||!this.canBeFirstInStatement()&&this.firstInStatement()&&!this.needsParens(!0))):!1};Ot.getPrevToken=function(e){e=e||this.getNode();let r=e&&e.loc,t=r&&r.tokens;if(t&&r.start.token>0){let i=t[r.start.token-1];if(i){let n=this.getRootValue().loc;if(Te(n.start,i.loc.start)<=0)return i}}return null};Ot.getNextToken=function(e){e=e||this.getNode();let r=e&&e.loc,t=r&&r.tokens;if(t&&r.end.token<t.length){let i=t[r.end.token];if(i){let n=this.getRootValue().loc;if(Te(i.loc.end,n.end)<=0)return i}}return null};Ot.needsParens=function(e){let r=this.getNode();if(r.type==="AssignmentExpression"&&r.left.type==="ObjectPattern")return!0;let t=this.getParentNode(),i=this.getName();if(this.getValue()!==r||He.Statement.check(r)||r.type==="Identifier"||t&&t.type==="ParenthesizedExpression")return!1;if(r.extra&&r.extra.parenthesized)return!0;if(!t)return!1;if(r.type==="UnaryExpression"&&t.type==="BinaryExpression"&&i==="left"&&t.left===r&&t.operator==="**")return!0;switch(r.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return t.type==="MemberExpression"&&i==="object"&&t.object===r;case"BinaryExpression":case"LogicalExpression":switch(t.type){case"CallExpression":return i==="callee"&&t.callee===r;case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return!0;case"MemberExpression":return i==="object"&&t.object===r;case"BinaryExpression":case"LogicalExpression":{let n=t.operator,s=Ph[n],o=r.operator,a=Ph[o];if(s>a||s===a&&i==="right")return!0;break}default:return!1}break;case"SequenceExpression":switch(t.type){case"ReturnStatement":return!1;case"ForStatement":return!1;case"ExpressionStatement":return i!=="expression";default:return!0}case"OptionalIndexedAccessType":return r.optional&&t.type==="IndexedAccessType";case"IntersectionTypeAnnotation":case"UnionTypeAnnotation":return t.type==="NullableTypeAnnotation";case"Literal":return t.type==="MemberExpression"&&T3.check(r.value)&&i==="object"&&t.object===r;case"NumericLiteral":return t.type==="MemberExpression"&&i==="object"&&t.object===r;case"YieldExpression":case"AwaitExpression":case"AssignmentExpression":case"ConditionalExpression":switch(t.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"BinaryExpression":case"LogicalExpression":return!0;case"CallExpression":case"NewExpression":return i==="callee"&&t.callee===r;case"ConditionalExpression":return i==="test"&&t.test===r;case"MemberExpression":return i==="object"&&t.object===r;default:return!1}case"ArrowFunctionExpression":return He.CallExpression.check(t)&&i==="callee"&&t.callee===r||He.MemberExpression.check(t)&&i==="object"&&t.object===r||He.TSAsExpression&&He.TSAsExpression.check(t)&&i==="expression"&&t.expression===r?!0:kw(t);case"ObjectExpression":if(t.type==="ArrowFunctionExpression"&&i==="body"&&t.body===r)return!0;break;case"TSAsExpression":if(t.type==="ArrowFunctionExpression"&&i==="body"&&t.body===r&&r.expression.type==="ObjectExpression")return!0;break;case"CallExpression":if(i==="declaration"&&He.ExportDefaultDeclaration.check(t)&&He.FunctionExpression.check(r.callee))return!0}return t.type==="NewExpression"&&i==="callee"&&t.callee===r?Ih(r):!!(e!==!0&&!this.canBeFirstInStatement()&&this.firstInStatement())};function kw(e){return He.BinaryExpression.check(e)||He.LogicalExpression.check(e)}function Ih(e){return He.CallExpression.check(e)?!0:w3.check(e)?e.some(Ih):He.Node.check(e)?n3(e,(r,t)=>Ih(t)):!1}Ot.canBeFirstInStatement=function(){let e=this.getNode();return!(He.FunctionExpression.check(e)||He.ObjectExpression.check(e)||He.ClassExpression.check(e))};Ot.firstInStatement=function(){let e=this.stack,r,t,i,n;for(let s=e.length-1;s>=0;s-=2)if(He.Node.check(e[s])&&(i=r,n=t,r=e[s-1],t=e[s]),!(!t||!n)){if(He.BlockStatement.check(t)&&r==="body"&&i===0||He.ExpressionStatement.check(t)&&i==="expression"||He.AssignmentExpression.check(t)&&i==="left"||He.ArrowFunctionExpression.check(t)&&i==="body")return!0;if(!(He.SequenceExpression.check(t)&&e[s+1]==="expressions"&&i===0)&&!(He.CallExpression.check(t)&&i==="callee")&&!(He.MemberExpression.check(t)&&i==="object")&&!(He.ConditionalExpression.check(t)&&i==="test")&&!(kw(t)&&i==="left")&&!(He.UnaryExpression.check(t)&&!t.prefix&&i==="argument"))return!1}return!0};var Ia=Ur.Printable,tw=Ur.Expression,A3=Ur.ReturnStatement,P3=Ur.SourceLocation,_a=jr.object,_h=jr.array,I3=jr.string,Qu=/[0-9a-z_$]/i,Ow=function(r){let t=this,i=[];t.replace=function(n,s){I3.check(s)&&(s=P(s)),i.push({lines:s,start:n.start,end:n.end})},t.get=function(n){n=n||{start:{line:1,column:0},end:{line:r.length,column:r.getLineLength(r.length)}};let s=n.start,o=[];function a(l,u){o.push(r.slice(l,u))}return i.sort((l,u)=>Te(l.start,u.start)).forEach(function(l){Te(s,l.start)>0||(a(s,l.start),o.push(l.lines),s=l.end)}),a(s,n.end),v(o)}},Rw=Ow.prototype;Rw.tryToReprintComments=function(e,r,t){let i=this;if(!e.comments&&!r.comments)return!0;let n=$r.from(e),s=$r.from(r);n.stack.push("comments",rw(e)),s.stack.push("comments",rw(r));let o=[],a=Mw(n,s,o);return a&&o.length>0&&o.forEach(function(l){let u=l.oldPath.getValue();i.replace(u.loc,t(l.newPath).indentTail(u.loc.indent))}),a};function rw(e){let r=[];return e.comments&&e.comments.length>0&&e.comments.forEach(function(t){(t.leading||t.trailing)&&r.push(t)}),r}Rw.deleteComments=function(e){if(!e.comments)return;let r=this;e.comments.forEach(function(t){t.leading?r.replace({start:t.loc.start,end:e.loc.lines.skipSpaces(t.loc.end,!1,!1)},""):t.trailing&&r.replace({start:e.loc.lines.skipSpaces(t.loc.start,!0,!1),end:t.loc.end},"")})};function _3(e){let r=e.getValue();if(!Ia.check(r))return;let t=r.original,i=t&&t.loc,n=i&&i.lines,s=[];if(!(!n||!k3(e,s)))return function(o){let a=new Ow(n);s.forEach(function(u){let c=u.newPath.getValue(),p=u.oldPath.getValue();P3.assert(p.loc,!0);let d=!a.tryToReprintComments(c,p,o);d&&a.deleteComments(p);let h=o(u.newPath,{includeComments:d,avoidRootParens:p.type===c.type&&u.oldPath.hasParens()}).indentTail(p.loc.indent),f=N3(n,p.loc,h),g=F3(n,p.loc,h);if(f||g){let m=[];f&&m.push(" "),m.push(h),g&&m.push(" "),h=v(m)}a.replace(p.loc,h)});let l=a.get(i).indentTail(-t.loc.indent);return e.needsParens()?v(["(",l,")"]):l}}function N3(e,r,t){let i=En(r.start),n=e.prevPos(i)&&e.charAt(i),s=t.charAt(t.firstPos());return n&&Qu.test(n)&&s&&Qu.test(s)}function F3(e,r,t){let i=e.charAt(r.end),n=t.lastPos(),s=t.prevPos(n)&&t.charAt(n);return s&&Qu.test(s)&&i&&Qu.test(i)}function k3(e,r){let t=e.getValue();Ia.assert(t);let i=t.original;if(Ia.assert(i),t.type!==i.type)return!1;let n=new $r(i),s=Nh(e,n,r);return s||(r.length=0),s}function Lw(e,r,t){let i=e.getValue(),n=r.getValue();return i===n?!0:_h.check(i)?Mw(e,r,t):_a.check(i)?O3(e,r,t):!1}function Mw(e,r,t){let i=e.getValue(),n=r.getValue();if(i===n||e.valueIsDuplicate()||r.valueIsDuplicate())return!0;_h.assert(i);let s=i.length;if(!(_h.check(n)&&n.length===s))return!1;for(let o=0;o<s;++o){e.stack.push(o,i[o]),r.stack.push(o,n[o]);let a=Lw(e,r,t);if(e.stack.length-=2,r.stack.length-=2,!a)return!1}return!0}function O3(e,r,t){let i=e.getValue();if(_a.assert(i),i.original===null)return!1;let n=r.getValue();if(!_a.check(n))return!1;if(i===n||e.valueIsDuplicate()||r.valueIsDuplicate())return!0;if(Ia.check(i)){if(!Ia.check(n))return!1;let s=e.getParentNode(),o=r.getParentNode();if(o!==null&&o.type==="FunctionTypeAnnotation"&&s!==null&&s.type==="FunctionTypeAnnotation"){let a=o.params.length!==1||!!o.params[0].name,l=s.params.length!==1||!!s.params[0].name;if(!a&&l)return!1}if(i.type===n.type){let a=[];if(Nh(e,r,a))t.push.apply(t,a);else if(n.loc)t.push({oldPath:r.copy(),newPath:e.copy()});else return!1;return!0}return tw.check(i)&&tw.check(n)&&n.loc?(t.push({oldPath:r.copy(),newPath:e.copy()}),!0):!1}return Nh(e,r,t)}function Nh(e,r,t){let i=e.getValue(),n=r.getValue();if(_a.assert(i),_a.assert(n),i.original===null||e.needsParens()&&!r.hasParens())return!1;let s=a3(n,i);(n.type==="File"||i.type==="File")&&delete s.tokens,delete s.loc;let o=t.length;for(let a in s){if(a.charAt(0)==="_")continue;e.stack.push(a,Hi(i,a)),r.stack.push(a,Hi(n,a));let l=Lw(e,r,t);if(e.stack.length-=2,r.stack.length-=2,!l)return!1}return!(A3.check(e.getNode())&&t.length>o)}var ot=Ur,Rh=jr.string,R3=jr.object,Zu=function(r,t){Rh.assert(r),this.code=r,t&&(R3.assert(t),this.map=t)},L3=Zu.prototype,iw=!1;L3.toString=function(){return iw||(console.warn("Deprecation warning: recast.print now returns an object with a .code property. You appear to be treating the object as a string, which might still work but is strongly discouraged."),iw=!0),this.code};var nw=new Zu(""),M3=function(r){let t=r&&r.tabWidth;r=rc(r),r.sourceFileName=null;function i(s,o){return s=Object.assign({},s,o),a=>n(a,s)}function n(s,o){if(o=o||{},o.includeComments)return ew(s,i(o,{includeComments:!1}));let a=r.tabWidth;if(!t){let c=s.getNode().loc;c&&c.lines&&c.lines.guessTabWidth&&(r.tabWidth=c.lines.guessTabWidth())}let l=_3(s),u=l?l(n):sw(s,r,o,i(o,{includeComments:!0,avoidRootParens:!1}));return r.tabWidth=a,u}this.print=function(s){if(!s)return nw;let o=n($r.from(s),{includeComments:!0,avoidRootParens:!1});return new Zu(o.toString(r),l3(r.inputSourceMap,o.getSourceMap(r.sourceMapName,r.sourceRoot)))},this.printGenerically=function(s){if(!s)return nw;function o(c){return ew(c,p=>sw(p,r,{includeComments:!0,avoidRootParens:!1},o))}let a=$r.from(s),l=r.reuseWhitespace;r.reuseWhitespace=!1;let u=new Zu(o(a).toString(r));return r.reuseWhitespace=l,u}};function sw(e,r,t,i){let n=e.getValue(),s=[],o=B3(e,r,i);if(!n||o.isEmpty())return o;let a=!1,l=$3(e,i);return l.isEmpty()?t.avoidRootParens||(a=e.needsParens()):s.push(l),a&&s.unshift("("),s.push(o),a&&s.push(")"),v(s)}function B3(e,r,t){let i=e.getValue();if(!i)return P("");if(typeof i=="string")return P(i,r);ot.Printable.assert(i);let n=[];switch(i.type){case"File":return e.call(t,"program");case"Program":return i.directives&&e.each(function(s){n.push(t(s),`;
`)},"directives"),i.interpreter&&n.push(e.call(t,"interpreter")),n.push(e.call(s=>Ws(s,r,t),"body")),v(n);case"Noop":case"EmptyStatement":return P("");case"ExpressionStatement":return v([e.call(t,"expression"),";"]);case"ParenthesizedExpression":return v(["(",e.call(t,"expression"),")"]);case"BinaryExpression":case"LogicalExpression":case"AssignmentExpression":return P(" ").join([e.call(t,"left"),i.operator,e.call(t,"right")]);case"AssignmentPattern":return v([e.call(t,"left")," = ",e.call(t,"right")]);case"MemberExpression":case"OptionalMemberExpression":{n.push(e.call(t,"object"));let s=e.call(t,"property"),o=Hi(i,"optional");return i.computed?n.push(o?"?.[":"[",s,"]"):n.push(o?"?.":".",s),v(n)}case"ChainExpression":return e.call(t,"expression");case"MetaProperty":return v([e.call(t,"meta"),".",e.call(t,"property")]);case"BindExpression":return i.object&&n.push(e.call(t,"object")),n.push("::",e.call(t,"callee")),v(n);case"Path":return P(".").join(i.body);case"Identifier":return v([P(i.name,r),i.optional?"?":"",e.call(t,"typeAnnotation")]);case"SpreadElement":case"SpreadElementPattern":case"RestProperty":case"SpreadProperty":case"SpreadPropertyPattern":case"ObjectTypeSpreadProperty":case"RestElement":return v(["...",e.call(t,"argument"),e.call(t,"typeAnnotation")]);case"FunctionDeclaration":case"FunctionExpression":case"TSDeclareFunction":return i.declare&&n.push("declare "),i.async&&n.push("async "),n.push("function"),i.generator&&n.push("*"),i.id?n.push(" ",e.call(t,"id"),e.call(t,"typeParameters")):i.typeParameters&&n.push(e.call(t,"typeParameters")),n.push("(",hi(e,r,t),")",e.call(t,"returnType")),i.body&&n.push(" ",e.call(t,"body")),v(n);case"ArrowFunctionExpression":return i.async&&n.push("async "),i.typeParameters&&n.push(e.call(t,"typeParameters")),!r.arrowParensAlways&&i.params.length===1&&!i.rest&&i.params[0].type==="Identifier"&&!i.params[0].typeAnnotation&&!i.returnType?n.push(e.call(t,"params",0)):n.push("(",hi(e,r,t),")",e.call(t,"returnType")),n.push(" => ",e.call(t,"body")),v(n);case"MethodDefinition":return xh(e,r,t);case"YieldExpression":return n.push("yield"),i.delegate&&n.push("*"),i.argument&&n.push(" ",e.call(t,"argument")),v(n);case"AwaitExpression":return n.push("await"),i.all&&n.push("*"),i.argument&&n.push(" ",e.call(t,"argument")),v(n);case"ModuleExpression":return v([`module {
`,e.call(t,"body").indent(r.tabWidth),`
}`]);case"ModuleDeclaration":return n.push("module",e.call(t,"id")),i.source?n.push("from",e.call(t,"source")):n.push(e.call(t,"body")),P(" ").join(n);case"ImportSpecifier":return i.importKind&&i.importKind!=="value"&&n.push(i.importKind+" "),i.imported?(n.push(e.call(t,"imported")),i.local&&i.local.name!==i.imported.name&&n.push(" as ",e.call(t,"local"))):i.id&&(n.push(e.call(t,"id")),i.name&&n.push(" as ",e.call(t,"name"))),v(n);case"ExportSpecifier":return i.exportKind&&i.exportKind!=="value"&&n.push(i.exportKind+" "),i.local?(n.push(e.call(t,"local")),i.exported&&i.exported.name!==i.local.name&&n.push(" as ",e.call(t,"exported"))):i.id&&(n.push(e.call(t,"id")),i.name&&n.push(" as ",e.call(t,"name"))),v(n);case"ExportBatchSpecifier":return P("*");case"ImportNamespaceSpecifier":return n.push("* as "),i.local?n.push(e.call(t,"local")):i.id&&n.push(e.call(t,"id")),v(n);case"ImportDefaultSpecifier":return i.local?e.call(t,"local"):e.call(t,"id");case"TSExportAssignment":return v(["export = ",e.call(t,"expression")]);case"ExportDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":return aw(e,r,t);case"ExportAllDeclaration":return n.push("export *"),i.exported&&n.push(" as ",e.call(t,"exported")),n.push(" from ",e.call(t,"source"),";"),v(n);case"TSNamespaceExportDeclaration":return n.push("export as namespace ",e.call(t,"id")),zu(v(n));case"ExportNamespaceSpecifier":return v(["* as ",e.call(t,"exported")]);case"ExportDefaultSpecifier":return e.call(t,"exported");case"Import":return P("import",r);case"ImportExpression":return v(["import(",e.call(t,"source"),")"]);case"ImportDeclaration":{if(n.push("import "),i.importKind&&i.importKind!=="value"&&n.push(i.importKind+" "),i.specifiers&&i.specifiers.length>0){let s=[],o=[];if(e.each(function(a){let l=a.getValue();l.type==="ImportSpecifier"?o.push(t(a)):(l.type==="ImportDefaultSpecifier"||l.type==="ImportNamespaceSpecifier")&&s.push(t(a))},"specifiers"),s.forEach((a,l)=>{l>0&&n.push(", "),n.push(a)}),o.length>0){let a=P(", ").join(o);a.getLineLength(1)>r.wrapColumn&&(a=v([P(`,
`).join(o).indent(r.tabWidth),","])),s.length>0&&n.push(", "),a.length>1?n.push(`{
`,a,`
}`):r.objectCurlySpacing?n.push("{ ",a," }"):n.push("{",a,"}")}n.push(" from ")}return n.push(e.call(t,"source"),$w(e,r,t),";"),v(n)}case"ImportAttribute":return v([e.call(t,"key"),": ",e.call(t,"value")]);case"StaticBlock":n.push("static ");case"BlockStatement":{let s=e.call(o=>Ws(o,r,t),"body");return s.isEmpty()&&(!i.directives||i.directives.length===0)?(n.push("{}"),v(n)):(n.push(`{
`),i.directives&&e.each(function(o){n.push(zu(t(o).indent(r.tabWidth)),i.directives.length>1||!s.isEmpty()?`
`:"")},"directives"),n.push(s.indent(r.tabWidth)),n.push(`
}`),v(n))}case"ReturnStatement":{if(n.push("return"),i.argument){let s=e.call(t,"argument");s.startsWithComment()||s.length>1&&ot.JSXElement&&ot.JSXElement.check(i.argument)?n.push(` (
`,s.indent(r.tabWidth),`
)`):n.push(" ",s)}return n.push(";"),v(n)}case"CallExpression":case"OptionalCallExpression":return n.push(e.call(t,"callee")),i.typeParameters&&n.push(e.call(t,"typeParameters")),i.typeArguments&&n.push(e.call(t,"typeArguments")),Hi(i,"optional")&&n.push("?."),n.push(ow(e,r,t)),v(n);case"RecordExpression":n.push("#");case"ObjectExpression":case"ObjectPattern":case"ObjectTypeAnnotation":{let s=i.type==="ObjectTypeAnnotation",o=r.flowObjectCommas?",":s?";":",",a=[],l=!1;s&&(a.push("indexers","callProperties"),i.internalSlots!=null&&a.push("internalSlots")),a.push("properties");let u=0;a.forEach(function(g){u+=i[g].length});let c=s&&u===1||u===0,p=i.exact?"{|":"{",d=i.exact?"|}":"}";n.push(c?p:p+`
`);let h=n.length-1,f=0;if(a.forEach(function(g){e.each(function(m){let y=t(m);c||(y=y.indent(r.tabWidth));let b=!s&&y.length>1;b&&l&&n.push(`
`),n.push(y),f<u-1?(n.push(o+(b?`

`:`
`)),l=!b):(u!==1&&s||!c&&Aa(r,"objects")&&m.getValue().type!=="RestElement")&&n.push(o),f++},g)}),i.inexact){let g=P("...",r);c?(u>0&&n.push(o," "),n.push(g)):n.push(`
`,g.indent(r.tabWidth))}return n.push(c?d:`
`+d),f!==0&&c&&r.objectCurlySpacing&&(n[h]=p+" ",n[n.length-1]=" "+d),i.typeAnnotation&&n.push(e.call(t,"typeAnnotation")),v(n)}case"PropertyPattern":return v([e.call(t,"key"),": ",e.call(t,"pattern")]);case"ObjectProperty":case"Property":{if(i.method||i.kind==="get"||i.kind==="set")return xh(e,r,t);if(i.shorthand&&i.value.type==="AssignmentPattern")return e.call(t,"value");let s=e.call(t,"key");return i.computed?n.push("[",s,"]"):n.push(s),(!i.shorthand||i.key.name!==i.value.name)&&n.push(": ",e.call(t,"value")),v(n)}case"ClassMethod":case"ObjectMethod":case"ClassPrivateMethod":case"TSDeclareMethod":return xh(e,r,t);case"PrivateName":return v(["#",e.call(t,"id")]);case"Decorator":return v(["@",e.call(t,"expression")]);case"TupleExpression":n.push("#");case"ArrayExpression":case"ArrayPattern":{let o=i.elements.length,a=e.map(t,"elements"),u=P(", ").join(a).getLineLength(1)<=r.wrapColumn;return u?r.arrayBracketSpacing?n.push("[ "):n.push("["):n.push(`[
`),e.each(function(c){let p=c.getName();if(!c.getValue())n.push(",");else{let h=a[p];u?p>0&&n.push(" "):h=h.indent(r.tabWidth),n.push(h),(p<o-1||!u&&Aa(r,"arrays"))&&n.push(","),u||n.push(`
`)}},"elements"),u&&r.arrayBracketSpacing?n.push(" ]"):n.push("]"),i.typeAnnotation&&n.push(e.call(t,"typeAnnotation")),v(n)}case"SequenceExpression":return P(", ").join(e.map(t,"expressions"));case"ThisExpression":return P("this");case"Super":return P("super");case"NullLiteral":return P("null");case"RegExpLiteral":return P(Gs(i)||`/${i.pattern}/${i.flags||""}`,r);case"BigIntLiteral":return P(Gs(i)||i.value+"n",r);case"NumericLiteral":return P(Gs(i)||i.value,r);case"DecimalLiteral":return P(Gs(i)||i.value+"m",r);case"StringLiteral":return P(va(i.value,r));case"BooleanLiteral":case"Literal":return P(Gs(i)||(typeof i.value=="string"?va(i.value,r):i.value),r);case"Directive":return e.call(t,"value");case"DirectiveLiteral":return P(Gs(i)||va(i.value,r),r);case"InterpreterDirective":return P(`#!${i.value}
`,r);case"ModuleSpecifier":if(i.local)throw new Error("The ESTree ModuleSpecifier type should be abstract");return P(va(i.value,r),r);case"UnaryExpression":return n.push(i.operator),/[a-z]$/.test(i.operator)&&n.push(" "),n.push(e.call(t,"argument")),v(n);case"UpdateExpression":return n.push(e.call(t,"argument"),i.operator),i.prefix&&n.reverse(),v(n);case"ConditionalExpression":return v([e.call(t,"test")," ? ",e.call(t,"consequent")," : ",e.call(t,"alternate")]);case"NewExpression":return n.push("new ",e.call(t,"callee")),i.typeParameters&&n.push(e.call(t,"typeParameters")),i.typeArguments&&n.push(e.call(t,"typeArguments")),i.arguments&&n.push(ow(e,r,t)),v(n);case"VariableDeclaration":{i.declare&&n.push("declare "),n.push(i.kind," ");let s=0,o=e.map(function(l){let u=t(l);return s=Math.max(u.length,s),u},"declarations");s===1?n.push(P(", ").join(o)):o.length>1?n.push(P(`,
`).join(o).indentTail(i.kind.length+1)):n.push(o[0]);let a=e.getParentNode();return!ot.ForStatement.check(a)&&!ot.ForInStatement.check(a)&&!(ot.ForOfStatement&&ot.ForOfStatement.check(a))&&!(ot.ForAwaitStatement&&ot.ForAwaitStatement.check(a))&&n.push(";"),v(n)}case"VariableDeclarator":return i.init?P(" = ").join([e.call(t,"id"),e.call(t,"init")]):e.call(t,"id");case"WithStatement":return v(["with (",e.call(t,"object"),") ",e.call(t,"body")]);case"IfStatement":{let s=Jn(e.call(t,"consequent"),r);return n.push("if (",e.call(t,"test"),")",s),i.alternate&&n.push(lw(s)?" else":`
else`,Jn(e.call(t,"alternate"),r)),v(n)}case"ForStatement":{let s=e.call(t,"init"),o=s.length>1?`;
`:"; ",a="for (",l=P(o).join([s,e.call(t,"test"),e.call(t,"update")]).indentTail(a.length),u=v([a,l,")"]),c=Jn(e.call(t,"body"),r);return n.push(u),u.length>1&&(n.push(`
`),c=c.trimLeft()),n.push(c),v(n)}case"WhileStatement":return v(["while (",e.call(t,"test"),")",Jn(e.call(t,"body"),r)]);case"ForInStatement":return v([i.each?"for each (":"for (",e.call(t,"left")," in ",e.call(t,"right"),")",Jn(e.call(t,"body"),r)]);case"ForOfStatement":case"ForAwaitStatement":return n.push("for "),(i.await||i.type==="ForAwaitStatement")&&n.push("await "),n.push("(",e.call(t,"left")," of ",e.call(t,"right"),")",Jn(e.call(t,"body"),r)),v(n);case"DoWhileStatement":{let s=v(["do",Jn(e.call(t,"body"),r)]);return n.push(s),lw(s)?n.push(" while"):n.push(`
while`),n.push(" (",e.call(t,"test"),");"),v(n)}case"DoExpression":{let s=e.call(o=>Ws(o,r,t),"body");return v([`do {
`,s.indent(r.tabWidth),`
}`])}case"BreakStatement":return n.push("break"),i.label&&n.push(" ",e.call(t,"label")),n.push(";"),v(n);case"ContinueStatement":return n.push("continue"),i.label&&n.push(" ",e.call(t,"label")),n.push(";"),v(n);case"LabeledStatement":return v([e.call(t,"label"),`:
`,e.call(t,"body")]);case"TryStatement":return n.push("try ",e.call(t,"block")),i.handler?n.push(" ",e.call(t,"handler")):i.handlers&&e.each(function(s){n.push(" ",t(s))},"handlers"),i.finalizer&&n.push(" finally ",e.call(t,"finalizer")),v(n);case"CatchClause":return n.push("catch "),i.param&&n.push("(",e.call(t,"param")),i.guard&&n.push(" if ",e.call(t,"guard")),i.param&&n.push(") "),n.push(e.call(t,"body")),v(n);case"ThrowStatement":return v(["throw ",e.call(t,"argument"),";"]);case"SwitchStatement":return v(["switch (",e.call(t,"discriminant"),`) {
`,P(`
`).join(e.map(t,"cases")),`
}`]);case"SwitchCase":return i.test?n.push("case ",e.call(t,"test"),":"):n.push("default:"),i.consequent.length>0&&n.push(`
`,e.call(s=>Ws(s,r,t),"consequent").indent(r.tabWidth)),v(n);case"DebuggerStatement":return P("debugger;");case"JSXAttribute":return n.push(e.call(t,"name")),i.value&&n.push("=",e.call(t,"value")),v(n);case"JSXIdentifier":return P(i.name,r);case"JSXNamespacedName":return P(":").join([e.call(t,"namespace"),e.call(t,"name")]);case"JSXMemberExpression":return P(".").join([e.call(t,"object"),e.call(t,"property")]);case"JSXSpreadAttribute":return v(["{...",e.call(t,"argument"),"}"]);case"JSXSpreadChild":return v(["{...",e.call(t,"expression"),"}"]);case"JSXExpressionContainer":return v(["{",e.call(t,"expression"),"}"]);case"JSXElement":case"JSXFragment":{let s="opening"+(i.type==="JSXElement"?"Element":"Fragment"),o="closing"+(i.type==="JSXElement"?"Element":"Fragment"),a=e.call(t,s);if(i[s].selfClosing)return a;let l=v(e.map(function(c){let p=c.getValue();if(ot.Literal.check(p)&&typeof p.value=="string"){if(/\S/.test(p.value))return p.value.replace(/^\s+|\s+$/g,"");if(/\n/.test(p.value))return`
`}return t(c)},"children")).indentTail(r.tabWidth),u=e.call(t,o);return v([a,l,u])}case"JSXOpeningElement":{n.push("<",e.call(t,"name"));let s=[];e.each(function(l){s.push(" ",t(l))},"attributes");let o=v(s);return(o.length>1||o.getLineLength(1)>r.wrapColumn)&&(s.forEach(function(l,u){l===" "&&(s[u]=`
`)}),o=v(s).indentTail(r.tabWidth)),n.push(o,i.selfClosing?" />":">"),v(n)}case"JSXClosingElement":return v(["</",e.call(t,"name"),">"]);case"JSXOpeningFragment":return P("<>");case"JSXClosingFragment":return P("</>");case"JSXText":return P(i.value,r);case"JSXEmptyExpression":return P("");case"TypeAnnotatedIdentifier":return v([e.call(t,"annotation")," ",e.call(t,"identifier")]);case"ClassBody":return i.body.length===0?P("{}"):v([`{
`,e.call(s=>Ws(s,r,t),"body").indent(r.tabWidth),`
}`]);case"ClassPropertyDefinition":return n.push("static ",e.call(t,"definition")),ot.MethodDefinition.check(i.definition)||n.push(";"),v(n);case"ClassProperty":{i.declare&&n.push("declare ");let s=i.accessibility||i.access;typeof s=="string"&&n.push(s," "),i.static&&n.push("static "),i.abstract&&n.push("abstract "),i.readonly&&n.push("readonly ");let o=e.call(t,"key");return i.computed&&(o=v(["[",o,"]"])),i.variance&&(o=v([Sa(e,t),o])),n.push(o),i.optional&&n.push("?"),i.definite&&n.push("!"),i.typeAnnotation&&n.push(e.call(t,"typeAnnotation")),i.value&&n.push(" = ",e.call(t,"value")),n.push(";"),v(n)}case"ClassPrivateProperty":return i.static&&n.push("static "),n.push(e.call(t,"key")),i.typeAnnotation&&n.push(e.call(t,"typeAnnotation")),i.value&&n.push(" = ",e.call(t,"value")),n.push(";"),v(n);case"ClassAccessorProperty":return n.push(...Bw(i),"accessor "),i.computed?n.push("[",e.call(t,"key"),"]"):n.push(e.call(t,"key")),i.optional&&n.push("?"),i.definite&&n.push("!"),i.typeAnnotation&&n.push(e.call(t,"typeAnnotation")),i.value&&n.push(" = ",e.call(t,"value")),n.push(";"),v(n);case"ClassDeclaration":case"ClassExpression":case"DeclareClass":return i.declare&&n.push("declare "),i.abstract&&n.push("abstract "),n.push("class"),i.id&&n.push(" ",e.call(t,"id")),i.typeParameters&&n.push(e.call(t,"typeParameters")),i.superClass&&n.push(" extends ",e.call(t,"superClass"),e.call(t,"superTypeParameters")),i.extends&&i.extends.length>0&&n.push(" extends ",P(", ").join(e.map(t,"extends"))),i.implements&&i.implements.length>0&&n.push(" implements ",P(", ").join(e.map(t,"implements"))),n.push(" ",e.call(t,"body")),i.type==="DeclareClass"?Ca(e,n):v(n);case"TemplateElement":return P(i.value.raw,r).lockIndentTail();case"TemplateLiteral":{let s=e.map(t,"expressions");return n.push("`"),e.each(function(o){let a=o.getName();n.push(t(o)),a<s.length&&n.push("${",s[a],"}")},"quasis"),n.push("`"),v(n).lockIndentTail()}case"TaggedTemplateExpression":return v([e.call(t,"tag"),e.call(t,"quasi")]);case"Node":case"Printable":case"SourceLocation":case"Position":case"Statement":case"Function":case"Pattern":case"Expression":case"Declaration":case"Specifier":case"NamedSpecifier":case"Comment":case"Flow":case"FlowType":case"FlowPredicate":case"MemberTypeAnnotation":case"Type":case"TSHasOptionalTypeParameterInstantiation":case"TSHasOptionalTypeParameters":case"TSHasOptionalTypeAnnotation":case"ChainElement":throw new Error("unprintable type: "+JSON.stringify(i.type));case"CommentBlock":case"Block":return v(["/*",P(i.value,r),"*/"]);case"CommentLine":case"Line":return v(["//",P(i.value,r)]);case"TypeAnnotation":return i.typeAnnotation?(i.typeAnnotation.type!=="FunctionTypeAnnotation"&&n.push(": "),n.push(e.call(t,"typeAnnotation")),v(n)):P("");case"ExistentialTypeParam":case"ExistsTypeAnnotation":return P("*",r);case"EmptyTypeAnnotation":return P("empty",r);case"AnyTypeAnnotation":return P("any",r);case"MixedTypeAnnotation":return P("mixed",r);case"ArrayTypeAnnotation":return v([e.call(t,"elementType"),"[]"]);case"TupleTypeAnnotation":{let s=e.map(t,"types"),a=P(", ").join(s).getLineLength(1)<=r.wrapColumn;return a?r.arrayBracketSpacing?n.push("[ "):n.push("["):n.push(`[
`),e.each(function(l){let u=l.getName();if(!l.getValue())n.push(",");else{let p=s[u];a?u>0&&n.push(" "):p=p.indent(r.tabWidth),n.push(p),(u<i.types.length-1||!a&&Aa(r,"arrays"))&&n.push(","),a||n.push(`
`)}},"types"),a&&r.arrayBracketSpacing?n.push(" ]"):n.push("]"),v(n)}case"BooleanTypeAnnotation":return P("boolean",r);case"BooleanLiteralTypeAnnotation":return P(""+i.value,r);case"InterfaceTypeAnnotation":return n.push("interface"),i.extends&&i.extends.length>0&&n.push(" extends ",P(", ").join(e.map(t,"extends"))),n.push(" ",e.call(t,"body")),v(n);case"DeclareFunction":return Ca(e,["function ",e.call(t,"id"),";"]);case"DeclareModule":return Ca(e,["module ",e.call(t,"id")," ",e.call(t,"body")]);case"DeclareModuleExports":return Ca(e,["module.exports",e.call(t,"typeAnnotation")]);case"DeclareVariable":return Ca(e,["var ",e.call(t,"id"),";"]);case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":return v(["declare ",aw(e,r,t)]);case"EnumDeclaration":return v(["enum ",e.call(t,"id"),e.call(t,"body")]);case"EnumBooleanBody":case"EnumNumberBody":case"EnumStringBody":case"EnumSymbolBody":return(i.type==="EnumSymbolBody"||i.explicitType)&&n.push(" of ",i.type.slice(4,-4).toLowerCase()),n.push(` {
`,P(`
`).join(e.map(t,"members")).indent(r.tabWidth),`
}`),v(n);case"EnumDefaultedMember":return v([e.call(t,"id"),","]);case"EnumBooleanMember":case"EnumNumberMember":case"EnumStringMember":return v([e.call(t,"id")," = ",e.call(t,"init"),","]);case"InferredPredicate":return P("%checks",r);case"DeclaredPredicate":return v(["%checks(",e.call(t,"value"),")"]);case"FunctionTypeAnnotation":{let s=e.getParentNode(0),o=!(ot.ObjectTypeCallProperty.check(s)||ot.ObjectTypeInternalSlot.check(s)&&s.method||ot.DeclareFunction.check(e.getParentNode(2)));o&&!ot.FunctionTypeParam.check(s)&&!ot.TypeAlias.check(s)&&n.push(": ");let l=!!i.typeParameters,u=l||i.params.length!==1||i.params[0].name;return n.push(l?e.call(t,"typeParameters"):"",u?"(":"",hi(e,r,t),u?")":""),i.returnType&&n.push(o?" => ":": ",e.call(t,"returnType")),v(n)}case"FunctionTypeParam":{let s=e.call(t,"name");return n.push(s),i.optional&&n.push("?"),s.infos[0].line&&n.push(": "),n.push(e.call(t,"typeAnnotation")),v(n)}case"GenericTypeAnnotation":return v([e.call(t,"id"),e.call(t,"typeParameters")]);case"DeclareInterface":n.push("declare ");case"InterfaceDeclaration":case"TSInterfaceDeclaration":return i.declare&&n.push("declare "),n.push("interface ",e.call(t,"id"),e.call(t,"typeParameters")," "),i.extends&&i.extends.length>0&&n.push("extends ",P(", ").join(e.map(t,"extends"))," "),i.body&&n.push(e.call(t,"body")),v(n);case"ClassImplements":case"InterfaceExtends":return v([e.call(t,"id"),e.call(t,"typeParameters")]);case"IntersectionTypeAnnotation":return P(" & ").join(e.map(t,"types"));case"NullableTypeAnnotation":return v(["?",e.call(t,"typeAnnotation")]);case"NullLiteralTypeAnnotation":return P("null",r);case"ThisTypeAnnotation":return P("this",r);case"NumberTypeAnnotation":return P("number",r);case"ObjectTypeCallProperty":return e.call(t,"value");case"ObjectTypeIndexer":return i.static&&n.push("static "),n.push(Sa(e,t),"["),i.id&&n.push(e.call(t,"id"),": "),n.push(e.call(t,"key"),"]: ",e.call(t,"value")),v(n);case"ObjectTypeProperty":return v([Sa(e,t),e.call(t,"key"),i.optional?"?":"",": ",e.call(t,"value")]);case"ObjectTypeInternalSlot":return v([i.static?"static ":"","[[",e.call(t,"id"),"]]",i.optional?"?":"",i.value.type!=="FunctionTypeAnnotation"?": ":"",e.call(t,"value")]);case"QualifiedTypeIdentifier":return v([e.call(t,"qualification"),".",e.call(t,"id")]);case"StringLiteralTypeAnnotation":return P(va(i.value,r),r);case"NumberLiteralTypeAnnotation":case"NumericLiteralTypeAnnotation":return P(JSON.stringify(i.value),r);case"BigIntLiteralTypeAnnotation":return P(i.raw,r);case"StringTypeAnnotation":return P("string",r);case"DeclareTypeAlias":n.push("declare ");case"TypeAlias":return v(["type ",e.call(t,"id"),e.call(t,"typeParameters")," = ",e.call(t,"right"),";"]);case"DeclareOpaqueType":n.push("declare ");case"OpaqueType":return n.push("opaque type ",e.call(t,"id"),e.call(t,"typeParameters")),i.supertype&&n.push(": ",e.call(t,"supertype")),i.impltype&&n.push(" = ",e.call(t,"impltype")),n.push(";"),v(n);case"TypeCastExpression":return v(["(",e.call(t,"expression"),e.call(t,"typeAnnotation"),")"]);case"TypeParameterDeclaration":case"TypeParameterInstantiation":return v(["<",P(", ").join(e.map(t,"params")),">"]);case"Variance":return i.kind==="plus"?P("+"):i.kind==="minus"?P("-"):P("");case"TypeParameter":return i.variance&&n.push(Sa(e,t)),n.push(e.call(t,"name")),i.bound&&n.push(e.call(t,"bound")),i.default&&n.push("=",e.call(t,"default")),v(n);case"TypeofTypeAnnotation":return v([P("typeof ",r),e.call(t,"argument")]);case"IndexedAccessType":case"OptionalIndexedAccessType":return v([e.call(t,"objectType"),i.optional?"?.":"","[",e.call(t,"indexType"),"]"]);case"UnionTypeAnnotation":return P(" | ").join(e.map(t,"types"));case"VoidTypeAnnotation":return P("void",r);case"NullTypeAnnotation":return P("null",r);case"SymbolTypeAnnotation":return P("symbol",r);case"BigIntTypeAnnotation":return P("bigint",r);case"TSType":throw new Error("unprintable type: "+JSON.stringify(i.type));case"TSNumberKeyword":return P("number",r);case"TSBigIntKeyword":return P("bigint",r);case"TSObjectKeyword":return P("object",r);case"TSBooleanKeyword":return P("boolean",r);case"TSStringKeyword":return P("string",r);case"TSSymbolKeyword":return P("symbol",r);case"TSAnyKeyword":return P("any",r);case"TSVoidKeyword":return P("void",r);case"TSIntrinsicKeyword":return P("intrinsic",r);case"TSThisType":return P("this",r);case"TSNullKeyword":return P("null",r);case"TSUndefinedKeyword":return P("undefined",r);case"TSUnknownKeyword":return P("unknown",r);case"TSNeverKeyword":return P("never",r);case"TSArrayType":return v([e.call(t,"elementType"),"[]"]);case"TSLiteralType":return e.call(t,"literal");case"TSUnionType":return P(" | ").join(e.map(t,"types"));case"TSIntersectionType":return P(" & ").join(e.map(t,"types"));case"TSConditionalType":return n.push(e.call(t,"checkType")," extends ",e.call(t,"extendsType")," ? ",e.call(t,"trueType")," : ",e.call(t,"falseType")),v(n);case"TSInferType":return n.push("infer ",e.call(t,"typeParameter")),v(n);case"TSParenthesizedType":return v(["(",e.call(t,"typeAnnotation"),")"]);case"TSFunctionType":return v([e.call(t,"typeParameters"),"(",hi(e,r,t),") => ",e.call(t,"typeAnnotation","typeAnnotation")]);case"TSConstructorType":return v(["new ",e.call(t,"typeParameters"),"(",hi(e,r,t),") => ",e.call(t,"typeAnnotation","typeAnnotation")]);case"TSMappedType":return n.push(i.readonly?"readonly ":"","[",e.call(t,"typeParameter"),"]",i.optional?"?":""),i.typeAnnotation&&n.push(": ",e.call(t,"typeAnnotation"),";"),v([`{
`,v(n).indent(r.tabWidth),`
}`]);case"TSTupleType":return v(["[",P(", ").join(e.map(t,"elementTypes")),"]"]);case"TSNamedTupleMember":return n.push(e.call(t,"label")),i.optional&&n.push("?"),n.push(": ",e.call(t,"elementType")),v(n);case"TSRestType":return v(["...",e.call(t,"typeAnnotation")]);case"TSOptionalType":return v([e.call(t,"typeAnnotation"),"?"]);case"TSIndexedAccessType":return v([e.call(t,"objectType"),"[",e.call(t,"indexType"),"]"]);case"TSTypeOperator":return v([e.call(t,"operator")," ",e.call(t,"typeAnnotation")]);case"TSTypeLiteral":{let s=P(`
`).join(e.map(t,"members").map(o=>Na(o)!==";"?o.concat(";"):o));return s.isEmpty()?P("{}",r):(n.push(`{
`,s.indent(r.tabWidth),`
}`),v(n))}case"TSEnumMember":return n.push(e.call(t,"id")),i.initializer&&n.push(" = ",e.call(t,"initializer")),v(n);case"TSTypeQuery":return v(["typeof ",e.call(t,"exprName")]);case"TSParameterProperty":return i.accessibility&&n.push(i.accessibility," "),i.export&&n.push("export "),i.static&&n.push("static "),i.readonly&&n.push("readonly "),n.push(e.call(t,"parameter")),v(n);case"TSTypeReference":return v([e.call(t,"typeName"),e.call(t,"typeParameters")]);case"TSQualifiedName":return v([e.call(t,"left"),".",e.call(t,"right")]);case"TSAsExpression":case"TSSatisfiesExpression":{let s=e.call(t,"expression");return n.push(s,i.type==="TSSatisfiesExpression"?" satisfies ":" as ",e.call(t,"typeAnnotation")),v(n)}case"TSTypeCastExpression":return v([e.call(t,"expression"),e.call(t,"typeAnnotation")]);case"TSNonNullExpression":return v([e.call(t,"expression"),"!"]);case"TSTypeAnnotation":return v([": ",e.call(t,"typeAnnotation")]);case"TSIndexSignature":return v([i.readonly?"readonly ":"","[",e.map(t,"parameters"),"]",e.call(t,"typeAnnotation")]);case"TSPropertySignature":return n.push(Sa(e,t),i.readonly?"readonly ":""),i.computed?n.push("[",e.call(t,"key"),"]"):n.push(e.call(t,"key")),n.push(i.optional?"?":"",e.call(t,"typeAnnotation")),v(n);case"TSMethodSignature":return i.computed?n.push("[",e.call(t,"key"),"]"):n.push(e.call(t,"key")),i.optional&&n.push("?"),n.push(e.call(t,"typeParameters"),"(",hi(e,r,t),")",e.call(t,"typeAnnotation")),v(n);case"TSTypePredicate":return i.asserts&&n.push("asserts "),n.push(e.call(t,"parameterName")),i.typeAnnotation&&n.push(" is ",e.call(t,"typeAnnotation","typeAnnotation")),v(n);case"TSCallSignatureDeclaration":return v([e.call(t,"typeParameters"),"(",hi(e,r,t),")",e.call(t,"typeAnnotation")]);case"TSConstructSignatureDeclaration":return i.typeParameters?n.push("new",e.call(t,"typeParameters")):n.push("new "),n.push("(",hi(e,r,t),")",e.call(t,"typeAnnotation")),v(n);case"TSTypeAliasDeclaration":return v([i.declare?"declare ":"","type ",e.call(t,"id"),e.call(t,"typeParameters")," = ",e.call(t,"typeAnnotation"),";"]);case"TSTypeParameter":{n.push(e.call(t,"name"));let s=e.getParentNode(0),o=ot.TSMappedType.check(s);return i.constraint&&n.push(o?" in ":" extends ",e.call(t,"constraint")),i.default&&n.push(" = ",e.call(t,"default")),v(n)}case"TSTypeAssertion":return n.push("<",e.call(t,"typeAnnotation"),"> ",e.call(t,"expression")),v(n);case"TSTypeParameterDeclaration":case"TSTypeParameterInstantiation":return v(["<",P(", ").join(e.map(t,"params")),">"]);case"TSEnumDeclaration":{n.push(i.declare?"declare ":"",i.const?"const ":"","enum ",e.call(t,"id"));let s=P(`,
`).join(e.map(t,"members"));return s.isEmpty()?n.push(" {}"):n.push(` {
`,s.indent(r.tabWidth),`
}`),v(n)}case"TSExpressionWithTypeArguments":return v([e.call(t,"expression"),e.call(t,"typeParameters")]);case"TSInterfaceBody":{let s=P(`
`).join(e.map(t,"body").map(o=>Na(o)!==";"?o.concat(";"):o));return s.isEmpty()?P("{}",r):v([`{
`,s.indent(r.tabWidth),`
}`])}case"TSImportType":return n.push("import(",e.call(t,"argument"),")"),i.qualifier&&n.push(".",e.call(t,"qualifier")),i.typeParameters&&n.push(e.call(t,"typeParameters")),v(n);case"TSImportEqualsDeclaration":return i.isExport&&n.push("export "),n.push("import ",e.call(t,"id")," = ",e.call(t,"moduleReference")),zu(v(n));case"TSExternalModuleReference":return v(["require(",e.call(t,"expression"),")"]);case"TSModuleDeclaration":return e.getParentNode().type==="TSModuleDeclaration"?n.push("."):(i.declare&&n.push("declare "),i.global||(i.id.type==="StringLiteral"||i.id.type==="Literal"&&typeof i.id.value=="string"||i.loc&&i.loc.lines&&i.id.loc&&i.loc.lines.sliceString(i.loc.start,i.id.loc.start).indexOf("module")>=0?n.push("module "):n.push("namespace "))),n.push(e.call(t,"id")),i.body&&(n.push(" "),n.push(e.call(t,"body"))),v(n);case"TSModuleBlock":{let s=e.call(o=>Ws(o,r,t),"body");return s.isEmpty()?n.push("{}"):n.push(`{
`,s.indent(r.tabWidth),`
}`),v(n)}case"TSInstantiationExpression":return n.push(e.call(t,"expression"),e.call(t,"typeParameters")),v(n);case"V8IntrinsicIdentifier":return v(["%",e.call(t,"name")]);case"TopicReference":return P("#");case"ClassHeritage":case"ComprehensionBlock":case"ComprehensionExpression":case"Glob":case"GeneratorExpression":case"LetStatement":case"LetExpression":case"GraphExpression":case"GraphIndexExpression":case"XMLDefaultDeclaration":case"XMLAnyName":case"XMLQualifiedIdentifier":case"XMLFunctionQualifiedIdentifier":case"XMLAttributeSelector":case"XMLFilterExpression":case"XML":case"XMLElement":case"XMLList":case"XMLEscape":case"XMLText":case"XMLStartTag":case"XMLEndTag":case"XMLPointTag":case"XMLName":case"XMLAttribute":case"XMLCdata":case"XMLComment":case"XMLProcessingInstruction":default:debugger;throw new Error("unknown type: "+JSON.stringify(i.type))}}function $3(e,r){let t=[],i=e.getValue();return i.decorators&&i.decorators.length>0&&!Cw(e)?e.each(function(n){t.push(r(n),`
`)},"decorators"):tc(i)&&i.declaration&&i.declaration.decorators&&e.each(function(n){t.push(r(n),`
`)},"declaration","decorators"),v(t)}function Ws(e,r,t){let i=[];e.each(function(a){let l=a.getValue();l&&(l.type==="EmptyStatement"&&!(l.comments&&l.comments.length>0)||(ot.Comment.check(l)||ot.Statement.check(l)||Rh.assert(l),i.push({node:l,printed:t(a)})))});let n=null,s=i.length,o=[];return i.forEach(function(a,l){let u=a.printed,c=a.node,p=u.length>1,d=l>0,h=l<s-1,f,g,m=c&&c.loc&&c.loc.lines,y=m&&r.reuseWhitespace&&Ew(c,m);if(d)if(y){let b=m.skipSpaces(y.start,!0),C=b?b.line:1,D=y.start.line-C;f=Array(D+1).join(`
`)}else f=p?`

`:`
`;else f="";if(h)if(y){let b=m.skipSpaces(y.end),D=(b?b.line:m.length)-y.end.line;g=Array(D+1).join(`
`)}else g=p?`

`:`
`;else g="";o.push(U3(n,f),u),h?n=g:g&&o.push(g)}),v(o)}function U3(e,r){if(!e&&!r)return P("");if(!e)return P(r);if(!r)return P(e);let t=P(e),i=P(r);return i.length>t.length?i:t}function Bw(e){let r=[];e.declare&&r.push("declare ");let t=e.accessibility||e.access;return typeof t=="string"&&r.push(t," "),e.static&&r.push("static "),e.override&&r.push("override "),e.abstract&&r.push("abstract "),e.readonly&&r.push("readonly "),r}function xh(e,r,t){let i=e.getNode(),n=i.kind,s=[],o=i.value;ot.FunctionExpression.check(o)||(o=i),s.push(...Bw(i)),o.async&&s.push("async "),o.generator&&s.push("*"),(n==="get"||n==="set")&&s.push(n," ");let a=e.call(t,"key");return i.computed&&(a=v(["[",a,"]"])),s.push(a),i.optional&&s.push("?"),i===o?(s.push(e.call(t,"typeParameters"),"(",hi(e,r,t),")",e.call(t,"returnType")),i.body?s.push(" ",e.call(t,"body")):s.push(";")):(s.push(e.call(t,"value","typeParameters"),"(",e.call(l=>hi(l,r,t),"value"),")",e.call(t,"value","returnType")),o.body?s.push(" ",e.call(t,"value","body")):s.push(";")),v(s)}function ow(e,r,t){let i=e.map(t,"arguments"),n=Aa(r,"parameters"),s=P(", ").join(i);return s.getLineLength(1)>r.wrapColumn?(s=P(`,
`).join(i),v([`(
`,s.indent(r.tabWidth),n?`,
)`:`
)`])):v(["(",s,")"])}function hi(e,r,t){let i=e.getValue(),n,s=[];i.params?(n=i.params,s=e.map(t,"params")):i.parameters&&(n=i.parameters,s=e.map(t,"parameters")),i.defaults&&e.each(function(a){let l=a.getName(),u=s[l];u&&a.getValue()&&(s[l]=v([u," = ",t(a)]))},"defaults"),i.rest&&s.push(v(["...",e.call(t,"rest")]));let o=P(", ").join(s);return o.length>1||o.getLineLength(1)>r.wrapColumn?(o=P(`,
`).join(s),Aa(r,"parameters")&&!i.rest&&n[n.length-1].type!=="RestElement"?o=v([o,`,
`]):o=v([o,`
`]),v([`
`,o.indent(r.tabWidth)])):o}function $w(e,r,t){let i=e.getValue();if(i.assertions&&i.assertions.length>0){let n=[" assert {"],s=e.map(t,"assertions"),o=P(", ").join(s);return o.length>1||o.getLineLength(1)>r.wrapColumn?n.push(`
`,P(`,
`).join(s).indent(r.tabWidth),`
}`):n.push(" ",o," }"),v(n)}return P("")}function aw(e,r,t){let i=e.getValue(),n=["export "];i.exportKind&&i.exportKind==="type"&&(i.declaration||n.push("type "));let s=r.objectCurlySpacing;if(ot.Declaration.assert(i),(i.default||i.type==="ExportDefaultDeclaration")&&n.push("default "),i.declaration)n.push(e.call(t,"declaration"));else if(i.specifiers){if(i.specifiers.length===1&&i.specifiers[0].type==="ExportBatchSpecifier")n.push("*");else if(i.specifiers.length===0)n.push("{}");else if(i.specifiers[0].type==="ExportDefaultSpecifier"){let a=[],l=[];if(e.each(function(u){u.getValue().type==="ExportDefaultSpecifier"?a.push(t(u)):l.push(t(u))},"specifiers"),a.forEach((u,c)=>{c>0&&n.push(", "),n.push(u)}),l.length>0){let u=P(", ").join(l);u.getLineLength(1)>r.wrapColumn&&(u=v([P(`,
`).join(l).indent(r.tabWidth),","])),a.length>0&&n.push(", "),u.length>1?n.push(`{
`,u,`
}`):r.objectCurlySpacing?n.push("{ ",u," }"):n.push("{",u,"}")}}else n.push(s?"{ ":"{",P(", ").join(e.map(t,"specifiers")),s?" }":"}");i.source&&n.push(" from ",e.call(t,"source"),$w(e,r,t))}let o=v(n);return Na(o)!==";"&&!(i.declaration&&(i.declaration.type==="FunctionDeclaration"||i.declaration.type==="ClassDeclaration"||i.declaration.type==="TSModuleDeclaration"||i.declaration.type==="TSInterfaceDeclaration"||i.declaration.type==="TSEnumDeclaration"))&&(o=v([o,";"])),o}function Ca(e,r){return Cw(e)||r.unshift("declare "),v(r)}function Sa(e,r){return e.call(function(t){let i=t.getValue();return i?i==="plus"?P("+"):i==="minus"?P("-"):r(t):P("")},"variance")}function Jn(e,r){return e.length>1?v([" ",e]):v([`
`,zu(e).indent(r.tabWidth)])}function Na(e){let r=e.lastPos();do{let t=e.charAt(r);if(/\S/.test(t))return t}while(e.prevPos(r))}function lw(e){return Na(e)==="}"}function Uu(e){return e.replace(/['"]/g,r=>r==='"'?"'":'"')}function Gs(e){let r=Hi(e,"value"),t=Hi(e,"extra");if(t&&typeof t.raw=="string"&&r==t.rawValue)return t.raw;if(e.type==="Literal"){let i=e.raw;if(typeof i=="string"&&r==i)return i}}function ju(e){return JSON.stringify(e).replace(/[\u2028\u2029]/g,function(r){return"\\u"+r.charCodeAt(0).toString(16)})}function va(e,r){switch(Rh.assert(e),r.quote){case"auto":{let t=ju(e),i=Uu(ju(Uu(e)));return t.length>i.length?i:t}case"single":return Uu(ju(Uu(e)));case"double":default:return ju(e)}}function zu(e){let r=Na(e);return!r||`
};`.indexOf(r)<0?v([e,";"]):e}function j3(e,r){return new M3(r).print(e)}var qu;function Uw(){if(qu)return qu;let e=q3();return qu={parse(r,t){return cw.parse(r,{...e,...t})}},qu}function q3(){return{sourceType:"module",strictMode:!1,allowImportExportEverywhere:!0,allowReturnOutsideFunction:!0,startLine:1,tokens:!0,plugins:["asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","classStaticBlock","decimal","decorators-legacy","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importAssertions","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{proposal:"minimal"}],["recordAndTuple",{syntaxType:"hash"}],"throwExpressions","topLevelAwait","v8intrinsic","jsx","typescript"]}}var K3=Object.defineProperty,V3=(e,r,t)=>r in e?K3(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,uw=(e,r,t)=>(V3(e,typeof r!="symbol"?r+"":r,t),t),kt=class extends Error{constructor(r,t){if(super(""),uw(this,"rawMessage"),uw(this,"options"),this.name="MagicastError",this.rawMessage=r,this.options=t,t?.ast&&t?.code&&t.ast.loc){let{line:i,column:n}=t.ast.loc.start,s=t.code.split(`
`),o=Math.max(0,i-3),a=Math.min(s.length,i+3),l=s.slice(o,a).map((u,c)=>(u=`${(o+c+1).toString().padStart(3," ")} | ${u}`,o+c===i-1&&(u+=`
${" ".repeat(6+n)}^`),u));r+=`

${l.join(`
`)}
`}this.message=r}},z3=new Set(["Literal","StringLiteral","NumericLiteral","BooleanLiteral","NullLiteral","RegExpLiteral","BigIntLiteral"]),jw=new Set(["string","number","boolean","bigint","symbol","undefined"]),ut=Ys;function W3(e){return/^[$A-Z_a-z][\w$]*$/.test(e)}var Lh="__magicast_proxy";function Vt(e,r=new Set){if(e===void 0)return ut.identifier("undefined");if(e===null)return ut.literal(null);if(jw.has(typeof e))return ut.literal(e);if(r.has(e))throw new kt("Can not serialize circular reference");if(r.add(e),e[Lh])return e.$ast;if(e instanceof RegExp){let t=ut.regExpLiteral(e.source,e.flags);return delete t.extra.raw,t}return e instanceof Set?ut.newExpression(ut.identifier("Set"),[ut.arrayExpression([...e].map(t=>Vt(t,r)))]):e instanceof Date?ut.newExpression(ut.identifier("Date"),[ut.literal(e.toISOString())]):e instanceof Map?ut.newExpression(ut.identifier("Map"),[ut.arrayExpression([...e].map(([t,i])=>ut.arrayExpression([Vt(t,r),Vt(i,r)])))]):Array.isArray(e)?ut.arrayExpression(e.map(t=>Vt(t,r))):typeof e=="object"?ut.objectExpression(Object.entries(e).map(([t,i])=>ut.property("init",/^[$A-Z_a-z][\w$]*$/g.test(t)?ut.identifier(t):ut.literal(t),Vt(i,r)))):ut.literal(e)}function G3(e,r={}){let t=r;return t[Lh]=!0,t.$ast=e,t.$type||(t.$type="object"),t}var H3={enumerable:!0,configurable:!0};function vr(e,r,t){let i=G3(e,r);return new Proxy({},{ownKeys(){return Object.keys(i).filter(n=>n!==Lh&&!n.startsWith("$"))},getOwnPropertyDescriptor(){return H3},has(n,s){return s in i},...t,get(n,s,o){if(s in i)return i[s];if(t.get)return t.get(n,s,o)},set(n,s,o,a){return s in i?(i[s]=o,!0):t.set?t.set(n,s,o,a):!1}})}var cr=Ys,Eh=new WeakMap;function J3(e,r,t){if(Eh.has(r))return Eh.get(r);let i=vr(r,{get $declaration(){return e},get imported(){return r.type==="ImportDefaultSpecifier"?"default":r.type==="ImportNamespaceSpecifier"?"*":r.imported.type==="Identifier"?r.imported.name:r.imported.value},set imported(n){if(r.type!=="ImportSpecifier")throw new kt("Changing import name is not yet implemented");r.imported.type==="Identifier"?r.imported.name=n:r.imported.value=n},get local(){return r.local.name},set local(n){r.local.name=n},get from(){return e.source.value},set from(n){if(n===e.source.value)return;e.specifiers=e.specifiers.filter(o=>o!==r),e.specifiers.length===0&&(t.body=t.body.filter(o=>o!==e));let s=t.body.find(o=>o.type==="ImportDeclaration"&&o.source.value===n);s?s.specifiers.push(r):t.body.unshift(cr.importDeclaration([r],cr.stringLiteral(n)))},toJSON(){return{imported:this.imported,local:this.local,from:this.from}}},{ownKeys(){return["imported","local","from","toJSON"]}});return Eh.set(r,i),i}function Y3(e,r){let t=()=>{let o=[];for(let a of e.body)if(a.type==="ImportDeclaration")for(let l of a.specifiers)o.push(J3(a,l,e));return o},i=(o,a,l)=>{let u=t(),c=u.find(f=>f.local===o),p=a.local||o;if(c)return c.imported=a.imported,c.local=p,c.from=a.from,!0;let d=a.imported==="default"?cr.importDefaultSpecifier(cr.identifier(p)):a.imported==="*"?cr.importNamespaceSpecifier(cr.identifier(p)):cr.importSpecifier(cr.identifier(a.imported),cr.identifier(p)),h=u.find(f=>f.from===a.from)?.$declaration;if(h)h.specifiers.push(d);else if(l==="prepend"||u.length===0)e.body.unshift(cr.importDeclaration([d],cr.stringLiteral(a.from)));else{let f=u.at(-1).$declaration,g=e.body.indexOf(f);e.body.splice(g+1,0,cr.importDeclaration([d],cr.stringLiteral(a.from)))}return!0},n=o=>{let a=t().find(c=>c.local===o);if(!a)return!1;let l=a.$declaration,u=a.$ast;return l.specifiers=l.specifiers.filter(c=>c!==u),l.specifiers.length===0&&(e.body=e.body.filter(c=>c!==l)),!0};return vr(e,{$type:"imports",$add(o){i(o.local||o.imported,o,"prepend")},$prepend(o){i(o.local||o.imported,o,"prepend")},$append(o){i(o.local||o.imported,o,"append")},get $items(){return t()},toJSON(){return t().reduce((o,a)=>(o[a.local]=a,o),{})}},{get(o,a){return t().find(l=>l.local===a)},set(o,a,l){return i(a,l,"prepend")},deleteProperty(o,a){return n(a)},ownKeys(){return t().map(o=>o.local)},has(o,a){return t().some(l=>l.local===a)}})}function ic(e,r,t){let i=s=>r[s],n=(s,o)=>{r[s]=o};return vr(e,{$type:"array",push(s){r.push(Vt(s))},pop(){return Kt(r.pop(),t)},unshift(s){r.unshift(Vt(s))},shift(){return Kt(r.shift(),t)},splice(s,o,...a){return r.splice(s,o,...a.map(u=>Vt(u))).map(u=>Kt(u,t))},find(s){return r.map(o=>Kt(o,t)).find(s)},findIndex(s){return r.map(o=>Kt(o,t)).findIndex(s)},includes(s){return r.map(o=>Kt(o,t)).includes(s)},toJSON(){return r.map(s=>Kt(s,t))}},{get(s,o){if(o==="length")return r.length;if(o===Symbol.iterator)return function*(){for(let u of r)yield Kt(u,t)};if(typeof o=="symbol")return;let a=+o;if(Number.isNaN(a))return;let l=i(a);if(l)return Kt(l,t)},set(s,o,a){if(typeof o=="symbol")return!1;let l=+o;return Number.isNaN(l)?!1:(n(l,Vt(a)),!0)},deleteProperty(s,o){if(typeof o=="symbol")return!1;let a=+o;return Number.isNaN(a)?!1:(r[a]=Vt(void 0),!0)},ownKeys(){return["length",...r.map((s,o)=>o.toString())]}})}function X3(e,r){if("elements"in e)return ic(e,e.elements,r)}function qw(e,r){if(e.type!=="CallExpression")throw new kt("Not a function call");function t(n){if(n.type==="Identifier")return n.name;if(n.type==="MemberExpression")return`${t(n.object)}.${t(n.property)}`;throw new kt("Not implemented")}let i=ic(e,e.arguments,r);return vr(e,{$type:"function-call",$callee:t(e.callee),$args:i},{})}function Q3(e,r){if(e.type!=="ArrowFunctionExpression")throw new kt("Not an arrow function expression");let t=ic(e,e.params,r);return vr(e,{$type:"arrow-function-expression",$params:t,$body:Kt(e.body,r)},{})}var Z3=Ys;function e8(e,r){if(!("properties"in e))return;let t=s=>{for(let o of e.properties){if("key"in o&&"name"in o.key&&o.key.name===s)return o.value;if(o.type==="ObjectProperty"&&(o.key.type==="StringLiteral"||o.key.type==="NumericLiteral"||o.key.type==="BooleanLiteral")&&o.key.value.toString()===s)return o.value.value??o.value}},i=(s,o=!1)=>{if("key"in s&&"name"in s.key)return s.key.name;if(s.type==="ObjectProperty"&&(s.key.type==="StringLiteral"||s.key.type==="NumericLiteral"||s.key.type==="BooleanLiteral"))return s.key.value.toString();if(o)throw new kt(`Casting "${s.type}" is not supported`,{ast:s,code:r?.$code})},n=(s,o)=>{let a=e.properties.find(l=>i(l)===s);a?a.value=o:W3(s)?e.properties.push({type:"Property",key:{type:"Identifier",name:s},value:o}):e.properties.push({type:"ObjectProperty",key:Z3.stringLiteral(s),value:o})};return vr(e,{$type:"object",toJSON(){return e.properties.reduce((s,o)=>("key"in o&&"name"in o.key&&(s[o.key.name]=Kt(o.value,r)),s),{})}},{get(s,o){let a=t(o);if(a)return Kt(a,r)},set(s,o,a){return typeof o!="string"&&(o=String(o)),n(o,Vt(a)),!0},deleteProperty(s,o){typeof o!="string"&&(o=String(o));let a=e.properties.findIndex(l=>"key"in l&&"name"in l.key&&l.key.name===o);return a!==-1&&e.properties.splice(a,1),!0},ownKeys(){return e.properties.map(s=>i(s,!0)).filter(Boolean)}})}function Kw(e,r){if(e.type!=="NewExpression")throw new kt("Not a new expression");function t(n){if(n.type==="Identifier")return n.name;if(n.type==="MemberExpression")return`${t(n.object)}.${t(n.property)}`;throw new kt("Not implemented")}let i=ic(e,e.arguments,r);return vr(e,{$type:"new-expression",$callee:t(e.callee),$args:i},{})}function t8(e){if(e.type!=="Identifier")throw new kt("Not an identifier");return vr(e,{$type:"identifier",$name:e.name},{})}function r8(e){if(e.type!=="LogicalExpression")throw new kt("Not a logical expression");return vr(e,{$type:"logicalExpression"},{})}function i8(e){if(e.type!=="MemberExpression")throw new kt("Not a member expression");return vr(e,{$type:"memberExpression"},{})}var Ch=new WeakMap;function Kt(e,r){if(jw.has(typeof e))return e;if(z3.has(e.type))return e.value;if(Ch.has(e))return Ch.get(e);let t;switch(e.type){case"ObjectExpression":{t=e8(e,r);break}case"ArrayExpression":{t=X3(e,r);break}case"CallExpression":{t=qw(e,r);break}case"ArrowFunctionExpression":{t=Q3(e,r);break}case"NewExpression":{t=Kw(e,r);break}case"Identifier":{t=t8(e);break}case"LogicalExpression":{t=r8(e);break}case"MemberExpression":{t=i8(e);break}case"TSAsExpression":case"TSSatisfiesExpression":{t=Kt(e.expression,r);break}default:throw new kt(`Casting "${e.type}" is not supported`,{ast:e,code:r?.$code})}return Ch.set(e,t),t}var wa=Ys;function n8(e,r){let t=n=>{let s=n==="default"?"ExportDefaultDeclaration":"ExportNamedDeclaration";for(let o of e.body)if(o.type===s){if(n==="default")return o.declaration;if(o.declaration&&"declarations"in o.declaration){let a=o.declaration.declarations[0];if("name"in a.id&&a.id.name===n)return a.init}}},i=(n,s)=>{let o=n==="default"?"ExportDefaultDeclaration":"ExportNamedDeclaration",a=Vt(s);for(let l of e.body)if(l.type===o){if(n==="default"){l.declaration=a;return}if(l.declaration&&"declarations"in l.declaration){let u=l.declaration.declarations[0];if("name"in u.id&&u.id.name===n){u.init=a;return}}}e.body.push(n==="default"?wa.exportDefaultDeclaration(a):wa.exportNamedDeclaration(wa.variableDeclaration("const",[wa.variableDeclarator(wa.identifier(n),a)])))};return vr(e,{$type:"exports"},{get(n,s){let o=t(s);if(o)return Kt(o,r)},set(n,s,o){return i(s,o),!0},ownKeys(){return e.body.flatMap(n=>n.type==="ExportDefaultDeclaration"?["default"]:n.type==="ExportNamedDeclaration"&&n.declaration&&"declarations"in n.declaration?n.declaration.declarations.map(s=>"name"in s.id?s.id.name:""):[]).filter(Boolean)},deleteProperty(n,s){let o=s==="default"?"ExportDefaultDeclaration":"ExportNamedDeclaration";for(let a=0;a<e.body.length;a++){let l=e.body[a];if(l.type===o){if(s==="default")return e.body.splice(a,1),!0;if(l.declaration&&"declarations"in l.declaration){let u=l.declaration.declarations[0];if("name"in u.id&&u.id.name===s)return e.body.splice(a,1),!0}}}return!1}})}function s8(e,r){let t=e.program;if(t.type!=="Program")throw new kt(`Cannot proxify ${e.type} as module`);let i={$code:r,$type:"module"},n=vr(t,i,{ownKeys(){return["imports","exports","generate"]}});return i.exports=n8(t,n),i.imports=Y3(t),i.generate=s=>Mh(n,s),n}function Vw(e,r={}){let t={wrapColumn:r.wrapColumn===void 0,indent:r.tabWidth===void 0||r.useTabs===void 0,quote:r.quote===void 0,arrowParens:r.arrowParensAlways===void 0,trailingComma:r.trailingComma===void 0},i=2,n=0,s=0,o=0,a=0,l=/(?<doubleQuote>"[^"]+")|(?<singleQuote>'[^']+')|(?<singleParam>\([^),]+\)\s*=>)|(?<trailingComma>,\s*[\]}])/g,u={doubleQuote:0,singleQuote:0,singleParam:0,trailingComma:0},c=(e||"").split(`
`),p=!1;for(let d of c){let h=d.trim();if(h.length!==0){if(t.wrapColumn&&d.length>o&&(o=d.length),t.indent){let f=d.match(/^\s+/)?.[0]||"";f.length>0&&(f.length>0&&f.length<i&&(i=f.length),f[0]==="	"?n++:f.length>0&&n--)}if(h.at(-1)===";"?s++:h.length>0&&s--,t.quote||t.arrowParens){let f=h.matchAll(l);for(let g of f)if(g.groups)for(let m in u)g.groups[m]&&u[m]++}t.trailingComma&&((d.startsWith("}")||d.startsWith("]"))&&(p?a++:a--),p=h.endsWith(","))}}return{wrapColumn:o,useTabs:n>0,tabWidth:i,quote:u.singleQuote>u.doubleQuote?"single":"double",arrowParensAlways:u.singleParam>0,trailingComma:a>0||u.trailingComma>0,useSemi:s>0,arrayBracketSpacing:void 0,objectCurlySpacing:void 0,...r}}function zw(e,r){let t=Iw(e,{parser:r?.parser||Uw(),...r});return s8(t,e)}function Ww(e,r){let t=Iw("("+e+")",{parser:r?.parser||Uw(),...r}),i=t.program.body[0];i.type==="ExpressionStatement"&&(i=i.expression),i.extra?.parenthesized&&(i.extra.parenthesized=!1);let n={$ast:t,$code:" "+e+" ",$type:"module"};return Kt(i,n)}function Mh(e,r={}){let t=e.$ast||e,i=r.format===!1||!("$code"in e)?{}:Vw(e.$code,r.format),{code:n,map:s}=j3(t,{...r,...i});return{code:n,map:s}}async function o8(e,r={}){let t=await Wu.promises.readFile(e,"utf8");return r.sourceFileName=r.sourceFileName??e,zw(t,r)}async function a8(e,r,t){let i="$ast"in e?e.$ast:e,{code:n,map:s}=Mh(i,t);await Wu.promises.writeFile(r,n),s&&await Wu.promises.writeFile(r+".map",s)}var Ku=Ys,l8={functionCall(e,...r){let t=Ku.callExpression(Ku.identifier(e),r.map(i=>Vt(i)));return qw(t)},newExpression(e,...r){let t=Ku.newExpression(Ku.identifier(e),r.map(i=>Vt(i)));return Kw(t)},literal(e){return Vt(e)},raw(e){return Ww(e)}};var u8=V(require("@sentry/node"),1);async function Yw(e,r){let t=await(0,Ct.readdir)(e,{withFileTypes:!0}),i=[];for(let n of t){let s=Ae.default.join(e,n.name);if(n.isDirectory()){if(!r.has(n.name)){let o=await Yw(s,r);i.push(...o)}}else i.push(s)}return i}async function Xw(e){let r=new Set,t=(...u)=>{if(process.env.DEBUG){let c=new Date,p=`${String(c.getMinutes()).padStart(2,"0")}:${String(c.getSeconds()).padStart(2,"0")}.${String(c.getMilliseconds()).padStart(3,"0")}`;console.debug(p,"[builder-dev-tools]",...u)}},i=async u=>{let c=(0,Gw.createHash)("md5");return c.update(u),c.digest("hex")},n=Ae.default.normalize(e.cwd),s=qh(Ae.default.normalize(e.cwd))??n,o=Oa(Ae.default.normalize(e.cwd))??s,a={...Ae.default,getCwdDir:()=>n,getRepoRootDir:()=>s,getAppRootDir:()=>o,cwd:()=>process.cwd(),exists:async u=>{try{return await(0,Ct.access)(u),!0}catch{return!1}},magicast:Bh,existsSync:u=>(0,rt.existsSync)(u),readdir:async(u,c)=>{let p=await(0,Ct.readdir)(u);return c?p.map(d=>Ae.default.join(u,d)):p},readdirRecursive:async(u,c)=>Yw(u,new Set(c)),readdirSync:u=>(0,rt.readdirSync)(u),readFile:async u=>{try{return await(0,Ct.readFile)(u,"utf-8")}catch(c){if(c.code==="ENOENT")return null;throw t(c,u),c}},readFileSync(u){try{return(0,rt.readFileSync)(u,"utf-8")}catch(c){if(c.code==="ENOENT")return null;throw t(c,u),c}},spawnSync:Xs.spawnSync,stat:async u=>await(0,Ct.stat)(u),statSync:u=>(0,rt.statSync)(u),unlinkSync:u=>{(0,rt.unlinkSync)(u)},unlink:async u=>{await(0,Ct.unlink)(u)},writeFile:async(u,c)=>{u=Ae.default.normalize(u);let p={path:u,basename:Ae.default.basename(u),dirname:Ae.default.dirname(u),extname:Ae.default.extname(u)};await(0,Ct.mkdir)(Ae.default.dirname(u),{recursive:!0}),await(0,Ct.writeFile)(u,c);for(let d of r)await d(p)},hash:i,getDeviceId:()=>i(`${(0,ka.hostname)()}:${(0,ka.homedir)()}`),formatCode:async(u,c)=>{let p=null;try{p=await $h.default.resolveConfig(u)}catch{}try{return $h.default.format(c,{...p,filepath:u})}catch{}return c},on:(u,c)=>{u==="change"&&r.add(c)},off:(u,c)=>{u==="change"&&r.delete(c)},debug:t,launchEditor:async u=>{try{let c=u.filePath;typeof u.line=="number"&&(c+=`:${u.line}`,typeof u.column=="number"&&(c+=`:${u.column}`)),(0,Jw.default)(c,"code",(p,d)=>{console.error(`Failed to launch editor for ${p}`),d&&console.error(d)})}catch(c){console.error(`Failed to launch editor for ${String(c.message||c)}`)}},platform:()=>({runtime:"node",os:process.platform}),getRepoInfo:async()=>{let u=Ae.default.normalize(e.cwd);return{remoteUrl:c8(u),defaultBranch:p8(u),commit:d8(u),currentBranch:f8(u)}},getFrameworks:()=>[],ts:Hw.default,Sentry:u8,version:"1.3.9",sdkVersion:null,ignoreMissingConfig:e.ignoreMissingConfig,kind:null},l=await Nn(a);return a.getFrameworks=()=>l,a}function Qw(){let e=(0,ka.homedir)();return Ae.default.join(e,".config","builder","dev-tools.json")}function Uh(e,r){return typeof e=="object"&&e!=null&&r in e}async function Qs(){let e=Qw();try{let r=await(0,Ct.readFile)(e,"utf-8");if(typeof r=="string")return JSON.parse(r)}catch(r){if(r.code==="ENOENT")return null}return null}async function jh(e){let r=Qw();e=typeof e=="object"&&e!=null?e:{},await(0,Ct.mkdir)(Ae.default.dirname(r),{recursive:!0}),await(0,Ct.writeFile)(r,JSON.stringify(e??{},null,2))}function c8(e){try{return((0,Xs.spawnSync)("git",["config","--get","remote.origin.url"],{cwd:e}).stdout||"").toString().trim()}catch(r){return console.error("Error getting git remote URL:",r),""}}function p8(e){let r="master";try{let t=(0,Xs.spawnSync)("git",["branch","-r"],{cwd:e});return t.stdout&&t.stdout.toString().trim().split(`
`).map(n=>n.trim()).includes("origin/main")?"main":r}catch(t){return console.error("Error getting git default branch name:",t.toString().split(`
`)[0]),r}}function d8(e){try{return((0,Xs.spawnSync)("git",["rev-parse","HEAD"],{cwd:e}).stdout||"").toString().trim()}catch(r){return console.error("Error getting git commit:",r),""}}function f8(e){try{return((0,Xs.spawnSync)("git",["branch","--show-current"],{cwd:e}).stdout||"").toString().trim()}catch(r){return console.error("Error getting current branch name:",r),""}}function qh(e){let r=Ae.default.resolve("/");for(let t=0;t<20;t++){let i=Ae.default.join(e,"package.json");if((0,rt.existsSync)(i))return e;if(e===r)break;e=Ae.default.dirname(e)}return null}function Oa(e){let r=Ae.default.resolve("/");for(let t=0;t<20;t++){if((0,rt.existsSync)(Ae.default.join(e,"package.json"))||(0,rt.existsSync)(Ae.default.join(e,"remix.config.js"))||(0,rt.existsSync)(Ae.default.join(e,"remix.config.mjs"))||(0,rt.existsSync)(Ae.default.join(e,"remix.config.ts"))||(0,rt.existsSync)(Ae.default.join(e,"vite.config.js"))||(0,rt.existsSync)(Ae.default.join(e,"vite.config.ts"))||(0,rt.existsSync)(Ae.default.join(e,"vite.config.mjs"))||(0,rt.existsSync)(Ae.default.join(e,"next.config.js"))||(0,rt.existsSync)(Ae.default.join(e,"next.config.ts"))||(0,rt.existsSync)(Ae.default.join(e,"angular.json"))||(0,rt.existsSync)(Ae.default.join(e,"project.json"))||(0,rt.existsSync)(Ae.default.join(e,"tsconfig.json")))return e;if(e===r)break;e=Ae.default.dirname(e)}return null}var Zw=V(require("crypto")),sc=new Uint8Array(256),nc=sc.length;function Kh(){return nc>sc.length-16&&(Zw.default.randomFillSync(sc),nc=0),sc.slice(nc,nc+=16)}var Tt=[];for(let e=0;e<256;++e)Tt.push((e+256).toString(16).slice(1));function eT(e,r=0){return Tt[e[r+0]]+Tt[e[r+1]]+Tt[e[r+2]]+Tt[e[r+3]]+"-"+Tt[e[r+4]]+Tt[e[r+5]]+"-"+Tt[e[r+6]]+Tt[e[r+7]]+"-"+Tt[e[r+8]]+Tt[e[r+9]]+"-"+Tt[e[r+10]]+Tt[e[r+11]]+Tt[e[r+12]]+Tt[e[r+13]]+Tt[e[r+14]]+Tt[e[r+15]]}var tT=V(require("crypto")),Vh={randomUUID:tT.default.randomUUID};function h8(e,r,t){if(Vh.randomUUID&&!r&&!e)return Vh.randomUUID();e=e||{};let i=e.random||(e.rng||Kh)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,r){t=t||0;for(let n=0;n<16;++n)r[t+n]=i[n];return r}return eT(i)}var zh=h8;var Gh=V(require("os"),1);async function rT(){let e=!0==="true"&&process.env.NODE_ENV!=="test",r=await sT(),t=await nT();mi.init(e?"2532be1b0436a18cb938b21fc7fa9faf":"",{logLevel:mi.Types.LogLevel.None,flushIntervalMillis:500});let i=new mi.Identify;await mi.identify(i,{device_id:r,user_id:t,platform:Gh.default.type(),os_name:process.platform,os_version:Gh.default.release()}).promise,Cn.init({dsn:"https://3252dddc08dbb5bf406dc33bf3c13633@o117565.ingest.us.sentry.io/4505630794448896",tracesSampleRate:1,release:WS,environment:process.env.NODE_ENV,enabled:e,integrations:[new Cn.Integrations.Http({tracing:!0}),...Cn.autoDiscoverNodePerformanceMonitoringIntegrations()]}),Cn.setUser({username:process.env.USER||process.env.USERNAME||"unknown"})}async function ht(e,r,t){let i={...r,app:"dev-tools-cli",package:"cli"};return mi.track(e,i,{...t,user_id:await nT(),device_id:await sT()})}var oc,Wh;async function iT(e){oc=e;let r=await Qs();await jh({...r,userId:e})}async function nT(){if(oc)return oc;let e=await Qs(),r;return Uh(e,"userId")&&(r=e.userId),oc=r,r}async function sT(){if(Wh)return Wh;let e=await Qs(),r=zh();return Uh(e,"deviceId")?r=e.deviceId:await jh({...e,deviceId:r}),Wh=r,r}function Ji(e){switch(ht("cli help",{subcommand:e}),console.log(""),It((0,$.bgCyan)((0,$.bold)((0,$.white)(" builder.io figma ")))+"  "+(0,$.dim)("1.3.9")),e){case"add":case"generate":case"gen":case"g":q.info(`${(0,$.cyan)("\u2192")} ${(0,$.bold)("Generate Figma Components")}

${(0,$.bgGreen)((0,$.white)(" npx builder.io figma generate URL [URL ...] "))}

Start the auto-mapping wizard for the Figma Component URLs pasted in.

${(0,$.yellow)("Usage:")}
  Get the URL by right-clicking on the Figma Component and selecting
  "Copy Link". Be sure to copy the URL from the main component.

${(0,$.yellow)("Arguments:")}
  ${(0,$.cyan)("--figmaToken")}     Figma access token for authentication
  ${(0,$.cyan)("--privateKey")}     Builder.io private API key
  ${(0,$.cyan)("--spaceId")}        Builder.io space ID to use
  ${(0,$.cyan)("--ci")}             Run in CI mode without interactive prompts
  ${(0,$.cyan)("--force")}          Force operation even if there are warnings
  ${(0,$.cyan)("--skipInstallation")} Skip the package installation step
  ${(0,$.cyan)("--yes")}            Auto-confirm all prompts`);break;case"auth":q.info(`${(0,$.cyan)("\u2192")} ${(0,$.bold)("Authentication")}

${(0,$.bgGreen)((0,$.white)(" npx builder.io figma auth "))}

Re-authenticate with Figma and Builder.io.

${(0,$.yellow)("Arguments:")}
  ${(0,$.cyan)("--figmaToken")}     Figma access token for authentication
  ${(0,$.cyan)("--privateKey")}     Builder.io private API key
  ${(0,$.cyan)("--spaceId")}        Builder.io space ID to use
  ${(0,$.cyan)("--force")}          Force re-authentication even if already authenticated`);break;case"publish":q.info(`${(0,$.cyan)("\u2192")} ${(0,$.bold)("Publish Mappings")}

${(0,$.bgGreen)((0,$.white)(" npx builder.io figma publish "))}

Publish your Figma Mappings to Builder.io.

${(0,$.yellow)("Arguments:")}
  ${(0,$.cyan)("--privateKey")}     Builder.io private API key
  ${(0,$.cyan)("--spaceId")}        Builder.io space ID to use
  ${(0,$.cyan)("--ci")}             Run in CI mode without interactive prompts
  ${(0,$.cyan)("--force")}          Force publish even if there are warnings
  ${(0,$.cyan)("--printJson")}      Print output as JSON
  ${(0,$.cyan)("--dryrun")}         Run without making changes
  ${(0,$.cyan)("--yes")}            Auto-confirm all prompts`);break;case"migrate":q.info(`${(0,$.cyan)("\u2192")} ${(0,$.bold)("Migrate Mappings")}

${(0,$.bgGreen)((0,$.white)(" npx builder.io figma migrate "))}

Migrate your existing Figma Mappings into the repo as local files.

${(0,$.yellow)("Description:")}
  Downloads existing Figma Mappings from Builder.io and saves them locally.

${(0,$.yellow)("Arguments:")}
  ${(0,$.cyan)("--privateKey")}     Builder.io private API key
  ${(0,$.cyan)("--spaceId")}        Builder.io space ID to use
  ${(0,$.cyan)("--force")}          Force migration even if there are warnings
  ${(0,$.cyan)("--yes")}            Auto-confirm all prompts`);break;case"code":q.info(`${(0,$.cyan)("\u2192")} ${(0,$.bold)("Code Generation")}

${(0,$.bgGreen)((0,$.white)(" npx builder.io code --url URL "))}

Generate or modify code based on Figma designs.

${(0,$.yellow)("Arguments:")}
  ${(0,$.cyan)("--url")}            URL to start completion from
  ${(0,$.cyan)("--privateKey")}     Builder.io private API key
  ${(0,$.cyan)("--spaceId")}        Builder.io space ID to use
  ${(0,$.cyan)("--prompt")}         Prompt text for non-interactive mode
  ${(0,$.cyan)("--mode")}           Generation mode - either 'exact' for precise matches or 'creative' for more flexibility
  ${(0,$.cyan)("--cwd")}            Working directory to run commands from

${(0,$.yellow)("Configuration Files:")}
  ${(0,$.cyan)(".builderignore")}   Add patterns to exclude files from being included in code generation
  ${(0,$.cyan)(".builderrules")}    Add custom instructions that will be injected into the LLM prompt
  ${(0,$.cyan)(".cursorrules")}     Cursor's settings are automatically supported for consistent behavior`);break;case"indexing":q.info(`${(0,$.cyan)("\u2192")} ${(0,$.bold)("Code Indexing")}

${(0,$.bgGreen)((0,$.white)(" npx builder.io code indexing "))}

Index your codebase to improve code generation results.

${(0,$.yellow)("Arguments:")}
  ${(0,$.cyan)("--privateKey")}     Builder.io private API key
  ${(0,$.cyan)("--spaceId")}        Builder.io space ID to use
  ${(0,$.cyan)("--cwd")}            Working directory to run commands from`);break;default:q.info(`${(0,$.bold)("Available Commands:")}
`),[{command:"generate URL [URL ...]",description:"Start the auto-mapping wizard for Figma Component URLs"},{command:"publish",description:"Publish your Figma Mappings to Builder.io"},{command:"migrate",description:"Migrate existing Figma Mappings into the repo as local files"},{command:"auth",description:"Re-authenticate with Figma and Builder.io"},{command:"code",description:"Generate or modify code based on Figma designs"},{command:"indexing",description:"Index your codebase to improve code generation results"}].forEach(({command:t,description:i})=>{q.info(`${(0,$.cyan)("\u2192")} ${(0,$.bgGreen)((0,$.white)(` npx builder.io figma ${t} `))}
   ${(0,$.dim)(i)}
`)}),q.info(`
Use ${(0,$.cyan)("npx builder.io figma help <command>")} for detailed help about a command`)}Mt("bye \u{1F44B}")}var Xh=V(require("@sentry/node"),1);var ac=V(require("@sentry/node"),1);var oT=require("undici"),mt=async(e,r)=>{let t="fetch"in globalThis?globalThis.fetch:oT.fetch;try{return await t(e,r)}catch(i){let n=typeof e=="string"?e:e instanceof URL?e.toString():e.url,s=r?.method||"GET",o=i instanceof Error?i.message:String(i),a=new Error(`Fetch failed for ${s} ${n}: ${o}`);throw i instanceof Error&&(a.cause=i),a.requestContext={url:n,method:s,headers:r?.headers},a}};var m8="https://cdn.builder.io";async function Hh(e){try{let r=await mt(`${m8}/api/internal/kv/${e.spaceId}/${e.docId}?apiKey=${e.spaceId}`,{headers:{Authorization:`Bearer ${e.privateKey}`}});if(r.status===404)return ac.captureMessage("getBuilderSpaceKv 404"),console.warn("GET 404",r.url),null;if(!r.ok)throw new Error(`HTTP ${r.status} ${r.statusText}`);return r.json()}catch(r){ac.captureException(r),console.error("GET failed",r);return}}var La=V(lT(),1);var uT=V(require("@sentry/node"),1),cT=V(Cu(),1);async function oe(e){if(process.env.NODE_ENV!=="test")try{await Promise.allSettled([uT.flush(2e3),cT.flush().promise])}catch(r){console.error(r)}process.exit(e)}var gi=process.env.AIR_HOST||"https://air-layout-v2-tk43uighdq-uc.a.run.app";var mT=async(e,r)=>{let t=r._.slice(2);if(!t.length)return ue(`No Figma URL provided, use:
  npx builder.io figma generate "https://..."`),Ji(),await oe(1);console.log(""),It((0,J.bgMagenta)((0,J.bold)((0,J.white)(" figma generate ")))+"  "+(0,J.dim)("1.3.9")),q.message((0,J.dim)(`This command will help you create new ".mapper.tsx" files to connect Figma components to your code components.
Check out `)+(0,J.bold)((0,J.cyan)("https://www.builder.io/c/docs/cli-mapping"))+(0,J.dim)(" for more details."));let{figmaAuth:i,builderPublicKey:n,builderPrivateKey:s,userId:o}=await wr(e,r,{forceSpaceId:r.spaceId,figmaAuth:!0,builderPublicKey:!0,builderPrivateKey:!0});if(!s||!n)return ue("Missing builder.io credentials"),await oe(1);if(!i?.access_token)return ue("Figma Auth failed, try again."),await oe(1);ht("figma generate started",{spaceId:n});let l=Kn(hn),u=nr();u.start("Loading local repo");let c;try{c=await un(e),u.stop("Local repo loaded")}catch{u.stop("Repo's framework is not supported")}let p,d;u=nr(),u.start("Gathering Figma component info");let h=await E8(i,{privateKey:s,spaceId:n},t),f=await c?.getRegistry({readAllInputTypes:!0});u.stop("Figma component info loaded");let g=await Ma(e),{figmaBuilderLinks:m}=await tm({figmaAuth:i,force:!0,print:!1,mappingFiles:g,sys:e});if(h.length>1){let b=await sg({message:`Pick which ${(0,J.magenta)("\u2756")} Figma components you want to connect to code:`,required:!0,options:h.map(([,C])=>({label:`${C.name}${m.some(D=>D.figmaKey===C.key)?(0,J.dim)(" (already mapped)"):""}`,value:C.key})),initialValues:h.map(([,C])=>C.key).filter(C=>!m.some(D=>D.figmaKey===C))});if(Oe(b))return ue("Mapping not saved, goodbye!"),await oe(1);h=h.filter(([,C])=>b.includes(C.key))}let y=[];for(let b=0;b<h.length;b++){let[C,D]=h[b];b>0&&q.info(`Mapped ${b} / ${h.length} components:

${h.map(([,I],B)=>b>B?I.documentName==="-"?(0,J.dim)(` \u2756 ${I.name}`)+" "+(0,J.yellow)("(skipped)"):(0,J.green)(` \u2714 ${I.name} \u2192 <${I.documentName} />`):b===B?(0,J.underline)(` \u2192 ${I.name}`):(0,J.dim)(` \u2756 ${I.name}`)).filter(Boolean).join(`
`)}
`);let x,E,w;if(f){let I=await fT(f.components,D.name,!0);if(I==="external package"){let A=await k8(c);c?.addExternalPackage(A);let _=await c?.getRegistry({readAllInputTypes:!0});if(_&&(f=_),f){let L=await fT(f?.components.filter(z=>z.importPath===A),D.name,!0);L==="skip"?x=void 0:x=L}else{let L=await Lt({message:"Enter the import name of the component you want to map to",placeholder:"Button",validate(pe){if(!pe)return"Import name cannot be empty";if(!/^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(pe))return"Invalid import name. Please use a valid JavaScript identifier."}});if(Oe(L))return ue("Mapping not saved, goodbye!"),await oe(1);let z=await Za({message:`Select the type of import for ${A}`,options:[{value:"named",label:"Named",hint:`import { ${L} } from '${A}';`},{value:"default",label:"Default",hint:`import ${L} from '${A}';`}]});if(Oe(z))return ue("Mapping not saved, goodbye!"),await oe(1);x={id:"",exportName:L,importPath:A,importName:L,exportType:z,relFilePath:A,name:L,inputs:[],dependencies:[{name:L}],acceptsChildren:!0,filePath:A}}}else I==="skip"?x=void 0:x=I;if(!x){D.documentName="-",q.warning("Skipping mapping for "+D.name);continue}let B,H=P8(D,x,f,!0,!1);E=H.figmaInterface,H.meta={figmaNode:D,figmaKey:D.key,registeredCmp:x,cliVersion:e.version,cliFrameworks:e.getFrameworks().map(A=>A.name),cliPlatform:e.platform(),cliDeviceId:await e.getDeviceId()};try{for(;;){H.previousCode=w,H.prompt=B;let A=0;q.message(l.highlight("typescript",`// Local component types
`+H.reactInterface+`

// \u2756 ${D.name}
`+H.figmaInterface).value),q.message((0,J.bgCyan)((0,J.bold)((0,J.white)(" Streaming >> ")))),console.log("");let _=(0,J.bgCyan)((0,J.bold)((0,J.white)(" << ")));w=await N8(H,n,o,s,(z,pe)=>{let te=l.highlight("typescript",pe).value.split(`
`).map(ae=>(0,J.dim)("\u2502  ")+ae);if(A>0){let ae=Math.max(0,A-1),ct=te.slice(Math.max(0,ae)),gt=Math.min(A,1);gt>0&&(Jh.default.moveCursor(process.stdout,0,-gt),Jh.default.clearScreenDown(process.stdout)),process.stdout.write(ct.join(`
`)+_+`
`)}else process.stdout.write(te.join(`
`));A=te.length});let L=await Lt({message:`How does the mapping look? ${(0,J.dim)('Reply "good", or provide feedback (Ctrl+C to exit)')}`,defaultValue:"good",placeholder:"good"});if(Oe(L))return ue("Mapping not saved, goodbye!"),await oe(1);if(L.trim()==="good")break;ht("figma add follow up prompt",{spaceId:n,prompt:L}),B=L}}catch(A){return Xh.captureException(A),ue("LLM failed:"+String(A)),await oe(1)}}else{let I=await pt({message:`Create placeholder mapper for ${(0,J.magenta)(`\u2756 ${D.name}`)}?`,initialValue:!0,active:"Yes",inactive:"Skip"});if(!I||Oe(I)){D.documentName="-",q.warning(`Skipping mapping for ${(0,J.magenta)(`\u2756 ${D.name}`)}`);continue}E="",x={id:D.key,exportName:yi(D.name),importPath:"@components",importName:yi(D.name),exportType:"named",isRegistered:!0,name:yi(D.name),filePath:"./placeholder",inputs:[],relFilePath:"./placeholder.tsx"},w=`function Mapper(figma: BaseFigmaProps) {
  return (
    <${x.importName} />
  );
}`}let k=x.exportType==="default"?`import ${x.importName} from "${x.importPath}";
`:`import { ${x.importName} } from "${x.importPath}";
`,M=C.startsWith("https://")?`
url: ${JSON.stringify(C)},`:"",R="";c?.framework!=="react"&&c?.framework!=="next"&&c?.framework!=="@remix-run/react"&&(R=`// @ts-nocheck
`);let N="",K=`
// \u2756 ${D.name}
${E}

// Read more at https://www.builder.io/c/docs/mapping-functions
figmaMapping({${M}
  componentKey: ${JSON.stringify(D.key)},
  mapper${w?.replace("function Mapper(","(")}
});
    `;K=K.replace(/\bReact\.ReactNode\b/gm,"ChildrenNode");let Z=["figmaMapping","type BaseFigmaProps"];w?.includes("falseToUndefined")&&Z.push("falseToUndefined"),w?.includes("explicitFalse")&&Z.push("explicitFalse"),K?.includes("ChildrenNode")&&Z.push("ChildrenNode"),new RegExp(`\\b${x.importName}Props\\b`).test(K)&&(Z.push("ComponentProps"),N+=`
type ${x.importName}Props = ComponentProps<typeof ${x.importName}>;
`);let re=`import { ${Z.join(", ")} } from '@builder.io/dev-tools/figma';`,ee=`${R}${re}${k}${N}${K}`,Pe=`${yi(D.name)}.mapper.tsx`;if(D.documentName=x.importName,p)d=e.join(p,Pe);else{let I=Ra.default.existsSync("src");d=await D8(`${I?"src/":""}mappings/${Pe}`),p=e.dirname(d),Ra.default.mkdirSync(p,{recursive:!0})}Ra.default.writeFileSync(d,await ir(ee,void 0,d)),y.push(d),c&&!x.isRegistered&&x.id&&(u=nr(),u.start("Registering builder component in registry"),await c.registerComponent({cmpId:x.id}),u.stop(`<${x.importName}> added to the builder registry`))}await Ba(e,n,c,!0),p?(y.length===1?q.success(`${(0,J.bgGreen)((0,J.bold)((0,J.white)(" Done! \u{1F389} ")))} New mapper file saved in: ${(0,J.dim)(y[0])}`):q.success(`${(0,J.bgGreen)((0,J.bold)((0,J.white)(" Done! \u{1F389} ")))} Created ${y.length} new mapping files:
${y.map(b=>`  - ${b}`).join(`
`)}`),Mt((0,J.dim)(`Figma mappings need to be published to come into effect. You can do this by running:

   `)+(0,J.bgBlack)((0,J.white)((0,J.bold)(" npx builder.io figma publish ")))+`

   `+(0,J.dim)("Read more: https://www.builder.io/c/docs/cli-mapping#publishing-a-new-mapping")),ht("figma add success",{spaceId:n,mappingPath:p})):Mt("No new mappings were created.")},Qh=e=>{let r=new URL(e);if(!e.startsWith("https://www.figma.com/design/"))return null;let t=r.searchParams.get("node-id")?.replaceAll("-",":"),i=r.pathname.split("/")[2];return t&&i?{fileID:i,nodeId:t}:null};async function D8(e){let r=await Lt({message:`Where do you want to save the new mapping? ${(0,J.dim)("(Ctrl+C to exit)")}`,defaultValue:e,placeholder:e,initialValue:e,validate(t){if((0,hT.isAbsolute)(t))return"Please enter a relative path, not absolute";if(!t.endsWith(".mapper.tsx")&&!t.endsWith(".mapper.jsx"))return"Please enter a path that ends with '.mapper.tsx'";if(Ra.default.existsSync(t))return"File already exists, please choose a different name"}});return Oe(r)?(ue("Mapping not saved, goodbye!"),await oe(1)):r}var x8=/^[a-f0-9]{40}$/;async function E8(e,r,t){return(await Promise.all(t.map(async n=>{let s,o;if(n.match(x8))try{let c=await Hh({...r,docId:n});if(c)return[[n,c]];let p;try{p=await gT(`components/${n}`,{auth:e}),s=p.meta.file_key,o=p.meta.node_id}catch{q.warning("Failed to fetch component from Figma API.")}}catch(c){throw Xh.captureException(c),c}if(!s||!o){let c;try{c=Qh(n)}catch{}if(!c)return ue(`Invalid Figma URL, use Cmd+L while selecting a figma component to get a link to selection.
   Or make sure the command is copied correctly from the Figma plugin and the same builder space is being used.`),await oe(1);c&&({fileID:s,nodeId:o}=c)}let a=await Zh(e,s,o),l=xT(a[o].document,a[o].components);if(l){let c=(await Promise.all(Array.from(l).map(async([,p])=>await Hh({...r,docId:p.key})))).filter(dT);if(c.length)return c.map(p=>[n,p])}let u=await F8(a[o],o);return u?[[n,u]]:[]}))).flat().filter(dT)}var Zh=async(e,r,t,i)=>(await gT(`files/${r}/nodes`,{auth:e,params:{ids:t,depth:i}})).nodes,C8="https://api.figma.com/v1/",gT=async(e,{auth:r,params:t})=>{let i=new URL(`${C8}${e}`),n={};if(r.oauth?n.Authorization=`Bearer ${r.access_token}`:n["X-FIGMA-TOKEN"]=r.access_token,t)for(let o in t)t[o]!=null&&i.searchParams.set(o,t[o].toString());let s=await mt(i,{headers:n});if(!s.ok)throw new Error(`Figma REST ${s.statusText}: ${await s.text()}`);return s.json()};function yT(e,r){let t=r.types,i=[];return t.includes(e.type)&&i.push(e),"children"in e&&i.push(...e.children.flatMap(n=>yT(n,r))),i}function S8(e){let r=[],t={};try{t=e.componentPropertyDefinitions??{}}catch(l){console.error("Invalid Component Property Definitions",l)}let i=e.type==="COMPONENT_SET"?e.children:[e],n=new Map,s=[],o=Object.keys(t),a=w8(o);for(let l of i){let u=yT(l,{types:["INSTANCE","TEXT"]});for(let c of u){s.push(c);let p=c.componentPropertyReferences;p&&p.visible&&(p.characters&&n.set(p.characters,a(p.visible)),p.mainComponent&&n.set(p.mainComponent,a(p.visible)))}}for(let l of o){let u=t[l];switch(u.type){case"TEXT":{r.push({id:l,name:a(l),value:u.defaultValue,type:"string",baseType:"text",isDefault:!0,ref:n.get(l)});break}case"BOOLEAN":{r.push({id:l,name:a(l),value:!!u.defaultValue,baseType:"boolean",isDefault:!0,type:"boolean"});break}case"VARIANT":{r.push({id:l,name:a(l),value:u.defaultValue,type:u.variantOptions?.map(c=>`'${c}'`).join(" | ")??"string",baseType:"variant",variantOptions:u.variantOptions??[],isDefault:!0,ref:n.get(l)});break}case"INSTANCE_SWAP":{r.push({id:l,name:a(l),value:String(u.defaultValue),type:"React.ReactNode",baseType:"slot",isDefault:!0,ref:n.get(l)});break}}}return{inputs:r,nameMap:a}}function v8(e,r){let{inputs:t,nameMap:i}=S8(r);return{name:r.name,jsx:r.type==="COMPONENT_SET"?Yh(r.children[0],i,0,0):Yh(r,i,0,0),inputs:t,key:r.key,description:r.description,documentationLinks:[],instanceId:e.includes(":")?e:r.id,documentName:"",tree:""}}var bT=/[^\x00-\x7F]/g;function pT(e){return typeof e=="string"?e.replace(/#\d+:\d+$/,"").replace(bT,"").trim():""}function w8(e){let r=new Map,t=new Map;return e.forEach(i=>{let n=pT(i);t.has(n)?(r.has(i)&&(r.set(t.get(n),t.get(n)),r.delete(n)),r.set(i,i)):(r.set(i,n),t.set(n,i))}),i=>{let n=r.get(i)??pT(i);if(!n)throw new Error("No value for key "+i);return n}}var Yh=(e,r,t,i,n=-1)=>{let s="  ".repeat(Math.max(n+1,0)),o="",a=e.type,l=a==="GROUP"||a==="FRAME"||n<0&&"children"in e,u="",c=n>=0;if(c){let p="";if(e.type==="INSTANCE"){if(e.componentPropertyReferences&&e.componentPropertyReferences.mainComponent)return o+=`${s}{figma["${r(e.componentPropertyReferences.mainComponent)}"]}
`,o;u=e.type}u===""&&(u=e.type),(e.type!=="TEXT"||!e.autoRename)&&(p+=` name="${e.name}"`),e.componentPropertyReferences&&e.componentPropertyReferences.visible&&(p+=` visible={figma["${r(e.componentPropertyReferences.visible)}"]}`),o+=`${s}<${u}${p}`}if(e.type==="TEXT")c&&(o+=`>
`),e.componentPropertyReferences&&e.componentPropertyReferences.characters?o+=`${s}  {figma["${r(e.componentPropertyReferences.characters)}"]}
`:o+=`${s}  ${e.characters}
`,c&&(o+=`${s}</${u}>
`);else if(l&&"children"in e&&e.children.length>0){c&&(o+=`>
`);let p=0;for(let d of e.children)o+=Yh(d,r,p,e.children.length,n+1),p++;c&&(o+=`${s}</${u}>
`)}else c&&(o+=`/>
`);return o};function yi(e){return e=e.replace(bT,""),e=e.replace(/[\W\d]/g," "),e=e.trim(),e=T8(e),e=e.charAt(0).toUpperCase()+e.slice(1),e}function T8(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(r,t){return t===0?r.toLowerCase():r.toUpperCase()}).replace(/\s+/g,"")}function A8(e,r,t){let i=new RegExp(`^${e.importName}[A-Z]`),n=t?r.components.filter(s=>i.test(s.name)).map(s=>`<${s.name}>`):[];return`interface ${e.importName}Props {
${(e.inputs||[]).filter(s=>_8(s)).map(s=>`  ${DT(s.name)}${s.required?"":"?"}: ${em(s)};${n.length>0&&s.name==="children"?" // possible children: "+n.join(", "):""}`).join(`
`)}
}`}function P8(e,r,t,i,n){let s=r.dependencies?.[0].name,o=yi(e.name),a=t.components.map(p=>p.name).join(", "),l=`// Component: <${r.importName}>${s?" from "+s:""}
${A8(r,t,n)}`,u=`interface Figma${o}Props extends BaseFigmaProps {
${e.inputs.map(p=>`  ${DT(p.name)}?: ${em(p)};${p.ref?` // when "${p.ref}" is true`:""}`).join(`
`)}
}`,c=`${i?e.jsx:e.tree}`;return{figmaInterface:u,figmaTree:c,componentRegistry:a,figmaComponentName:o,reactInterface:l}}var I8=new Set(["id","class","className","key","hidden","style","styles","css","ref"]),_8=e=>!(I8.has(e.name)||e.type==="object"||/^[A-Z_]/.test(e.name)||/^on[A-Z]/.test(e.name)||em(e)==="null"),em=e=>e.type==="reference"?"ReactNode":e.type==="file"||e.type==="richText"?"string":e.enum?e.enum.map(r=>`'${r}'`).join(" | "):e.meta?.ts?e.meta.ts:e.type,DT=e=>/^[a-zA-Z_]\w*$/.test(e)?e:`"${e}"`;async function N8(e,r,t,i,n){let s=new URL(`${gi}/mappings/completions`);r&&s.searchParams.set("apiKey",r),t&&s.searchParams.set("userId",t);let o=await mt(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify(e)});if(!o.ok)throw new Error("Fetch to server failed");if(o.body){let a="",l=o.body.getReader(),u,c;for(;!u;){if({value:c,done:u}=await l.read(),u)return a;let p=new TextDecoder().decode(c);a+=p,n(p,a)}return a}}async function F8(e,r){let t=e.document;if(t.type!=="COMPONENT"&&t.type!=="COMPONENT_SET"){let n=`Seems like the pasted URL points to a ${t.type} node, not a COMPONENT or COMPONENT_SET.`;return t.type==="INSTANCE"&&(n+=`
Double click and select "Go to main component", then copy the URL to the figma COMPONENT`),ue(n),await oe(1)}let i=e.components[r]?.key??e.componentSets[r]?.key;return i?(e.document.key=i,v8(r,t)):(ue("Pasted URL does not correspond to a component or component set"),await oe(1))}function dT(e){return e!=null}function xT(e,r,t=new Map){debugger;if(e.componentId&&t.set(e.componentId,r[e.componentId]),e.children)for(let i of e.children)xT(i,r,t);return t}async function k8(e){if(!e){let l=await Lt({message:"Enter the import path to the component you want to map to:",placeholder:"@mui/material",validate(u){if(!u)return"Import path cannot be empty";if(!/^(@[a-z0-9-~][a-z0-9-._~]*\/)?[a-z0-9-~][a-z0-9-._~]*(\/.+)?$/i.test(u))return"Invalid import path format. Please use a valid ESM import path."}});return Oe(l)?(ue("Mapping not saved, goodbye!"),await oe(1)):l}let r=await e.findAllDependencies();if(!r||r.length===0)return null;let t=r.filter(l=>!O8(l.name));if(t.length===0)return null;let i=t.map(l=>({title:l.name,value:l.name})),n=await(0,lc.default)({type:"autocomplete",name:"package",message:"Select an installed external package:",hint:"Type or use arrow keys. Press Enter to select",choices:i,async suggest(l,u){return l=l.toLowerCase(),u.map(p=>{let d=p.value.trim().toLowerCase(),h=0;return l.length===0?h=0:h=(0,La.distance)(l,d),{...p,distance:h}}).sort((p,d)=>p.distance-d.distance).filter(p=>p.title.toLowerCase().includes(l))}});if(!n.package)return ue("Package selection cancelled"),await oe(1);let s=n.package,o=t.find(l=>l.name===n.package);function a(l){return/^[A-Z]/.test(l)}if(o&&o.subPackages.length>0){let l=o.subPackages.filter(u=>!ET.has(u)&&a(u));if(l.length>0){let u=[{title:`${o.name} ${(0,J.dim)("(Ctrl+C)")}`,value:null},...l.map(p=>({title:`${(0,J.dim)(o.name)}/${p}`,value:p}))],c=await(0,lc.default)({type:"autocomplete",name:"subPackage",message:"Select a component subpackage (optional):",hint:"Type or use arrow keys. Press Enter to select",async suggest(p,d){return p=p.toLowerCase().replace(o.name,""),d.map(f=>{if(f.value===null)return{...f,distance:0};let g=f.value?f.value.trim().toLowerCase():o.name,m=0;return p.length===0?m=0:m=(0,La.distance)(p,g),{...f,distance:m}}).sort((f,g)=>f.distance-g.distance).filter(f=>f.title.toLowerCase().includes(p))},choices:u});c.subPackage!==`${o.name} ${(0,J.dim)("(Ctrl+C)")}`&&(s=`${n.package}/${c.subPackage}`)}}return s}var ET=new Set(["react","react-dom","next","nextjs","typescript","babel","webpack","eslint","prettier","jest","lodash","axios","express","moment","redux","react-redux","styled-components","emotion","@types/react","@types/node","utils","helpers","constants","types","interfaces","hooks","context","providers","store","reducers","actions","services","api","clsx","class-variance-authority","lucide-react","dotenv"]),O8=e=>e.startsWith("@types")||e.startsWith("@emotion")||e.startsWith("@builder.io")||e.startsWith("eslint")||e.startsWith("prettier")||e.startsWith("jest")||e.startsWith("lodash")||e.includes("autoprefixer")||e.includes("tailwind")||e.includes("postcss")||e.includes("webpack")||e.includes("babel")||e.includes("typescript")||e.includes("rollup")||e.includes("vite")||e.includes("esbuild")||e.includes("storybook")||e.includes("testing-library")||e.includes("cypress")?!0:ET.has(e);async function fT(e,r,t){let i="",n=r.toLowerCase();function s(l){let u=l.importName.toLowerCase(),c=(0,La.distance)(u,n);return u.includes(n)&&(c-=n.length),c}let o=e.slice().sort((l,u)=>{let c=s(l),p=s(u);return c===p?l.importName.localeCompare(u.importName):c-p}).map(l=>{let u=`${l.importName}`;return s(l)<3?u=(0,J.bold)((0,J.yellow)("\u2605 ")+u):u=u,{title:i+u+(0,J.dim)(` from '${l.importPath}'`),value:l}});return o.push({title:i+"\u23ED\uFE0F  Skip "+(0,J.dim)("(Ctrl+C)"),value:"skip"}),t&&o.push({title:i+"\u{1F4E6} External npm package",value:"external package"}),(await(0,lc.default)({type:"autocomplete",name:"component",message:`Select a code component to map ${(0,J.bold)((0,J.magenta)(`\u2756 ${r}`))}`,hint:"Type or use arrow keys. Press Enter to select",async suggest(l,u){l=l.toLowerCase();let c=l.length===0?n:l;return u.map(d=>{let h=(typeof d.value=="string"?d.value:d.value.importName).trim().toLowerCase(),f=0;return l.length===0&&typeof d.value=="string"?f=2:(f=(0,La.distance)(c,h),h.includes(n)&&(f-=n.length),typeof d.value=="string"&&(f+=1e3)),{...d,distance:f}}).sort((d,h)=>d.distance-h.distance).filter(d=>d.value==="external package"||d.value==="skip"?!0:d.title.toLowerCase().includes(l))},choices:o})).component}var ST=async(e,r)=>{let t=uc(r);console.log(""),It((0,me.bgCyan)((0,me.bold)((0,me.white)(" figma publish ")))+"  "+(0,me.dim)("1.3.9"));let{builderPrivateKey:i,builderPublicKey:n,userId:s,spaceName:o,figmaAuth:a}=await wr(e,r,{forceSpaceId:r.spaceId,builderPrivateKey:!0,builderPublicKey:!0,figmaAuth:!0}),l;l||(l=await un(e));let u=await Ma(e);ht("figma publish started",{spaceId:n,mappingFiles:u.length});let{figmaBuilderLinks:c,foundErrors:p}=await tm({figmaAuth:a,force:r.force,mappingFiles:u,sys:e,print:!0});if(p){if(ht("figma publish user error",{spaceId:n,mappingFiles:u.length,figmaBuilderLinks:c.length}),r.force!==!0)return q.message(""),ue(`Please fix the issues and try again, or use the ${(0,me.bold)("--force")} flag to publish regardless.`),await oe(1);q.warn("Local mappings contain some errors, but --force flag was used, skipping.")}let d=o?`${(0,me.bold)(o)} ${(0,me.dim)("("+n+")")}`:`space id "${(0,me.bold)(n)}"`;if(u.length===0){q.warning(`No mappings found. Publishing will remove all existing mapping in space: ${d}.`);let m=t||r.yes||await pt({message:"Do you want to continue?",active:"Publish",inactive:"Cancel"});if(Oe(m)||!m)return ue("Publish cancelled"),await oe(1)}else{let m=t||r.yes||await pt({message:`Do you want to publish the found mappings to ${d}?
${(0,me.dim)("Existing mappings will be overwritten")}`,active:"Publish",inactive:"Cancel"});if(Oe(m)||!m)return ue("Publish cancelled"),await oe(1)}let h=nr(),f=await e.getRepoInfo();if(r.dryrun||(h.start("Publishing Figma Mappings"),await j8(e,{spaceId:n,userId:s,privateKey:i,figmaBuilderLinks:c,repoInfo:f}),h.stop(c.length>0?`${c.length} mappings uploaded`:"All mappings removed from the Builder space")),r.printJson||r.dryrun){let m=Kn(hn);q.info(m.highlight("json",JSON.stringify(c,null,2)).value)}await Ba(e,n,l,!0),q.success((0,me.bgGreen)((0,me.bold)((0,me.white)(" Done! \u{1F389} "))));let g={react:"npm run start",angular:"npm run start",vue:"npm run dev",svelte:"npm run dev",next:"npm run dev",remix:"npm run dev"}[l.framework]??"npm run start";Mt((0,me.dim)(`You can now start the dev server:

   `)+(0,me.bgBlack)((0,me.white)((0,me.bold)(` ${g} `)))+`

   `+(0,me.dim)("Then, go back to Figma and generate code again to see your mapped components.")),ht("figma publish success",{spaceId:n,mappingFiles:u.length,figmaBuilderLinks:c.length})};async function R8(e,r,t){let i=[],n=[r],s=e.relative(e.getAppRootDir(),r.fileName);for(;n.length>0;){let o=n.shift();if($8(o,r)){let a=M8(e,o,r,t),{line:l,character:u}=r.getLineAndCharacterOfPosition(o.getStart());a&&(a.loc=`${s}:${l+1}:${u+1}`,i.push(a))}n.push(...o.getChildren(r))}return i}var L8="figmaMapping";function M8(e,r,t,i){let[n]=r.arguments;if(!n)throw new Error("Invalid figmaMapping call, no arguments found");if(!at.default.isObjectLiteralExpression(n))throw new Error("Invalid figmaMapping call, argument is not an object literal");let s=n.properties;if(!s)throw new Error("Invalid figmaMapping call, argument has no properties");let o="",a,l,u="-",c=e.basename(t.fileName,".mapper.tsx"),p,d,h,f;if(r.typeArguments&&r.typeArguments.length>0){let m=CT(r.typeArguments[0].getText(t));m&&(c=m)}for(let m of s){let y=m.name?.getText(t);if(!y)throw new Error("Invalid figmaMapping call, property has no name");switch(y){case"url":{if(!("initializer"in m))throw new Error("Invalid figmaMapping call, url has no initializer");let b=m.initializer;if(!at.default.isStringLiteral(b))throw new Error("Invalid figmaMapping call, componentKey is not a string literal");f=b.text;break}case"componentKey":{if(!("initializer"in m))throw new Error("Invalid figmaMapping call, componentKey has no initializer");let b=m.initializer;if(!at.default.isStringLiteral(b))throw new Error("Invalid figmaMapping call, componentKey is not a string literal");o=b.text;break}case"mapper":if(at.default.isMethodDeclaration(m)){let b=function(C){if((at.default.isJsxOpeningElement(C)||at.default.isJsxSelfClosingElement(C))&&at.default.isIdentifier(C.tagName)){u=C.tagName.getText(t);let x=i.getSymbolAtLocation(C.tagName)?.getDeclarations()?.[0];if(x){let E=B8(x);E?.importClause&&(E.importClause.name?.getText(t)===u?p="default":E.importClause.namedBindings&&(p="named"),d=u,at.default.isStringLiteral(E.moduleSpecifier)&&(h=E.moduleSpecifier.text))}return u}else at.default.forEachChild(C,b)};var g=b;if(m.parameters[0].type){let C=m.parameters[0].type.getText(t),D=CT(C);D&&(c=D)}at.default.forEachChild(m,b),l=m.getText(t).replace(/^mapper/,"function Mapper"),a=rm(l);break}case"designTokenMapper":if(at.default.isMethodDeclaration(m)){l=m.getText(t).replace(/^designTokenMapper/,"function Mapper"),a=rm(l),o="design-tokens";break}case"genericMapper":if(at.default.isMethodDeclaration(m)){l=m.getText(t).replace(/^genericMapper/,"function Mapper"),a=rm(l),o="*";break}}}if(!o&&!f)throw new Error("Invalid figmaMapping call, no componentKey or url found");if(!o&&!a)throw new Error("Invalid figmaMapping call, no mapper found");if(!o&&!l)throw new Error("Invalid figmaMapping call, no original mapper found");return{builderName:u,figmaName:c,figmaKey:o,figmaUrl:f,inputMapper:a,exportType:p,importName:d,importPath:h,originalInputMapper:l,source:"cli"}}function rm(e){return at.default.transpile(e,{target:at.default.ScriptTarget.Latest,allowNonTsExtensions:!0,moduleResolution:at.default.ModuleResolutionKind.NodeJs,module:at.default.ModuleKind.CommonJS,noImplicitAny:!1,esModuleInterop:!0,noUnusedLocals:!1,noUnusedParameters:!1,jsx:at.default.JsxEmit.React,jsxFactory:"React.createElement",jsxFragmentFactory:"React.Fragment",allowJs:!0,checkJs:!0,strict:!0,suppressImplicitAnyIndexErrors:!0,typeRoots:["node_modules/@types"],inlineSources:!0,inlineSourceMap:!0})}function B8(e){let r=e;for(;r;){if(at.default.isImportDeclaration(r))return r;r=r.parent}}function $8(e,r){return at.default.isCallExpression(e)&&e.expression.getText(r).includes(L8)}async function Ma(e){let r=["node_modules","dist","build","public"];return(await e.readdirRecursive(e.getAppRootDir(),r)).filter(i=>gr(i))}function CT(e){let r=e.match(/^Figma(\w+)Props$/);if(r&&typeof r[1]=="string")return r[1]}var U8=async(e,r)=>{let t=new Map,i={};return r.forEach(n=>{let s=Qh(n);if(!s)throw new Error("Invalid Figma URL, use Cmd+L while selecting a figma component to get a link to selection");let o=t.get(s.fileID);o||(o=[],t.set(s.fileID,o)),o.includes(s.nodeId)||o.push(s.nodeId),i[n]=`${s.fileID}/${s.nodeId}`}),await Promise.all(Array.from(t.entries()).map(async([n,s])=>{let o=await Zh(e,n,s.join(","),0);for(let a of s){let l=o[a],u=l.components[a]?.key??l.componentSets[a]?.key;if(!u)throw new Error(`Cannot resolve figma component key for ${a} in file ${n}`);let c=`${n}/${a}`;for(let p of r)i[p]===c&&(i[p]=u)}})),i};async function Ba(e,r,t,i=!1){try{return t||(t=await un(e)),await t.setPublicApiKey({publicApiKey:r}),i&&await t.ensureFigmaImportPage(),!0}catch(n){return im.captureException(n),!1}}var j8=async(e,r)=>{let t=new URL(`${gi}/mappings/publish`);if(t.searchParams.set("apiKey",r.spaceId),t.searchParams.set("userId",r.userId),!(await mt(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.privateKey}`},body:JSON.stringify({remoteUrl:r.repoInfo?.remoteUrl,defaultBranch:r.repoInfo?.defaultBranch,currentBranch:r.repoInfo?.currentBranch,commit:r.repoInfo?.commit,figmaBuilderLinks:r.figmaBuilderLinks,sdkVersion:e.sdkVersion,spaceKind:e.kind,cliVersion:e.version,cliFrameworks:e.getFrameworks().map(n=>n.name),cliPlatform:e.platform(),cliDeviceId:await e.getDeviceId()})})).ok)throw new Error("Failed to publish Figma mappings");return!0};async function tm({figmaAuth:e,force:r,mappingFiles:t,print:i,sys:n}){if(!t.length)return{figmaBuilderLinks:[],foundErrors:!1};let s=[],o=await ft(n,t),a=o.getTypeChecker(),l=[...o.getSyntacticDiagnostics(),...o.getGlobalDiagnostics(),...o.getSemanticDiagnostics(),...o.getDeclarationDiagnostics()].filter(d=>!(d.category!==at.default.DiagnosticCategory.Error||d.code===6133||d.code===6138||d.code===6196||d.code===6192||d.code===6198||d.code===6199||d.code===6205||d.code===1449||d.code===2578||d.code===2695||d.code===2322)),u=new Set,c=!1;for(let d of t)try{let h=o.getSourceFile(d);if(!h)throw new Error(`Could not find source file for ${d}`);let f=h?.fileName;if(f){let m=l.filter(y=>y.file?.fileName===f);if(m.length>0&&(c=!0,r!==!0)){q.error((0,me.red)(`TypeScript errors in ${(0,me.dim)(n.relative(n.getAppRootDir(),d))}:
`)+m.map(y=>` \u2022 ${q8(y)}`).join(`
`));continue}}let g=await R8(n,h,a);if(s.push(...g),i){let m=!1,y=`${(0,me.dim)(n.relative(n.getAppRootDir(),d))}:
`+g.map(b=>{let C=!1;b.figmaKey?(C||(C=u.has(b.figmaKey)),u.add(b.figmaKey)):b.figmaUrl&&(C||(C=u.has(b.figmaUrl)),u.add(b.figmaUrl));let D="";switch(b.figmaKey){case"design-tokens":D="  "+(0,me.cyan)("\u2747\uFE0E Design tokens mapper");break;case"*":D="  "+(0,me.yellow)("\u25CF Generic mapper");break;default:D=`  ${(0,me.magenta)("\u2756 "+yi(b.figmaName))}  ${(0,me.dim)("\u2192")}  ${b.builderName==="-"?"-":"<"+b.builderName+">"}`;break}return C&&(m=!0,D=(0,me.bgRed)(D+(0,me.bold)(" <= duplicated"))),D}).join(`
`);m?(c=!0,q.error(y)):q.info(y)}}catch(h){return im.captureException(h),console.error(h),await oe(1)}let p=s.filter(d=>d.figmaUrl&&!d.figmaKey).map(d=>d.figmaUrl);if(p.length>0){let d=await U8(e,p);for(let h of s)if(h.figmaUrl&&!h.figmaKey){let f=d[h.figmaUrl];if(!f)throw new Error("bad internal state");h.figmaKey=f}}return{figmaBuilderLinks:s,foundErrors:c}}function q8(e){let{messageText:r}=e;if(typeof r=="string")return r;let{next:t}=r,i=[r.messageText];return t&&i.push(t.map(n=>n.messageText).join(`
`)),i.join(`
`)}var TT=require("crypto");var uc=e=>!!(process.env.CI||e.ci),wr=async(e,r,t)=>{let i=uc(r)?{}:W8(e),n=i.spaceName,s=i.userId,o,a=process.env.BUILDER_PUBLIC_KEY??r.spaceId??i.builderPublicKey,l=process.env.BUILDER_PRIVATE_KEY??r.privateKey??i.builderPrivateKey,u=process.env.FIGMA_PERSONAL_TOKEN??r.figmaToken;if(u?o={access_token:u,oauth:!1}:o=i.figmaAuth,t.forceSpaceId&&a&&a!==t.forceSpaceId){q.warning(`CLI is currently logged in space ${(0,eo.yellow)(a)},
however the command required --spaceId=${(0,eo.green)(t.forceSpaceId)}`);let c=r.yes||await pt({message:"Do you wanna switch spaces?",active:"Yes",inactive:`Stay in current ${n} space`});if(Oe(c)||!c)throw ue(`Aborting. Another way to fix this conflict is making sure the figma plugin is logged in "${n}" instead.`),new Error("Exiting");a=t.forceSpaceId,l=void 0,n=void 0,s=void 0}if(uc(r)){if(!o&&t.figmaAuth)throw new Error(`No Figma personal token found.
Please set the FIGMA_PERSONAL_TOKEN environment variable.`);if(!l&&t.builderPrivateKey)throw new Error(`No Builder private key found.
Please set the BUILDER_PRIVATE_KEY environment variable.`);if(!a&&t.builderPublicKey)throw new Error(`No Builder public key found.
Please set the BUILDER_PUBLIC_KEY environment variable.`);return{figmaAuth:o,builderPublicKey:a,builderPrivateKey:l}}if((t.force||!o&&t.figmaAuth)&&(o=await V8(),vT(e,{figmaAuth:o})),t.force||!l&&t.builderPrivateKey||!a&&t.builderPublicKey){let{privateKey:c,spaceId:p,spaceName:d,userId:h}=await z8(e,t.forceSpaceId);if(t.forceSpaceId&&p!==t.forceSpaceId)throw new Error(`OAuth flow returned space ${(0,eo.yellow)(p)}, however the command required --spaceId=${(0,eo.green)(t.forceSpaceId)}`);a=p,l=c,n=d,s=h,await iT(s),await Ba(e,p,void 0,!1),vT(e,{builderPublicKey:a,builderPrivateKey:l,spaceName:n,userId:s})}return s&&Xi.setUser({id:s,username:process.env.USER||process.env.USERNAME||"unknown"}),(n||a)&&Xi.setContext("builder",{spaceId:a,spaceName:n}),{figmaAuth:o,builderPublicKey:a,builderPrivateKey:l,spaceName:n,userId:s}},K8="RHr2ed743waC2g2ZHMEJSn6O0NQ08L";async function V8(){let e=nr(),{default:r}=await import("open");e.start("Waiting for Figma auth");let t=(0,TT.randomUUID)(),i=new URL("https://www.figma.com/oauth");i.searchParams.set("client_id","nrGCqw6TLl95QJhVDi097A"),i.searchParams.set("redirect_uri","http://localhost:5283/figma-connect"),i.searchParams.set("scope","files:read,file_dev_resources:read,file_variables:read"),i.searchParams.set("state",t),i.searchParams.set("response_type","code");let n,s=new Promise((o,a)=>{n=(0,nm.createServer)(async(l,u)=>{let c=new URL(l.url||"","http://localhost:5283");if(c.pathname==="/figma-connect"){let p=c.searchParams.get("code"),d=c.searchParams.get("state");if(p&&t===d){let h=await mt("https://www.figma.com/api/oauth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({client_id:"nrGCqw6TLl95QJhVDi097A",client_secret:K8,redirect_uri:"http://localhost:5283/figma-connect",code:p,grant_type:"authorization_code"}).toString()});h.ok||a(new Error("Failed to get figma access token"));let f=await h.json();u.end(`<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <script>
      (function (window) {
        if (window.location !== window.top.location) {
          window.top.location = window.location;
        }
      })(this);
    </script>
    <title>Successfully Connected With Builder.io</title>
    <link rel="icon shortcut" href="https://cdn.builder.io/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        background-color: #2a2a2a;
      }
      main {
        width: 100vw;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .auth-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        max-width: 444px;
        padding: 40px 20px;
        border-radius: 4px;
        border: 1px solid var(--Dark-Mode-outline, #555);
        font-family: Inter, sans-serif;
        text-align: center;
      }

      .auth-icon {
        width: 64px;
        aspect-ratio: 1;
        object-fit: contain;
        object-position: center;
      }

      .auth-content {
        align-self: stretch;
        display: flex;
        flex-direction: column;
        justify-content: start;
        width: 100%;
        margin-top: 24px;
      }

      .auth-title {
        color: #fff;
        font-size: 20px;
        font-weight: 600;
        line-height: 1.2;
        align-self: center;
      }

      .auth-message {
        color: rgba(255, 255, 255, 1);
        font-size: 14px;
        font-weight: 400;
        line-height: 20px;
        margin-top: 4px;
      }

      .auth-logo {
        width: 186px;
        aspect-ratio: 2.91;
        object-fit: contain;
        object-position: center;
        border-radius: 0;
        margin-top: 24px;
        max-width: 100%;
      }
    </style>
  </head>

  <body>
    <main>
      <section class="auth-container">
        <img
          src="https://cdn.builder.io/api/v1/image/assets/TEMP/77fa9d1570a153d1f6171e29d4650f05b4ee7f28f09e94bb10c40108f1237d3c?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Authentication icon"
          class="auth-icon"
          loading="lazy"
        />
        <div class="auth-content">
          <h1 class="auth-title">Authentication successful</h1>
          <p class="auth-message">
            You can now close this browser tab and return to your CLI to
            continue
          </p>
        </div>
        <img
          src="https://cdn.builder.io/api/v1/image/assets/TEMP/183613c2acd7df7fb88682c42deef5e84d8522e6a384f4ad19327df1bda5dfab?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Company logo"
          class="auth-logo"
          loading="lazy"
        />
      </section>
    </main>
    <!--SCRIPT_PLACEHOLDER-->
  </body>
</html>
`.replace("{{MESSAGE}}","The CLI has authenticated correctly with Figma"),()=>{o({...f,oauth:!0})})}}}),n.listen(5283,()=>{r(i.href,{wait:!1})})});try{return await s}finally{e.stop("Authenticated with Figma"),n&&("closeAllConnections"in n&&n.closeAllConnections(),n.close(o=>{o&&(Xi.captureException(o),console.error(o))}))}}async function z8(e,r){let t=nr();t.start("Waiting for Builder auth");let{default:i}=await import("open"),n=new URL("/cli-auth","https://builder.io");n.searchParams.set("client_id","builder-dev-tools-cli"),n.searchParams.set("host",await e.getDeviceId()),n.searchParams.set("response_type","code"),n.searchParams.set("cli","true"),r&&n.searchParams.set("space_id",r);let s,o=new URL(Pn,"http://localhost:5283");o.searchParams.set(Ka,(0,wT.platform)()),o.searchParams.set(Va,process.versions.node);let a=e.getFrameworks();a.length>0&&(n.searchParams.set(es,a[0].name),o.searchParams.set(es,a[0].name)),n.searchParams.set("redirect_url",o.href);let l=new Promise(u=>{s=(0,nm.createServer)(async(c,p)=>{let d=new URL(c.url||"","http://localhost:5283");d.pathname===Pn&&p.end(`<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <script>
      (function (window) {
        if (window.location !== window.top.location) {
          window.top.location = window.location;
        }
      })(this);
    </script>
    <title>Successfully Connected With Builder.io</title>
    <link rel="icon shortcut" href="https://cdn.builder.io/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        background-color: #2a2a2a;
      }
      main {
        width: 100vw;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .auth-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        max-width: 444px;
        padding: 40px 20px;
        border-radius: 4px;
        border: 1px solid var(--Dark-Mode-outline, #555);
        font-family: Inter, sans-serif;
        text-align: center;
      }

      .auth-icon {
        width: 64px;
        aspect-ratio: 1;
        object-fit: contain;
        object-position: center;
      }

      .auth-content {
        align-self: stretch;
        display: flex;
        flex-direction: column;
        justify-content: start;
        width: 100%;
        margin-top: 24px;
      }

      .auth-title {
        color: #fff;
        font-size: 20px;
        font-weight: 600;
        line-height: 1.2;
        align-self: center;
      }

      .auth-message {
        color: rgba(255, 255, 255, 1);
        font-size: 14px;
        font-weight: 400;
        line-height: 20px;
        margin-top: 4px;
      }

      .auth-logo {
        width: 186px;
        aspect-ratio: 2.91;
        object-fit: contain;
        object-position: center;
        border-radius: 0;
        margin-top: 24px;
        max-width: 100%;
      }
    </style>
  </head>

  <body>
    <main>
      <section class="auth-container">
        <img
          src="https://cdn.builder.io/api/v1/image/assets/TEMP/77fa9d1570a153d1f6171e29d4650f05b4ee7f28f09e94bb10c40108f1237d3c?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Authentication icon"
          class="auth-icon"
          loading="lazy"
        />
        <div class="auth-content">
          <h1 class="auth-title">Authentication successful</h1>
          <p class="auth-message">
            You can now close this browser tab and return to your CLI to
            continue
          </p>
        </div>
        <img
          src="https://cdn.builder.io/api/v1/image/assets/TEMP/183613c2acd7df7fb88682c42deef5e84d8522e6a384f4ad19327df1bda5dfab?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Company logo"
          class="auth-logo"
          loading="lazy"
        />
      </section>
    </main>
    <!--SCRIPT_PLACEHOLDER-->
  </body>
</html>
`.replace("{{MESSAGE}}","The CLI has authenticated correctly with Builder.io"),()=>{u({privateKey:d.searchParams.get("p-key")||"",spaceId:d.searchParams.get("api-key")||"",spaceName:d.searchParams.get("org-name")||"",userId:d.searchParams.get("user-id")||""})})}),s.listen(5283,()=>{i(n.href,{wait:!1})})});try{return await l}finally{t.stop("Authenticated with Builder.io"),s&&("closeAllConnections"in s&&s.closeAllConnections(),s.close(u=>{u&&(Xi.captureException(u),console.error(u))}))}}function vT(e,r){let t=e.getAppRootDir(),i=(0,cc.join)(t,"node_modules",".builder"),n=(0,cc.join)(i,"data.json");if((0,bi.existsSync)(n))try{let s=(0,bi.readFileSync)(n,"utf8"),o=JSON.parse(s);r=Object.assign(o.credentials,r)}catch(s){Xi.captureException(s),console.error("Failed to store credentials",s)}else(0,bi.mkdirSync)(i,{recursive:!0});(0,bi.writeFileSync)(n,JSON.stringify({credentials:r},null,2))}function W8(e){let r=e.getAppRootDir(),t=(0,cc.join)(r,"node_modules",".builder","data.json");if((0,bi.existsSync)(t))try{let i=(0,bi.readFileSync)(t,"utf8");return JSON.parse(i).credentials}catch(i){Xi.captureException(i),console.error("Failed to load credentials",i)}return{}}var Xe=V(Gt(),1),to=require("path");var G8="https://cdn.builder.io",AT=async(e,r)=>{console.log(""),It((0,Xe.bgCyan)((0,Xe.bold)((0,Xe.white)(" figma migrate ")))+"  "+(0,Xe.dim)("1.3.9"));let{builderPrivateKey:t,builderPublicKey:i}=await wr(e,r,{forceSpaceId:r.spaceId,builderPrivateKey:!0,builderPublicKey:!0});ht("figma publish started",{spaceId:i});let n=await Ma(e);if(n.length>0){ht("figma migrate with existing files",{spaceId:i}),q.warning(`${(0,Xe.yellow)("This repo already has figma mappings in:")}

${n.map(u=>` - ${(0,to.relative)(e.getAppRootDir(),u)}`).join(`
`)}

Migration is going to create new files, possibly duplicates.`);let l=await pt({message:"Do you want to continue?",initialValue:!1});if(!l||Oe(l))return ue("Migration cancelled"),await oe(1)}q.message("We are about to import your existing figma mappings into this local repo.");let s=nr();s.start("Fetching figma mappings");let o=await H8({privateKey:t,spaceId:i});s.stop(`Fetched ${o.length} figma mappings:`),q.message(o.map(l=>{switch(l.figmaKey){case"design-tokens":return(0,Xe.cyan)("\u2747\uFE0E Design tokens mapper");case"*":return(0,Xe.yellow)("\u25CF Generic mapper");default:return`${(0,Xe.magenta)("\u2756 "+yi(l.figmaName))} ${(0,Xe.dim)("\u2192")} ${l.builderName}`}}).join(`
`));let a=await Lt({message:`Where do you want to save the figma mappings? ${(0,Xe.dim)("(Ctrl+C to exit)")}`,initialValue:"./src/mappings",defaultValue:"./src/mappings",placeholder:"./src/mappings",validate:l=>{if((0,to.extname)(l)!=="")return"It must be a valid directory path, not a file";if((0,to.isAbsolute)(l))return"It must be a relative path"}});if(Oe(a))return ue("Migration cancelled"),await oe(1);await(0,pc.mkdir)(a,{recursive:!0}),await Promise.all(o.map(async l=>{let u=await J8(l),c;switch(l.figmaKey){case"design-tokens":c="design-tokens";break;case"*":c="generic";break;default:c=yi(l.figmaName)}let p=a+"/"+c+".mapper.tsx";return q.info((0,Xe.green)("created ")+(0,Xe.dim)(p)),(0,pc.writeFile)(p,u)})),q.info("Check out the docs for following steps: https://builder.io/docs/figma/figma-mappings"),Mt((0,Xe.bgGreen)((0,Xe.bold)((0,Xe.white)(" Done! \u{1F389} ")))+` ${o.length} mappings imported`),ht("figma migrate success",{spaceId:i,mappingFiles:o.length})};async function H8(e){let r=await mt(`${G8}/api/internal/kv/${e.spaceId}/figma-builder?apiKey=${e.spaceId}`,{headers:{Authorization:`Bearer ${e.privateKey}`}});if(!r.ok)throw new Error(`Failed to fetch figma-builder links: ${r.statusText}`);let t=await r.json();if(!(t instanceof Object&&"figmaBuilderLinks"in t))throw new Error("Invalid response");return t.figmaBuilderLinks}async function J8(e){let r="figmaMapping",t=e.originalInputMapper?.match(/function Mapper\(\s*([a-zA-Z0-9_$]+)\s*(?::[^)])?\s*\)/)?.[1],i=e.originalInputMapper?.match(/function Mapper\([^)]*\)(\s*{([^]*))$/)?.[1],n;switch(e.figmaKey){case"design-tokens":n=`${r}({
  designTokenMapper(${t||"designToken"})${i}
})`;break;case"*":n=`${r}({
  genericMapper(${t||"figma"})${i}
})`;break;default:n=`${r}({${e.figmaUrl?`
  url: ${JSON.stringify(e.figmaUrl)},`:""}
  componentKey: ${JSON.stringify(e.figmaKey)}${i?`,
  mapper(${t||"figma"})${i}`:""}
})`}return ir(`import { figmaMapping } from '@builder.io/dev-tools/figma';
${Y8(e)}

${n}`,"typescript",void 0)}function Y8(e){let{exportType:r,importName:t,importPath:i}=e;if(t&&i){let n=JSON.stringify(i);return r==="named"?`import { ${t} } from ${n};`:`import ${t} from ${n};`}return""}var tr=V(Gt(),1);var S6=V(qc()),gA=V(mA()),$a=V(require("@sentry/node"));function fc(e,r,t){let i,n=new Promise(o=>{try{i=(0,gA.default)(e,r,{stdio:"inherit",...t}),i.on("error",a=>{$a.captureException(a),o(!1)}),i.on("close",a=>{a===0?o(!0):($a.captureMessage(`cmd "${e} ${r.join(" ")}", exit code: ${a}`,"error"),o(!1))})}catch(a){$a.captureException(a),o(!1)}});return{abort:async()=>{i&&i.kill("SIGINT")},command:n}}var yA=async(e,r,t)=>{if(!t.skipInstallation&&await v6(e)&&(t.yes||await pt({message:"Welcome to Builder.io! Would you like to set up your integration now?",active:"Yes, let's integrate!",inactive:"No, I'll do it later"})?await fc("npm",["init","builder.io@latest","--","--skip-question"],{stdio:"inherit",cwd:e.getAppRootDir()}).command||(ue(`Auto-install failed. You can install it manually by running ${(0,tr.bold)("npm init builder.io@latest")}`),await oe(1)):ue(`Ok, you can install it later. By running ${(0,tr.bold)("npm init builder.io@latest")}`)),r==="migrate")await AT(e,t);else if(r==="publish"||r==="p")await ST(e,t);else if(r==="add"||r==="generate"||r==="gen"||r==="g")await mT(e,t);else if(r==="auth"){console.log(""),It((0,tr.bgCyan)((0,tr.bold)((0,tr.white)(" figma auth ")))+"  "+(0,tr.dim)("1.3.9"));let{builderPublicKey:i}=await wr(e,t,{figmaAuth:!0,builderPrivateKey:!0,builderPublicKey:!0,force:!0});ht("figma auth",{spaceId:i}),Mt((0,tr.bgGreen)((0,tr.bold)((0,tr.white)(" Done! \u{1F389} "))))}else r==="help"&&Ji(t._[2])};async function v6(e){let r=e.getFrameworks(),t=["next","angular","@angular/core"];if(!r.some(i=>t.includes(i.name)))return!1;try{let i=await Si(e,e.getRepoRootDir());if(!i||!!i.devDependencies?.["@builder.io/dev-tools"]||!!i.dependencies?.["@builder.io/dev-tools"])return!1}catch{return!1}return!0}var dP=V(Cu(),1);var qr=require("node:path"),Rt=require("node:fs");var Sn=V(Gt(),1);async function bA(e){console.log(""),It((0,Sn.bgCyan)((0,Sn.bold)((0,Sn.white)(" add ")))+"  "+(0,Sn.dim)("1.3.9"));let r=e.snippetId;if(!r&&!e.snippet)return ue("SnippetId expected. npx builder.io add <snippetId>"),await oe(1);let t=nr(),i=e.snippet||null;if(!i&&r&&(t.start(`Fetching snippet ${r}`),i=await hm(r),t.stop(`Fetched snippet ${r}`)),!i)return ue(`No snippet found for id ${r}`),await oe(1);let n=process.cwd(),s=Oa(n)??n;if(i.files?.length>0){let o=mm(s,i.framework||"react"),a=e.path||await Lt({message:"Where should we copy the files?",initialValue:o,validate(u){if(u.length===0)return"File path is required!";if(u[0]!==".")return"Please enter a relative path."}});if(Oe(a))return ue("Cancelled sync"),await oe(0);let l=await hc(s,i,i.files,a,!1);return q.success("All files have been written successfully."),{snippet:i,pathInput:a,writtenFiles:l,timeStamp:Date.now()}}else{let{code:o,suggestedName:a,framework:l}=i;l&&(a=await T6(s,l,o)),a??(a="./src/components/MyComponent.jsx");let u=DA(i,w6(i.code),i.framework);try{i.framework==="html"?u=await ir(u,"html"):i.framework==="angular"?u=await ir(u,"angular"):i.framework==="vue"?u=await ir(u,"vue"):i.framework==="svelte"?u=await ir(u,"html"):u=await ir(u,"typescript")}catch{}let c=e.path;if(!c){try{let h=(await Xw({cwd:process.cwd()})).getFrameworks();if(h.length>0){let f;if(h.some(g=>g.name.includes("qwik"))?f="qwik":h.some(g=>g.name.includes("react"))?f="react":f=h[0].name,i.framework&&i.framework!==f){let g=await pt({message:`This snippet is for ${i.framework}, but you are using ${f}. Continue?`,initialValue:!1});if(Oe(g)||!g)return console.log("Please go back to builder and change the output framework to match your project."),console.log(),await oe(0)}}}catch{}if(c=await Lt({message:"Where should we copy the code?",initialValue:a?.startsWith("./")?a:`./${a}`,validate(d){if(d.length===0)return"File path is required!";if(d[0]!==".")return"Please enter a relative path."}}),Oe(c))return console.log(""),await oe(0)}let p=(0,qr.resolve)(s,c);q.info(`Writing code to ${p}`),(0,Rt.mkdirSync)((0,qr.dirname)(p),{recursive:!0}),(0,Rt.writeFileSync)(p,u)}}function hm(e){return mt(`https://cdn.builder.io/api/v1/snippet/${e}`).then(r=>r.status===404?null:r.json())}function w6(e){return e.replace(/^```jsx\s?|\s?```$/g,"").trim()}function DA(e,r,t,i=!1){if(!t)return r;let n="This code was generated by Builder.io",s=i?`https://builder.io/content/${e.contentId}?codeSession=${e.sessionKey}&sid=${e.id}`:"",o=["vue","html","svelte"].includes(t.toLowerCase()),a=[n,s].filter(Boolean);return`${o?a.map(u=>`<!-- ${u} -->`).join(`
`):`/**
${a.map(u=>` * ${u}`).join(`
`)}
 */`}
${r}`}async function T6(e,r,t){let i,n=P6(t,r.toLowerCase());switch(r.toLowerCase()){case"react":let s=await A6(e);i=`components/${n||"MyComponent"}.${s?"tsx":"jsx"}`;break;case"angular":i=`app/components/${n||"my-component"}.component.ts`;break;case"vue":i=`components/${n||"MyComponent"}.vue`;break;case"svelte":i=`components/${n||"MyComponent"}.svelte`;break;case"html":i=`${n||"my-design"}.html`;break;case"qwik":i=`components/${n||"MyComponent"}.tsx`;break;default:i=`components/${n||"MyComponent"}.tsx`}return i=(0,Rt.existsSync)("./src")?`./src/${i}`:`./${i}`,i}async function A6(e){if((0,Rt.existsSync)((0,qr.join)(e,"./tsconfig.json")))return!0;let r=qh(e);return r&&(0,Rt.existsSync)((0,qr.join)(r,"./package.json"))?(0,Rt.readFileSync)((0,qr.join)(r,"./package.json"),"utf-8").includes("typescript"):!1}function P6(e,r){let t={vue:/name:\s*'([^']+)'/,react:/function (\w+)\([\w\W]+\)/,qwik:/export const (\w+) = component\$/,angular:/selector:\s*'([^']+)'/};if(!t[r])return null;let i=e.match(t[r]);return r==="react"&&!i?.[1]?e.match(/const (\w+)[\w\W]+=\s*\(/)?.[1]||null:i?.[1]||null}async function hc(e,r,t,i,n){let s=[];for(let o of t){let a=I6(i,o.path),l=(0,qr.resolve)(e,a);if("code"in o){let u=await N6(r,o.code,_6(o.path),n);(0,Rt.mkdirSync)((0,qr.dirname)(l),{recursive:!0}),(0,Rt.writeFileSync)(l,u),s.push({...o,path:a,code:u,timestamp:(0,Rt.statSync)(l).mtime.getTime()}),q.info(`Writing file to ${l}`)}else(0,Rt.mkdirSync)(l,{recursive:!0}),s=s.concat(await hc(e,r,o.files,a,n))}return s}function I6(e,r){let t=e.replace(/^\.?\/+|\/+$/g,""),i=r.replace(/^\.?\/+|\/+$/g,""),n=t.split("/").filter(Boolean),s=i.split("/").filter(Boolean),o=-1;for(let l=0;l<n.length;l++){let u=s.indexOf(n[l]);u!==-1&&(o=u)}return[...n,...s.slice(o+1)].join("/")}function _6(e){switch(e.split(".").pop()?.toLowerCase()){case"html":case"svelte":return"html";case"vue":return"vue";case"ts":case"tsx":case"js":case"jsx":return"typescript";case"css":return"css";case"json":return"json";default:return"typescript"}}async function N6(e,r,t,i){let n=r;try{n=await ir(r,t)}catch{}return i?DA(e,n,t,i):n}function mm(e,r){let i=(0,Rt.existsSync)((0,qr.join)(e,"src"))?"src/":"";switch(r.toLowerCase()){case"angular":return`./${i}app/components/`;case"html":return"./";default:return`./${i}components/`}}function gm(e,r){return{cwd:e,command:r[0],snippetId:r[1],path:r[2]}}var zt=require("path"),rr=require("fs"),Dm=require("glob");var gc=require("node:http");var xA=require("node:console"),EA=require("node:http"),CA=require("node:https");function no(e){let r=Date.now();return new Promise((t,i)=>{let s=F6(e.url)({protocol:e.url.protocol,host:e.url.host,port:e.url.port,path:e.url.pathname+e.url.search,method:e.method,headers:e.headers},o=>{let a="";o.on("data",l=>{a+=l}),o.on("end",()=>{if((0,xA.debug)(`${e.method} ${e.url.href}, duration: ${Date.now()-r}ms`),typeof o.statusCode=="number"&&o.statusCode>=200&&o.statusCode<300)if(typeof o.headers["content-type"]!="string"||!o.headers["content-type"].includes("application/json"))i(`Response from ${e.url.href} content-type is ${o.headers["content-type"]}`);else try{t(JSON.parse(a))}catch(l){i(`Response from ${e.url.href} is not valid JSON: ${a}
${l}`)}else i(`Request to ${e.url.href} failed with status ${o.statusCode}: ${a}`)})}).on("error",o=>{i(`Error fetching ${e.url.href}, ${o}`)});e.body&&(s.setHeader("Content-Type","application/json"),s.write(e.body)),s.end()})}function F6(e){if(e.protocol==="https:")return CA.request;if(e.protocol==="http:")return EA.request;throw new Error(`Unsupported protocol ${e.protocol}`)}async function SA(e){let r=new URL(`https://cdn.builder.io/api/v3/query/${e.publicApiKey}/${e.model}`);return r.searchParams.set("omit","meta.componentsUsed"),r.searchParams.set("apiKey",e.publicApiKey),r.searchParams.set("userAttributes.urlPath",e.pageUrl),r.searchParams.set("options.page.model",`"${e.model}"`),r.searchParams.set("cachebust","true"),(await no({url:r,method:"GET"}))[e.model]}async function vA(e,r){if(r.kind===mo.VCP)return!0;let t=new URL("https://cdn.builder.io/api/v2/admin"),i={query:`query {
      models {
        id
        name
      }
    }`};e.debug(`Get model id for model name "${r.model}"`);let s=(await no({url:t,method:"POST",headers:{Authorization:`Bearer ${r.privateAuthKey}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(i)})).data.models.find(l=>l.name===r.model);if(!s)return e.debug(`No model found for model name "${r.model}"`),!1;e.debug(`Data query, modelId: "${s.id}", urlPath: "${r.pageUrl}"`);let o=new URL("https://cdn.builder.io/api/v3/data");o.searchParams.set("limit","1"),o.searchParams.set("cachebust","true"),o.searchParams.set("collection","content"),o.searchParams.set("query.published.$ne","archived"),o.searchParams.set("query.query.$elemMatch.$and[0].property","urlPath"),o.searchParams.set("query.query.$elemMatch.$and[0].operator","is"),o.searchParams.set("query.query.$elemMatch.$and[0].value",r.pageUrl),o.searchParams.set("query.modelId",s.id),o.searchParams.set("apiKey",r.publicApiKey);let a=await no({url:o,method:"GET"});return e.debug(`Data results (${a.results.length}): ${o.href}`),a.results.length>0}async function wA(e,r){let t=new URL(`https://cdn.builder.io/api/v3/content/${r.model}`);t.searchParams.set("apiKey",r.publicApiKey),t.searchParams.set("cachebust","true"),t.searchParams.set("cb",Date.now().toString()),r.pageUrl&&(t.searchParams.set("url",r.pageUrl),e.debug(`get model: "${r.model}", pageUrl: "${r.pageUrl}":`,t.href)),r.id&&(t.searchParams.set("query.id",r.id),e.debug(`get model: "${r.model}", id: "${r.id}":`,t.href));let i=await no({url:t,method:"GET"});return e.debug(`get content results: ${i.results.length}`),i}async function TA(e,r){let t=new URL(`https://cdn.builder.io/api/v1/write/${r.model}`);e.debug(`writing "${r.model}" content:`,t.href),await no({url:t,method:"POST",headers:{Authorization:`Bearer ${r.privateAuthKey}`},body:r.body})}var so="page",AA="integration-welcome-screens",PA="8d9ee72a33344b4b867918b442ebd0af";async function IA(e,r){let t=await wA(e,{model:AA,publicApiKey:PA,id:r.templateContentId});if(!Array.isArray(t?.results)||t.results.length===0||!t.results[0].data?.blocks)throw new Error(`No Builder content found for id ${r.templateContentId}`);let i=JSON.stringify(t.results[0].data.blocks),n=k6(r.publicApiKey,r.pathname,r.title,i);await TA(e,{privateAuthKey:r.privateAuthKey,model:so,body:n})}function k6(e,r,t,i){return JSON.stringify({name:t,ownerId:e,published:"published",query:[{property:"urlPath",value:[r],operator:"is"}],data:{title:t,blocksString:i}})}async function _A(e,r,t,i){e.debug(`connect builder with public key: ${r}`),e.publicApiKey=r;let n=e.closeAppServer(),s=await e.setPublicApiKey({publicApiKey:r});e.debug(`set public key: process.env.${s.envKey}=${r}`),process.env[s.envKey]=r;let o=await e.builderPageOptions();e.debug(`builder model: ${so}, path: ${o.pathname}, template: ${o.templateContentId}`);let a=await vA(e,{model:so,pageUrl:o.pathname,publicApiKey:r,privateAuthKey:t,kind:i});if(!a){await IA(e,{templateContentId:o.templateContentId,pathname:o.pathname,title:o.title,publicApiKey:r,privateAuthKey:t});let c=5,p=0;for(;!a&&p<c;){await new Promise(h=>setTimeout(h,1e3));let d=await SA({model:so,pageUrl:o.pathname,publicApiKey:r,privateAuthKey:t});p++,d&&d.length>0&&(a=!0)}}await n,e.debug("ensure builder setup");let l=[];i===mo.VCP?l=await e.ensureFigmaImportPage():l=await e.ensureBuilderSetup(),s.modifiedType&&l.push({filePath:s.file,modifiedType:s.modifiedType}),l.forEach(c=>{c.displayFilePath=e.relative(e.getAppRootDir(),c.filePath)}),l.sort((c,p)=>c.filePath.localeCompare(p.filePath)),l.length>0?(e.debug(`modified files: ${l.map(c=>c.displayFilePath).join(", ")}`),await e.restartAppServer(),await new Promise(c=>setTimeout(c,500))):e.debug("no modified files");let u={success:!0,pathname:o.localePathname||o.pathname,modifiedFiles:l,platform:e.platform(),kind:i};return i===mo.VCP&&(u.pathname="/"),e.debug(`connected builder: ${u.pathname}`),u}async function NA(e){let r=await e.builderPageOptions();e.debug(`validateBuilder, pathname: ${r.pathname}, localePathname: ${r.localePathname}, isValid: ${e.isValid}`);let t={isValid:e.isValid,pathname:r.localePathname||r.pathname,platform:e.platform()};if(e.isValid)return t;let i=await e.getPublicApiKey();return i.envValue?(e.debug(`public api key: ${i.envValue}, ${i.file}`),e.publicApiKey=i.envValue,e.debug("builder connection is valid"),t.isValid=!0,e.isValid=!0,t):(e.debug("missing public api key"),t)}async function FA(e,r){let t={type:r.type};switch(r.type){case"getCache":{t.data=await e.getCache();break}case"setCache":{await e.setCache(r.data);break}case"connectBuilder":{t.data=await _A(e,r.data.publicApiKey,r.data.privateAuthKey,r.data.kind);break}case"enableDevTools":{t.data=L6(e,r.data.enabled);break}case"getRegistry":{t.data=await e.getRegistry(r.data);break}case"launchEditor":{t.data=await e.launchEditor(r.data);break}case"validateBuilder":{t.data=await NA(e);break}case"loadComponent":{t.data=await e.loadComponent(r.data);break}case"registerComponent":{t.data=await e.registerComponent(r.data),e.serverShouldRestart=!0;break}case"setComponentInfo":{t.data=await e.setRegisteredComponentInfo(r.data),e.serverShouldRestart=!0;break}case"setComponentInput":{t.data=await e.setRegisteredComponentInput(r.data),e.serverShouldRestart=!0;break}case"unregisterComponent":{t.data=await e.unregisterComponent(r.data),e.serverShouldRestart=!0;break}case"getFrameworks":{t.data=e.getFrameworks();break}case"readdir":{ym(e,r.path)?t.data=await e.readdir(r.path,!0):t.errors=[`Invalid file request: ${r.path}`];break}case"readFile":{ym(e,r.path)?t.data=await e.readFile(r.path):t.errors=[`Invalid file request: ${r.path}`];break}case"writeFile":{ym(e,r.path)?await e.writeFile(r.path,r.content):t.errors=[`Invalid file request: ${r.path}`];break}case"ensureFigmaImportPage":{t.data=await e.ensureFigmaImportPage();break}case"transileFile":{t.data=await Tg(e,r);break}case"transileModule":{t.data=Jc(e,r);break}case"getPastSyncInfo":{t.data=await e.getPastSyncInfo?.(r.data);break}case"resyncSnippet":{t.data=await e.resyncSnippet?.(r.data);break}case"localConfig":{t.data=await Qs();break}default:{t.errors=[`Unknown request type: ${JSON.stringify(r)}`];let i=r}}return t}function ym(e,r){if(!r||r.includes(".."))return!1;r=r.replace(/\\/g,"/");let t=r.split("/"),i=t[t.length-1];if(i.length>0){let n=i.split(".").pop();if(n&&(n=`.${n}`.toLocaleLowerCase(),n=n.split("?")[0],!R6.includes(n)))return!1}return O6(e,r),!1}function O6(e,r){if(!r)return!1;r=e.normalize(e.resolve(r));let t=e.getAppRootDir();return!(!r.startsWith(t)&&!r.includes("node_modules"))}var R6=[".js",".jsx",".ts",".tsx",".json",".css",".scss",".sass",".less",".html",".htm",".xml",".svg",".png",".jpg",".jpeg",".gif",".ico",".webp",".woff",".woff2",".ttf",".eot",".mp4",".webm",".ogg",".md",".txt",".csv",".pdf"];function L6(e,r){return!r&&e.serverShouldRestart&&setTimeout(()=>{console.log(`
Restarting server after Builder Devtools update...
`),e.restartAppServer()},10),e.enableAppWatch(!r),{enabled:r,platform:e.platform()}}async function kA(e){return RA(e,`"use strict";(()=>{var Hr=Object.defineProperty;var qr=(t,e)=>{for(var n in e)Hr(t,n,{get:e[n],enumerable:!0})};var W=(t,e)=>{bt(t);let n=t.querySelector("aside");n.dataset.view=e,n.classList.remove("section-ready"),setTimeout(()=>{n.classList.add("section-ready")},200)},pn=t=>{Array.from(t.querySelectorAll(".back-button")).forEach(e=>{e.addEventListener("click",n=>{bt(t),n.preventDefault(),n.stopPropagation();let r=n.target;W(t,r?.dataset.back||"nav-home")})})},Tt=(t,e)=>{bt(t);let n=t.querySelector("aside"),r=document.createElement("div");r.className="ui-toast",r.innerHTML=e,n.appendChild(r),setTimeout(()=>{r.classList.add("ui-toast-show"),setTimeout(()=>{r.classList.remove("ui-toast-show"),setTimeout(()=>{r.remove()},500)},4e3)},30)},bt=t=>{let e=t.querySelector("aside");Array.from(e.querySelectorAll(".ui-toast")).forEach(r=>{r.classList.remove("ui-toast-show")})},ke=()=>{let t=fn();return localStorage.getItem(t)!=="true"},It=t=>{let e=fn();t?localStorage.removeItem(e):localStorage.setItem(e,"true")},fn=()=>jr("disableEdit"),jr=t=>\`builder.__LOCAL_APP_ID__.\${t}\`,mn=()=>{let e=document.body.querySelector("[builder-content-id]")?.getAttribute("builder-content-id");return Ee(e)},Ee=(t,e)=>{let n="/content";t&&(n+="/"+t+"/edit");let r=new URL(n,"https://builder.io");t&&e&&r.searchParams.set("selectedBlock",e);let i=new URL(location.pathname,location.href);return r.searchParams.set("overridePreviewUrl",i.href),r.href},Oe="__DEV_TOOLS_URL__",A={components:[],registryPath:"",registryDisplayPath:"",frameworks:[],dependencies:[],publicApiKey:void 0,devToolsVersion:""},J=t=>{A.components=t.components,A.registryPath=t.registryPath,A.registryDisplayPath=t.registryDisplayPath,A.dependencies=t.dependencies,A.publicApiKey=t.publicApiKey};function vn(t){let e=null,n=document.querySelector("builder-dev-tools-menu"),r=()=>{t.hide()},i=u=>{let c=u.target;if(!c){r();return}if(c.closest("builder-dev-tools-edit"))return;let a=c.closest("[builder-content-id]"),l=c.closest("[builder-id]");if(!a||!l){t.hide();return}let d=t.show(a,l);!d||d===e||(n.highlightOpener(),e=d)};document.addEventListener("pointerover",i,{passive:!0}),document.addEventListener("pointerleave",r,{passive:!0}),document.addEventListener("pointercancel",r,{passive:!0}),document.addEventListener("visibilitychange",r,{passive:!0}),window.addEventListener("popstate",r,{passive:!0});let o=history.pushState;history.pushState=function(...u){t.hide(),o.apply(this,u)};let s=history.replaceState;history.replaceState=function(...u){t.hide(),s.apply(this,u)}}var Ue=class extends HTMLElement{openInBuilder=null;block=null;constructor(){super()}connectedCallback(){this.setAttribute("aria-hidden","true");let e=this.attachShadow({mode:"open"});e.innerHTML='<style>*,*:before,*:after{box-sizing:border-box}:host{--background-color: rgba(40, 40, 40, 1);--primary-color: rgba(72, 161, 255, 1);--primary-color-subdued: rgb(72, 161, 255, .6);--primary-color-highlight: rgb(126, 188, 255);--primary-contrast-color: white;--edit-color: #1d74e2;--edit-color-highlight: #1c6bd1;--edit-color-alpha: rgb(72, 161, 255, .15);--error-color: #ff2b55;--text-color: white;--text-color-highlight: white;--border-color: #454545;--button-background-color-hover: rgba(255, 255, 255, .1);--menu-width: 320px;--transition-time: .15s;--font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-family:var(--font-family);line-height:1.6}button{cursor:pointer;color:var(--text-color);-webkit-tap-highlight-color:transparent}input,select,button{font-family:var(--font-family)}:host{display:none;position:absolute;top:0;left:0;width:100%;height:100%;z-index:2147483646;user-select:none;pointer-events:none;color:var(--text-color)}#content-highlight,#block{position:absolute}#content-highlight{border:3px solid var(--primary-color);background-color:var(--primary-color-alpha)}a{position:absolute;top:-33px;left:0;display:block;padding:5px 10px 8px;pointer-events:auto;z-index:100;text-decoration:none}a:hover{text-decoration:none}a span{display:block;padding:3px 6px;font-size:10px;font-weight:300;border-radius:3px;text-align:center;text-decoration:none;pointer-events:none;background-color:var(--edit-color);color:var(--text-color);white-space:nowrap}a:hover span{background-color:var(--edit-color-highlight)}a:hover~.outline{border-color:var(--edit-color-highlight)}#open-in-editor{display:none}.outline{position:absolute;top:0;left:0;width:100%;height:100%;border:1px solid var(--edit-color);background-color:var(--edit-color-alpha)}</style><div id="block"> <a id="open-in-builder" target="builder"><span>Open In Builder</span></a> <a id="open-in-editor" href="#open-in-editor"><span>Open In Editor</span></a> <div class="outline"></div> </div>',this.openInBuilder=e.getElementById("open-in-builder"),this.block=e.getElementById("block"),vn(this)}show(e,n){if(!ke())return this.hide(),null;let r=e.getAttribute("builder-content-id"),i=n.getAttribute("builder-id");if(!r||!i)return this.hide(),null;let o=this.block,s=this.openInBuilder,u=n.getBoundingClientRect();o.style.top=u.top+window.scrollY-1+"px",o.style.left=u.left+window.scrollX+"px",o.style.width=u.width+"px",o.style.height=u.height+1+"px";let c=s.getBoundingClientRect();if(c.width>u.width){let a=c.width-u.width;s.style.left=a/2*-1+"px"}else s.style.left="";return s.href=Ee(r,i),this.style.display="block",i}hide(){this.style.display=""}};var gn="preview-url";var hn="_b-uid";var yn="/~builder-connect";var _n="/~builder-dev-tools";var En="https://cdn.builder.io/api/v1/proxy-api?url=https://api2.amplitude.com/2/httpapi";var Tn=()=>$({type:"validateBuilder"}),ve=t=>$({type:"launchEditor",data:t}),bn=t=>$({type:"getRegistry",data:t}),In=t=>$({type:"loadComponent",data:t}),Sn=t=>$({type:"registerComponent",data:t}),xn=t=>$({type:"setComponentInfo",data:t}),Me=t=>$({type:"setComponentInput",data:t}),Ln=t=>$({type:"unregisterComponent",data:t}),wn=t=>$({type:"enableDevTools",data:{enabled:t}}),Cn=()=>$({type:"localConfig"}),$=async t=>{let e=new URL(_n,Oe),n;try{n=await fetch(e,{method:"POST",body:JSON.stringify(t)})}catch(i){throw console.error(\`Devtools Fetch Error, \${e.href}\`,i),new Error("Builder Devtools Fetch Error")}if((n.headers.get("content-type")||"").includes("application/json")){let i=await n.json();if(n.ok)return i.data;if(Array.isArray(i.errors)&&i.errors.length>0)throw i.errors.forEach(o=>console.error(o)),new Error(\`Builder Devtools Fetch Error: \${i.errors[0]}\`)}throw new Error(\`Builder Devtools Fetch Error: \${n.status}, \${await n.text()}\`)};var Pn=[{value:"boolean",text:"boolean"},{value:"color",text:"color (provides a color in hex or rgb)"},{value:"date",text:"date (same format as the Date constructor)"},{value:"email",text:"email"},{value:"file",text:"file (uploads a file and provides a url)"},{value:"list",text:"list (collection of items)"},{value:"longText",text:"longText (multiline text editor)"},{value:"number",text:"number"},{value:"object",text:"object (set of specific names and values)"},{value:"richText",text:"richText (provides value as html)"},{value:"string",text:"string"}],Ne=["color","date","email","file","longText","richText","string"],Be=["number"],Fe=["boolean"],Ve=["list"],He=["object"];function qe(t){return Ne.includes(t)?"string":Be.includes(t)?"number":Fe.includes(t)?"boolean":Ve.includes(t)?"array":He.includes(t)?"object":"string"}var $i=new Set(["about","accessKey","accessKeyLabel","asChild","autoCapitalize","autoCorrect","autoFocus","autoSave","blur","contentEditable","contextMenu","dangerouslySetInnerHTML","datatype","defaultChecked","defaultValue","dir","draggable","enterKeyHint","focus","form","formAction","formEncType","formMethod","formNoValidate","formTarget","inlist","innerText","inputMode","is","isContentEditable","itemID","itemProp","itemRef","itemScope","itemType","lang","nonce","offsetHeight","offsetLeft","offsetTop","offsetWidth","outerText","prefix","property","radioGroup","rel","resource","results","rev","role","security","slot","spellCheck","suppressContentEditableWarning","suppressHydrationWarning","tabIndex","translate","typeof","unselectable","vocab"].map(t=>t.toLowerCase()));var St=function(t,e){return St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},St(t,e)};function V(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");St(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var v=function(){return v=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},v.apply(this,arguments)};function Te(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function p(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(d){s(d)}}function c(l){try{a(r.throw(l))}catch(d){s(d)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,e||[])).next())})}function f(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(n=0)),n;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1],o=a;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(a);break}o[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function Y(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function q(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Rn="Event tracked successfully",Dn="Unexpected error occurred",An="Event rejected due to exceeded retry count",kn="Event skipped due to optOut config",On="Event rejected due to missing API key",Un="Invalid API key",Mn="Client not initialized";var Ge={};qr(Ge,{IdentifyOperation:()=>w,LogLevel:()=>M,OfflineDisabled:()=>Ke,RevenueProperty:()=>Q,ServerZone:()=>je,SpecialEventType:()=>ee,Status:()=>x});var w;(function(t){t.SET="$set",t.SET_ONCE="$setOnce",t.ADD="$add",t.APPEND="$append",t.PREPEND="$prepend",t.REMOVE="$remove",t.PREINSERT="$preInsert",t.POSTINSERT="$postInsert",t.UNSET="$unset",t.CLEAR_ALL="$clearAll"})(w||(w={}));var Q;(function(t){t.REVENUE_PRODUCT_ID="$productId",t.REVENUE_QUANTITY="$quantity",t.REVENUE_PRICE="$price",t.REVENUE_TYPE="$revenueType",t.REVENUE="$revenue"})(Q||(Q={}));var ee;(function(t){t.IDENTIFY="$identify",t.GROUP_IDENTIFY="$groupidentify",t.REVENUE="revenue_amount"})(ee||(ee={}));var M;(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Verbose=3]="Verbose",t[t.Debug=4]="Debug"})(M||(M={}));var je;(function(t){t.US="US",t.EU="EU"})(je||(je={}));var x;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.PayloadTooLarge="payload_too_large",t.Invalid="invalid",t.Failed="failed",t.Timeout="Timeout",t.SystemError="SystemError"})(x||(x={}));var Ke=null;var te=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=x.Unknown),{event:t,code:e,message:n}};var X=function(t){return t?(t^Math.random()*16>>t/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,X)};var Nn=function(){function t(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return t.prototype.register=function(e,n){var r,i,o;return p(this,void 0,void 0,function(){return f(this,function(s){switch(s.label){case 0:return e.name=(r=e.name)!==null&&r!==void 0?r:X(),e.type=(i=e.type)!==null&&i!==void 0?i:"enrichment",[4,(o=e.setup)===null||o===void 0?void 0:o.call(e,n,this.client)];case 1:return s.sent(),this.plugins.push(e),[2]}})})},t.prototype.deregister=function(e){var n;return p(this,void 0,void 0,function(){var r,i;return f(this,function(o){switch(o.label){case 0:return r=this.plugins.findIndex(function(s){return s.name===e}),i=this.plugins[r],this.plugins.splice(r,1),[4,(n=i.teardown)===null||n===void 0?void 0:n.call(i)];case 1:return o.sent(),[2]}})})},t.prototype.reset=function(e){this.applying=!1;var n=this.plugins;n.map(function(r){var i;return(i=r.teardown)===null||i===void 0?void 0:i.call(r)}),this.plugins=[],this.client=e},t.prototype.push=function(e){var n=this;return new Promise(function(r){n.queue.push([e,r]),n.scheduleApply(0)})},t.prototype.scheduleApply=function(e){var n=this;this.applying||(this.applying=!0,setTimeout(function(){n.apply(n.queue.shift()).then(function(){n.applying=!1,n.queue.length>0&&n.scheduleApply(0)})},e))},t.prototype.apply=function(e){return p(this,void 0,void 0,function(){var n,r,i,o,s,u,c,y,g,a,l,d,m,y,g,T,h,_,U,b,k,F;return f(this,function(I){switch(I.label){case 0:if(!e)return[2];n=L(e,1),r=n[0],i=L(e,2),o=i[1],s=this.plugins.filter(function(S){return S.type==="before"}),I.label=1;case 1:I.trys.push([1,6,7,8]),u=Y(s),c=u.next(),I.label=2;case 2:return c.done?[3,5]:(y=c.value,y.execute?[4,y.execute(v({},r))]:[3,4]);case 3:if(g=I.sent(),g===null)return o({event:r,code:0,message:""}),[2];r=g,I.label=4;case 4:return c=u.next(),[3,2];case 5:return[3,8];case 6:return a=I.sent(),U={error:a},[3,8];case 7:try{c&&!c.done&&(b=u.return)&&b.call(u)}finally{if(U)throw U.error}return[7];case 8:l=this.plugins.filter(function(S){return S.type==="enrichment"||S.type===void 0}),I.label=9;case 9:I.trys.push([9,14,15,16]),d=Y(l),m=d.next(),I.label=10;case 10:return m.done?[3,13]:(y=m.value,y.execute?[4,y.execute(v({},r))]:[3,12]);case 11:if(g=I.sent(),g===null)return o({event:r,code:0,message:""}),[2];r=g,I.label=12;case 12:return m=d.next(),[3,10];case 13:return[3,16];case 14:return T=I.sent(),k={error:T},[3,16];case 15:try{m&&!m.done&&(F=d.return)&&F.call(d)}finally{if(k)throw k.error}return[7];case 16:return h=this.plugins.filter(function(S){return S.type==="destination"}),_=h.map(function(S){var O=v({},r);return S.execute(O).catch(function(B){return te(O,0,String(B))})}),Promise.all(_).then(function(S){var O=L(S,1),B=O[0],Z=B||te(r,100,"Event not tracked, no destination plugins on the instance");o(Z)}),[2]}})})},t.prototype.flush=function(){return p(this,void 0,void 0,function(){var e,n,r,i=this;return f(this,function(o){switch(o.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(s){return i.apply(s)}))];case 1:return o.sent(),n=this.plugins.filter(function(s){return s.type==="destination"}),r=n.map(function(s){return s.flush&&s.flush()}),[4,Promise.all(r)];case 2:return o.sent(),[2]}})})},t}();var xt="-",de="AMP",Lt="".concat(de,"_unsent"),wt="https://api2.amplitude.com/2/httpapi",Bn="https://api.eu.amplitude.com/2/httpapi",Fn="https://api2.amplitude.com/batch",Vn="https://api.eu.amplitude.com/batch";var Kr=1e3,We=function(t){if(Object.keys(t).length>Kr)return!1;for(var e in t){var n=t[e];if(!Ct(e,n))return!1}return!0},Ct=function(t,e){var n,r;if(typeof t!="string")return!1;if(Array.isArray(e)){var i=!0;try{for(var o=Y(e),s=o.next();!s.done;s=o.next()){var u=s.value;if(Array.isArray(u))return!1;if(typeof u=="object")i=i&&We(u);else if(!["number","string"].includes(typeof u))return!1;if(!i)return!1}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}else{if(e==null)return!1;if(typeof e=="object")return We(e);if(!["number","string","boolean"].includes(typeof e))return!1}return!0};var G=function(){function t(){this._propertySet=new Set,this._properties={}}return t.prototype.getUserProperties=function(){return v({},this._properties)},t.prototype.set=function(e,n){return this._safeSet(w.SET,e,n),this},t.prototype.setOnce=function(e,n){return this._safeSet(w.SET_ONCE,e,n),this},t.prototype.append=function(e,n){return this._safeSet(w.APPEND,e,n),this},t.prototype.prepend=function(e,n){return this._safeSet(w.PREPEND,e,n),this},t.prototype.postInsert=function(e,n){return this._safeSet(w.POSTINSERT,e,n),this},t.prototype.preInsert=function(e,n){return this._safeSet(w.PREINSERT,e,n),this},t.prototype.remove=function(e,n){return this._safeSet(w.REMOVE,e,n),this},t.prototype.add=function(e,n){return this._safeSet(w.ADD,e,n),this},t.prototype.unset=function(e){return this._safeSet(w.UNSET,e,xt),this},t.prototype.clearAll=function(){return this._properties={},this._properties[w.CLEAR_ALL]=xt,this},t.prototype._safeSet=function(e,n,r){if(this._validate(e,n,r)){var i=this._properties[e];return i===void 0&&(i={},this._properties[e]=i),i[n]=r,this._propertySet.add(n),!0}return!1},t.prototype._validate=function(e,n,r){return this._properties[w.CLEAR_ALL]!==void 0||this._propertySet.has(n)?!1:e===w.ADD?typeof r=="number":e!==w.UNSET&&e!==w.REMOVE?Ct(n,r):!0},t}();var Hn=function(t,e,n){var r=typeof t=="string"?{event_type:t}:t;return v(v(v({},r),n),e&&{event_properties:e})},be=function(t,e){var n=v(v({},e),{event_type:ee.IDENTIFY,user_properties:t.getUserProperties()});return n},qn=function(t,e,n,r){var i,o=v(v({},r),{event_type:ee.GROUP_IDENTIFY,group_properties:n.getUserProperties(),groups:(i={},i[t]=e,i)});return o},jn=function(t,e,n){var r,i=new G;i.set(t,e);var o=v(v({},n),{event_type:ee.IDENTIFY,user_properties:i.getUserProperties(),groups:(r={},r[t]=e,r)});return o},Kn=function(t,e){return v(v({},e),{event_type:ee.REVENUE,event_properties:t.getEventProperties()})};var H=function(t){return{promise:t||Promise.resolve()}};var Pt=function(){function t(e){e===void 0&&(e="$default"),this.initializing=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new Nn(this),this.name=e}return t.prototype._init=function(e){return p(this,void 0,void 0,function(){return f(this,function(n){switch(n.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return n.sent(),[2]}})})},t.prototype.runQueuedFunctions=function(e){return p(this,void 0,void 0,function(){var n,r,i,o,s,u,c;return f(this,function(a){switch(a.label){case 0:n=this[e],this[e]=[],a.label=1;case 1:a.trys.push([1,6,7,8]),r=Y(n),i=r.next(),a.label=2;case 2:return i.done?[3,5]:(o=i.value,[4,o()]);case 3:a.sent(),a.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return s=a.sent(),u={error:s},[3,8];case 7:try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(u)throw u.error}return[7];case 8:return[2]}})})},t.prototype.track=function(e,n,r){var i=Hn(e,n,r);return H(this.dispatch(i))},t.prototype.identify=function(e,n){var r=be(e,n);return H(this.dispatch(r))},t.prototype.groupIdentify=function(e,n,r,i){var o=qn(e,n,r,i);return H(this.dispatch(o))},t.prototype.setGroup=function(e,n,r){var i=jn(e,n,r);return H(this.dispatch(i))},t.prototype.revenue=function(e,n){var r=Kn(e,n);return H(this.dispatch(r))},t.prototype.add=function(e){return this.config?H(this.timeline.register(e,this.config)):(this.q.push(this.add.bind(this,e)),H())},t.prototype.remove=function(e){return this.config?H(this.timeline.deregister(e)):(this.q.push(this.remove.bind(this,e)),H())},t.prototype.dispatchWithCallback=function(e,n){if(!this.config)return n(te(e,0,Mn));this.process(e).then(n)},t.prototype.dispatch=function(e){return p(this,void 0,void 0,function(){var n=this;return f(this,function(r){return this.config?[2,this.process(e)]:[2,new Promise(function(i){n.dispatchQ.push(n.dispatchWithCallback.bind(n,e,i))})]})})},t.prototype.process=function(e){return p(this,void 0,void 0,function(){var i,n,r,i;return f(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),this.config.optOut?[2,te(e,0,kn)]:[4,this.timeline.push(e)];case 1:return i=o.sent(),i.code===200?this.config.loggerProvider.log(i.message):i.code===100?this.config.loggerProvider.warn(i.message):this.config.loggerProvider.error(i.message),[2,i];case 2:return n=o.sent(),r=String(n),this.config.loggerProvider.error(r),i=te(e,0,r),[2,i];case 3:return[2]}})})},t.prototype.setOptOut=function(e){if(!this.config){this.q.push(this.setOptOut.bind(this,!!e));return}this.config.optOut=!!e},t.prototype.flush=function(){return H(this.timeline.flush())},t}();var $e=function(){function t(){this.productId="",this.quantity=1,this.price=0}return t.prototype.setProductId=function(e){return this.productId=e,this},t.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},t.prototype.setPrice=function(e){return this.price=e,this},t.prototype.setRevenueType=function(e){return this.revenueType=e,this},t.prototype.setRevenue=function(e){return this.revenue=e,this},t.prototype.setEventProperties=function(e){return We(e)&&(this.properties=e),this},t.prototype.getEventProperties=function(){var e=this.properties?v({},this.properties):{};return e[Q.REVENUE_PRODUCT_ID]=this.productId,e[Q.REVENUE_QUANTITY]=this.quantity,e[Q.REVENUE_PRICE]=this.price,e[Q.REVENUE_TYPE]=this.revenueType,e[Q.REVENUE]=this.revenue,e},t}();var Gn=function(t,e){var n=Math.max(e,1);return t.reduce(function(r,i,o){var s=Math.floor(o/n);return r[s]||(r[s]=[]),r[s].push(i),r},[])};var Ye="Amplitude Logger ",Ie=function(){function t(){this.logLevel=M.None}return t.prototype.disable=function(){this.logLevel=M.None},t.prototype.enable=function(e){e===void 0&&(e=M.Warn),this.logLevel=e},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<M.Verbose||console.log("".concat(Ye,"[Log]: ").concat(e.join(" ")))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<M.Warn||console.warn("".concat(Ye,"[Warn]: ").concat(e.join(" ")))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<M.Error||console.error("".concat(Ye,"[Error]: ").concat(e.join(" ")))},t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<M.Debug||console.log("".concat(Ye,"[Debug]: ").concat(e.join(" ")))},t}();var Qe=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:M.Warn,loggerProvider:new Ie,offline:!1,optOut:!1,serverUrl:wt,serverZone:"US",useBatch:!1}},Rt=function(){function t(e){var n,r,i,o;this._optOut=!1;var s=Qe();this.apiKey=e.apiKey,this.flushIntervalMillis=(n=e.flushIntervalMillis)!==null&&n!==void 0?n:s.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||s.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||s.flushQueueSize,this.instanceName=e.instanceName||s.instanceName,this.loggerProvider=e.loggerProvider||s.loggerProvider,this.logLevel=(r=e.logLevel)!==null&&r!==void 0?r:s.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.offline=e.offline!==void 0?e.offline:s.offline,this.optOut=(i=e.optOut)!==null&&i!==void 0?i:s.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||s.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=(o=e.useBatch)!==null&&o!==void 0?o:s.useBatch,this.loggerProvider.enable(this.logLevel);var u=Dt(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=u.serverZone,this.serverUrl=u.serverUrl}return Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),t}();var Gr=function(t,e){return t==="EU"?e?Vn:Bn:e?Fn:wt},Dt=function(t,e,n){if(t===void 0&&(t=""),e===void 0&&(e=Qe().serverZone),n===void 0&&(n=Qe().useBatch),t)return{serverUrl:t,serverZone:void 0};var r=["US","EU"].includes(e)?e:Qe().serverZone;return{serverZone:r,serverUrl:Gr(r,n)}};function Wr(t){return t instanceof Error?t.message:String(t)}function Xe(t){var e="";try{"body"in t&&(e=JSON.stringify(t.body,null,2))}catch{}return e}var At=function(){function t(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return t.prototype.setup=function(e){var n;return p(this,void 0,void 0,function(){var r,i=this;return f(this,function(o){switch(o.label){case 0:return this.config=e,this.storageKey="".concat(Lt,"_").concat(this.config.apiKey.substring(0,10)),[4,(n=this.config.storageProvider)===null||n===void 0?void 0:n.get(this.storageKey)];case 1:return r=o.sent(),this.saveEvents(),r&&r.length>0&&Promise.all(r.map(function(s){return i.execute(s)})).catch(),[2,Promise.resolve(void 0)]}})})},t.prototype.execute=function(e){var n=this;return new Promise(function(r){var i={event:e,attempts:0,callback:function(o){return r(o)},timeout:0};n.addToQueue(i)})},t.prototype.addToQueue=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.filter(function(o){return o.attempts<e.config.flushMaxRetries?(o.attempts+=1,!0):(e.fulfillRequest([o],500,An),!1)});i.forEach(function(o){if(e.queue=e.queue.concat(o),o.timeout===0){e.schedule(e.config.flushIntervalMillis);return}setTimeout(function(){o.timeout=0,e.schedule(0)},o.timeout)}),this.saveEvents()},t.prototype.schedule=function(e){var n=this;this.scheduled||this.config.offline||(this.scheduled=setTimeout(function(){n.flush(!0).then(function(){n.queue.length>0&&n.schedule(e)})},e))},t.prototype.flush=function(e){return e===void 0&&(e=!1),p(this,void 0,void 0,function(){var n,r,i,o=this;return f(this,function(s){switch(s.label){case 0:return this.config.offline?(this.config.loggerProvider.debug("Skipping flush while offline."),[2]):(n=[],r=[],this.queue.forEach(function(u){return u.timeout===0?n.push(u):r.push(u)}),this.queue=r,this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),i=Gn(n,this.config.flushQueueSize),[4,Promise.all(i.map(function(u){return o.send(u,e)}))]);case 1:return s.sent(),[2]}})})},t.prototype.send=function(e,n){return n===void 0&&(n=!0),p(this,void 0,void 0,function(){var r,i,o,s,u;return f(this,function(c){switch(c.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,On)];r={api_key:this.config.apiKey,events:e.map(function(a){var l=a.event,d=l.extra,m=Te(l,["extra"]);return m}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString()},c.label=1;case 1:return c.trys.push([1,3,,4]),i=Dt(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(i,r)];case 2:return o=c.sent(),o===null?(this.fulfillRequest(e,0,Dn),[2]):n?(this.handleResponse(o,e),[3,4]):("body"in o?this.fulfillRequest(e,o.statusCode,"".concat(o.status,": ").concat(Xe(o))):this.fulfillRequest(e,o.statusCode,o.status),[2]);case 3:return s=c.sent(),u=Wr(s),this.config.loggerProvider.error(u),this.fulfillRequest(e,0,u),[3,4];case 4:return[2]}})})},t.prototype.handleResponse=function(e,n){var r=e.status;switch(r){case x.Success:{this.handleSuccessResponse(e,n);break}case x.Invalid:{this.handleInvalidResponse(e,n);break}case x.PayloadTooLarge:{this.handlePayloadTooLargeResponse(e,n);break}case x.RateLimit:{this.handleRateLimitResponse(e,n);break}default:{this.config.loggerProvider.warn(\`{code: 0, error: "Status '\`.concat(r,"' provided for ").concat(n.length,' events"}')),this.handleOtherResponse(n);break}}},t.prototype.handleSuccessResponse=function(e,n){this.fulfillRequest(n,e.statusCode,Rn)},t.prototype.handleInvalidResponse=function(e,n){var r=this;if(e.body.missingField||e.body.error.startsWith(Un)){this.fulfillRequest(n,e.statusCode,e.body.error);return}var i=q(q(q(q([],L(Object.values(e.body.eventsWithInvalidFields)),!1),L(Object.values(e.body.eventsWithMissingFields)),!1),L(Object.values(e.body.eventsWithInvalidIdLengths)),!1),L(e.body.silencedEvents),!1).flat(),o=new Set(i),s=n.filter(function(u,c){if(o.has(c)){r.fulfillRequest([u],e.statusCode,e.body.error);return}return!0});s.length>0&&this.config.loggerProvider.warn(Xe(e)),this.addToQueue.apply(this,q([],L(s),!1))},t.prototype.handlePayloadTooLargeResponse=function(e,n){if(n.length===1){this.fulfillRequest(n,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(Xe(e)),this.config.flushQueueSize/=2,this.addToQueue.apply(this,q([],L(n),!1))},t.prototype.handleRateLimitResponse=function(e,n){var r=this,i=Object.keys(e.body.exceededDailyQuotaUsers),o=Object.keys(e.body.exceededDailyQuotaDevices),s=e.body.throttledEvents,u=new Set(i),c=new Set(o),a=new Set(s),l=n.filter(function(d,m){if(d.event.user_id&&u.has(d.event.user_id)||d.event.device_id&&c.has(d.event.device_id)){r.fulfillRequest([d],e.statusCode,e.body.error);return}return a.has(m)&&(d.timeout=r.throttleTimeout),!0});l.length>0&&this.config.loggerProvider.warn(Xe(e)),this.addToQueue.apply(this,q([],L(l),!1))},t.prototype.handleOtherResponse=function(e){var n=this;this.addToQueue.apply(this,q([],L(e.map(function(r){return r.timeout=r.attempts*n.retryTimeout,r})),!1))},t.prototype.fulfillRequest=function(e,n,r){this.saveEvents(),e.forEach(function(i){return i.callback(te(i.event,n,r))})},t.prototype.saveEvents=function(){if(this.config.storageProvider){var e=Array.from(this.queue.map(function(n){return n.event}));this.config.storageProvider.set(this.storageKey,e)}},t}();var $r=function(t){t===void 0&&(t=0);var e=new Error().stack||"";return e.split(\`
\`).slice(2+t).map(function(n){return n.trim()})},C=function(t){return function(){var e=v({},t.config),n=e.loggerProvider,r=e.logLevel;return{logger:n,logLevel:r}}},Yr=function(t,e){var n,r;e=e.replace(/\\[(\\w+)\\]/g,".$1"),e=e.replace(/^\\./,"");try{for(var i=Y(e.split(".")),o=i.next();!o.done;o=i.next()){var s=o.value;if(s in t)t=t[s];else return}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return t},P=function(t,e){return function(){var n,r,i={};try{for(var o=Y(e),s=o.next();!s.done;s=o.next()){var u=s.value;i[u]=Yr(t,u)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}},R=function(t,e,n,r,i){return i===void 0&&(i=null),function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var u=n(),c=u.logger,a=u.logLevel;if(a&&a<M.Debug||!a||!c)return t.apply(i,o);var l={type:"invoke public method",name:e,args:o,stacktrace:$r(1),time:{start:new Date().toISOString()},states:{}};r&&l.states&&(l.states.before=r());var d=t.apply(i,o);return d&&d.promise?d.promise.then(function(){r&&l.states&&(l.states.after=r()),l.time&&(l.time.end=new Date().toISOString()),c.debug(JSON.stringify(l,null,2))}):(r&&l.states&&(l.states.after=r()),l.time&&(l.time.end=new Date().toISOString()),c.debug(JSON.stringify(l,null,2))),d}};var ze=function(){function t(){this.memoryStorage=new Map}return t.prototype.isEnabled=function(){return p(this,void 0,void 0,function(){return f(this,function(e){return[2,!0]})})},t.prototype.get=function(e){return p(this,void 0,void 0,function(){return f(this,function(n){return[2,this.memoryStorage.get(e)]})})},t.prototype.getRaw=function(e){return p(this,void 0,void 0,function(){var n;return f(this,function(r){switch(r.label){case 0:return[4,this.get(e)];case 1:return n=r.sent(),[2,n?JSON.stringify(n):void 0]}})})},t.prototype.set=function(e,n){return p(this,void 0,void 0,function(){return f(this,function(r){return this.memoryStorage.set(e,n),[2]})})},t.prototype.remove=function(e){return p(this,void 0,void 0,function(){return f(this,function(n){return this.memoryStorage.delete(e),[2]})})},t.prototype.reset=function(){return p(this,void 0,void 0,function(){return f(this,function(e){return this.memoryStorage.clear(),[2]})})},t}();var pe=function(){function t(){}return t.prototype.send=function(e,n){return Promise.resolve(null)},t.prototype.buildResponse=function(e){var n,r,i,o,s,u,c,a,l,d,m,y,g,T,h,_,U,b,k,F,I,S;if(typeof e!="object")return null;var O=e.code||0,B=this.buildStatus(O);switch(B){case x.Success:return{status:B,statusCode:O,body:{eventsIngested:(n=e.events_ingested)!==null&&n!==void 0?n:0,payloadSizeBytes:(r=e.payload_size_bytes)!==null&&r!==void 0?r:0,serverUploadTime:(i=e.server_upload_time)!==null&&i!==void 0?i:0}};case x.Invalid:return{status:B,statusCode:O,body:{error:(o=e.error)!==null&&o!==void 0?o:"",missingField:(s=e.missing_field)!==null&&s!==void 0?s:"",eventsWithInvalidFields:(u=e.events_with_invalid_fields)!==null&&u!==void 0?u:{},eventsWithMissingFields:(c=e.events_with_missing_fields)!==null&&c!==void 0?c:{},eventsWithInvalidIdLengths:(a=e.events_with_invalid_id_lengths)!==null&&a!==void 0?a:{},epsThreshold:(l=e.eps_threshold)!==null&&l!==void 0?l:0,exceededDailyQuotaDevices:(d=e.exceeded_daily_quota_devices)!==null&&d!==void 0?d:{},silencedDevices:(m=e.silenced_devices)!==null&&m!==void 0?m:[],silencedEvents:(y=e.silenced_events)!==null&&y!==void 0?y:[],throttledDevices:(g=e.throttled_devices)!==null&&g!==void 0?g:{},throttledEvents:(T=e.throttled_events)!==null&&T!==void 0?T:[]}};case x.PayloadTooLarge:return{status:B,statusCode:O,body:{error:(h=e.error)!==null&&h!==void 0?h:""}};case x.RateLimit:return{status:B,statusCode:O,body:{error:(_=e.error)!==null&&_!==void 0?_:"",epsThreshold:(U=e.eps_threshold)!==null&&U!==void 0?U:0,throttledDevices:(b=e.throttled_devices)!==null&&b!==void 0?b:{},throttledUsers:(k=e.throttled_users)!==null&&k!==void 0?k:{},exceededDailyQuotaDevices:(F=e.exceeded_daily_quota_devices)!==null&&F!==void 0?F:{},exceededDailyQuotaUsers:(I=e.exceeded_daily_quota_users)!==null&&I!==void 0?I:{},throttledEvents:(S=e.throttled_events)!==null&&S!==void 0?S:[]}};case x.Timeout:default:return{status:B,statusCode:O}}},t.prototype.buildStatus=function(e){return e>=200&&e<300?x.Success:e===429?x.RateLimit:e===413?x.PayloadTooLarge:e===408?x.Timeout:e>=400&&e<500?x.Invalid:e>=500?x.Failed:x.Unknown},t}();var N=function(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global};var ge=function(){var t,e=N();if(!(!((t=e?.location)===null||t===void 0)&&t.search))return{};var n=e.location.search.substring(1).split("&").filter(Boolean),r=n.reduce(function(i,o){var s=o.split("=",2),u=Wn(s[0]),c=Wn(s[1]);return c&&(i[u]=c),i},{});return r},Wn=function(t){t===void 0&&(t="");try{return decodeURIComponent(t)}catch{return""}};var $n="utm_campaign",Yn="utm_content",Qn="utm_id",Xn="utm_medium",zn="utm_source",Zn="utm_term",kt="dclid",Ot="fbclid",Ut="gbraid",Mt="gclid",Nt="ko_click_id",Bt="li_fat_id",Ft="msclkid",Vt="rtd_cid",Ht="ttclid",qt="twclid",jt="wbraid";var fe={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0};var Se=function(){function t(){}return t.prototype.parse=function(){return p(this,void 0,void 0,function(){return f(this,function(e){return[2,v(v(v(v({},fe),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},t.prototype.getUtmParam=function(){var e=ge(),n=e[$n],r=e[Yn],i=e[Qn],o=e[Xn],s=e[zn],u=e[Zn];return{utm_campaign:n,utm_content:r,utm_id:i,utm_medium:o,utm_source:s,utm_term:u}},t.prototype.getReferrer=function(){var e,n,r={referrer:void 0,referring_domain:void 0};try{r.referrer=document.referrer||void 0,r.referring_domain=(n=(e=r.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&n!==void 0?n:void 0}catch{}return r},t.prototype.getClickIds=function(){var e,n=ge();return e={},e[kt]=n[kt],e[Ot]=n[Ot],e[Ut]=n[Ut],e[Mt]=n[Mt],e[Nt]=n[Nt],e[Bt]=n[Bt],e[Ft]=n[Ft],e[Vt]=n[Vt],e[Ht]=n[Ht],e[qt]=n[qt],e[jt]=n[jt],e},t}();var Ze=function(t,e,n){return e===void 0&&(e=""),n===void 0&&(n=10),[de,e,t.substring(0,n)].filter(Boolean).join("_")},Kt=function(t){return"".concat(de.toLowerCase(),"_").concat(t.substring(0,6))};var xe=function(t,e){e===void 0&&(e=Date.now());var n=Date.now(),r=n-e;return r>t};var Le=function(){function t(e){this.options=v({},e)}return t.prototype.isEnabled=function(){return p(this,void 0,void 0,function(){var e,n,r,i;return f(this,function(o){switch(o.label){case 0:if(!N())return[2,!1];t.testValue=String(Date.now()),e=new t(this.options),n="AMP_TEST",o.label=1;case 1:return o.trys.push([1,4,5,7]),[4,e.set(n,t.testValue)];case 2:return o.sent(),[4,e.get(n)];case 3:return r=o.sent(),[2,r===t.testValue];case 4:return i=o.sent(),[2,!1];case 5:return[4,e.remove(n)];case 6:return o.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){return p(this,void 0,void 0,function(){var n;return f(this,function(r){switch(r.label){case 0:return[4,this.getRaw(e)];case 1:if(n=r.sent(),!n)return[2,void 0];try{try{n=decodeURIComponent(atob(n))}catch{}return[2,JSON.parse(n)]}catch{return[2,void 0]}return[2]}})})},t.prototype.getRaw=function(e){var n,r;return p(this,void 0,void 0,function(){var i,o,s;return f(this,function(u){return i=N(),o=(r=(n=i?.document)===null||n===void 0?void 0:n.cookie.split("; "))!==null&&r!==void 0?r:[],s=o.find(function(c){return c.indexOf(e+"=")===0}),s?[2,s.substring(e.length+1)]:[2,void 0]})})},t.prototype.set=function(e,n){var r;return p(this,void 0,void 0,function(){var i,o,s,u,c,a;return f(this,function(l){try{i=(r=this.options.expirationDays)!==null&&r!==void 0?r:0,o=n!==null?i:-1,s=void 0,o&&(u=new Date,u.setTime(u.getTime()+o*24*60*60*1e3),s=u),c="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(n)))),s&&(c+="; expires=".concat(s.toUTCString())),c+="; path=/",this.options.domain&&(c+="; domain=".concat(this.options.domain)),this.options.secure&&(c+="; Secure"),this.options.sameSite&&(c+="; SameSite=".concat(this.options.sameSite)),a=N(),a&&(a.document.cookie=c)}catch{}return[2]})})},t.prototype.remove=function(e){return p(this,void 0,void 0,function(){return f(this,function(n){switch(n.label){case 0:return[4,this.set(e,null)];case 1:return n.sent(),[2]}})})},t.prototype.reset=function(){return p(this,void 0,void 0,function(){return f(this,function(e){return[2]})})},t}();var Gt=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(n,r){return p(this,void 0,void 0,function(){var i,o,s;return f(this,function(u){switch(u.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return i={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(r),method:"POST"},[4,fetch(n,i)];case 1:return o=u.sent(),[4,o.json()];case 2:return s=u.sent(),[2,this.buildResponse(s)]}})})},e}(pe);var Qr=function(){function t(){}return t.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:Xr(),platform:"Web",os:void 0,deviceModel:void 0}},t}(),Xr=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},zr=function(){function t(){this.queue=[]}return t.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},t.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(n){e(n)}),this.queue=[])},t}(),ie=function(){return ie=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ie.apply(this,arguments)},Je=function(t,e){var n=["string","number","boolean","undefined"],r=typeof t,i=typeof e;if(r!==i)return!1;for(var o=0,s=n;o<s.length;o++){var u=s[o];if(u===r)return t===e}if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;var c=Array.isArray(t),a=Array.isArray(e);if(c!==a)return!1;if(c&&a){for(var l=0;l<t.length;l++)if(!Je(t[l],e[l]))return!1}else{var d=Object.keys(t).sort(),m=Object.keys(e).sort();if(!Je(d,m))return!1;var y=!0;return Object.keys(t).forEach(function(g){Je(t[g],e[g])||(y=!1)}),y}return!0},Zr="$set",Jr="$unset",ei="$clearAll";Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,r=new Array(n);n--;)r[n]=[e[n],t[e[n]]];return r});var ti=function(){function t(){this.identity={userProperties:{}},this.listeners=new Set}return t.prototype.editIdentity=function(){var e=this,n=ie({},this.identity.userProperties),r=ie(ie({},this.identity),{userProperties:n});return{setUserId:function(i){return r.userId=i,this},setDeviceId:function(i){return r.deviceId=i,this},setUserProperties:function(i){return r.userProperties=i,this},setOptOut:function(i){return r.optOut=i,this},updateUserProperties:function(i){for(var o=r.userProperties||{},s=0,u=Object.entries(i);s<u.length;s++){var c=u[s],a=c[0],l=c[1];switch(a){case Zr:for(var d=0,m=Object.entries(l);d<m.length;d++){var y=m[d],g=y[0],T=y[1];o[g]=T}break;case Jr:for(var h=0,_=Object.keys(l);h<_.length;h++){var g=_[h];delete o[g]}break;case ei:o={};break}}return r.userProperties=o,this},commit:function(){return e.setIdentity(r),this}}},t.prototype.getIdentity=function(){return ie({},this.identity)},t.prototype.setIdentity=function(e){var n=ie({},this.identity);this.identity=ie({},e),Je(n,this.identity)||this.listeners.forEach(function(r){r(e)})},t.prototype.addIdentityListener=function(e){this.listeners.add(e)},t.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},t}(),we=typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,Jn=function(){function t(){this.identityStore=new ti,this.eventBridge=new zr,this.applicationContextProvider=new Qr}return t.getInstance=function(e){return we.analyticsConnectorInstances||(we.analyticsConnectorInstances={}),we.analyticsConnectorInstances[e]||(we.analyticsConnectorInstances[e]=new t),we.analyticsConnectorInstances[e]},t}();var oe=function(t){return t===void 0&&(t="$default_instance"),Jn.getInstance(t)},Wt=function(t,e){oe(e).identityStore.editIdentity().setUserId(t).commit()},$t=function(t,e){oe(e).identityStore.editIdentity().setDeviceId(t).commit()};var Yt=function(){function t(){this.name="identity",this.type="before",this.identityStore=oe().identityStore}return t.prototype.execute=function(e){return p(this,void 0,void 0,function(){var n;return f(this,function(r){return n=e.user_properties,n&&this.identityStore.editIdentity().updateUserProperties(n).commit(),[2,e]})})},t.prototype.setup=function(e){return p(this,void 0,void 0,function(){return f(this,function(n){return e.instanceName&&(this.identityStore=oe(e.instanceName).identityStore),[2]})})},t}();var Qt=function(){var t,e,n,r;if(typeof navigator>"u")return"";var i=navigator.userLanguage;return(r=(n=(e=(t=navigator.languages)===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:navigator.language)!==null&&n!==void 0?n:i)!==null&&r!==void 0?r:""};var Ce=function(t,e){return typeof t=="boolean"?t:t?.[e]!==!1},et=function(t){return Ce(t,"attribution")},Xt=function(t){return Ce(t,"fileDownloads")},zt=function(t){return Ce(t,"formInteractions")},tt=function(t){return Ce(t,"pageViews")},Zt=function(t){return Ce(t,"sessions")},Jt=function(t){var e=function(){return!1},n=void 0,r,i=t.pageCounter,o=tt(t.defaultTracking);return o&&(e=void 0,r=void 0,t.defaultTracking&&typeof t.defaultTracking=="object"&&t.defaultTracking.pageViews&&typeof t.defaultTracking.pageViews=="object"&&("trackOn"in t.defaultTracking.pageViews&&(e=t.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in t.defaultTracking.pageViews&&(n=t.defaultTracking.pageViews.trackHistoryChanges),"eventType"in t.defaultTracking.pageViews&&t.defaultTracking.pageViews.eventType&&(r=t.defaultTracking.pageViews.eventType))),{trackOn:e,trackHistoryChanges:n,eventType:r,pageCounter:i}},en=function(t){return et(t.defaultTracking)&&t.defaultTracking&&typeof t.defaultTracking=="object"&&t.defaultTracking.attribution&&typeof t.defaultTracking.attribution=="object"?v({},t.defaultTracking.attribution):{}};var nt=function(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=r.name,o=r.args,s=r.resolve,u=t&&t[i];if(typeof u=="function"){var c=u.apply(t,o);typeof s=="function"&&s(c?.promise)}}return t},rt=function(t){var e=t;return e&&e._q!==void 0};var er="2.5.2";var ni="Web",ri="$remote",tr=function(){function t(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="amplitude-ts/".concat(er),typeof navigator<"u"&&(this.userAgent=navigator.userAgent)}return t.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},t.prototype.execute=function(e){var n,r;return p(this,void 0,void 0,function(){var i,o,s,u;return f(this,function(c){return i=new Date().getTime(),o=(n=this.config.lastEventId)!==null&&n!==void 0?n:-1,s=(r=e.event_id)!==null&&r!==void 0?r:o+1,this.config.lastEventId=s,e.time||(this.config.lastEventTime=i),u=v(v(v(v(v(v(v(v({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:i},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:ni}),this.config.trackingOptions.language&&{language:Qt()}),this.config.trackingOptions.ipAddress&&{ip:ri}),{insert_id:X(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:s,library:this.library,user_agent:this.userAgent}),[2,u]})})},t}();var it=function(){function t(e){this.storage=e}return t.prototype.isEnabled=function(){return p(this,void 0,void 0,function(){var e,n,r,i,o;return f(this,function(s){switch(s.label){case 0:if(!this.storage)return[2,!1];e=String(Date.now()),n=new t(this.storage),r="AMP_TEST",s.label=1;case 1:return s.trys.push([1,4,5,7]),[4,n.set(r,e)];case 2:return s.sent(),[4,n.get(r)];case 3:return i=s.sent(),[2,i===e];case 4:return o=s.sent(),[2,!1];case 5:return[4,n.remove(r)];case 6:return s.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){return p(this,void 0,void 0,function(){var n,r;return f(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:return n=i.sent(),n?[2,JSON.parse(n)]:[2,void 0];case 2:return r=i.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},t.prototype.getRaw=function(e){var n;return p(this,void 0,void 0,function(){return f(this,function(r){return[2,((n=this.storage)===null||n===void 0?void 0:n.getItem(e))||void 0]})})},t.prototype.set=function(e,n){var r;return p(this,void 0,void 0,function(){return f(this,function(i){try{(r=this.storage)===null||r===void 0||r.setItem(e,JSON.stringify(n))}catch{}return[2]})})},t.prototype.remove=function(e){var n;return p(this,void 0,void 0,function(){return f(this,function(r){try{(n=this.storage)===null||n===void 0||n.removeItem(e)}catch{}return[2]})})},t.prototype.reset=function(){var e;return p(this,void 0,void 0,function(){return f(this,function(n){try{(e=this.storage)===null||e===void 0||e.clear()}catch{}return[2]})})},t}();var ot=1e3,tn=function(t){V(e,t);function e(n){var r=this,i;return r=t.call(this,(i=N())===null||i===void 0?void 0:i.localStorage)||this,r.loggerProvider=n?.loggerProvider,r}return e.prototype.set=function(n,r){var i;return p(this,void 0,void 0,function(){var o;return f(this,function(s){switch(s.label){case 0:return Array.isArray(r)&&r.length>ot?(o=r.length-ot,[4,t.prototype.set.call(this,n,r.slice(0,ot))]):[3,2];case 1:return s.sent(),(i=this.loggerProvider)===null||i===void 0||i.error("Failed to save ".concat(o," events because the queue length exceeded ").concat(ot,".")),[3,4];case 2:return[4,t.prototype.set.call(this,n,r)];case 3:s.sent(),s.label=4;case 4:return[2]}})})},e}(it);var nr=function(t){V(e,t);function e(){var n;return t.call(this,(n=N())===null||n===void 0?void 0:n.sessionStorage)||this}return e}(it);var rr=function(t){V(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={done:4},n}return e.prototype.send=function(n,r){return p(this,void 0,void 0,function(){var i=this;return f(this,function(o){return[2,new Promise(function(s,u){typeof XMLHttpRequest>"u"&&u(new Error("XHRTransport is not supported."));var c=new XMLHttpRequest;c.open("POST",n,!0),c.onreadystatechange=function(){if(c.readyState===i.state.done)try{var a=c.responseText,l=JSON.parse(a),d=i.buildResponse(l);s(d)}catch(m){u(m)}},c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("Accept","*/*"),c.send(JSON.stringify(r))})]})})},e}(pe);var ir=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(n,r){return p(this,void 0,void 0,function(){var i=this;return f(this,function(o){return[2,new Promise(function(s,u){var c=N();if(!c?.navigator.sendBeacon)throw new Error("SendBeaconTransport is not supported");try{var a=JSON.stringify(r),l=c.navigator.sendBeacon(n,JSON.stringify(r));return s(l?i.buildResponse({code:200,events_ingested:r.events.length,payload_size_bytes:a.length,server_upload_time:Date.now()}):i.buildResponse({code:500}))}catch(d){u(d)}})]})})},e}(pe);var or=function(t,e,n){return n===void 0&&(n=!0),p(void 0,void 0,void 0,function(){var r,i,o,s,u,c,a,l,d;return f(this,function(m){switch(m.label){case 0:return r=Kt(t),[4,e.getRaw(r)];case 1:return i=m.sent(),i?n?[4,e.remove(r)]:[3,3]:[2,{optOut:!1}];case 2:m.sent(),m.label=3;case 3:return o=L(i.split("."),6),s=o[0],u=o[1],c=o[2],a=o[3],l=o[4],d=o[5],[2,{deviceId:s,userId:ii(u),sessionId:nn(a),lastEventId:nn(d),lastEventTime:nn(l),optOut:!!c}]}})})},nn=function(t){var e=parseInt(t,32);if(!isNaN(e))return e},ii=function(t){if(!(!atob||!escape||!t))try{return decodeURIComponent(escape(atob(t)))}catch{return}};var j="[Amplitude]",ka="".concat(j," Page Viewed"),rn="".concat(j," Form Started"),sr="".concat(j," Form Submitted"),ar="".concat(j," File Downloaded"),on="session_start",sn="session_end",ur="".concat(j," File Extension"),cr="".concat(j," File Name"),lr="".concat(j," Link ID"),dr="".concat(j," Link Text"),pr="".concat(j," Link URL"),st="".concat(j," Form ID"),at="".concat(j," Form Name"),ut="".concat(j," Form Destination"),Pe="cookie",fr="US";var oi=function(t){V(e,t);function e(n,r,i,o,s,u,c,a,l,d,m,y,g,T,h,_,U,b,k,F,I,S,O,B,Z,ne,ce,re,le,ye,_e){i===void 0&&(i=new ze),o===void 0&&(o={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),c===void 0&&(c=1e3),a===void 0&&(a=5),l===void 0&&(l=30),d===void 0&&(d=Pe),h===void 0&&(h=new Ie),_===void 0&&(_=M.Warn),b===void 0&&(b=!1),k===void 0&&(k=!1),S===void 0&&(S=""),O===void 0&&(O=fr),Z===void 0&&(Z=30*60*1e3),ne===void 0&&(ne=new tn({loggerProvider:h})),ce===void 0&&(ce={ipAddress:!0,language:!0,platform:!0}),re===void 0&&(re="fetch"),le===void 0&&(le=!1);var E=t.call(this,{apiKey:n,storageProvider:ne,transportProvider:an(re)})||this;return E.apiKey=n,E.appVersion=r,E.cookieOptions=o,E.defaultTracking=s,E.flushIntervalMillis=c,E.flushMaxRetries=a,E.flushQueueSize=l,E.identityStorage=d,E.ingestionMetadata=m,E.instanceName=y,E.loggerProvider=h,E.logLevel=_,E.minIdLength=U,E.offline=b,E.partnerId=F,E.plan=I,E.serverUrl=S,E.serverZone=O,E.sessionTimeout=Z,E.storageProvider=ne,E.trackingOptions=ce,E.transport=re,E.useBatch=le,E._optOut=!1,E._cookieStorage=i,E.deviceId=u,E.lastEventId=g,E.lastEventTime=T,E.optOut=k,E.sessionId=B,E.pageCounter=_e,E.userId=ye,E.loggerProvider.enable(E.logLevel),E}return Object.defineProperty(e.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(n){this._cookieStorage!==n&&(this._cookieStorage=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(n){this._deviceId!==n&&(this._deviceId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(n){this._userId!==n&&(this._userId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(n){this._sessionId!==n&&(this._sessionId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(n){this._optOut!==n&&(this._optOut=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(n){this._lastEventTime!==n&&(this._lastEventTime=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(n){this._lastEventId!==n&&(this._lastEventId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(n){this._pageCounter!==n&&(this._pageCounter=n,this.updateStorage())},enumerable:!1,configurable:!0}),e.prototype.updateStorage=function(){var n={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter};this.cookieStorage.set(Ze(this.apiKey),n)},e}(Rt);var mr=function(t,e,n){return e===void 0&&(e={}),p(void 0,void 0,void 0,function(){var r,i,o,s,u,c,a,l,d,m,y,g,T,h,_,U,b,k,F,I,S,O,B,Z,ne,ce,re,le,ye,_e,E,pt,ft,mt,vt,gt,ht,yt,_t,Et;return f(this,function(me){switch(me.label){case 0:return r=e.identityStorage||Pe,b={},r===Pe?[3,1]:(o="",[3,5]);case 1:return(F=(k=e.cookieOptions)===null||k===void 0?void 0:k.domain)!==null&&F!==void 0?(s=F,[3,4]):[3,2];case 2:return[4,ai()];case 3:s=me.sent(),me.label=4;case 4:o=s,me.label=5;case 5:return i=v.apply(void 0,[(b.domain=o,b.expiration=365,b.sameSite="Lax",b.secure=!1,b.upgrade=!0,b),e.cookieOptions]),u=si(e.identityStorage,i),[4,or(t,u,(S=(I=e.cookieOptions)===null||I===void 0?void 0:I.upgrade)!==null&&S!==void 0?S:!0)];case 6:return c=me.sent(),[4,u.get(Ze(t))];case 7:return a=me.sent(),l=ge(),d=(ne=(Z=(B=(O=e.deviceId)!==null&&O!==void 0?O:l.deviceId)!==null&&B!==void 0?B:a?.deviceId)!==null&&Z!==void 0?Z:c.deviceId)!==null&&ne!==void 0?ne:X(),m=(ce=a?.lastEventId)!==null&&ce!==void 0?ce:c.lastEventId,y=(re=a?.lastEventTime)!==null&&re!==void 0?re:c.lastEventTime,g=(ye=(le=e.optOut)!==null&&le!==void 0?le:a?.optOut)!==null&&ye!==void 0?ye:c.optOut,T=(_e=a?.sessionId)!==null&&_e!==void 0?_e:c.sessionId,h=(pt=(E=e.userId)!==null&&E!==void 0?E:a?.userId)!==null&&pt!==void 0?pt:c.userId,n.previousSessionDeviceId=(ft=a?.deviceId)!==null&&ft!==void 0?ft:c.deviceId,n.previousSessionUserId=(mt=a?.userId)!==null&&mt!==void 0?mt:c.userId,_={ipAddress:(gt=(vt=e.trackingOptions)===null||vt===void 0?void 0:vt.ipAddress)!==null&&gt!==void 0?gt:!0,language:(yt=(ht=e.trackingOptions)===null||ht===void 0?void 0:ht.language)!==null&&yt!==void 0?yt:!0,platform:(Et=(_t=e.trackingOptions)===null||_t===void 0?void 0:_t.platform)!==null&&Et!==void 0?Et:!0},U=a?.pageCounter,[2,new oi(t,e.appVersion,u,i,e.defaultTracking,d,e.flushIntervalMillis,e.flushMaxRetries,e.flushQueueSize,r,e.ingestionMetadata,e.instanceName,m,y,e.loggerProvider,e.logLevel,e.minIdLength,e.offline,g,e.partnerId,e.plan,e.serverUrl,e.serverZone,T,e.sessionTimeout,e.storageProvider,_,e.transport,e.useBatch,h,U)]}})})},si=function(t,e){switch(t===void 0&&(t=Pe),e===void 0&&(e={}),t){case"localStorage":return new tn;case"sessionStorage":return new nr;case"none":return new ze;case"cookie":default:return new Le(v(v({},e),{expirationDays:e.expiration}))}},an=function(t){return t==="xhr"?new rr:t==="beacon"?new ir:new Gt},ai=function(t){return p(void 0,void 0,void 0,function(){var e,n,r,i,o,o,s,u,c,a;return f(this,function(l){switch(l.label){case 0:return[4,new Le().isEnabled()];case 1:if(!l.sent()||!t&&typeof location>"u")return[2,""];for(e=t??location.hostname,n=e.split("."),r=[],i="AMP_TLDTEST",o=n.length-2;o>=0;--o)r.push(n.slice(o).join("."));o=0,l.label=2;case 2:return o<r.length?(s=r[o],u={domain:"."+s},c=new Le(u),[4,c.set(i,1)]):[3,7];case 3:return l.sent(),[4,c.get(i)];case 4:return a=l.sent(),a?[4,c.remove(i)]:[3,6];case 5:return l.sent(),[2,"."+s];case 6:return o++,[3,2];case 7:return[2,""]}})})};var gr=function(t,e,n){return e===void 0&&(e=""),n===void 0&&(n=10),[de,e,t.substring(0,n)].filter(Boolean).join("_")},vr=function(t){var e=t.split(".");return e.length<=2?t:e.slice(e.length-2,e.length).join(".")},ui=function(t){return Object.values(t).every(function(e){return!e})},hr=function(t,e,n,r){r===void 0&&(r=!0);var i=t.referrer,o=t.referring_domain,s=Te(t,["referrer","referring_domain"]),u=e||{},c=u.referrer,a=u.referring_domain,l=Te(u,["referrer","referring_domain"]);if(ci(n.excludeReferrers,t.referring_domain)||!r&&ui(t)&&e)return!1;var d=JSON.stringify(s)!==JSON.stringify(l),m=vr(o||"")!==vr(a||"");return!e||d||m},ci=function(t,e){return t===void 0&&(t=[]),e===void 0&&(e=""),t.some(function(n){return n instanceof RegExp?n.test(e):n===e})},yr=function(t,e){var n=v(v({},fe),t),r=Object.entries(n).reduce(function(i,o){var s,u=L(o,2),c=u[0],a=u[1];return i.setOnce("initial_".concat(c),(s=a??e.initialEmptyValue)!==null&&s!==void 0?s:"EMPTY"),a?i.set(c,a):i.unset(c)},new G);return be(r)},_r=function(t){var e=t;return e?(e.startsWith(".")&&(e=e.substring(1)),[new RegExp("".concat(e.replace(".","\\\\."),"$"))]):[]};var un=function(t){var e=this;t===void 0&&(t={});var n={name:"@amplitude/plugin-web-attribution-browser",type:"before",setup:function(r,i){var o;return p(this,void 0,void 0,function(){var s,u,c,a,l,d,m,y;return f(this,function(g){switch(g.label){case 0:return s=v({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:_r((o=r.cookieOptions)===null||o===void 0?void 0:o.domain)},t),r.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser."),u=r.cookieStorage,c=gr(r.apiKey,"MKTG"),[4,Promise.all([new Se().parse(),u.get(c)])];case 1:return a=L.apply(void 0,[g.sent(),2]),l=a[0],d=a[1],m=xe(r.sessionTimeout,r.lastEventTime),hr(l,d,s,m)&&(s.resetSessionOnNewCampaign&&(i.setSessionId(Date.now()),r.loggerProvider.log("Created a new session for new campaign.")),r.loggerProvider.log("Tracking attribution."),y=yr(l,s),i.track(y),u.set(c,l)),[2]}})})},execute:function(r){return p(e,void 0,void 0,function(){return f(this,function(i){return[2,r]})})}};return n};var Er=function(t){var e={};for(var n in t){var r=t[n];r&&(e[n]=r)}return e};var cn=function(t){t===void 0&&(t={});var e,n=N(),r=void 0,i,o,s=function(){return p(void 0,void 0,void 0,function(){var m,y,g;return f(this,function(T){switch(T.label){case 0:return o.pageCounter=o.pageCounter?o.pageCounter+1:1,y={event_type:(g=t.eventType)!==null&&g!==void 0?g:"[Amplitude] Page Viewed"},m=[{}],[4,li()];case 1:return[2,(y.event_properties=v.apply(void 0,[v.apply(void 0,m.concat([T.sent()])),{"[Amplitude] Page Domain":typeof location<"u"&&location.hostname||"","[Amplitude] Page Location":typeof location<"u"&&location.href||"","[Amplitude] Page Path":typeof location<"u"&&location.pathname||"","[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":typeof location<"u"&&location.href.split("?")[0]||"","[Amplitude] Page Counter":o.pageCounter}]),y)]}})})},u=function(){return typeof t.trackOn>"u"||typeof t.trackOn=="function"&&t.trackOn()},c=typeof location<"u"?location.href:null,a=function(){return p(void 0,void 0,void 0,function(){var m,y,g,T,h;return f(this,function(_){switch(_.label){case 0:return m=location.href,y=pi(t.trackHistoryChanges,m,c||"")&&u(),c=m,y?(r?.log("Tracking page view event"),e!=null?[3,1]:(g=void 0,[3,3])):[3,4];case 1:return h=(T=e).track,[4,s()];case 2:g=h.apply(T,[_.sent()]),_.label=3;case 3:_.label=4;case 4:return[2]}})})},l=function(){a()},d={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(m,y){return p(void 0,void 0,void 0,function(){var g,T;return f(this,function(h){switch(h.label){case 0:return e=y,o=m,r=m.loggerProvider,r.log("Installing @amplitude/plugin-page-view-tracking-browser"),n&&(n.addEventListener("popstate",l),i=n.history.pushState,n.history.pushState=new Proxy(n.history.pushState,{apply:function(_,U,b){var k=L(b,3),F=k[0],I=k[1],S=k[2];_.apply(U,[F,I,S]),a()}})),u()?(r.log("Tracking page view event"),T=(g=e).track,[4,s()]):[3,2];case 1:T.apply(g,[h.sent()]),h.label=2;case 2:return[2]}})})},execute:function(m){return p(void 0,void 0,void 0,function(){var y;return f(this,function(g){switch(g.label){case 0:return t.trackOn==="attribution"&&di(m)?(r?.log("Enriching campaign event to page view event with campaign parameters"),[4,s()]):[3,2];case 1:y=g.sent(),m.event_type=y.event_type,m.event_properties=v(v({},m.event_properties),y.event_properties),g.label=2;case 2:return[2,m]}})})},teardown:function(){return p(void 0,void 0,void 0,function(){return f(this,function(m){return n&&(n.removeEventListener("popstate",l),i&&(n.history.pushState=i)),[2]})})}};return d},li=function(){return p(void 0,void 0,void 0,function(){var t;return f(this,function(e){switch(e.label){case 0:return t=Er,[4,new Se().parse()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})},di=function(t){if(t.event_type==="$identify"&&t.user_properties){var e=t.user_properties,n=e[w.SET]||{},r=e[w.UNSET]||{},i=q(q([],L(Object.keys(n)),!1),L(Object.keys(r)),!1);return Object.keys(fe).every(function(o){return i.includes(o)})}return!1},pi=function(t,e,n){switch(t){case"pathOnly":return e.split("?")[0]!==n.split("?")[0];default:return e!==n}};var Tr=function(){var t,e=[],n=function(a,l,d){a.addEventListener(l,d),e.push({element:a,type:l,handler:d})},r=function(){e.forEach(function(a){var l=a.element,d=a.type,m=a.handler;l?.removeEventListener(d,m)}),e=[]},i="@amplitude/plugin-form-interaction-tracking-browser",o="enrichment",s=function(a,l){return p(void 0,void 0,void 0,function(){var d,m;return f(this,function(y){return l?typeof document>"u"?[2]:(d=function(g){var T=!1;n(g,"change",function(){var h;T||l.track(rn,(h={},h[st]=he(g.id),h[at]=he(g.name),h[ut]=g.action,h)),T=!0}),n(g,"submit",function(){var h,_;T||l.track(rn,(h={},h[st]=he(g.id),h[at]=he(g.name),h[ut]=g.action,h)),l.track(sr,(_={},_[st]=he(g.id),_[at]=he(g.name),_[ut]=g.action,_)),T=!1})},m=Array.from(document.getElementsByTagName("form")),m.forEach(d),typeof MutationObserver<"u"&&(t=new MutationObserver(function(g){g.forEach(function(T){T.addedNodes.forEach(function(h){h.nodeName==="FORM"&&d(h),"querySelectorAll"in h&&typeof h.querySelectorAll=="function"&&Array.from(h.querySelectorAll("form")).map(d)})})}),t.observe(document.body,{subtree:!0,childList:!0})),[2]):(a.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked."),[2])})})},u=function(a){return p(void 0,void 0,void 0,function(){return f(this,function(l){return[2,a]})})},c=function(){return p(void 0,void 0,void 0,function(){return f(this,function(a){return t?.disconnect(),r(),[2]})})};return{name:i,type:o,setup:s,execute:u,teardown:c}},he=function(t){if(typeof t=="string")return t};var br=function(){var t,e=[],n=function(a,l,d){a.addEventListener(l,d),e.push({element:a,type:l,handler:d})},r=function(){e.forEach(function(a){var l=a.element,d=a.type,m=a.handler;l?.removeEventListener(d,m)}),e=[]},i="@amplitude/plugin-file-download-tracking-browser",o="enrichment",s=function(a,l){return p(void 0,void 0,void 0,function(){var d,m,y;return f(this,function(g){return l?typeof document>"u"?[2]:(d=function(T){var h;try{h=new URL(T.href,window.location.href)}catch{return}var _=m.exec(h.href),U=_?.[1];U&&n(T,"click",function(){var b;U&&l.track(ar,(b={},b[ur]=U,b[cr]=h.pathname,b[lr]=T.id,b[dr]=T.text,b[pr]=T.href,b))})},m=/\\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/,y=Array.from(document.getElementsByTagName("a")),y.forEach(d),typeof MutationObserver<"u"&&(t=new MutationObserver(function(T){T.forEach(function(h){h.addedNodes.forEach(function(_){_.nodeName==="A"&&d(_),"querySelectorAll"in _&&typeof _.querySelectorAll=="function"&&Array.from(_.querySelectorAll("a")).map(d)})})}),t.observe(document.body,{subtree:!0,childList:!0})),[2]):(a.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked."),[2])})})},u=function(a){return p(void 0,void 0,void 0,function(){return f(this,function(l){return[2,a]})})},c=function(){return p(void 0,void 0,void 0,function(){return f(this,function(a){return t?.disconnect(),r(),[2]})})};return{name:i,type:o,setup:s,execute:u,teardown:c}};var Ir=!1,Sr=function(t){if(!(Ir||t.defaultTracking!==void 0)){var e=\`\\\`options.defaultTracking\\\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \\\`options.defaultTracking\\\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.\`;t.loggerProvider.warn(e),Ir=!0}};var xr=function(){var t="@amplitude/plugin-network-checker-browser",e="before",n=N(),r=[],i=function(c,a){n&&(n.addEventListener(c,a),r.push({type:c,handler:a}))},o=function(){r.forEach(function(c){var a=c.type,l=c.handler;n&&n.removeEventListener(a,l)}),r=[]},s=function(c,a){return p(void 0,void 0,void 0,function(){return f(this,function(l){return c.offline=!navigator.onLine,i("online",function(){c.loggerProvider.debug("Network connectivity changed to online."),c.offline=!1,setTimeout(function(){a.flush()},c.flushIntervalMillis)}),i("offline",function(){c.loggerProvider.debug("Network connectivity changed to offline."),c.offline=!0}),[2]})})},u=function(){return p(void 0,void 0,void 0,function(){return f(this,function(c){return o(),[2]})})};return{name:t,type:e,setup:s,teardown:u}};var Lr=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(n,r,i){n===void 0&&(n="");var o,s;return arguments.length>2?(o=r,s=i):typeof r=="string"?(o=r,s=void 0):(o=r?.userId,s=r),H(this._init(v(v({},s),{userId:o,apiKey:n})))},e.prototype._init=function(n){var r,i;return p(this,void 0,void 0,function(){var o,s,u,c,a=this;return f(this,function(l){switch(l.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,mr(n.apiKey,n,this)]);case 1:return o=l.sent(),[4,t.prototype._init.call(this,o)];case 2:return l.sent(),this.setSessionId((i=(r=n.sessionId)!==null&&r!==void 0?r:this.config.sessionId)!==null&&i!==void 0?i:Date.now()),s=oe(n.instanceName),s.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),this.config.offline===Ke?[3,4]:[4,this.add(xr()).promise];case 3:l.sent(),l.label=4;case 4:return[4,this.add(new At).promise];case 5:return l.sent(),[4,this.add(new tr).promise];case 6:return l.sent(),[4,this.add(new Yt).promise];case 7:return l.sent(),Sr(this.config),Xt(this.config.defaultTracking)?[4,this.add(br()).promise]:[3,9];case 8:l.sent(),l.label=9;case 9:return zt(this.config.defaultTracking)?[4,this.add(Tr()).promise]:[3,11];case 10:l.sent(),l.label=11;case 11:return et(this.config.defaultTracking)?(u=en(this.config),c=un(u),[4,this.add(c).promise]):[3,13];case 12:l.sent(),l.label=13;case 13:return tt(this.config.defaultTracking)?[4,this.add(cn(Jt(this.config))).promise]:[3,15];case 14:l.sent(),l.label=15;case 15:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 16:return l.sent(),s.eventBridge.setEventReceiver(function(d){a.track(d.eventType,d.eventProperties)}),[2]}})})},e.prototype.getUserId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.userId},e.prototype.setUserId=function(n){if(!this.config){this.q.push(this.setUserId.bind(this,n));return}(n!==this.config.userId||n===void 0)&&(this.config.userId=n,Wt(n,this.config.instanceName))},e.prototype.getDeviceId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.deviceId},e.prototype.setDeviceId=function(n){if(!this.config){this.q.push(this.setDeviceId.bind(this,n));return}this.config.deviceId=n,$t(n,this.config.instanceName)},e.prototype.reset=function(){this.setDeviceId(X()),this.setUserId(void 0)},e.prototype.getSessionId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.sessionId},e.prototype.setSessionId=function(n){var r;if(!this.config){this.q.push(this.setSessionId.bind(this,n));return}if(n!==this.config.sessionId){var i=this.getSessionId(),o=this.config.lastEventTime,s=(r=this.config.lastEventId)!==null&&r!==void 0?r:-1;this.config.sessionId=n,this.config.lastEventTime=void 0,this.config.pageCounter=0,Zt(this.config.defaultTracking)&&(i&&o&&this.track(sn,void 0,{device_id:this.previousSessionDeviceId,event_id:++s,session_id:i,time:o+1,user_id:this.previousSessionUserId}),this.config.lastEventTime=this.config.sessionId,this.track(on,void 0,{event_id:++s,session_id:this.config.sessionId,time:this.config.lastEventTime})),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId}},e.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},e.prototype.setTransport=function(n){if(!this.config){this.q.push(this.setTransport.bind(this,n));return}this.config.transportProvider=an(n)},e.prototype.identify=function(n,r){if(rt(n)){var i=n._q;n._q=[],n=nt(new G,i)}return r?.user_id&&this.setUserId(r.user_id),r?.device_id&&this.setDeviceId(r.device_id),t.prototype.identify.call(this,n,r)},e.prototype.groupIdentify=function(n,r,i,o){if(rt(i)){var s=i._q;i._q=[],i=nt(new G,s)}return t.prototype.groupIdentify.call(this,n,r,i,o)},e.prototype.revenue=function(n,r){if(rt(n)){var i=n._q;n._q=[],n=nt(new $e,i)}return t.prototype.revenue.call(this,n,r)},e.prototype.process=function(n){return p(this,void 0,void 0,function(){var r,i;return f(this,function(o){return r=Date.now(),i=xe(this.config.sessionTimeout,this.config.lastEventTime),n.event_type!==on&&n.event_type!==sn&&(!n.session_id||n.session_id===this.getSessionId())&&i&&this.setSessionId(r),[2,t.prototype.process.call(this,n)]})})},e}(Pt);var fi=function(){var t=new Lr;return{init:R(t.init.bind(t),"init",C(t),P(t,["config"])),add:R(t.add.bind(t),"add",C(t),P(t,["config.apiKey","timeline.plugins"])),remove:R(t.remove.bind(t),"remove",C(t),P(t,["config.apiKey","timeline.plugins"])),track:R(t.track.bind(t),"track",C(t),P(t,["config.apiKey","timeline.queue.length"])),logEvent:R(t.logEvent.bind(t),"logEvent",C(t),P(t,["config.apiKey","timeline.queue.length"])),identify:R(t.identify.bind(t),"identify",C(t),P(t,["config.apiKey","timeline.queue.length"])),groupIdentify:R(t.groupIdentify.bind(t),"groupIdentify",C(t),P(t,["config.apiKey","timeline.queue.length"])),setGroup:R(t.setGroup.bind(t),"setGroup",C(t),P(t,["config.apiKey","timeline.queue.length"])),revenue:R(t.revenue.bind(t),"revenue",C(t),P(t,["config.apiKey","timeline.queue.length"])),flush:R(t.flush.bind(t),"flush",C(t),P(t,["config.apiKey","timeline.queue.length"])),getUserId:R(t.getUserId.bind(t),"getUserId",C(t),P(t,["config","config.userId"])),setUserId:R(t.setUserId.bind(t),"setUserId",C(t),P(t,["config","config.userId"])),getDeviceId:R(t.getDeviceId.bind(t),"getDeviceId",C(t),P(t,["config","config.deviceId"])),setDeviceId:R(t.setDeviceId.bind(t),"setDeviceId",C(t),P(t,["config","config.deviceId"])),reset:R(t.reset.bind(t),"reset",C(t),P(t,["config","config.userId","config.deviceId"])),getSessionId:R(t.getSessionId.bind(t),"getSessionId",C(t),P(t,["config"])),setSessionId:R(t.setSessionId.bind(t),"setSessionId",C(t),P(t,["config"])),extendSession:R(t.extendSession.bind(t),"extendSession",C(t),P(t,["config"])),setOptOut:R(t.setOptOut.bind(t),"setOptOut",C(t),P(t,["config"])),setTransport:R(t.setTransport.bind(t),"setTransport",C(t),P(t,["config"]))}},D=fi();var Hu=D.add,qu=D.extendSession,ju=D.flush,Ku=D.getDeviceId,Gu=D.getSessionId,Wu=D.getUserId,$u=D.groupIdentify,wr=D.identify,Cr=D.init,Yu=D.logEvent,Qu=D.remove,Xu=D.reset,zu=D.revenue,Zu=D.setDeviceId,Ju=D.setGroup,ec=D.setOptOut,tc=D.setSessionId,nc=D.setTransport,rc=D.setUserId,se=D.track;var K=t=>{window.dispatchEvent(new CustomEvent("builderdevtools",{detail:{eventName:t}}))};async function mi(){return Cn()}var Pr=async()=>{let t=new URL(window.location.href),e=t.hash,n=\`#\${hn}=\`,r=Math.random().toString(36).substring(2,15),i=await mi();Cr("f1d2eb79aecd01b28c8a371ea5d1751c",i?.userId||r,{logLevel:Ge.LogLevel.None,serverUrl:En,flushIntervalMillis:500});let o=new G;wr(o,{device_id:i?.deviceId,user_id:i?.userId||r});let s="anonymous";e.startsWith(n)&&(s=e.slice(n.length),s&&(vi(s),t.hash="",window.history.replaceState({},"",t.href))),K("init")};var vi=t=>{if(typeof t=="string"&&t.length>0){let e=De();Re({...e,builderUserId:t})}},De=()=>{let t=localStorage.getItem(Rr);if(t)try{let e=JSON.parse(t);return(!e.ctas||typeof e.ctas!="object")&&(e=Re({...e,ctas:{}})),e.menuOpenedTs&&(e=Re({...e,ctas:{...e.ctas,menuOpened:e.menuOpenedTs}}),delete e.menuOpenedTs),e}catch(e){console.error(e)}return Re({firstVisitTs:Date.now(),ctas:{},builderUserId:""})},Re=t=>{try{localStorage.setItem(Rr,JSON.stringify(t))}catch(e){console.error(e)}return t},ln=t=>!!De().ctas[t],dn=t=>{let e=De();return Re({...e,ctas:{...e.ctas,[t]:Date.now()}})},Rr="builderDevtools";function Dr(t){gi(t),hi(t),yi(t),_i(t)}function gi(t){let e=t.getElementById("input-register");e.addEventListener("change",async n=>{n.stopPropagation();let r=t.getElementById("input-name"),i=t.querySelector(".nav-cmp-input");i.classList.add("input-loading"),i.classList.remove("input-enabled");let o=r.dataset.id,s=r.dataset.prop,u=await Me({cmpId:o,name:s,registerInput:e.checked});K("registryUpdate"),J(u),Ae(t,o,s),ae(t,o),i.classList.remove("input-loading")})}function hi(t){t.getElementById("input-open-source").addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();let r=n.target,i=A.components.find(o=>o.id===r?.dataset.id);i&&ve({filePath:i.filePath})})}function yi(t){let e=t.getElementById("input-name"),n=e.closest(".ui-text-input"),r="",i;e.addEventListener("focus",o=>{clearTimeout(i),n.classList.remove("saved"),o.stopPropagation(),r=e.value}),e.addEventListener("blur",async o=>{if(o.stopPropagation(),clearTimeout(i),n.classList.remove("saved"),e.value!==r){if(e.value.trim().length<3){e.value=r;return}n.classList.add("saved"),i=setTimeout(()=>{n.classList.remove("saved")},3e3);let s=e.dataset.id,u=e.dataset.prop,c=await Me({cmpId:s,name:u,friendlyName:e.value});K("registryUpdate"),J(c),z(t),ae(t,s),Ae(t,s,u)}}),e.addEventListener("keyup",o=>{o.stopPropagation(),clearTimeout(i),n.classList.remove("saved"),o.key==="Escape"?(e.value=r,e.blur()):o.key==="Enter"&&e.blur()})}function _i(t){let e=t.getElementById("input-type");e.addEventListener("change",async n=>{n.stopPropagation();let r=e.dataset.id,i=e.dataset.prop,o=await Me({cmpId:r,name:i,type:e.value});K("registryUpdate"),J(o),z(t),ae(t,r),Ae(t,r,i)})}function Ae(t,e,n){let r=A.components.find(m=>m.id===e);if(!r)return null;let i=r.inputs.find(m=>m.name===n);if(!i)return null;let o=t.querySelector(".nav-cmp-input");i.isRegistered?o.classList.add("input-enabled"):o.classList.remove("input-enabled");let s=t.getElementById("input-register");s.checked=!!i.isRegistered;let u=t.getElementById("cmp-input-title");u.innerText=r.name+": "+(i.friendlyName||i.name);let c=t.getElementById("input-open-source");c.innerText=\`Open \${r.displayFilePath}\`,c.dataset.id=r.id;let a=t.getElementById("cmp-prop-name");a.innerText=i.name;let l=t.getElementById("cmp-prop-type");l.innerText=qe(i.type);let d=t.getElementById("input-name");return d.dataset.id=r.id,d.dataset.prop=i.name,d.value=i.friendlyName||i.name,Ei(t,r,i),i}function Ei(t,e,n){let r=t.getElementById("input-type");r.dataset.id=e.id,r.dataset.prop=n.name,r.innerHTML="";let i=n.type,o=Ne.includes(i),s=Be.includes(i),u=Fe.includes(i),c=Ve.includes(i),a=He.includes(i);Pn.forEach(l=>{let d=document.createElement("option");d.value=l.value,d.innerText=l.text,d.disabled=Ne.includes(l.value)&&!o||Be.includes(l.value)&&!s||Fe.includes(l.value)&&!u||Ve.includes(l.value)&&!c||He.includes(l.value)&&!a,r.appendChild(d)}),r.value=i}function Ar(t){Ti(t),bi(t),Ii(t),xi(t),Si(t)}function Ti(t){t.getElementById("cmp-register").addEventListener("change",n=>{n.stopPropagation(),ct(t,"update")})}async function ct(t,e){let n=t.querySelector(".nav-cmp-detail"),r=t.getElementById("cmp-error"),i=t.getElementById("cmp-register"),o=i.closest(".ui-switch");n.classList.remove("cmp-enabled"),i.checked&&n.classList.add("cmp-loading");try{let s=i.dataset.id,u;e==="load"?u=await In({cmpId:s}):i.checked?(u=await Sn({cmpId:s}),K("registryUpdate"),se("interaction",{type:"click",name:"register component",detail:s})):(u=await Ln({cmpId:s}),K("registryUpdate"),se("interaction",{type:"click",name:"unregister component",detail:s})),J(u),z(t);let c=ae(t,s);e==="update"&&c&&(i.checked?(n.classList.add("cmp-enabled"),Tt(t,\`<strong>\${c.name}</strong> is now registered in <strong>\${A.registryDisplayPath}</strong> and available for use in the Builder Visual Editor\`)):Tt(t,\`<strong>\${c.name}</strong> has been unregistered from <strong>\${A.registryDisplayPath}</strong> and removed from the Builder Visual Editor\`))}catch(s){console.error(s),r.innerHTML=\`<p class="error">Error loading components</p><p class="error">\${s.message||s}</p>\`,o.style.display="none"}n.classList.remove("cmp-loading")}function bi(t){let e=t.getElementById("cmp-name"),n=e.closest(".ui-text-input"),r="",i;e.addEventListener("focus",o=>{clearTimeout(i),n.classList.remove("saved"),o.stopPropagation(),r=e.value}),e.addEventListener("blur",async o=>{if(o.stopPropagation(),clearTimeout(i),n.classList.remove("saved"),e.value!==r){if(e.value.trim().length<3){e.value=r;return}n.classList.add("saved"),i=setTimeout(()=>{n.classList.remove("saved")},3e3);let s=e.dataset.id,u=await xn({cmpId:s,name:e.value});K("registryUpdate"),J(u),z(t),ae(t,s)}}),e.addEventListener("keyup",o=>{o.stopPropagation(),clearTimeout(i),n.classList.remove("saved"),o.key==="Escape"?(e.value=r,e.blur()):o.key==="Enter"&&e.blur()})}function ae(t,e){let n=A.components.find(l=>l.id===e);if(!n)return null;let r=t.getElementById("cmp-register"),i=t.getElementById("cmp-error"),o=r.closest(".ui-switch");o.style.display="",i.innerHTML="",r.dataset.id=n.id,r.checked=!!n.isRegistered;let s=t.querySelector(".nav-cmp-detail");n.isRegistered?s.classList.add("cmp-enabled"):s.classList.remove("cmp-enabled");let u=t.getElementById("cmp-name");u.dataset.id=n.id,u.value=n.name;let c=t.getElementById("cmp-open-source");c.innerText=\`Open \${n.displayFilePath}\`,c.dataset.id=n.id;let a=t.getElementById("cmp-detail-title");return a.innerText=\`\${n.name} Component\`,Li(t,n),n}function Ii(t){t.getElementById("cmp-open-source").addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();let r=n.target,i=A.components.find(o=>o.id===r?.dataset.id);i&&(ve({filePath:i.filePath}),se("interaction",{type:"click",name:"open component source file",detail:i.filePath}))})}function Si(t){t.getElementById("btn-inputs-reload").addEventListener("click",n=>{n.preventDefault(),n.stopPropagation(),ct(t,"load")})}function xi(t){t.getElementById("cmp-detail-inputs").addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();let i=n.target?.closest("button"),o=i?.dataset.id,s=i?.dataset.propName;Ae(t,o,s)&&W(t,"nav-cmp-input")})}function Li(t,e){let n=t.getElementById("cmp-detail-inputs"),r=e.inputs.filter(i=>!i.hideFromUI);r.length>0?(n.innerHTML="",r.forEach(i=>{n.appendChild(wi(e,i))})):n.innerHTML=\`<p class="cmp-inputs-empty">\${e.name} component does not have any props</p>\`}function wi(t,e){let n=document.createElement("button");n.dataset.id=t.id,n.dataset.propName=e.name,n.className="cmp-input-item nav-list-item",e.isRegistered||n.classList.add("cmp-input-item-unregistered");let r=document.createElement("span"),i=qe(e.type);r.className=\`nav-list-item-icon input-icon input-icon-\${i}\`,n.appendChild(r);let o=document.createElement("span");o.innerText=e.friendlyName||e.name,n.appendChild(o);let s=document.createElement("span");return s.className="nav-list-item-note",s.innerText=e.type,n.appendChild(s),n}function Ur(t){t.getElementById("open-builder-registry").addEventListener("click",o=>{o.preventDefault(),o.stopPropagation(),ve({filePath:A.registryPath,line:1,column:1})}),t.getElementById("cmp-list").addEventListener("click",o=>{o.preventDefault(),o.stopPropagation();let u=o.target?.dataset.id,c=A.components.find(a=>a.id===u);if(c){let a=t.querySelector(".nav-cmp-detail .section-content");a.scrollTop=0,ae(t,c.id),W(t,"nav-cmp-detail"),c.isRegistered&&ct(t,"load")}});let r=t.getElementById("component-search"),i=t.getElementById("clear-search");r?.addEventListener("input",o=>{let s=o.target.value.toLowerCase(),u=s?A.components.filter(c=>c.name.toLowerCase().includes(s)||c.displayFilePath?.toLowerCase().includes(s)):A.components;z(t,u),i.style.display=s?"flex":"none"}),i?.addEventListener("click",()=>{r.value="",z(t),i.style.display="none"}),r?.addEventListener("keydown",o=>{o.key==="Escape"&&(r.value="",z(t),i.style.display="none")})}function Mr(t){let e=bn();Ci(t,e)}async function Ci(t,e){let n=t.getElementById("cmp-list"),r=t.querySelector(".nav-cmp-list");r.classList.add("nav-loading");let i=t.getElementById("open-builder-registry");try{let o=await e;J(o),z(t),A.registryDisplayPath?i.innerText="Open "+o.registryDisplayPath:i.innerText=""}catch(o){n.innerHTML=\`<p class="error">Error loading components</p><p class="error">\${o.message||o}</p>\`,console.error(o)}r.classList.remove("nav-loading")}function z(t,e){let n=t.getElementById("cmp-list");n.innerHTML="";let r=e||A.components,i=r.filter(s=>s.isRegistered),o=r.filter(s=>!s.isRegistered);if(e&&e.length===0){let s=document.createElement("p");s.className="no-results",s.innerText="No matching components found",n.appendChild(s);return}kr(n,"Registered Components",i),kr(n,"Unregistered Components",o)}function kr(t,e,n){if(n.length>0){let r=document.createElement("h4");r.innerText=e,t.appendChild(r),n.forEach(i=>{t.appendChild(Pi(i))})}}function Pi(t){let e=document.getElementById("component-search")?.value.toLowerCase(),n=document.createElement("button");n.dataset.id=t.id,n.className="cmp-item nav-list-item",t.isRegistered&&n.classList.add("registered");let r=document.createElement("span");r.className="nav-list-item-icon",t.image&&(r.style.backgroundImage=\`url(\${t.image})\`),n.appendChild(r);let i=document.createElement("span");i.className="nav-list-item-name",i.innerHTML=Or(t.name,e),n.appendChild(i);let o=document.createElement("span");return o.className="nav-list-item-note",o.innerHTML=Or(t.displayFilePath||"",e),n.appendChild(o),n}function Or(t,e){if(!e)return t;let n=new RegExp(\`(\${e})\`,"gi");return t.replace(n,'<span class="search-highlight">$1</span>')}var Nr=t=>{t.querySelector(".menu-toggle").addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),ue(t,!0)}),t.getElementById("close").addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),ue(t,!1)}),t.getElementById("hit").addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),ue(t,!1)}),pn(t),t.addEventListener("click",e=>e.stopPropagation()),Ri(t)},ue=(t,e)=>{e?(document.body.classList.add("builder-no-scroll"),t.host.classList.add("show-builder-menu"),K("menuOpen"),dn("menuOpened"),se("interaction",{type:"click",name:"open dev-tools menu"})):(document.body.classList.remove("builder-no-scroll"),t.host.classList.remove("show-builder-menu"),K("menuClose"),setTimeout(()=>{W(t,"nav-home")},300)),wn(e)},Ri=t=>{if(!ln("menuOpened")){Di(t);return}let e=De();if(!((Date.now()-e.firstVisitTs)/1e3/60<10)&&!ln("feedback")){dn("feedback"),Ai(t);return}},Di=t=>{let e=document.createElement("a");e.classList.add("menu-toggle-tooltip"),e.href="#open-dev-tools",e.innerHTML=\`
    <div class="menu-toggle-tooltip-content">
      <h3>Open Builder Devtools</h3>
      <p>Start registering your components</p>
    </div>
  \`,t.appendChild(e),setTimeout(()=>{e.classList.add("menu-toggle-tooltip-show"),e.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation(),e.classList.remove("menu-toggle-tooltip-show"),ue(t,!0)})},1e3)},Ai=t=>{let e=document.createElement("a");e.classList.add("menu-toggle-tooltip"),e.href="https://docs.google.com/forms/d/e/1FAIpQLSdqZcJpRtm_Ia5DTHP6SDY9Xa6LID3KiTjRWkjMzWyJRUtSHw/viewform",e.target="_blank",e.innerHTML=\`
    <div class="menu-toggle-tooltip-content">
      <h3>How's Devtools working for you?</h3>
      <p>We'd love your feedback!</p>
    </div>
  \`,t.appendChild(e),setTimeout(()=>{e.classList.add("menu-toggle-tooltip-show"),e.addEventListener("click",()=>{e.classList.remove("menu-toggle-tooltip-show")})},1e3)};function Br(t){t.getElementById("go-to-builder").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),ue(t,!1),window.open(mn(),"builder")}),t.getElementById("components-link").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation();let u=t.querySelector(".nav-cmp-list .section-content");u.scrollTop=0,W(t,"nav-cmp-list"),Mr(t)}),t.getElementById("settings-link").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),W(t,"nav-settings")}),t.getElementById("add-page-link").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),ue(t,!1),window.open(Ee(),"builder")}),t.getElementById("import-from-figma").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),ue(t,!1),window.open("https://www.figma.com/community/plugin/747985167520967365/builder-io-ai-powered-figma-to-code-react-vue-tailwind-more")})}function Fr(t){let e=t.getElementById("enable-edit");e.addEventListener("change",n=>{n.stopPropagation(),It(e.checked)}),e.checked=ke(),It(e.checked)}var lt=class extends HTMLElement{constructor(){super()}connectedCallback(){let e=this.attachShadow({mode:"open"});e.innerHTML=\`<style>*,*:before,*:after{box-sizing:border-box}:host{--background-color: rgba(40, 40, 40, 1);--primary-color: rgba(72, 161, 255, 1);--primary-color-subdued: rgb(72, 161, 255, .6);--primary-color-highlight: rgb(126, 188, 255);--primary-contrast-color: white;--edit-color: #1d74e2;--edit-color-highlight: #1c6bd1;--edit-color-alpha: rgb(72, 161, 255, .15);--error-color: #ff2b55;--text-color: white;--text-color-highlight: white;--border-color: #454545;--button-background-color-hover: rgba(255, 255, 255, .1);--menu-width: 320px;--transition-time: .15s;--font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-family:var(--font-family);line-height:1.6}button{cursor:pointer;color:var(--text-color);-webkit-tap-highlight-color:transparent}input,select,button{font-family:var(--font-family)}.menu-toggle{position:absolute;right:0;bottom:0;pointer-events:auto;padding:8px;background:transparent;border:none;appearance:none}.menu-toggle div{position:relative;width:64px;height:64px;pointer-events:none;border-radius:50%;background:#000;border:1px solid white;box-shadow:#00000054 0 0 8px}.menu-toggle:hover div{background-color:var(--background-color);border:1px solid rgb(220,220,220)}.menu-toggle svg{position:absolute;top:15px;left:15px;width:33px;height:32px}div.highlight-bg{position:absolute;top:-1px;left:-1px;background-color:#1a1a1a;pointer-events:none;transition:all .4s ease-out;opacity:0}.menu-toggle-highlight-no-transition div.highlight-bg{transition:none}.menu-toggle-highlight div.highlight-bg{opacity:1}.menu-toggle-tooltip{position:absolute;bottom:0;right:0;width:382px;height:72px;padding:0;text-align:left;appearance:none;background-color:transparent;border:none;pointer-events:none;transform:translate3d(320px,0,0);opacity:0;transition:all .15s ease-in-out;color:#fff}.menu-toggle-tooltip.menu-toggle-tooltip-show{pointer-events:auto;opacity:1;transform:translateZ(0)}.menu-toggle-tooltip-content{position:absolute;inset:0 95px 10px 0;padding:8px 12px;background-color:var(--primary-color);box-shadow:#00000054 0 0 20px;border-radius:2px}.menu-toggle-tooltip-content:before{content:"";position:absolute;bottom:15px;right:-6px;width:30px;height:30px;background-color:var(--primary-color);transform:rotate(45deg)}.menu-toggle-tooltip:hover .menu-toggle-tooltip-content,.menu-toggle-tooltip:hover .menu-toggle-tooltip-content:before{background-color:var(--primary-color-highlight)}.menu-toggle-tooltip-content h3{margin:0;font-size:16px}.menu-toggle-tooltip-content p{margin:0;font-size:12px}section{position:absolute;display:grid;grid-template-rows:64px auto 64px;top:0;left:0;width:100%;height:100%;padding:0;pointer-events:none}.section-content{margin:0;padding:0 0 10px;font-weight:300;transform:translate3d(105%,0,0);transition:transform var(--transition-time) ease-in-out;overflow-y:auto}.section-content .error{color:var(--error-color);font-weight:700}section a{text-decoration:none;color:var(--text-color)}section h3,section p{margin-left:16px;margin-right:16px}.info{font-size:12px}ul.list{list-style:none;padding:0;margin:0}ul.list li{display:block;padding:0;margin:0}ul.list a,ul.list button{display:grid;grid-template-columns:24px auto;grid-gap:16px;padding:12px;margin:8px 0;border:none;background:transparent;appearance:none;width:100%;font-weight:300;text-align:left;text-decoration:none;color:var(--text-color)}ul.list a:hover,ul.list button:hover{text-decoration:none;color:var(--text-color);background-color:var(--button-background-color-hover)}ul.list a span,ul.list button span{display:block;font-size:16px;font-weight:500;line-height:1.5;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}header{position:relative;display:grid;grid-template-columns:44px 1fr;gap:8px;padding-left:8px;border-bottom:1px solid var(--border-color);transition:opacity var(--transition-time) ease-in-out;opacity:0;pointer-events:none}header>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nav-home header>div{margin-right:56px}header h2{margin:7px 0 0;font-size:18px;font-weight:500;line-height:1.5;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header p{margin:2px 0 0;font-size:12px;font-weight:300;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header p button{display:block;margin:0;padding:0;width:100%;font-size:12px;font-weight:300;text-decoration:none;appearance:none;text-align:left;background-color:transparent;border:none;color:var(--primary-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header p button:hover{text-decoration:underline;color:var(--primary-color)}.builder-logo{margin:12px 0 0 8px}#close{display:block;position:absolute;appearance:none;background:transparent;border:none;border-radius:50%;margin:0;padding:0;right:4px;top:8px;width:48px;height:48px;z-index:1;opacity:.7}#close:hover{opacity:1;background-color:var(--button-background-color-hover)}#close svg{position:absolute;top:12px;left:12px;width:24px;height:24px;fill:currentColor;pointer-events:none}.back-button{position:relative;display:block;margin:7px 0 0 -2px;width:48px;height:48px;background:transparent;border:none;appearance:none;border-radius:50%}.back-button:hover{background-color:var(--button-background-color-hover)}.back-button svg{position:absolute;top:12px;left:12px;width:24px;height:24px;fill:currentColor;pointer-events:none}footer{border-top:1px solid var(--border-color);transition:opacity var(--transition-time) ease-in-out;opacity:0;pointer-events:none}section.nav-cmp-list{grid-template-rows:64px auto 120px}footer a{text-decoration:underline;color:var(--primary-color)}footer a:hover{color:var(--primary-color);text-decoration:none}.nav-list{padding:2px 0}.nav-loading{pointer-events:none}.nav-loading-icon{position:absolute;display:inline-block;top:170px;left:0;width:100%;transform:translateZ(0);pointer-events:auto;opacity:0;transition:all 50ms ease-in-out;transition-delay:50ms;pointer-events:none}.nav-loading .nav-loading-icon{opacity:.5}.nav-list h4{margin:8px 8px 8px 10px;font-size:14px;font-weight:600}.nav-list .nav-list-item+h4{margin-top:30px}.nav-list-item{display:grid;grid-template-columns:1fr 1fr;gap:8px;position:relative;margin:2px 0;padding:8px 28px 8px 46px;width:100%;font-size:14px;font-weight:300;text-align:left;border:none;background:transparent;appearance:none}.nav-list-item:hover{background-color:var(--button-background-color-hover)}.nav-list-item-icon{position:absolute;top:4px;left:10px;width:24px;height:24px;object-fit:contain;filter:invert(100%);background-size:24px 24px;background-repeat:no-repeat;background-position:center center}.nav-list-item span{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;pointer-events:none}.nav-list-item:after{display:block;position:absolute;content:"";background-image:url('data:image/svg+xml,<svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1L7 7L1 13" stroke="%23F2F2F2" stroke-opacity="0.5" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/></svg>');background-repeat:no-repeat;background-position:12px 9px;top:0;right:0;width:32px;height:32px;pointer-events:none}.nav-list-item-note{opacity:0;font-size:12px;padding-top:1px;text-align:right}.nav-list-item:hover .nav-list-item-note{opacity:.5}.ui-select{display:block;margin:8px 0 16px;padding:8px 16px;cursor:pointer}.ui-select h3{margin:0;font-size:14px;font-weight:500}.ui-select p{margin:8px 0;font-size:12px;font-weight:300}.ui-select .select{position:relative;margin:8px 0;border-radius:4px;padding:0;line-height:1.1;overflow:hidden;border:1px solid var(--border-color)}.ui-select select{appearance:none;background-color:transparent;border:none;outline:none;padding:8px 32px 8px 8px;margin:0;width:100%;font-size:14px;cursor:pointer;text-overflow:ellipsis;opacity:.6;color:var(--text-color)}.ui-select .select:after{content:"";top:6px;right:5px;width:24px;height:24px;position:absolute;background-image:url('data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="%23F2F2F2" d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>');background-repeat:no-repeat;background-position:center;pointer-events:none;opacity:.6}.ui-select .select:hover{border-color:var(--primary-color-subdued)}.ui-text-input .select:focus-within{border-color:var(--primary-color)}.ui-text-input .select:focus-within select{opacity:1}.spinner:after{content:" ";display:block;width:32px;height:32px;margin:0 auto;pointer-events:auto;border-radius:50%;border:3px solid var(--text-color);border-color:var(--text-color) transparent var(--text-color) transparent;animation:spinner .75s linear infinite}@keyframes spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ui-switch{display:grid;grid-template-columns:auto 48px;grid-gap:20px;margin:8px 0 16px;padding:8px 0 8px 16px;cursor:pointer}.ui-switch>*{pointer-events:none}.ui-switch input{display:none;visibility:hidden}.ui-switch .switcher{display:inline-block;border-radius:100px;width:35px;height:14px;background-color:#ccc;position:relative;top:6px;vertical-align:middle;cursor:pointer}.ui-switch input[type=checkbox]:checked+.switcher{background-color:var(--primary-color-subdued)}.ui-switch .switcher:before{content:"";display:block;width:20px;height:20px;background-color:var(--text-color);box-shadow:0 1px 3px #0009;border-radius:50%;position:absolute;top:-3px;left:0;margin-right:0;transition:all .15s}.ui-switch input[type=checkbox]:checked+.switcher:before{left:100%;margin-left:-20px;background-color:var(--primary-color)}.ui-switch h3{margin:0;font-size:14px;font-weight:500}.ui-switch p{margin:4px 0 0;font-size:12px;font-weight:300}.ui-text-input{display:block;margin:8px 0 16px;padding:8px 16px;cursor:pointer}.ui-text-input h3{margin:0;font-size:14px;font-weight:500}.ui-text-input p{margin:8px 0;font-size:12px;font-weight:300}.ui-text-input .input{position:relative;margin:8px 0;border:1px solid var(--border-color);border-radius:4px;background:transparent;padding:2px;overflow:hidden}.ui-text-input input{display:block;width:235px;font-size:14px;border:none;background:transparent;padding:6px;appearance:none;color:var(--text-color);opacity:.6;outline:none}.ui-text-input .input:hover{border-color:var(--primary-color-subdued)}.ui-text-input .input:focus-within{border-color:var(--primary-color)}.ui-text-input .input:focus-within input{opacity:1}.ui-text-input .input:after{content:"";position:absolute;top:5px;right:14px;width:8px;height:17px;border:2px solid rgba(51,181,51,1);border-top:none;border-left:none;transform:rotate(45deg);opacity:0;transition:opacity 80ms ease-in-out;pointer-events:none}.ui-text-input.saved .input:after{opacity:1}.ui-toast{position:fixed;bottom:8px;left:8px;right:8px;padding:6px 12px;font-size:14px;border-radius:4px;transform:translate3d(0,150%,0);opacity:0;transition:all var(--transition-time) ease-in-out;background-color:var(--primary-color-subdued);color:var(--text-color);pointer-events:none}.ui-toast.ui-toast-show{transform:translateZ(0);opacity:1;pointer-events:auto}[data-view=nav-home] .nav-home .section-content,[data-view=nav-cmp-list] .nav-cmp-list .section-content,[data-view=nav-cmp-detail] .nav-cmp-detail .section-content,[data-view=nav-cmp-input] .nav-cmp-input .section-content,[data-view=nav-settings] .nav-settings .section-content{transform:translateZ(0);pointer-events:auto}[data-view=nav-home] .nav-home header,[data-view=nav-home] .nav-home footer,[data-view=nav-cmp-list] .nav-cmp-list header,[data-view=nav-cmp-list] .nav-cmp-list footer,[data-view=nav-cmp-detail] .nav-cmp-detail header,[data-view=nav-cmp-detail] .nav-cmp-detail footer,[data-view=nav-cmp-input] .nav-cmp-input header,[data-view=nav-cmp-input] .nav-cmp-input footer,[data-view=nav-settings] .nav-settings header,[data-view=nav-settings] .nav-settings footer{opacity:1;pointer-events:auto}[data-view=nav-cmp-list] .nav-home .section-content,[data-view=nav-cmp-detail] .nav-home .section-content,[data-view=nav-cmp-detail] .nav-cmp-list .section-content,[data-view=nav-cmp-input] .nav-home .section-content,[data-view=nav-cmp-input] .nav-cmp-list .section-content,[data-view=nav-cmp-input] .nav-cmp-detail .section-content,[data-view=nav-settings] .nav-home .section-content{transform:translate3d(-105%,0,0)}.cmp-item .nav-list-item-icon{background-image:url('data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.83 16.809C20.94 16.561 21 16.289 21 16.008V7.99001C20.9994 7.64108 20.9066 7.29851 20.731 6.99699C20.5554 6.69547 20.3032 6.44571 20 6.27301L13 2.26501C12.6954 2.09103 12.3508 1.99951 12 1.99951C11.6492 1.99951 11.3046 2.09103 11 2.26501L7.988 3.99001M5.441 5.44801L4 6.27301C3.381 6.62801 3 7.28301 3 7.99101V16.009C3 16.718 3.381 17.372 4 17.726L11 21.734C11.3046 21.908 11.6492 21.9995 12 21.9995C12.3508 21.9995 12.6954 21.908 13 21.734L18.544 18.56" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 22V12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M14.532 10.538L20.73 6.95996" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M3.27002 6.95996L12 12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M3 3L21 21" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/></svg>');opacity:.3}.cmp-item.registered .nav-list-item-icon{background-image:url('data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 16.008V7.99001C20.9994 7.64108 20.9066 7.29851 20.731 6.99699C20.5554 6.69547 20.3032 6.44571 20 6.27301L13 2.26501C12.6954 2.09103 12.3508 1.99951 12 1.99951C11.6492 1.99951 11.3046 2.09103 11 2.26501L4 6.27301C3.381 6.62801 3 7.28301 3 7.99101V16.009C3 16.718 3.381 17.372 4 17.726L11 21.734C11.3046 21.908 11.6492 21.9995 12 21.9995C12.3508 21.9995 12.6954 21.908 13 21.734L20 17.726C20.619 17.371 21 16.716 21 16.008Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 22V12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 12L20.73 6.95996" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M3.26999 6.95996L12 12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /></svg>');opacity:.8}.search-highlight{background-color:var(--primary-color-alpha);padding:0 2px;border-radius:2px;font-weight:500}.search-container{position:sticky;top:0;z-index:10;padding:12px 16px;background:var(--background-color);border-bottom:1px solid var(--border-color)}.search-input-wrapper{position:relative;display:flex;align-items:center}.search-icon{position:absolute;left:12px;color:var(--text-color-secondary);pointer-events:none}.component-search-input{width:100%;height:36px;padding:8px 36px;border:1px solid var(--border-color);border-radius:6px;background:var(--input-background);color:var(--text-color);font-size:14px;transition:border-color .2s,box-shadow .2s}.component-search-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 2px var(--primary-color-alpha)}.component-search-input::placeholder{color:var(--text-color-tertiary)}.clear-search-button{position:absolute;right:8px;padding:4px;color:var(--text-color-secondary);border:none;background:transparent;border-radius:4px;cursor:pointer;opacity:0;transition:opacity .2s,background-color .2s;display:flex;align-items:center;justify-content:center}.clear-search-button:hover{background-color:var(--hover-color)}.component-search-input:not(:placeholder-shown)+.clear-search-button{opacity:1}.no-results{padding:32px 16px;text-align:center;color:var(--text-color-secondary);font-size:14px}#cmp-detail{position:relative}.cmp-loading{pointer-events:none!important}.cmp-loading-icon{position:absolute;display:inline-block;top:170px;left:0;width:100%;transform:translateZ(0);pointer-events:auto;opacity:0;transition:all 50ms ease-in-out;transition-delay:50ms;pointer-events:none}.cmp-loading .cmp-loading-icon{opacity:.5}.cmp-cover{position:absolute;top:160px;left:0;width:100%;height:100vh;background:var(--background-color);transform:translateZ(0);pointer-events:none;display:none}[data-view=nav-cmp-detail] .cmp-cover{display:block;pointer-events:auto}.cmp-enabled .cmp-cover{transform:translate3d(0,105%,0);pointer-events:none}.section-ready .cmp-cover{transition:all var(--transition-time) ease-in-out}.cmp-detail-inputs-container{margin:8px 0 16px;padding:0}.cmp-detail-inputs-container h3{margin:0 0 6px;padding-left:16px;padding-right:8px;font-size:14px;font-weight:500;display:flex;justify-content:space-between;align-items:center}.cmp-detail-inputs-reload{font-weight:300;font-size:.9em;text-decoration:none;appearance:none;text-align:left;background-color:transparent;border:none;color:var(--primary-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cmp-detail-inputs-reload:hover{text-decoration:underline;color:var(--primary-color)}.cmp-detail-inputs-container .cmp-inputs-empty{padding:0;margin-top:12px;font-size:12px;font-weight:300;opacity:.5;font-style:italic}.cmp-detail-inputs-container .nav-list-item-icon{opacity:.8;background-size:20px 20px;background-position:4px center}.input-icon{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"  width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path></svg>')}.input-icon-array{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 16v-6a2 2 0 1 1 4 0v6"></path> <path d="M10 13h4"></path></svg>')}.input-icon-boolean{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 16h2a2 2 0 1 0 0 -4h-2h2a2 2 0 1 0 0 -4h-2v8z"></path></svg>')}.input-icon-number{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 16v-8l4 8v-8"></path></svg>')}.input-icon-object{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M12 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z"></path></svg>')}.input-icon-string{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 15a1 1 0 0 0 1 1h2a1 1 0 0 0 1 -1v-2a1 1 0 0 0 -1 -1h-2a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1"></path></svg>')}.cmp-input-item-unregistered{opacity:.4}.cmp-input-item-unregistered .input-icon:after{content:"";position:absolute;top:11px;left:4px;width:20px;height:2px;background-color:#000;transform:rotate(-45deg)}.cmp-prop-info{border-bottom:1px solid var(--border-color)}.cmp-input-readonly{margin:16px 0;padding:0 16px;display:grid;grid-template-columns:50% 50%;gap:12px}.cmp-input-readonly h3{margin:0;font-size:14px;font-weight:500}.cmp-input-readonly span{margin-top:2px;font-size:12px;font-weight:300;opacity:.8}.cmp-input-detail{margin:16px 0}.cmp-input-detail a{color:var(--primary-color);text-decoration:none}.cmp-input-detail a:hover{text-decoration:underline}.input-cover{position:absolute;top:175px;left:0;width:100%;height:100%;background:var(--background-color);transform:translateZ(0);transition:all var(--transition-time) ease-in-out;pointer-events:auto}.input-enabled .input-cover{transform:translate3d(0,105%,0);pointer-events:none}.input-loading-icon{position:absolute;display:inline-block;top:190px;left:0;width:100%;transform:translateZ(0);pointer-events:auto;opacity:0;transition:all 50ms ease-in-out;transition-delay:50ms;pointer-events:none}.input-loading .input-loading-icon{opacity:.5}:host{position:fixed;inset:0;z-index:2147483646;user-select:none;pointer-events:none;color:var(--text-color)}aside{position:absolute;top:0;right:0;width:var(--menu-width);height:100%;transform:translate3d(105%,0,0);transition:transform var(--transition-time) ease-in-out;background:var(--background-color);box-shadow:#000000c9 5px 0 20px;overflow:hidden;z-index:1}:host(.show-builder-menu) aside{pointer-events:auto;transform:translateZ(0)}#hit{position:absolute;inset:0;display:none}:host(.show-builder-menu) #hit{display:block;pointer-events:auto}#version{position:absolute;bottom:6px;right:6px;font-size:8px;color:#9b9b9b}</style><div id="hit"></div> <aside data-view="nav-home"> <section class="nav-home"> <header> <svg class="builder-logo" viewBox="0 0 31 36" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M31 9.96854C31.0016 11.4553 30.6701 12.9236 30.03 14.2654C29.3898 15.6072 28.4572 16.7884 27.3007 17.7221L0.702841 2.61812C0.601104 2.56012 0.506714 2.49008 0.421705 2.40951C0.288323 2.27871 0.182333 2.12263 0.109928 1.95039C0.0375215 1.77814 0.000151253 1.59319 0 1.40633C0 1.03335 0.148098 0.675643 0.411715 0.411905C0.675332 0.148167 1.03287 0 1.40568 0L21.036 0C23.6786 0 26.213 1.05025 28.0816 2.91972C29.9502 4.78918 31 7.32472 31 9.96854Z" fill="#18B4F4" /> <path d="M31 25.4757C31.0004 26.7849 30.7429 28.0815 30.2423 29.2912C29.7417 30.5009 29.0078 31.6001 28.0825 32.526C27.1572 33.4519 26.0587 34.1864 24.8497 34.6875C23.6406 35.1886 22.3448 35.4465 21.0361 35.4465H1.40573C1.12766 35.4436 0.856725 35.3581 0.627199 35.201C0.397672 35.044 0.219871 34.8223 0.116289 34.5641C0.0127078 34.3059 -0.011999 34.0228 0.0452946 33.7505C0.102588 33.4783 0.239308 33.2292 0.438156 33.0347C0.517415 32.9551 0.606358 32.8858 0.702893 32.8284L11.1705 26.8843L27.2984 17.7244C28.4548 18.6579 29.3874 19.8387 30.028 21.18C30.6685 22.5213 31.0007 23.9891 31 25.4757Z" fill="#FD6B3C" /> <path d="M27.3011 17.7221L11.1709 26.8843L0.703209 32.8284C0.602697 32.8843 0.509784 32.9528 0.426758 33.0323C4.41799 28.9369 6.6496 23.442 6.64456 17.7221C6.65208 12.0015 4.42111 6.50517 0.429101 2.40948C0.51411 2.49005 0.6085 2.56009 0.710237 2.61809L27.3011 17.7221Z" fill="#A97FF2" /> </svg> <div> <h2 class="builder-home-title">Builder Devtools</h2> <p><button id="go-to-builder">Go to Builder</button></p> </div> <button id="close" aria-label="Close Menu"> <svg viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" > <path stroke="none" d="M0 0h24v24H0z" fill="none" /> <path d="M18 6l-12 12" /> <path d="M6 6l12 12" /> </svg> </button> </header> <div class="section-content"> <ul class="list"> <li> <button id="components-link"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M21 16.008V7.99001C20.9994 7.64108 20.9066 7.29851 20.731 6.99699C20.5554 6.69547 20.3032 6.44571 20 6.27301L13 2.26501C12.6954 2.09103 12.3508 1.99951 12 1.99951C11.6492 1.99951 11.3046 2.09103 11 2.26501L4 6.27301C3.381 6.62801 3 7.28301 3 7.99101V16.009C3 16.718 3.381 17.372 4 17.726L11 21.734C11.3046 21.908 11.6492 21.9995 12 21.9995C12.3508 21.9995 12.6954 21.908 13 21.734L20 17.726C20.619 17.371 21 16.716 21 16.008Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 22V12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 12L20.73 6.95996" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M3.26999 6.95996L12 12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> </svg> <span>Components</span> </button> </li> <li> <button id="settings-link"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M10.325 4.317C10.751 2.561 13.249 2.561 13.675 4.317C13.7389 4.5808 13.8642 4.82578 14.0407 5.032C14.2172 5.23822 14.4399 5.39985 14.6907 5.50375C14.9414 5.60764 15.2132 5.65085 15.4838 5.62987C15.7544 5.60889 16.0162 5.5243 16.248 5.383C17.791 4.443 19.558 6.209 18.618 7.753C18.4769 7.98466 18.3924 8.24634 18.3715 8.51677C18.3506 8.78721 18.3938 9.05877 18.4975 9.30938C18.6013 9.55999 18.7627 9.78258 18.9687 9.95905C19.1747 10.1355 19.4194 10.2609 19.683 10.325C21.439 10.751 21.439 13.249 19.683 13.675C19.4192 13.7389 19.1742 13.8642 18.968 14.0407C18.7618 14.2172 18.6001 14.4399 18.4963 14.6907C18.3924 14.9414 18.3491 15.2132 18.3701 15.4838C18.3911 15.7544 18.4757 16.0162 18.617 16.248C19.557 17.791 17.791 19.558 16.247 18.618C16.0153 18.4769 15.7537 18.3924 15.4832 18.3715C15.2128 18.3506 14.9412 18.3938 14.6906 18.4975C14.44 18.6013 14.2174 18.7627 14.0409 18.9687C13.8645 19.1747 13.7391 19.4194 13.675 19.683C13.249 21.439 10.751 21.439 10.325 19.683C10.2611 19.4192 10.1358 19.1742 9.95929 18.968C9.7828 18.7618 9.56011 18.6001 9.30935 18.4963C9.05859 18.3924 8.78683 18.3491 8.51621 18.3701C8.24559 18.3911 7.98375 18.4757 7.752 18.617C6.209 19.557 4.442 17.791 5.382 16.247C5.5231 16.0153 5.60755 15.7537 5.62848 15.4832C5.64942 15.2128 5.60624 14.9412 5.50247 14.6906C5.3987 14.44 5.23726 14.2174 5.03127 14.0409C4.82529 13.8645 4.58056 13.7391 4.317 13.675C2.561 13.249 2.561 10.751 4.317 10.325C4.5808 10.2611 4.82578 10.1358 5.032 9.95929C5.23822 9.7828 5.39985 9.56011 5.50375 9.30935C5.60764 9.05859 5.65085 8.78683 5.62987 8.51621C5.60889 8.24559 5.5243 7.98375 5.383 7.752C4.443 6.209 6.209 4.442 7.753 5.382C8.753 5.99 10.049 5.452 10.325 4.317Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> </svg> <span>Settings</span> </button> </li> <li> <button id="add-page-link"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" > <path stroke="none" d="M0 0h24v24H0z" fill="none" /> <path d="M14 3v4a1 1 0 0 0 1 1h4" /> <path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /> <path d="M12 11l0 6" /> <path d="M9 14l6 0" /> </svg> <span>Add Builder Page</span> </button> </li> <li> <button id="import-from-figma"> <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-figma" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" > <path stroke="none" d="M0 0h24v24H0z" fill="none" /> <path d="M15 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /> <path d="M6 3m0 3a3 3 0 0 1 3 -3h6a3 3 0 0 1 3 3v0a3 3 0 0 1 -3 3h-6a3 3 0 0 1 -3 -3z" /> <path d="M9 9a3 3 0 0 0 0 6h3m-3 0a3 3 0 1 0 3 3v-15" /> </svg> <span>Import From Figma</span> </button> </li> </ul> </div> <footer> <ul class="list"> <li> <a href="https://docs.google.com/forms/d/e/1FAIpQLSdqZcJpRtm_Ia5DTHP6SDY9Xa6LID3KiTjRWkjMzWyJRUtSHw/viewform" target="_blank" > <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M11.013 17.0114L10.013 18.0114L2.513 10.5834C2.0183 10.102 1.62864 9.52342 1.36854 8.88404C1.10845 8.24466 0.983558 7.55836 1.00173 6.86834C1.01991 6.17832 1.18076 5.49954 1.47415 4.87474C1.76755 4.24994 2.18713 3.69266 2.70648 3.23799C3.22583 2.78331 3.8337 2.4411 4.49181 2.23289C5.14991 2.02468 5.844 1.95499 6.53036 2.02821C7.21673 2.10143 7.8805 2.31596 8.47987 2.65831C9.07925 3.00066 9.60124 3.46341 10.013 4.01741C10.8086 2.95654 11.9931 2.2552 13.3059 2.06766C14.6186 1.88012 15.9521 2.22176 17.013 3.01741C18.0739 3.81306 18.7752 4.99755 18.9627 6.3103C19.1503 7.62305 18.8086 8.95654 18.013 10.0174" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /> <path d="M18.2006 19.8175L16.0286 20.9555C15.9642 20.989 15.8917 21.004 15.8192 20.9987C15.7467 20.9934 15.6771 20.9681 15.6182 20.9256C15.5593 20.8831 15.5134 20.825 15.4855 20.7579C15.4577 20.6907 15.4491 20.6172 15.4606 20.5455L15.8756 18.1345L14.1186 16.4275C14.0662 16.3768 14.0291 16.3123 14.0115 16.2416C13.9939 16.1708 13.9966 16.0965 14.0192 16.0271C14.0418 15.9578 14.0835 15.8962 14.1394 15.8494C14.1954 15.8026 14.2634 15.7725 14.3356 15.7625L16.7636 15.4105L17.8496 13.2175C17.8821 13.1521 17.9322 13.0972 17.9942 13.0588C18.0562 13.0204 18.1277 13 18.2006 13C18.2736 13 18.3451 13.0204 18.4071 13.0588C18.4691 13.0972 18.5191 13.1521 18.5516 13.2175L19.6376 15.4105L22.0656 15.7625C22.1377 15.7728 22.2054 15.8031 22.2611 15.85C22.3168 15.8968 22.3583 15.9583 22.3809 16.0275C22.4034 16.0967 22.4062 16.1708 22.3888 16.2415C22.3715 16.3122 22.3347 16.3766 22.2826 16.4275L20.5256 18.1345L20.9396 20.5445C20.9521 20.6163 20.9441 20.6902 20.9166 20.7578C20.8891 20.8254 20.8433 20.8839 20.7842 20.9267C20.7252 20.9695 20.6553 20.9949 20.5825 21C20.5098 21.005 20.4371 20.9896 20.3726 20.9555L18.2006 19.8175Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /> </svg> <span>Give Feedback</span> </a> </li> </ul> <div id="version"></div> </footer> </section> <section class="nav-cmp-list"> <header> <button class="back-button"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div class="search-container"> <div class="search-input-wrapper"> <svg class="search-icon" viewBox="0 0 24 24" width="16" height="16"> <path fill="none" stroke="currentColor" stroke-width="2" d="M15.5 15.5L20 20M10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 13.866 13.866 17 10 17Z" /> </svg> <input type="text" id="component-search" class="component-search-input" placeholder="Search components..." autocomplete="off" spellcheck="false" /> <button id="clear-search" class="clear-search-button" type="button" aria-label="Clear search" > <svg viewBox="0 0 24 24" width="16" height="16"> <path fill="none" stroke="currentColor" stroke-width="2" d="M6 6l12 12M6 18L18 6" /> </svg> </button> </div> </div> <div> <h2>Custom Components</h2> <p> <button id="open-builder-registry"></button> </p> </div> </header> <div class="section-content"> <div id="cmp-list" class="cmp-list nav-list"></div> </div> <div class="nav-loading-icon spinner"></div> <footer> <p class="info"> Expand on Builder's selection of built-in blocks by <a target="_blank" href="https://www.builder.io/c/docs/custom-components-intro" >registering components</a > from your codebase. This way, teammates can drag and drop your components within Builder's Visual Editor just like any other block. </p> </footer> </section> <section class="nav-cmp-detail"> <header> <button class="back-button" data-back="nav-cmp-list"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div> <h2 id="cmp-detail-title"></h2> <p> <button id="cmp-open-source"></button> </p> </div> </header> <div class="section-content"> <div id="cmp-error"></div> <label class="ui-switch"> <div> <h3>Register Component</h3> <p> Registers this component so it can be used within Builder Visual CMS </p> </div> <input type="checkbox" role="switch" id="cmp-register" /> <span class="switcher"></span> </label> <div id="cmp-detail"> <label class="ui-text-input"> <h3>Component Name</h3> <div class="input"> <input type="text" id="cmp-name" autocapitalize="off" autocorrect="off" spellcheck="false" autocomplete="off" minlength="2" maxlength="30" required placeholder="e.g. My Counter" /> </div> <p> Unique name to identify this custom component within Builder. Press ESC to cancel </p> </label> <div class="cmp-detail-inputs-container"> <h3> <span>Builder Inputs (Props)</span> <button class="cmp-detail-inputs-reload" id="btn-inputs-reload"> Reload </button> </h3> <div id="cmp-detail-inputs"></div> </div> </div> </div> <div class="cmp-cover"></div> <div class="cmp-loading-icon spinner"></div> </section> <section class="nav-cmp-input"> <header> <button class="back-button" data-back="nav-cmp-detail"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div> <h2 id="cmp-input-title"></h2> <p> <button id="input-open-source"></button> </p> </div> </header> <div class="section-content"> <label class="ui-switch"> <div> <h3>Enable Input</h3> <p>Add this component prop as a Builder input</p> </div> <input type="checkbox" role="switch" id="input-register" /> <span class="switcher"></span> </label> <div class="cmp-prop-info"> <div class="cmp-input-readonly"> <h3>Prop Name</h3> <span id="cmp-prop-name"></span> </div> <div class="cmp-input-readonly"> <h3>Prop Type</h3> <span id="cmp-prop-type"></span> </div> </div> <div class="cmp-input-detail"> <label class="ui-text-input"> <h3>Builder Input Name</h3> <div class="input"> <input type="text" id="input-name" autocapitalize="off" autocorrect="off" spellcheck="false" autocomplete="off" minlength="1" maxlength="30" required placeholder="e.g. Text" /> </div> <p> Friendly name to identify this component prop as a Builder input. Press ESC to cancel </p> </label> <label class="ui-select"> <h3>Builder Input Type</h3> <div class="select"> <select id="input-type"></select> </div> <p> Correlate to what editing UI is appropriate for this Builder input. <a href="https://www.builder.io/c/docs/custom-components-input-types" target="_blank" >Read more about input types.</a > </p> </label> </div> <div class="input-cover"></div> <div class="input-loading-icon spinner"></div> </div> </section> <section class="nav-settings"> <header> <button class="back-button"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div> <h2>Settings</h2> <p>Configure Builder's Devtools</p> </div> </header> <div class="section-content"> <label class="ui-switch"> <div> <h3>Enable edit button in UI</h3> <p>Enables the edit button so you can edit content in Builder</p> </div> <input type="checkbox" role="switch" id="enable-edit" /> <span class="switcher"></span> </label> </div> </section> <div class="ui-toast" id="toast"></div> </aside> <button class="menu-toggle" aria-label="Toggle Builder Devtools"> <div> <div class="highlight-bg"></div> <svg viewBox="0 0 31 36" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M31 9.96854C31.0016 11.4553 30.6701 12.9236 30.03 14.2654C29.3898 15.6072 28.4572 16.7884 27.3007 17.7221L0.702841 2.61812C0.601104 2.56012 0.506714 2.49008 0.421705 2.40951C0.288323 2.27871 0.182333 2.12263 0.109928 1.95039C0.0375215 1.77814 0.000151253 1.59319 0 1.40633C0 1.03335 0.148098 0.675643 0.411715 0.411905C0.675332 0.148167 1.03287 0 1.40568 0L21.036 0C23.6786 0 26.213 1.05025 28.0816 2.91972C29.9502 4.78918 31 7.32472 31 9.96854Z" fill="#18B4F4" /> <path d="M31 25.4757C31.0004 26.7849 30.7429 28.0815 30.2423 29.2912C29.7417 30.5009 29.0078 31.6001 28.0825 32.526C27.1572 33.4519 26.0587 34.1864 24.8497 34.6875C23.6406 35.1886 22.3448 35.4465 21.0361 35.4465H1.40573C1.12766 35.4436 0.856725 35.3581 0.627199 35.201C0.397672 35.044 0.219871 34.8223 0.116289 34.5641C0.0127078 34.3059 -0.011999 34.0228 0.0452946 33.7505C0.102588 33.4783 0.239308 33.2292 0.438156 33.0347C0.517415 32.9551 0.606358 32.8858 0.702893 32.8284L11.1705 26.8843L27.2984 17.7244C28.4548 18.6579 29.3874 19.8387 30.028 21.18C30.6685 22.5213 31.0007 23.9891 31 25.4757Z" fill="#FD6B3C" /> <path d="M27.3011 17.7221L11.1709 26.8843L0.703209 32.8284C0.602697 32.8843 0.509784 32.9528 0.426758 33.0323C4.41799 28.9369 6.6496 23.442 6.64456 17.7221C6.65208 12.0015 4.42111 6.50517 0.429101 2.40948C0.51411 2.49005 0.6085 2.56009 0.710237 2.61809L27.3011 17.7221Z" fill="#A97FF2" /> </svg> </div> </button>\`,Nr(e),Br(e),Ur(e),Ar(e),Dr(e),Fr(e),this.setAttribute("aria-hidden","true"),e.getElementById("version").textContent="v1.3.9"}highlightOpener(){let e=this.shadowRoot.querySelector(".menu-toggle");e.classList.add("menu-toggle-highlight"),e.classList.add("menu-toggle-highlight-no-transition"),setTimeout(()=>{e.classList.remove("menu-toggle-highlight-no-transition"),setTimeout(()=>{e.classList.remove("menu-toggle-highlight")},20)},20)}};var ki=\`<style>*,*:before,*:after{box-sizing:border-box}html,body,:host{position:fixed;top:0;left:0;width:100%;height:100vh;z-index:2147483646;margin:0;padding:0;line-height:1.8;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";background-color:#252525;color:#fff;transition:opacity .25s ease-in-out}:host([aria-hidden="true"]){opacity:0;pointer-events:none}main{position:absolute;top:0;left:0;width:100%;height:100vh}h1{margin-top:0;font-size:24px;font-weight:300;line-height:1.4}p{margin:20px 0;font-weight:300}button{cursor:pointer}aside{position:absolute;top:0;left:0;width:350px;height:100vh;padding:60px 0 0 50px;background-color:#121212}aside ul{margin:30px 0 0;padding:0;list-style:none}aside li{position:relative;margin:0;padding:20px 10px;font-weight:300}aside li.highlight{color:#48a1ff}aside li.active{font-weight:700}aside li .circle{position:absolute;top:20px;left:10px;width:24px;height:24px;border:3px solid white;border-radius:50%;font-size:14px}aside li.highlight .circle{border-color:#48a1ff}aside li.active .circle:after{content:"";position:absolute;top:3px;left:3px;width:12px;height:12px;border-radius:50%;background-color:#48a1ff}aside li.completed .circle{background-color:#48a1ff}aside li.completed .circle:after{content:"";position:absolute;top:2px;left:6px;width:6px;height:13px;border:3px solid black;border-top:none;border-left:none;transform:rotate(45deg)}aside li .line{position:absolute;top:44px;left:21px;width:3px;height:45px;background-color:#fff}aside li.completed .line{background-color:#48a1ff}aside li span{display:block;margin-left:44px}nav{margin-top:30px}section{position:absolute;top:135px;left:350px;padding:0 80px 0 140px;transition:opacity .15s ease-in-out}section[aria-hidden=true]{pointer-events:none;opacity:0}section h1,section p{min-width:300px;max-width:600px}.button{position:relative;display:inline-block;color:#fff;background-color:#48a1ff;border-radius:4px;text-decoration:none;padding:10px 40px 10px 20px;white-space:nowrap}.button:hover{background-color:#48a1ffd9}#button-icon{position:absolute;top:1px;right:5px;bottom:0;width:30px;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="none" stroke="white" stroke-linecap="square" stroke-miterlimit="10" stroke-width="48" d="M184 112l144 144-144 144"/></svg>');background-repeat:no-repeat;background-position:center;background-size:24px 24px}.button[aria-disabled=true]{opacity:.9;background-color:#ffffff4d;pointer-events:none;padding-right:60px}.button[aria-disabled=true] #button-icon{top:21px;right:29px;width:8px;height:8px;border-radius:4px;background:#fff;color:#fff;animation:dot-flashing .5s infinite linear alternate;animation-delay:.25s}.button[aria-disabled=true] #button-icon:before,.button[aria-disabled=true] #button-icon:after{content:"";display:inline-block;position:absolute;top:0}.button[aria-disabled=true] #button-icon:before{left:-12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:0s}.button[aria-disabled=true] #button-icon:after{left:12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:.5s}@keyframes dot-flashing{0%{background-color:#fff}50%,to{background-color:#ffffff4d}}.logo{margin-left:9px;background:url('data:image/svg+xml,<svg viewBox="0 0 150 32" fill="none" xmlns="http://www.w3.org/2000/svg" > <g clip-path="url(%23clip0_4_304)"> <path d="M27.9858 8.99927C27.9872 10.3415 27.688 11.667 27.1101 12.8783C26.5321 14.0896 25.6902 15.156 24.6462 15.9989V15.9989L0.634502 2.36355C0.542657 2.31119 0.457444 2.24796 0.380701 2.17523C0.260289 2.05715 0.164605 1.91624 0.0992389 1.76075C0.0338732 1.60525 0.000136546 1.43828 0 1.26959C0 0.932873 0.133698 0.609948 0.371683 0.371854C0.609667 0.13376 0.932443 0 1.269 0L18.9906 0C21.3763 0 23.6642 0.948135 25.3512 2.63583C27.0381 4.32352 27.9858 6.61252 27.9858 8.99927V8.99927Z" fill="%2318B4F4" /> <path d="M27.9858 22.9986C27.9861 24.1806 27.7536 25.351 27.3017 26.4431C26.8498 27.5352 26.1873 28.5275 25.352 29.3634C24.5167 30.1993 23.5249 30.8624 22.4335 31.3147C21.342 31.7671 20.1721 32 18.9907 32H1.26906C1.01802 31.9973 0.77343 31.9202 0.566221 31.7784C0.359012 31.6366 0.198499 31.4364 0.104989 31.2034C0.0114791 30.9703 -0.0108254 30.7147 0.0408974 30.4689C0.0926201 30.2231 0.216046 29.9982 0.395559 29.8226V29.8226C0.467112 29.7508 0.547407 29.6882 0.634555 29.6364L10.0844 24.2703L24.6441 16.001C25.688 16.8438 26.53 17.9097 27.1083 19.1206C27.6866 20.3315 27.9864 21.6566 27.9858 22.9986V22.9986Z" fill="%23FD6B3C" /> <path d="M24.6461 15.9989L10.0843 24.2703L0.634458 29.6365C0.54372 29.6868 0.459841 29.7487 0.384888 29.8205C3.98804 26.1233 6.00266 21.1627 5.99812 15.9989C6.0049 10.8346 3.99085 5.87268 0.387003 2.17523C0.463746 2.24796 0.548959 2.31119 0.640803 2.36355L24.6461 15.9989Z" fill="%23A97FF2" /> <path d="M47.6659 11.7352C51.8177 11.7352 54.1632 15.0531 54.1632 19.0714C54.1632 23.0896 51.8177 26.3821 47.6659 26.3821C45.5086 26.3821 43.8589 25.5188 42.9473 24.0545L42.5709 26.052H39.9736V6.77115H43.1884V13.8914C43.971 12.6959 45.5086 11.7352 47.6659 11.7352ZM47.0187 23.5488C49.4446 23.5488 50.9547 21.5809 50.9547 19.0714C50.9547 16.5089 49.4446 14.5664 47.0187 14.5664C44.5928 14.5664 43.0806 16.5047 43.0806 19.0714C43.0806 21.583 44.5653 23.5488 47.0187 23.5488V23.5488Z" fill="white" /> <path d="M65.4595 20.2859V12.0611H68.668V20.123C68.668 23.7202 67.0246 26.3821 62.4943 26.3821C57.9639 26.3821 56.3206 23.7117 56.3206 20.123V12.0611H59.529V20.2859C59.529 22.4696 60.5527 23.5488 62.49 23.5488C64.4274 23.5488 65.4595 22.4696 65.4595 20.2859Z" fill="white" /> <path d="M71.2355 7.74451C71.2247 7.46284 71.2724 7.18199 71.3755 6.91968C71.4787 6.65737 71.6351 6.41929 71.8348 6.22047C72.0345 6.02165 72.2732 5.8664 72.5359 5.76452C72.7986 5.66264 73.0796 5.61633 73.3611 5.62853C74.5793 5.62853 75.4571 6.50666 75.4571 7.75509C75.4571 9.00352 74.5793 9.8224 73.3611 9.8224C72.1428 9.8224 71.2355 8.9612 71.2355 7.74451Z" fill="white" /> <path d="M128.476 7.74451C128.465 7.46376 128.513 7.18383 128.615 6.92227C128.718 6.66071 128.873 6.42315 129.072 6.22449C129.27 6.02583 129.508 5.87035 129.769 5.7678C130.031 5.66524 130.31 5.61783 130.591 5.62852C131.809 5.62852 132.687 6.50666 132.687 7.75509C132.687 9.00352 131.809 9.8224 130.591 9.8224C129.373 9.8224 128.476 8.9612 128.476 7.74451Z" fill="white" /> <path d="M122.302 24.1031C122.291 23.8223 122.339 23.5422 122.441 23.2805C122.543 23.0188 122.699 22.7811 122.897 22.5824C123.096 22.3837 123.334 22.2282 123.595 22.1258C123.857 22.0233 124.137 21.9761 124.417 21.9872C125.636 21.9872 126.513 22.8653 126.513 24.1031C126.513 25.341 125.636 26.1726 124.417 26.1726C123.199 26.1726 122.302 25.3219 122.302 24.1031Z" fill="white" /> <path d="M74.9516 12.059H71.7432V26.0583H74.9516V12.059Z" fill="white" /> <path d="M78.16 26.0583V6.77115H81.3685V26.0626L78.16 26.0583Z" fill="white" /> <path d="M94.6063 6.77115H97.8148V26.0626H95.2239L94.8474 24.0651C93.9591 25.523 92.3094 26.3927 90.131 26.3927C86.0046 26.3927 83.6591 23.0748 83.6591 19.0819C83.6591 15.0891 86.0046 11.7458 90.131 11.7458C92.3137 11.7458 93.8238 12.7149 94.6063 13.902V6.77115ZM90.7993 14.5707C88.3734 14.5707 86.8633 16.5131 86.8633 19.0756C86.8633 21.5851 88.3734 23.553 90.7993 23.553C93.2252 23.553 94.7354 21.5851 94.7354 19.0756C94.7396 16.5047 93.257 14.5664 90.8036 14.5664L90.7993 14.5707Z" fill="white" /> <path d="M113.479 22.2284C112.482 24.7359 110.162 26.3821 107.117 26.3821C102.887 26.3821 100.137 23.225 100.137 19.0439C100.137 14.9706 102.942 11.7353 107.093 11.7353C111.245 11.7353 113.969 14.8902 113.969 18.991C113.982 19.3255 113.953 19.6604 113.883 19.9876H103.288C103.53 22.2009 104.959 23.6292 107.197 23.6292C108.735 23.6292 110.001 22.8738 110.594 21.473L113.479 22.2284ZM103.341 17.6156H110.784C110.513 15.6731 109.166 14.3506 107.089 14.3506C105.012 14.3506 103.665 15.7006 103.341 17.6156V17.6156Z" fill="white" /> <path d="M123.779 14.9452C123.538 14.9117 123.295 14.8933 123.051 14.8902C120.786 14.8902 119.439 16.0772 119.439 18.7751V26.0583H116.23V12.0611H118.821L119.195 14.0014C119.707 13.1127 120.887 11.9257 123.322 11.9257C123.455 11.9257 123.779 11.9532 123.779 11.9532V14.9452Z" fill="white" /> <path d="M132.192 12.059H128.984V26.0583H132.192V12.059Z" fill="white" /> <path d="M134.483 19.0714C134.483 15.1335 137.287 11.7353 141.735 11.7353C146.183 11.7353 149.015 15.1335 149.015 19.0714C149.015 23.0092 146.213 26.3821 141.735 26.3821C137.258 26.3821 134.483 23.0092 134.483 19.0714ZM141.735 23.5488C144.083 23.5488 145.806 21.7692 145.806 19.0714C145.806 16.3735 144.083 14.5664 141.735 14.5664C139.387 14.5664 137.687 16.346 137.687 19.0714C137.687 21.7968 139.417 23.5488 141.735 23.5488V23.5488Z" fill="white" /> </g> <defs> <clipPath id="clip0_4_304"> <rect width="149.015" height="32" fill="white" /> </clipPath> </defs> </svg>');background-repeat:no-repeat;width:150px;height:32px}@media (max-width: 840px){aside{width:250px;padding:60px 0 0 20px}section{left:250px;padding:0 80px}}@media (max-width: 590px){aside{width:230px;padding:60px 0 0 10px}section{left:230px;padding:0 40px}}#modified-files-message a{color:#cbcbcb;font-weight:300;text-decoration:underline}#modified-files-message a:hover{color:#fff;text-decoration:none}#restart-warning{border-radius:4px;padding:8px 16px;border:1px solid #fd6b3c;background:#fd6b3c1a}#react-router-steps{margin:0 0 5px;padding:0 20px}#need-help{color:#48a1ff;text-decoration:none}#router-message{border-radius:4px;padding:16px;border:1px solid #48a1ff}#router-finish-button{margin-top:12px}#router-checkbox-div{display:flex;align-items:center}#router-checkbox{margin-right:10px;width:15px;height:15px}#success-title{display:flex;align-items:center;gap:10px}#success-title .check-icon{display:inline-block;width:24px;height:24px;border:2px solid #28a745;border-radius:50%;position:relative}#success-title .check-icon:before{content:"";position:absolute;top:50%;left:50%;width:6px;height:12px;border:solid #28a745;border-width:0 2px 2px 0;transform:translate(-50%,-60%) rotate(45deg)}
</style>\`,dt=class extends HTMLElement{constructor(){super()}connectedCallback(){let e=this.attachShadow({mode:"open"});e.innerHTML=ki+\`<main>
  <aside>
    <div class="logo"></div>

    <ul>
      <li class="highlight active">
        <div class="circle"></div>
        <div class="line"></div>
        <span>Connect Builder.io</span>
      </li>
      <li>
        <div class="circle"></div>
        <div class="line"></div>
        <span>Update App</span>
      </li>
      <li>
        <div class="circle"></div>
        <span>Setup Complete</span>
      </li>
    </ul>
  </aside>

  <section>
    <h1>Integrate Builder.io with your project</h1>

    <p>
      First, let's connect to your Builder.io space to continue with the
      integration
    </p>

    <nav>
      <a class="button next-step" href="#">
        <span id="button-text">Get Started</span>
        <span id="button-icon"></span>
      </a>
    </nav>
  </section>
</main>
\`,Oi();let n=new URL(yn,Oe);n.searchParams.set(gn,location.href);let r=e.querySelectorAll(".next-step");for(let i of r)i.setAttribute("href",n.href);se("overview step viewed")}},Oi=()=>{let t=document.head.querySelector("link[rel='icon'], link[rel='icon shortcut']");t?(t.href="https://cdn.builder.io/favicon.ico",t.removeAttribute("type")):(t=document.createElement("link"),t.rel="icon",t.href="https://cdn.builder.io/favicon.ico",document.head.appendChild(t))};var Vr=async()=>{(await Tn()).isValid||Ui()},Ui=()=>{customElements.get("builder-dev-tools-overview")||customElements.define("builder-dev-tools-overview",dt);let t=document.querySelector("builder-dev-tools-overview");t||(t=document.createElement("builder-dev-tools-overview"),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),setTimeout(()=>{t.removeAttribute("aria-hidden")},32)};var Mi=()=>{try{customElements.get("builder-dev-tools-edit")||customElements.define("builder-dev-tools-edit",Ue),customElements.get("builder-dev-tools-menu")||customElements.define("builder-dev-tools-menu",lt);let t=document.querySelector("builder-dev-tools-menu");t||(t=document.createElement("builder-dev-tools-menu"),t.setAttribute("data-version","1.3.9"),document.body.appendChild(t));let e=document.querySelector("builder-dev-tools-edit");e||(e=document.createElement("builder-dev-tools-edit"),document.body.appendChild(e));let n=document.getElementById("builder-dev-tools-style");n||(n=document.createElement("style"),n.id="builder-dev-tools-style",n.innerHTML=".builder-no-scroll{overflow:hidden !important}",document.head.appendChild(n)),Vr(),Pr()}catch(t){console.error("Builder Devtools:",t)}};window.location===window.parent.location&&(console.debug("Builder.io Devtools v1.3.9"),Mi());})();`)}async function OA(e){return RA(e,`<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <script>
      (function (window) {
        if (window.location !== window.top.location) {
          window.top.location = window.location;
        }
      })(this);
    </script>
    <title>Successfully Connected With Builder.io</title>
    <style>*,*:before,*:after{box-sizing:border-box}html,body,:host{position:fixed;top:0;left:0;width:100%;height:100vh;z-index:2147483646;margin:0;padding:0;line-height:1.8;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";background-color:#252525;color:#fff;transition:opacity .25s ease-in-out}:host([aria-hidden="true"]){opacity:0;pointer-events:none}main{position:absolute;top:0;left:0;width:100%;height:100vh}h1{margin-top:0;font-size:24px;font-weight:300;line-height:1.4}p{margin:20px 0;font-weight:300}button{cursor:pointer}aside{position:absolute;top:0;left:0;width:350px;height:100vh;padding:60px 0 0 50px;background-color:#121212}aside ul{margin:30px 0 0;padding:0;list-style:none}aside li{position:relative;margin:0;padding:20px 10px;font-weight:300}aside li.highlight{color:#48a1ff}aside li.active{font-weight:700}aside li .circle{position:absolute;top:20px;left:10px;width:24px;height:24px;border:3px solid white;border-radius:50%;font-size:14px}aside li.highlight .circle{border-color:#48a1ff}aside li.active .circle:after{content:"";position:absolute;top:3px;left:3px;width:12px;height:12px;border-radius:50%;background-color:#48a1ff}aside li.completed .circle{background-color:#48a1ff}aside li.completed .circle:after{content:"";position:absolute;top:2px;left:6px;width:6px;height:13px;border:3px solid black;border-top:none;border-left:none;transform:rotate(45deg)}aside li .line{position:absolute;top:44px;left:21px;width:3px;height:45px;background-color:#fff}aside li.completed .line{background-color:#48a1ff}aside li span{display:block;margin-left:44px}nav{margin-top:30px}section{position:absolute;top:135px;left:350px;padding:0 80px 0 140px;transition:opacity .15s ease-in-out}section[aria-hidden=true]{pointer-events:none;opacity:0}section h1,section p{min-width:300px;max-width:600px}.button{position:relative;display:inline-block;color:#fff;background-color:#48a1ff;border-radius:4px;text-decoration:none;padding:10px 40px 10px 20px;white-space:nowrap}.button:hover{background-color:#48a1ffd9}#button-icon{position:absolute;top:1px;right:5px;bottom:0;width:30px;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="none" stroke="white" stroke-linecap="square" stroke-miterlimit="10" stroke-width="48" d="M184 112l144 144-144 144"/></svg>');background-repeat:no-repeat;background-position:center;background-size:24px 24px}.button[aria-disabled=true]{opacity:.9;background-color:#ffffff4d;pointer-events:none;padding-right:60px}.button[aria-disabled=true] #button-icon{top:21px;right:29px;width:8px;height:8px;border-radius:4px;background:#fff;color:#fff;animation:dot-flashing .5s infinite linear alternate;animation-delay:.25s}.button[aria-disabled=true] #button-icon:before,.button[aria-disabled=true] #button-icon:after{content:"";display:inline-block;position:absolute;top:0}.button[aria-disabled=true] #button-icon:before{left:-12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:0s}.button[aria-disabled=true] #button-icon:after{left:12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:.5s}@keyframes dot-flashing{0%{background-color:#fff}50%,to{background-color:#ffffff4d}}.logo{margin-left:9px;background:url('data:image/svg+xml,<svg viewBox="0 0 150 32" fill="none" xmlns="http://www.w3.org/2000/svg" > <g clip-path="url(%23clip0_4_304)"> <path d="M27.9858 8.99927C27.9872 10.3415 27.688 11.667 27.1101 12.8783C26.5321 14.0896 25.6902 15.156 24.6462 15.9989V15.9989L0.634502 2.36355C0.542657 2.31119 0.457444 2.24796 0.380701 2.17523C0.260289 2.05715 0.164605 1.91624 0.0992389 1.76075C0.0338732 1.60525 0.000136546 1.43828 0 1.26959C0 0.932873 0.133698 0.609948 0.371683 0.371854C0.609667 0.13376 0.932443 0 1.269 0L18.9906 0C21.3763 0 23.6642 0.948135 25.3512 2.63583C27.0381 4.32352 27.9858 6.61252 27.9858 8.99927V8.99927Z" fill="%2318B4F4" /> <path d="M27.9858 22.9986C27.9861 24.1806 27.7536 25.351 27.3017 26.4431C26.8498 27.5352 26.1873 28.5275 25.352 29.3634C24.5167 30.1993 23.5249 30.8624 22.4335 31.3147C21.342 31.7671 20.1721 32 18.9907 32H1.26906C1.01802 31.9973 0.77343 31.9202 0.566221 31.7784C0.359012 31.6366 0.198499 31.4364 0.104989 31.2034C0.0114791 30.9703 -0.0108254 30.7147 0.0408974 30.4689C0.0926201 30.2231 0.216046 29.9982 0.395559 29.8226V29.8226C0.467112 29.7508 0.547407 29.6882 0.634555 29.6364L10.0844 24.2703L24.6441 16.001C25.688 16.8438 26.53 17.9097 27.1083 19.1206C27.6866 20.3315 27.9864 21.6566 27.9858 22.9986V22.9986Z" fill="%23FD6B3C" /> <path d="M24.6461 15.9989L10.0843 24.2703L0.634458 29.6365C0.54372 29.6868 0.459841 29.7487 0.384888 29.8205C3.98804 26.1233 6.00266 21.1627 5.99812 15.9989C6.0049 10.8346 3.99085 5.87268 0.387003 2.17523C0.463746 2.24796 0.548959 2.31119 0.640803 2.36355L24.6461 15.9989Z" fill="%23A97FF2" /> <path d="M47.6659 11.7352C51.8177 11.7352 54.1632 15.0531 54.1632 19.0714C54.1632 23.0896 51.8177 26.3821 47.6659 26.3821C45.5086 26.3821 43.8589 25.5188 42.9473 24.0545L42.5709 26.052H39.9736V6.77115H43.1884V13.8914C43.971 12.6959 45.5086 11.7352 47.6659 11.7352ZM47.0187 23.5488C49.4446 23.5488 50.9547 21.5809 50.9547 19.0714C50.9547 16.5089 49.4446 14.5664 47.0187 14.5664C44.5928 14.5664 43.0806 16.5047 43.0806 19.0714C43.0806 21.583 44.5653 23.5488 47.0187 23.5488V23.5488Z" fill="white" /> <path d="M65.4595 20.2859V12.0611H68.668V20.123C68.668 23.7202 67.0246 26.3821 62.4943 26.3821C57.9639 26.3821 56.3206 23.7117 56.3206 20.123V12.0611H59.529V20.2859C59.529 22.4696 60.5527 23.5488 62.49 23.5488C64.4274 23.5488 65.4595 22.4696 65.4595 20.2859Z" fill="white" /> <path d="M71.2355 7.74451C71.2247 7.46284 71.2724 7.18199 71.3755 6.91968C71.4787 6.65737 71.6351 6.41929 71.8348 6.22047C72.0345 6.02165 72.2732 5.8664 72.5359 5.76452C72.7986 5.66264 73.0796 5.61633 73.3611 5.62853C74.5793 5.62853 75.4571 6.50666 75.4571 7.75509C75.4571 9.00352 74.5793 9.8224 73.3611 9.8224C72.1428 9.8224 71.2355 8.9612 71.2355 7.74451Z" fill="white" /> <path d="M128.476 7.74451C128.465 7.46376 128.513 7.18383 128.615 6.92227C128.718 6.66071 128.873 6.42315 129.072 6.22449C129.27 6.02583 129.508 5.87035 129.769 5.7678C130.031 5.66524 130.31 5.61783 130.591 5.62852C131.809 5.62852 132.687 6.50666 132.687 7.75509C132.687 9.00352 131.809 9.8224 130.591 9.8224C129.373 9.8224 128.476 8.9612 128.476 7.74451Z" fill="white" /> <path d="M122.302 24.1031C122.291 23.8223 122.339 23.5422 122.441 23.2805C122.543 23.0188 122.699 22.7811 122.897 22.5824C123.096 22.3837 123.334 22.2282 123.595 22.1258C123.857 22.0233 124.137 21.9761 124.417 21.9872C125.636 21.9872 126.513 22.8653 126.513 24.1031C126.513 25.341 125.636 26.1726 124.417 26.1726C123.199 26.1726 122.302 25.3219 122.302 24.1031Z" fill="white" /> <path d="M74.9516 12.059H71.7432V26.0583H74.9516V12.059Z" fill="white" /> <path d="M78.16 26.0583V6.77115H81.3685V26.0626L78.16 26.0583Z" fill="white" /> <path d="M94.6063 6.77115H97.8148V26.0626H95.2239L94.8474 24.0651C93.9591 25.523 92.3094 26.3927 90.131 26.3927C86.0046 26.3927 83.6591 23.0748 83.6591 19.0819C83.6591 15.0891 86.0046 11.7458 90.131 11.7458C92.3137 11.7458 93.8238 12.7149 94.6063 13.902V6.77115ZM90.7993 14.5707C88.3734 14.5707 86.8633 16.5131 86.8633 19.0756C86.8633 21.5851 88.3734 23.553 90.7993 23.553C93.2252 23.553 94.7354 21.5851 94.7354 19.0756C94.7396 16.5047 93.257 14.5664 90.8036 14.5664L90.7993 14.5707Z" fill="white" /> <path d="M113.479 22.2284C112.482 24.7359 110.162 26.3821 107.117 26.3821C102.887 26.3821 100.137 23.225 100.137 19.0439C100.137 14.9706 102.942 11.7353 107.093 11.7353C111.245 11.7353 113.969 14.8902 113.969 18.991C113.982 19.3255 113.953 19.6604 113.883 19.9876H103.288C103.53 22.2009 104.959 23.6292 107.197 23.6292C108.735 23.6292 110.001 22.8738 110.594 21.473L113.479 22.2284ZM103.341 17.6156H110.784C110.513 15.6731 109.166 14.3506 107.089 14.3506C105.012 14.3506 103.665 15.7006 103.341 17.6156V17.6156Z" fill="white" /> <path d="M123.779 14.9452C123.538 14.9117 123.295 14.8933 123.051 14.8902C120.786 14.8902 119.439 16.0772 119.439 18.7751V26.0583H116.23V12.0611H118.821L119.195 14.0014C119.707 13.1127 120.887 11.9257 123.322 11.9257C123.455 11.9257 123.779 11.9532 123.779 11.9532V14.9452Z" fill="white" /> <path d="M132.192 12.059H128.984V26.0583H132.192V12.059Z" fill="white" /> <path d="M134.483 19.0714C134.483 15.1335 137.287 11.7353 141.735 11.7353C146.183 11.7353 149.015 15.1335 149.015 19.0714C149.015 23.0092 146.213 26.3821 141.735 26.3821C137.258 26.3821 134.483 23.0092 134.483 19.0714ZM141.735 23.5488C144.083 23.5488 145.806 21.7692 145.806 19.0714C145.806 16.3735 144.083 14.5664 141.735 14.5664C139.387 14.5664 137.687 16.346 137.687 19.0714C137.687 21.7968 139.417 23.5488 141.735 23.5488V23.5488Z" fill="white" /> </g> <defs> <clipPath id="clip0_4_304"> <rect width="149.015" height="32" fill="white" /> </clipPath> </defs> </svg>');background-repeat:no-repeat;width:150px;height:32px}@media (max-width: 840px){aside{width:250px;padding:60px 0 0 20px}section{left:250px;padding:0 80px}}@media (max-width: 590px){aside{width:230px;padding:60px 0 0 10px}section{left:230px;padding:0 40px}}#modified-files-message a{color:#cbcbcb;font-weight:300;text-decoration:underline}#modified-files-message a:hover{color:#fff;text-decoration:none}#restart-warning{border-radius:4px;padding:8px 16px;border:1px solid #fd6b3c;background:#fd6b3c1a}#react-router-steps{margin:0 0 5px;padding:0 20px}#need-help{color:#48a1ff;text-decoration:none}#router-message{border-radius:4px;padding:16px;border:1px solid #48a1ff}#router-finish-button{margin-top:12px}#router-checkbox-div{display:flex;align-items:center}#router-checkbox{margin-right:10px;width:15px;height:15px}#success-title{display:flex;align-items:center;gap:10px}#success-title .check-icon{display:inline-block;width:24px;height:24px;border:2px solid #28a745;border-radius:50%;position:relative}#success-title .check-icon:before{content:"";position:absolute;top:50%;left:50%;width:6px;height:12px;border:solid #28a745;border-width:0 2px 2px 0;transform:translate(-50%,-60%) rotate(45deg)}
</style>
    <link rel="icon shortcut" href="https://cdn.builder.io/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <main>
      <aside>
        <div class="logo"></div>

        <ul>
          <li class="highlight completed">
            <div class="circle"></div>
            <div class="line"></div>
            <span>Connect Builder.io</span>
          </li>
          <li id="step-update-app" class="highlight active">
            <div class="circle"></div>
            <div class="line"></div>
            <span>Update App</span>
          </li>
          <li id="step-setup-complete">
            <div class="circle"></div>
            <span>Setup Complete</span>
          </li>
        </ul>
      </aside>

      <section id="updating" aria-hidden="false">
        <h1>Updating App to include Builder.io</h1>
        <p>
          We're making some updates so Builder can be used within this
          project.<br />
          This usually takes less than a minute to complete.
        </p>

        <nav>
          <p>
            <a id="completing" class="button" aria-disabled="true" href="#">
              <span id="button-text">Updating</span>
              <span id="button-icon"></span>
            </a>
          </p>
        </nav>
      </section>

      <section id="success" aria-hidden="true">
        <h1 id="success-title">
          Connection Successful
          <div class="check-icon"></div>
        </h1>

        <p>
          Your project is now ready to work with Builder! You can close this tab
          and return to Builder or your development project to continue.
        </p>

        <div id="modified-files-message" hidden>
          <p>
            We've made a few updates to your app to help integrate Builder.io:
          </p>
          <ul id="modified-files-list"></ul>
        </div>

        <p id="restart-warning" hidden>
          Please restart the dev server to ensure the changes take effect, then
          reload this page.
        </p>

        <div id="router-message" hidden>
          <!-- Route message for react -->
          <div id="react-message-section" hidden>
            <span
              >Next, add the following path and component in your React app
              routing setup</span
            >
            <ol id="react-router-steps">
              <li>
                Update path to <strong>'/builder-demo'</strong> or
                <strong>'/*'</strong>
              </li>
              <li>
                Add <strong>'BuilderPage'</strong> component from
                <code>builder-page</code> file
              </li>
            </ol>
          </div>

          <!-- Route message for angular -->
          <div id="angular-message-section" hidden>
            <span
              >Next, add the following path for Builder page in your Angular
              routes</span
            >
            <ol id="angular-router-steps">
              <li>
                Update path to <strong>'builder-demo'</strong> or
                <strong>'**'</strong>
              </li>
              <li>
                Add <strong>'BuilderPage'</strong> component from
                <code>builder-page.component</code> file
              </li>
            </ol>
          </div>

          <a id="need-help" href="#" hidden>
            <span id="help-text">Need help?</span>
            <span id="help-icon"></span>
          </a>
          <div id="router-checkbox-div"></div>
        </div>
        <div id="router-finish-button" hidden>
          <a class="button next-step" href="#">
            <span id="button-text">Finish</span>
            <span id="button-icon"></span>
          </a>
        </div>

        <nav id="go-to-app" hidden>
          <p hidden>Your new app is ready for Builder content! Let's go!</p>
          <p>
            <a class="button next-step" href="#">
              <span id="button-text">Go</span>
              <span id="button-icon"></span>
            </a>
          </p>
        </nav>
      </section>

      <section id="error" aria-hidden="true">
        <h1>Oops!</h1>
        <p>Looks like we tripped up on an issue!</p>
        <ul id="error-messages"></ul>
      </section>

      <section id="restart-server" aria-hidden="true">
        <h1>Please Restart Your Dev Server</h1>
        <p>
          We've made updates to your application, please restart your dev server
          to ensure the changes take effect.
        </p>
        <p>
          <a id="completing" class="button" aria-disabled="true" href="#">
            <span id="button-text">Please restart your dev server</span>
            <span id="button-icon"></span>
          </a>
        </p>
      </section>
    </main>
    <script>"use strict";(()=>{var Ft=\`api-key\`;var Vt=\`p-key\`;var We=\`preview-url\`;var $e=\`user-id\`;var Bt="_b-uid";var qt=\`framework\`;var jt=\`platform\`;var Gt=\`node\`;var Kt="/~builder-dev-tools";var Qt=\`kind\`;var Wt="__DEV_TOOLS_URL__";var $t=(t,e,r)=>He({type:"connectBuilder",data:{publicApiKey:t,privateAuthKey:e,kind:r}});var Ht=()=>He({type:"validateBuilder"});var Yt=t=>He({type:"launchEditor",data:t});var He=async t=>{const e=new URL(Kt,Wt);let r;try{r=await fetch(e,{method:"POST",body:JSON.stringify(t)})}catch(i){console.error(\`Devtools Fetch Error, \${e.href}\`,i);throw new Error(\`Builder Devtools Fetch Error\`)}const n=r.headers.get("content-type")||"";if(n.includes("application/json")){const i=await r.json();if(r.ok){return i.data}if(Array.isArray(i.errors)&&i.errors.length>0){i.errors.forEach(o=>console.error(o));throw new Error(\`Builder Devtools Fetch Error: \${i.errors[0]}\`)}}throw new Error(\`Builder Devtools Fetch Error: \${r.status}, \${await r.text()}\`)};var Ye=function(t,e){Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))r[i]=n[i]};return Ye(t,e)};function V(t,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ye(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var m=function(){m=Object.assign||function t(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o))e[o]=r[o]}return e};return m.apply(this,arguments)};function de(t,e){var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0)r[n]=t[n];if(t!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++){if(e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i]))r[n[i]]=t[n[i]]}return r}function f(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(c){try{s(n.next(c))}catch(d){a(d)}}function u(c){try{s(n["throw"](c))}catch(d){a(d)}}function s(c){c.done?o(c.value):i(c.value).then(l,u)}s((n=n.apply(t,e||[])).next())})}function p(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),"throw":l(1),"return":l(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(s){return function(c){return u([s,c])}}function u(s){if(n)throw new TypeError("Generator is already executing.");while(a&&(a=0,s[0]&&(r=0)),r)try{if(n=1,i&&(o=s[0]&2?i["return"]:s[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;if(i=0,o)s=[s[0]&2,o.value];switch(s[0]){case 0:case 1:o=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;i=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(s[0]===6&&r.label<o[1]){r.label=o[1];o=s;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(s);break}if(o[2])r.ops.pop();r.trys.pop();continue}s=e.call(t,r)}catch(c){s=[6,c];i=0}finally{n=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}}function G(t){var e=typeof Symbol==="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length==="number")return{next:function(){if(t&&n>=t.length)t=void 0;return{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(t,e){var r=typeof Symbol==="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],a;try{while((e===void 0||e-- >0)&&!(i=n.next()).done)o.push(i.value)}catch(l){a={error:l}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return o}function q(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++){if(o||!(n in e)){if(!o)o=Array.prototype.slice.call(e,0,n);o[n]=e[n]}}return t.concat(o||Array.prototype.slice.call(e))}var Xt="Event tracked successfully";var zt="Unexpected error occurred";var Zt="Event rejected due to exceeded retry count";var Jt="Event skipped due to optOut config";var er="Event rejected due to missing API key";var tr="Invalid API key";var rr="Client not initialized";var D;(function(t){t["SET"]="$set";t["SET_ONCE"]="$setOnce";t["ADD"]="$add";t["APPEND"]="$append";t["PREPEND"]="$prepend";t["REMOVE"]="$remove";t["PREINSERT"]="$preInsert";t["POSTINSERT"]="$postInsert";t["UNSET"]="$unset";t["CLEAR_ALL"]="$clearAll"})(D||(D={}));var W;(function(t){t["REVENUE_PRODUCT_ID"]="$productId";t["REVENUE_QUANTITY"]="$quantity";t["REVENUE_PRICE"]="$price";t["REVENUE_TYPE"]="$revenueType";t["REVENUE"]="$revenue"})(W||(W={}));var X;(function(t){t["IDENTIFY"]="$identify";t["GROUP_IDENTIFY"]="$groupidentify";t["REVENUE"]="revenue_amount"})(X||(X={}));var U;(function(t){t[t["None"]=0]="None";t[t["Error"]=1]="Error";t[t["Warn"]=2]="Warn";t[t["Verbose"]=3]="Verbose";t[t["Debug"]=4]="Debug"})(U||(U={}));var P;(function(t){t["Unknown"]="unknown";t["Skipped"]="skipped";t["Success"]="success";t["RateLimit"]="rate_limit";t["PayloadTooLarge"]="payload_too_large";t["Invalid"]="invalid";t["Failed"]="failed";t["Timeout"]="Timeout";t["SystemError"]="SystemError"})(P||(P={}));var Xe=null;var $=function(t,e,r){if(e===void 0){e=0}if(r===void 0){r=P.Unknown}return{event:t,code:e,message:r}};var K=function(t){return t?(t^Math.random()*16>>t/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,K)};var nr=function(){function t(e){this.client=e;this.queue=[];this.applying=false;this.plugins=[]}t.prototype.register=function(e,r){var n,i,o;return f(this,void 0,void 0,function(){return p(this,function(a){switch(a.label){case 0:e.name=(n=e.name)!==null&&n!==void 0?n:K();e.type=(i=e.type)!==null&&i!==void 0?i:"enrichment";return[4,(o=e.setup)===null||o===void 0?void 0:o.call(e,r,this.client)];case 1:a.sent();this.plugins.push(e);return[2]}})})};t.prototype.deregister=function(e){var r;return f(this,void 0,void 0,function(){var n,i;return p(this,function(o){switch(o.label){case 0:n=this.plugins.findIndex(function(a){return a.name===e});i=this.plugins[n];this.plugins.splice(n,1);return[4,(r=i.teardown)===null||r===void 0?void 0:r.call(i)];case 1:o.sent();return[2]}})})};t.prototype.reset=function(e){this.applying=false;var r=this.plugins;r.map(function(n){var i;return(i=n.teardown)===null||i===void 0?void 0:i.call(n)});this.plugins=[];this.client=e};t.prototype.push=function(e){var r=this;return new Promise(function(n){r.queue.push([e,n]);r.scheduleApply(0)})};t.prototype.scheduleApply=function(e){var r=this;if(this.applying)return;this.applying=true;setTimeout(function(){void r.apply(r.queue.shift()).then(function(){r.applying=false;if(r.queue.length>0){r.scheduleApply(0)}})},e)};t.prototype.apply=function(e){return f(this,void 0,void 0,function(){var r,n,i,o,a,l,u,y,h,s,c,d,v,y,h,E,g,_;var S,I,O,F;return p(this,function(T){switch(T.label){case 0:if(!e){return[2]}r=x(e,1),n=r[0];i=x(e,2),o=i[1];a=this.plugins.filter(function(w){return w.type==="before"});T.label=1;case 1:T.trys.push([1,6,7,8]);l=G(a),u=l.next();T.label=2;case 2:if(!!u.done)return[3,5];y=u.value;if(!y.execute){return[3,4]}return[4,y.execute(m({},n))];case 3:h=T.sent();if(h===null){o({event:n,code:0,message:""});return[2]}else{n=h}T.label=4;case 4:u=l.next();return[3,2];case 5:return[3,8];case 6:s=T.sent();S={error:s};return[3,8];case 7:try{if(u&&!u.done&&(I=l.return))I.call(l)}finally{if(S)throw S.error}return[7];case 8:c=this.plugins.filter(function(w){return w.type==="enrichment"||w.type===void 0});T.label=9;case 9:T.trys.push([9,14,15,16]);d=G(c),v=d.next();T.label=10;case 10:if(!!v.done)return[3,13];y=v.value;if(!y.execute){return[3,12]}return[4,y.execute(m({},n))];case 11:h=T.sent();if(h===null){o({event:n,code:0,message:""});return[2]}else{n=h}T.label=12;case 12:v=d.next();return[3,10];case 13:return[3,16];case 14:E=T.sent();O={error:E};return[3,16];case 15:try{if(v&&!v.done&&(F=d.return))F.call(d)}finally{if(O)throw O.error}return[7];case 16:g=this.plugins.filter(function(w){return w.type==="destination"});_=g.map(function(w){var k=m({},n);return w.execute(k).catch(function(M){return $(k,0,String(M))})});void Promise.all(_).then(function(w){var k=x(w,1),M=k[0];var Q=M||$(n,100,"Event not tracked, no destination plugins on the instance");o(Q)});return[2]}})})};t.prototype.flush=function(){return f(this,void 0,void 0,function(){var e,r,n;var i=this;return p(this,function(o){switch(o.label){case 0:e=this.queue;this.queue=[];return[4,Promise.all(e.map(function(a){return i.apply(a)}))];case 1:o.sent();r=this.plugins.filter(function(a){return a.type==="destination"});n=r.map(function(a){return a.flush&&a.flush()});return[4,Promise.all(n)];case 2:o.sent();return[2]}})})};return t}();var ze="-";var re="AMP";var Ze="".concat(re,"_unsent");var Je="https://api2.amplitude.com/2/httpapi";var ir="https://api.eu.amplitude.com/2/httpapi";var or="https://api2.amplitude.com/batch";var ar="https://api.eu.amplitude.com/batch";var Xr=1e3;var be=function(t){if(Object.keys(t).length>Xr){return false}for(var e in t){var r=t[e];if(!et(e,r))return false}return true};var et=function(t,e){var r,n;if(typeof t!=="string")return false;if(Array.isArray(e)){var i=true;try{for(var o=G(e),a=o.next();!a.done;a=o.next()){var l=a.value;if(Array.isArray(l)){return false}else if(typeof l==="object"){i=i&&be(l)}else if(!["number","string"].includes(typeof l)){return false}if(!i){return false}}}catch(u){r={error:u}}finally{try{if(a&&!a.done&&(n=o.return))n.call(o)}finally{if(r)throw r.error}}}else if(e===null||e===void 0){return false}else if(typeof e==="object"){return be(e)}else if(!["number","string","boolean"].includes(typeof e)){return false}return true};var z=function(){function t(){this._propertySet=new Set;this._properties={}}t.prototype.getUserProperties=function(){return m({},this._properties)};t.prototype.set=function(e,r){this._safeSet(D.SET,e,r);return this};t.prototype.setOnce=function(e,r){this._safeSet(D.SET_ONCE,e,r);return this};t.prototype.append=function(e,r){this._safeSet(D.APPEND,e,r);return this};t.prototype.prepend=function(e,r){this._safeSet(D.PREPEND,e,r);return this};t.prototype.postInsert=function(e,r){this._safeSet(D.POSTINSERT,e,r);return this};t.prototype.preInsert=function(e,r){this._safeSet(D.PREINSERT,e,r);return this};t.prototype.remove=function(e,r){this._safeSet(D.REMOVE,e,r);return this};t.prototype.add=function(e,r){this._safeSet(D.ADD,e,r);return this};t.prototype.unset=function(e){this._safeSet(D.UNSET,e,ze);return this};t.prototype.clearAll=function(){this._properties={};this._properties[D.CLEAR_ALL]=ze;return this};t.prototype._safeSet=function(e,r,n){if(this._validate(e,r,n)){var i=this._properties[e];if(i===void 0){i={};this._properties[e]=i}i[r]=n;this._propertySet.add(r);return true}return false};t.prototype._validate=function(e,r,n){if(this._properties[D.CLEAR_ALL]!==void 0){return false}if(this._propertySet.has(r)){return false}if(e===D.ADD){return typeof n==="number"}if(e!==D.UNSET&&e!==D.REMOVE){return et(r,n)}return true};return t}();var sr=function(t,e,r){var n=typeof t==="string"?{event_type:t}:t;return m(m(m({},n),r),e&&{event_properties:e})};var fe=function(t,e){var r=m(m({},e),{event_type:X.IDENTIFY,user_properties:t.getUserProperties()});return r};var ur=function(t,e,r,n){var i;var o=m(m({},n),{event_type:X.GROUP_IDENTIFY,group_properties:r.getUserProperties(),groups:(i={},i[t]=e,i)});return o};var cr=function(t,e,r){var n;var i=new z;i.set(t,e);var o=m(m({},r),{event_type:X.IDENTIFY,user_properties:i.getUserProperties(),groups:(n={},n[t]=e,n)});return o};var lr=function(t,e){return m(m({},e),{event_type:X.REVENUE,event_properties:t.getEventProperties()})};var B=function(t){return{promise:t||Promise.resolve()}};var tt=function(){function t(e){if(e===void 0){e="$default"}this.initializing=false;this.q=[];this.dispatchQ=[];this.logEvent=this.track.bind(this);this.timeline=new nr(this);this.name=e}t.prototype._init=function(e){return f(this,void 0,void 0,function(){return p(this,function(r){switch(r.label){case 0:this.config=e;this.timeline.reset(this);return[4,this.runQueuedFunctions("q")];case 1:r.sent();return[2]}})})};t.prototype.runQueuedFunctions=function(e){return f(this,void 0,void 0,function(){var r,n,i,o,a;var l,u;return p(this,function(s){switch(s.label){case 0:r=this[e];this[e]=[];s.label=1;case 1:s.trys.push([1,6,7,8]);n=G(r),i=n.next();s.label=2;case 2:if(!!i.done)return[3,5];o=i.value;return[4,o()];case 3:s.sent();s.label=4;case 4:i=n.next();return[3,2];case 5:return[3,8];case 6:a=s.sent();l={error:a};return[3,8];case 7:try{if(i&&!i.done&&(u=n.return))u.call(n)}finally{if(l)throw l.error}return[7];case 8:return[2]}})})};t.prototype.track=function(e,r,n){var i=sr(e,r,n);return B(this.dispatch(i))};t.prototype.identify=function(e,r){var n=fe(e,r);return B(this.dispatch(n))};t.prototype.groupIdentify=function(e,r,n,i){var o=ur(e,r,n,i);return B(this.dispatch(o))};t.prototype.setGroup=function(e,r,n){var i=cr(e,r,n);return B(this.dispatch(i))};t.prototype.revenue=function(e,r){var n=lr(e,r);return B(this.dispatch(n))};t.prototype.add=function(e){if(!this.config){this.q.push(this.add.bind(this,e));return B()}return B(this.timeline.register(e,this.config))};t.prototype.remove=function(e){if(!this.config){this.q.push(this.remove.bind(this,e));return B()}return B(this.timeline.deregister(e))};t.prototype.dispatchWithCallback=function(e,r){if(!this.config){return r($(e,0,rr))}void this.process(e).then(r)};t.prototype.dispatch=function(e){return f(this,void 0,void 0,function(){var r=this;return p(this,function(n){if(!this.config){return[2,new Promise(function(i){r.dispatchQ.push(r.dispatchWithCallback.bind(r,e,i))})]}return[2,this.process(e)]})})};t.prototype.process=function(e){return f(this,void 0,void 0,function(){var i,r,n,i;return p(this,function(o){switch(o.label){case 0:o.trys.push([0,2,,3]);if(this.config.optOut){return[2,$(e,0,Jt)]}return[4,this.timeline.push(e)];case 1:i=o.sent();i.code===200?this.config.loggerProvider.log(i.message):i.code===100?this.config.loggerProvider.warn(i.message):this.config.loggerProvider.error(i.message);return[2,i];case 2:r=o.sent();n=String(r);this.config.loggerProvider.error(n);i=$(e,0,n);return[2,i];case 3:return[2]}})})};t.prototype.setOptOut=function(e){if(!this.config){this.q.push(this.setOptOut.bind(this,Boolean(e)));return}this.config.optOut=Boolean(e)};t.prototype.flush=function(){return B(this.timeline.flush())};return t}();var rt=function(){function t(){this.productId="";this.quantity=1;this.price=0}t.prototype.setProductId=function(e){this.productId=e;return this};t.prototype.setQuantity=function(e){if(e>0){this.quantity=e}return this};t.prototype.setPrice=function(e){this.price=e;return this};t.prototype.setRevenueType=function(e){this.revenueType=e;return this};t.prototype.setRevenue=function(e){this.revenue=e;return this};t.prototype.setEventProperties=function(e){if(be(e)){this.properties=e}return this};t.prototype.getEventProperties=function(){var e=this.properties?m({},this.properties):{};e[W.REVENUE_PRODUCT_ID]=this.productId;e[W.REVENUE_QUANTITY]=this.quantity;e[W.REVENUE_PRICE]=this.price;e[W.REVENUE_TYPE]=this.revenueType;e[W.REVENUE]=this.revenue;return e};return t}();var dr=function(t,e){var r=Math.max(e,1);return t.reduce(function(n,i,o){var a=Math.floor(o/r);if(!n[a]){n[a]=[]}n[a].push(i);return n},[])};var Ie="Amplitude Logger ";var pe=function(){function t(){this.logLevel=U.None}t.prototype.disable=function(){this.logLevel=U.None};t.prototype.enable=function(e){if(e===void 0){e=U.Warn}this.logLevel=e};t.prototype.log=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<U.Verbose){return}console.log("".concat(Ie,"[Log]: ").concat(e.join(" ")))};t.prototype.warn=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<U.Warn){return}console.warn("".concat(Ie,"[Warn]: ").concat(e.join(" ")))};t.prototype.error=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<U.Error){return}console.error("".concat(Ie,"[Error]: ").concat(e.join(" ")))};t.prototype.debug=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<U.Debug){return}console.log("".concat(Ie,"[Debug]: ").concat(e.join(" ")))};return t}();var Se=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:U.Warn,loggerProvider:new pe,offline:false,optOut:false,serverUrl:Je,serverZone:"US",useBatch:false}};var nt=function(){function t(e){var r,n,i,o;this._optOut=false;var a=Se();this.apiKey=e.apiKey;this.flushIntervalMillis=(r=e.flushIntervalMillis)!==null&&r!==void 0?r:a.flushIntervalMillis;this.flushMaxRetries=e.flushMaxRetries||a.flushMaxRetries;this.flushQueueSize=e.flushQueueSize||a.flushQueueSize;this.instanceName=e.instanceName||a.instanceName;this.loggerProvider=e.loggerProvider||a.loggerProvider;this.logLevel=(n=e.logLevel)!==null&&n!==void 0?n:a.logLevel;this.minIdLength=e.minIdLength;this.plan=e.plan;this.ingestionMetadata=e.ingestionMetadata;this.offline=e.offline!==void 0?e.offline:a.offline;this.optOut=(i=e.optOut)!==null&&i!==void 0?i:a.optOut;this.serverUrl=e.serverUrl;this.serverZone=e.serverZone||a.serverZone;this.storageProvider=e.storageProvider;this.transportProvider=e.transportProvider;this.useBatch=(o=e.useBatch)!==null&&o!==void 0?o:a.useBatch;this.loggerProvider.enable(this.logLevel);var l=it(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=l.serverZone;this.serverUrl=l.serverUrl}Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:false,configurable:true});return t}();var zr=function(t,e){if(t==="EU"){return e?ar:ir}return e?or:Je};var it=function(t,e,r){if(t===void 0){t=""}if(e===void 0){e=Se().serverZone}if(r===void 0){r=Se().useBatch}if(t){return{serverUrl:t,serverZone:void 0}}var n=["US","EU"].includes(e)?e:Se().serverZone;return{serverZone:n,serverUrl:zr(n,r)}};function Zr(t){if(t instanceof Error)return t.message;return String(t)}function Te(t){var e="";try{if("body"in t){e=JSON.stringify(t.body,null,2)}}catch(r){}return e}var ot=function(){function t(){this.name="amplitude";this.type="destination";this.retryTimeout=1e3;this.throttleTimeout=3e4;this.storageKey="";this.scheduled=null;this.queue=[]}t.prototype.setup=function(e){var r;return f(this,void 0,void 0,function(){var n;var i=this;return p(this,function(o){switch(o.label){case 0:this.config=e;this.storageKey="".concat(Ze,"_").concat(this.config.apiKey.substring(0,10));return[4,(r=this.config.storageProvider)===null||r===void 0?void 0:r.get(this.storageKey)];case 1:n=o.sent();this.saveEvents();if(n&&n.length>0){void Promise.all(n.map(function(a){return i.execute(a)})).catch()}return[2,Promise.resolve(void 0)]}})})};t.prototype.execute=function(e){var r=this;return new Promise(function(n){var i={event:e,attempts:0,callback:function(o){return n(o)},timeout:0};void r.addToQueue(i)})};t.prototype.addToQueue=function(){var e=this;var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}var i=r.filter(function(o){if(o.attempts<e.config.flushMaxRetries){o.attempts+=1;return true}void e.fulfillRequest([o],500,Zt);return false});i.forEach(function(o){e.queue=e.queue.concat(o);if(o.timeout===0){e.schedule(e.config.flushIntervalMillis);return}setTimeout(function(){o.timeout=0;e.schedule(0)},o.timeout)});this.saveEvents()};t.prototype.schedule=function(e){var r=this;if(this.scheduled||this.config.offline){return}this.scheduled=setTimeout(function(){void r.flush(true).then(function(){if(r.queue.length>0){r.schedule(e)}})},e)};t.prototype.flush=function(e){if(e===void 0){e=false}return f(this,void 0,void 0,function(){var r,n,i;var o=this;return p(this,function(a){switch(a.label){case 0:if(this.config.offline){this.config.loggerProvider.debug("Skipping flush while offline.");return[2]}r=[];n=[];this.queue.forEach(function(l){return l.timeout===0?r.push(l):n.push(l)});this.queue=n;if(this.scheduled){clearTimeout(this.scheduled);this.scheduled=null}i=dr(r,this.config.flushQueueSize);return[4,Promise.all(i.map(function(l){return o.send(l,e)}))];case 1:a.sent();return[2]}})})};t.prototype.send=function(e,r){if(r===void 0){r=true}return f(this,void 0,void 0,function(){var n,i,o,a,l;return p(this,function(u){switch(u.label){case 0:if(!this.config.apiKey){return[2,this.fulfillRequest(e,400,er)]}n={api_key:this.config.apiKey,events:e.map(function(s){var c=s.event,d=c.extra,v=de(c,["extra"]);return v}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString()};u.label=1;case 1:u.trys.push([1,3,,4]);i=it(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl;return[4,this.config.transportProvider.send(i,n)];case 2:o=u.sent();if(o===null){this.fulfillRequest(e,0,zt);return[2]}if(!r){if("body"in o){this.fulfillRequest(e,o.statusCode,"".concat(o.status,": ").concat(Te(o)))}else{this.fulfillRequest(e,o.statusCode,o.status)}return[2]}this.handleResponse(o,e);return[3,4];case 3:a=u.sent();l=Zr(a);this.config.loggerProvider.error(l);this.fulfillRequest(e,0,l);return[3,4];case 4:return[2]}})})};t.prototype.handleResponse=function(e,r){var n=e.status;switch(n){case P.Success:{this.handleSuccessResponse(e,r);break}case P.Invalid:{this.handleInvalidResponse(e,r);break}case P.PayloadTooLarge:{this.handlePayloadTooLargeResponse(e,r);break}case P.RateLimit:{this.handleRateLimitResponse(e,r);break}default:{this.config.loggerProvider.warn(\`{code: 0, error: "Status '\`.concat(n,"' provided for ").concat(r.length,' events"}'));this.handleOtherResponse(r);break}}};t.prototype.handleSuccessResponse=function(e,r){this.fulfillRequest(r,e.statusCode,Xt)};t.prototype.handleInvalidResponse=function(e,r){var n=this;if(e.body.missingField||e.body.error.startsWith(tr)){this.fulfillRequest(r,e.statusCode,e.body.error);return}var i=q(q(q(q([],x(Object.values(e.body.eventsWithInvalidFields)),false),x(Object.values(e.body.eventsWithMissingFields)),false),x(Object.values(e.body.eventsWithInvalidIdLengths)),false),x(e.body.silencedEvents),false).flat();var o=new Set(i);var a=r.filter(function(l,u){if(o.has(u)){n.fulfillRequest([l],e.statusCode,e.body.error);return}return true});if(a.length>0){this.config.loggerProvider.warn(Te(e))}this.addToQueue.apply(this,q([],x(a),false))};t.prototype.handlePayloadTooLargeResponse=function(e,r){if(r.length===1){this.fulfillRequest(r,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(Te(e));this.config.flushQueueSize/=2;this.addToQueue.apply(this,q([],x(r),false))};t.prototype.handleRateLimitResponse=function(e,r){var n=this;var i=Object.keys(e.body.exceededDailyQuotaUsers);var o=Object.keys(e.body.exceededDailyQuotaDevices);var a=e.body.throttledEvents;var l=new Set(i);var u=new Set(o);var s=new Set(a);var c=r.filter(function(d,v){if(d.event.user_id&&l.has(d.event.user_id)||d.event.device_id&&u.has(d.event.device_id)){n.fulfillRequest([d],e.statusCode,e.body.error);return}if(s.has(v)){d.timeout=n.throttleTimeout}return true});if(c.length>0){this.config.loggerProvider.warn(Te(e))}this.addToQueue.apply(this,q([],x(c),false))};t.prototype.handleOtherResponse=function(e){var r=this;this.addToQueue.apply(this,q([],x(e.map(function(n){n.timeout=n.attempts*r.retryTimeout;return n})),false))};t.prototype.fulfillRequest=function(e,r,n){this.saveEvents();e.forEach(function(i){return i.callback($(i.event,r,n))})};t.prototype.saveEvents=function(){if(!this.config.storageProvider){return}var e=Array.from(this.queue.map(function(r){return r.event}));void this.config.storageProvider.set(this.storageKey,e)};return t}();var Jr=function(t){if(t===void 0){t=0}var e=new Error().stack||"";return e.split("\\n").slice(2+t).map(function(r){return r.trim()})};var R=function(t){return function(){var e=m({},t.config),r=e.loggerProvider,n=e.logLevel;return{logger:r,logLevel:n}}};var en=function(t,e){var r,n;e=e.replace(/\\[(\\w+)\\]/g,".$1");e=e.replace(/^\\./,"");try{for(var i=G(e.split(".")),o=i.next();!o.done;o=i.next()){var a=o.value;if(a in t){t=t[a]}else{return}}}catch(l){r={error:l}}finally{try{if(o&&!o.done&&(n=i.return))n.call(i)}finally{if(r)throw r.error}}return t};var A=function(t,e){return function(){var r,n;var i={};try{for(var o=G(e),a=o.next();!a.done;a=o.next()){var l=a.value;i[l]=en(t,l)}}catch(u){r={error:u}}finally{try{if(a&&!a.done&&(n=o.return))n.call(o)}finally{if(r)throw r.error}}return i}};var C=function(t,e,r,n,i){if(i===void 0){i=null}return function(){var o=[];for(var a=0;a<arguments.length;a++){o[a]=arguments[a]}var l=r(),u=l.logger,s=l.logLevel;if(s&&s<U.Debug||!s||!u){return t.apply(i,o)}var c={type:"invoke public method",name:e,args:o,stacktrace:Jr(1),time:{start:new Date().toISOString()},states:{}};if(n&&c.states){c.states.before=n()}var d=t.apply(i,o);if(d&&d.promise){d.promise.then(function(){if(n&&c.states){c.states.after=n()}if(c.time){c.time.end=new Date().toISOString()}u.debug(JSON.stringify(c,null,2))})}else{if(n&&c.states){c.states.after=n()}if(c.time){c.time.end=new Date().toISOString()}u.debug(JSON.stringify(c,null,2))}return d}};var we=function(){function t(){this.memoryStorage=new Map}t.prototype.isEnabled=function(){return f(this,void 0,void 0,function(){return p(this,function(e){return[2,true]})})};t.prototype.get=function(e){return f(this,void 0,void 0,function(){return p(this,function(r){return[2,this.memoryStorage.get(e)]})})};t.prototype.getRaw=function(e){return f(this,void 0,void 0,function(){var r;return p(this,function(n){switch(n.label){case 0:return[4,this.get(e)];case 1:r=n.sent();return[2,r?JSON.stringify(r):void 0]}})})};t.prototype.set=function(e,r){return f(this,void 0,void 0,function(){return p(this,function(n){this.memoryStorage.set(e,r);return[2]})})};t.prototype.remove=function(e){return f(this,void 0,void 0,function(){return p(this,function(r){this.memoryStorage.delete(e);return[2]})})};t.prototype.reset=function(){return f(this,void 0,void 0,function(){return p(this,function(e){this.memoryStorage.clear();return[2]})})};return t}();var ne=function(){function t(){}t.prototype.send=function(e,r){return Promise.resolve(null)};t.prototype.buildResponse=function(e){var r,n,i,o,a,l,u,s,c,d,v,y,h,E,g,_,S,I,O,F,T,w;if(typeof e!=="object"){return null}var k=e.code||0;var M=this.buildStatus(k);switch(M){case P.Success:return{status:M,statusCode:k,body:{eventsIngested:(r=e.events_ingested)!==null&&r!==void 0?r:0,payloadSizeBytes:(n=e.payload_size_bytes)!==null&&n!==void 0?n:0,serverUploadTime:(i=e.server_upload_time)!==null&&i!==void 0?i:0}};case P.Invalid:return{status:M,statusCode:k,body:{error:(o=e.error)!==null&&o!==void 0?o:"",missingField:(a=e.missing_field)!==null&&a!==void 0?a:"",eventsWithInvalidFields:(l=e.events_with_invalid_fields)!==null&&l!==void 0?l:{},eventsWithMissingFields:(u=e.events_with_missing_fields)!==null&&u!==void 0?u:{},eventsWithInvalidIdLengths:(s=e.events_with_invalid_id_lengths)!==null&&s!==void 0?s:{},epsThreshold:(c=e.eps_threshold)!==null&&c!==void 0?c:0,exceededDailyQuotaDevices:(d=e.exceeded_daily_quota_devices)!==null&&d!==void 0?d:{},silencedDevices:(v=e.silenced_devices)!==null&&v!==void 0?v:[],silencedEvents:(y=e.silenced_events)!==null&&y!==void 0?y:[],throttledDevices:(h=e.throttled_devices)!==null&&h!==void 0?h:{},throttledEvents:(E=e.throttled_events)!==null&&E!==void 0?E:[]}};case P.PayloadTooLarge:return{status:M,statusCode:k,body:{error:(g=e.error)!==null&&g!==void 0?g:""}};case P.RateLimit:return{status:M,statusCode:k,body:{error:(_=e.error)!==null&&_!==void 0?_:"",epsThreshold:(S=e.eps_threshold)!==null&&S!==void 0?S:0,throttledDevices:(I=e.throttled_devices)!==null&&I!==void 0?I:{},throttledUsers:(O=e.throttled_users)!==null&&O!==void 0?O:{},exceededDailyQuotaDevices:(F=e.exceeded_daily_quota_devices)!==null&&F!==void 0?F:{},exceededDailyQuotaUsers:(T=e.exceeded_daily_quota_users)!==null&&T!==void 0?T:{},throttledEvents:(w=e.throttled_events)!==null&&w!==void 0?w:[]}};case P.Timeout:default:return{status:M,statusCode:k}}};t.prototype.buildStatus=function(e){if(e>=200&&e<300){return P.Success}if(e===429){return P.RateLimit}if(e===413){return P.PayloadTooLarge}if(e===408){return P.Timeout}if(e>=400&&e<500){return P.Invalid}if(e>=500){return P.Failed}return P.Unknown};return t}();var N=function(){if(typeof globalThis!=="undefined"){return globalThis}if(typeof window!=="undefined"){return window}if(typeof self!=="undefined"){return self}if(typeof global!=="undefined"){return global}return void 0};var se=function(){var t;var e=N();if(!((t=e===null||e===void 0?void 0:e.location)===null||t===void 0?void 0:t.search)){return{}}var r=e.location.search.substring(1).split("&").filter(Boolean);var n=r.reduce(function(i,o){var a=o.split("=",2);var l=fr(a[0]);var u=fr(a[1]);if(!u){return i}i[l]=u;return i},{});return n};var fr=function(t){if(t===void 0){t=""}try{return decodeURIComponent(t)}catch(e){return""}};var pr="utm_campaign";var vr="utm_content";var hr="utm_id";var gr="utm_medium";var mr="utm_source";var yr="utm_term";var at="dclid";var st="fbclid";var ut="gbraid";var ct="gclid";var lt="ko_click_id";var dt="li_fat_id";var ft="msclkid";var pt="rtd_cid";var vt="ttclid";var ht="twclid";var gt="wbraid";var ie={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0};var ve=function(){function t(){}t.prototype.parse=function(){return f(this,void 0,void 0,function(){return p(this,function(e){return[2,m(m(m(m({},ie),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})};t.prototype.getUtmParam=function(){var e=se();var r=e[pr];var n=e[vr];var i=e[hr];var o=e[gr];var a=e[mr];var l=e[yr];return{utm_campaign:r,utm_content:n,utm_id:i,utm_medium:o,utm_source:a,utm_term:l}};t.prototype.getReferrer=function(){var e,r;var n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0;n.referring_domain=(r=(e=n.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&r!==void 0?r:void 0}catch(i){}return n};t.prototype.getClickIds=function(){var e;var r=se();return e={},e[at]=r[at],e[st]=r[st],e[ut]=r[ut],e[ct]=r[ct],e[lt]=r[lt],e[dt]=r[dt],e[ft]=r[ft],e[pt]=r[pt],e[vt]=r[vt],e[ht]=r[ht],e[gt]=r[gt],e};return t}();var xe=function(t,e,r){if(e===void 0){e=""}if(r===void 0){r=10}return[re,e,t.substring(0,r)].filter(Boolean).join("_")};var mt=function(t){return"".concat(re.toLowerCase(),"_").concat(t.substring(0,6))};var he=function(t,e){if(e===void 0){e=Date.now()}var r=Date.now();var n=r-e;return n>t};var ge=function(){function t(e){this.options=m({},e)}t.prototype.isEnabled=function(){return f(this,void 0,void 0,function(){var e,r,n,i;return p(this,function(o){switch(o.label){case 0:if(!N()){return[2,false]}t.testValue=String(Date.now());e=new t(this.options);r="AMP_TEST";o.label=1;case 1:o.trys.push([1,4,5,7]);return[4,e.set(r,t.testValue)];case 2:o.sent();return[4,e.get(r)];case 3:n=o.sent();return[2,n===t.testValue];case 4:i=o.sent();return[2,false];case 5:return[4,e.remove(r)];case 6:o.sent();return[7];case 7:return[2]}})})};t.prototype.get=function(e){return f(this,void 0,void 0,function(){var r;return p(this,function(n){switch(n.label){case 0:return[4,this.getRaw(e)];case 1:r=n.sent();if(!r){return[2,void 0]}try{try{r=decodeURIComponent(atob(r))}catch(i){}return[2,JSON.parse(r)]}catch(i){return[2,void 0]}return[2]}})})};t.prototype.getRaw=function(e){var r,n;return f(this,void 0,void 0,function(){var i,o,a;return p(this,function(l){i=N();o=(n=(r=i===null||i===void 0?void 0:i.document)===null||r===void 0?void 0:r.cookie.split("; "))!==null&&n!==void 0?n:[];a=o.find(function(u){return u.indexOf(e+"=")===0});if(!a){return[2,void 0]}return[2,a.substring(e.length+1)]})})};t.prototype.set=function(e,r){var n;return f(this,void 0,void 0,function(){var i,o,a,l,u,s;return p(this,function(c){try{i=(n=this.options.expirationDays)!==null&&n!==void 0?n:0;o=r!==null?i:-1;a=void 0;if(o){l=new Date;l.setTime(l.getTime()+o*24*60*60*1e3);a=l}u="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(r))));if(a){u+="; expires=".concat(a.toUTCString())}u+="; path=/";if(this.options.domain){u+="; domain=".concat(this.options.domain)}if(this.options.secure){u+="; Secure"}if(this.options.sameSite){u+="; SameSite=".concat(this.options.sameSite)}s=N();if(s){s.document.cookie=u}}catch(d){}return[2]})})};t.prototype.remove=function(e){return f(this,void 0,void 0,function(){return p(this,function(r){switch(r.label){case 0:return[4,this.set(e,null)];case 1:r.sent();return[2]}})})};t.prototype.reset=function(){return f(this,void 0,void 0,function(){return p(this,function(e){return[2]})})};return t}();var yt=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.send=function(r,n){return f(this,void 0,void 0,function(){var i,o,a;return p(this,function(l){switch(l.label){case 0:if(typeof fetch==="undefined"){throw new Error("FetchTransport is not supported")}i={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(n),method:"POST"};return[4,fetch(r,i)];case 1:o=l.sent();return[4,o.json()];case 2:a=l.sent();return[2,this.buildResponse(a)]}})})};return e}(ne);var tn=function(){function t(){}t.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:rn(),platform:"Web",os:void 0,deviceModel:void 0}};return t}();var rn=function(){return typeof navigator!=="undefined"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""};var nn=function(){function t(){this.queue=[]}t.prototype.logEvent=function(e){if(!this.receiver){if(this.queue.length<512){this.queue.push(e)}}else{this.receiver(e)}};t.prototype.setEventReceiver=function(e){this.receiver=e;if(this.queue.length>0){this.queue.forEach(function(r){e(r)});this.queue=[]}};return t}();var Z=function(){Z=Object.assign||function t(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o))e[o]=r[o]}return e};return Z.apply(this,arguments)};var Pe=function(t,e){var r=["string","number","boolean","undefined"];var n=typeof t;var i=typeof e;if(n!==i){return false}for(var o=0,a=r;o<a.length;o++){var l=a[o];if(l===n){return t===e}}if(t==null&&e==null){return true}else if(t==null||e==null){return false}if(t.length!==e.length){return false}var u=Array.isArray(t);var s=Array.isArray(e);if(u!==s){return false}if(u&&s){for(var c=0;c<t.length;c++){if(!Pe(t[c],e[c])){return false}}}else{var d=Object.keys(t).sort();var v=Object.keys(e).sort();if(!Pe(d,v)){return false}var y=true;Object.keys(t).forEach(function(h){if(!Pe(t[h],e[h])){y=false}});return y}return true};var on="$set";var an="$unset";var sn="$clearAll";if(!Object.entries){Object.entries=function(t){var e=Object.keys(t);var r=e.length;var n=new Array(r);while(r--){n[r]=[e[r],t[e[r]]]}return n}}var un=function(){function t(){this.identity={userProperties:{}};this.listeners=new Set}t.prototype.editIdentity=function(){var e=this;var r=Z({},this.identity.userProperties);var n=Z(Z({},this.identity),{userProperties:r});return{setUserId:function(i){n.userId=i;return this},setDeviceId:function(i){n.deviceId=i;return this},setUserProperties:function(i){n.userProperties=i;return this},setOptOut:function(i){n.optOut=i;return this},updateUserProperties:function(i){var o=n.userProperties||{};for(var a=0,l=Object.entries(i);a<l.length;a++){var u=l[a],s=u[0],c=u[1];switch(s){case on:for(var d=0,v=Object.entries(c);d<v.length;d++){var y=v[d],h=y[0],E=y[1];o[h]=E}break;case an:for(var g=0,_=Object.keys(c);g<_.length;g++){var h=_[g];delete o[h]}break;case sn:o={};break}}n.userProperties=o;return this},commit:function(){e.setIdentity(n);return this}}};t.prototype.getIdentity=function(){return Z({},this.identity)};t.prototype.setIdentity=function(e){var r=Z({},this.identity);this.identity=Z({},e);if(!Pe(r,this.identity)){this.listeners.forEach(function(n){n(e)})}};t.prototype.addIdentityListener=function(e){this.listeners.add(e)};t.prototype.removeIdentityListener=function(e){this.listeners.delete(e)};return t}();var me=typeof globalThis!=="undefined"?globalThis:typeof global!=="undefined"?global:self;var _r=function(){function t(){this.identityStore=new un;this.eventBridge=new nn;this.applicationContextProvider=new tn}t.getInstance=function(e){if(!me["analyticsConnectorInstances"]){me["analyticsConnectorInstances"]={}}if(!me["analyticsConnectorInstances"][e]){me["analyticsConnectorInstances"][e]=new t}return me["analyticsConnectorInstances"][e]};return t}();var J=function(t){if(t===void 0){t="$default_instance"}return _r.getInstance(t)};var _t=function(t,e){J(e).identityStore.editIdentity().setUserId(t).commit()};var Et=function(t,e){J(e).identityStore.editIdentity().setDeviceId(t).commit()};var bt=function(){function t(){this.name="identity";this.type="before";this.identityStore=J().identityStore}t.prototype.execute=function(e){return f(this,void 0,void 0,function(){var r;return p(this,function(n){r=e.user_properties;if(r){this.identityStore.editIdentity().updateUserProperties(r).commit()}return[2,e]})})};t.prototype.setup=function(e){return f(this,void 0,void 0,function(){return p(this,function(r){if(e.instanceName){this.identityStore=J(e.instanceName).identityStore}return[2]})})};return t}();var It=function(){var t,e,r,n;if(typeof navigator==="undefined")return"";var i=navigator.userLanguage;return(n=(r=(e=(t=navigator.languages)===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:navigator.language)!==null&&r!==void 0?r:i)!==null&&n!==void 0?n:""};var ye=function(t,e){if(typeof t==="boolean"){return t}if((t===null||t===void 0?void 0:t[e])===false){return false}return true};var Re=function(t){return ye(t,"attribution")};var St=function(t){return ye(t,"fileDownloads")};var Tt=function(t){return ye(t,"formInteractions")};var Ae=function(t){return ye(t,"pageViews")};var wt=function(t){return ye(t,"sessions")};var xt=function(t){var e=function(){return false};var r=void 0;var n;var i=t.pageCounter;var o=Ae(t.defaultTracking);if(o){e=void 0;n=void 0;if(t.defaultTracking&&typeof t.defaultTracking==="object"&&t.defaultTracking.pageViews&&typeof t.defaultTracking.pageViews==="object"){if("trackOn"in t.defaultTracking.pageViews){e=t.defaultTracking.pageViews.trackOn}if("trackHistoryChanges"in t.defaultTracking.pageViews){r=t.defaultTracking.pageViews.trackHistoryChanges}if("eventType"in t.defaultTracking.pageViews&&t.defaultTracking.pageViews.eventType){n=t.defaultTracking.pageViews.eventType}}}return{trackOn:e,trackHistoryChanges:r,eventType:n,pageCounter:i}};var Pt=function(t){if(Re(t.defaultTracking)&&t.defaultTracking&&typeof t.defaultTracking==="object"&&t.defaultTracking.attribution&&typeof t.defaultTracking.attribution==="object"){return m({},t.defaultTracking.attribution)}return{}};var Ce=function(t,e){for(var r=0;r<e.length;r++){var n=e[r],i=n.name,o=n.args,a=n.resolve;var l=t&&t[i];if(typeof l==="function"){var u=l.apply(t,o);if(typeof a==="function"){a(u===null||u===void 0?void 0:u.promise)}}}return t};var De=function(t){var e=t;return e&&e._q!==void 0};var Er="2.5.2";var cn="Web";var ln="$remote";var br=function(){function t(){this.name="@amplitude/plugin-context-browser";this.type="before";this.library="amplitude-ts/".concat(Er);if(typeof navigator!=="undefined"){this.userAgent=navigator.userAgent}}t.prototype.setup=function(e){this.config=e;return Promise.resolve(void 0)};t.prototype.execute=function(e){var r,n;return f(this,void 0,void 0,function(){var i,o,a,l;return p(this,function(u){i=new Date().getTime();o=(r=this.config.lastEventId)!==null&&r!==void 0?r:-1;a=(n=e.event_id)!==null&&n!==void 0?n:o+1;this.config.lastEventId=a;if(!e.time){this.config.lastEventTime=i}l=m(m(m(m(m(m(m(m({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:i},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:cn}),this.config.trackingOptions.language&&{language:It()}),this.config.trackingOptions.ipAddress&&{ip:ln}),{insert_id:K(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:a,library:this.library,user_agent:this.userAgent});return[2,l]})})};return t}();var Le=function(){function t(e){this.storage=e}t.prototype.isEnabled=function(){return f(this,void 0,void 0,function(){var e,r,n,i,o;return p(this,function(a){switch(a.label){case 0:if(!this.storage){return[2,false]}e=String(Date.now());r=new t(this.storage);n="AMP_TEST";a.label=1;case 1:a.trys.push([1,4,5,7]);return[4,r.set(n,e)];case 2:a.sent();return[4,r.get(n)];case 3:i=a.sent();return[2,i===e];case 4:o=a.sent();return[2,false];case 5:return[4,r.remove(n)];case 6:a.sent();return[7];case 7:return[2]}})})};t.prototype.get=function(e){return f(this,void 0,void 0,function(){var r,n;return p(this,function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);return[4,this.getRaw(e)];case 1:r=i.sent();if(!r){return[2,void 0]}return[2,JSON.parse(r)];case 2:n=i.sent();console.error("[Amplitude] Error: Could not get value from storage");return[2,void 0];case 3:return[2]}})})};t.prototype.getRaw=function(e){var r;return f(this,void 0,void 0,function(){return p(this,function(n){return[2,((r=this.storage)===null||r===void 0?void 0:r.getItem(e))||void 0]})})};t.prototype.set=function(e,r){var n;return f(this,void 0,void 0,function(){return p(this,function(i){try{(n=this.storage)===null||n===void 0?void 0:n.setItem(e,JSON.stringify(r))}catch(o){}return[2]})})};t.prototype.remove=function(e){var r;return f(this,void 0,void 0,function(){return p(this,function(n){try{(r=this.storage)===null||r===void 0?void 0:r.removeItem(e)}catch(i){}return[2]})})};t.prototype.reset=function(){var e;return f(this,void 0,void 0,function(){return p(this,function(r){try{(e=this.storage)===null||e===void 0?void 0:e.clear()}catch(n){}return[2]})})};return t}();var Oe=1e3;var Rt=function(t){V(e,t);function e(r){var n=this;var i;n=t.call(this,(i=N())===null||i===void 0?void 0:i.localStorage)||this;n.loggerProvider=r===null||r===void 0?void 0:r.loggerProvider;return n}e.prototype.set=function(r,n){var i;return f(this,void 0,void 0,function(){var o;return p(this,function(a){switch(a.label){case 0:if(!(Array.isArray(n)&&n.length>Oe))return[3,2];o=n.length-Oe;return[4,t.prototype.set.call(this,r,n.slice(0,Oe))];case 1:a.sent();(i=this.loggerProvider)===null||i===void 0?void 0:i.error("Failed to save ".concat(o," events because the queue length exceeded ").concat(Oe,"."));return[3,4];case 2:return[4,t.prototype.set.call(this,r,n)];case 3:a.sent();a.label=4;case 4:return[2]}})})};return e}(Le);var Ir=function(t){V(e,t);function e(){var r;return t.call(this,(r=N())===null||r===void 0?void 0:r.sessionStorage)||this}return e}(Le);var Sr=function(t){V(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.state={done:4};return r}e.prototype.send=function(r,n){return f(this,void 0,void 0,function(){var i=this;return p(this,function(o){return[2,new Promise(function(a,l){if(typeof XMLHttpRequest==="undefined"){l(new Error("XHRTransport is not supported."))}var u=new XMLHttpRequest;u.open("POST",r,true);u.onreadystatechange=function(){if(u.readyState===i.state.done){try{var s=u.responseText;var c=JSON.parse(s);var d=i.buildResponse(c);a(d)}catch(v){l(v)}}};u.setRequestHeader("Content-Type","application/json");u.setRequestHeader("Accept","*/*");u.send(JSON.stringify(n))})]})})};return e}(ne);var Tr=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.send=function(r,n){return f(this,void 0,void 0,function(){var i=this;return p(this,function(o){return[2,new Promise(function(a,l){var u=N();if(!(u===null||u===void 0?void 0:u.navigator.sendBeacon)){throw new Error("SendBeaconTransport is not supported")}try{var s=JSON.stringify(n);var c=u.navigator.sendBeacon(r,JSON.stringify(n));if(c){return a(i.buildResponse({code:200,events_ingested:n.events.length,payload_size_bytes:s.length,server_upload_time:Date.now()}))}return a(i.buildResponse({code:500}))}catch(d){l(d)}})]})})};return e}(ne);var wr=function(t,e,r){if(r===void 0){r=true}return f(void 0,void 0,void 0,function(){var n,i,o,a,l,u,s,c,d;return p(this,function(v){switch(v.label){case 0:n=mt(t);return[4,e.getRaw(n)];case 1:i=v.sent();if(!i){return[2,{optOut:false}]}if(!r)return[3,3];return[4,e.remove(n)];case 2:v.sent();v.label=3;case 3:o=x(i.split("."),6),a=o[0],l=o[1],u=o[2],s=o[3],c=o[4],d=o[5];return[2,{deviceId:a,userId:dn(l),sessionId:At(s),lastEventId:At(d),lastEventTime:At(c),optOut:Boolean(u)}]}})})};var At=function(t){var e=parseInt(t,32);if(isNaN(e)){return void 0}return e};var dn=function(t){if(!atob||!escape||!t){return void 0}try{return decodeURIComponent(escape(atob(t)))}catch(e){return void 0}};var j="[Amplitude]";var pa="".concat(j," Page Viewed");var Ct="".concat(j," Form Started");var xr="".concat(j," Form Submitted");var Pr="".concat(j," File Downloaded");var Dt="session_start";var Lt="session_end";var Rr="".concat(j," File Extension");var Ar="".concat(j," File Name");var Cr="".concat(j," Link ID");var Dr="".concat(j," Link Text");var Lr="".concat(j," Link URL");var ke="".concat(j," Form ID");var Ue="".concat(j," Form Name");var Ne="".concat(j," Form Destination");var _e="cookie";var Or="US";var fn=function(t){V(e,t);function e(r,n,i,o,a,l,u,s,c,d,v,y,h,E,g,_,S,I,O,F,T,w,k,M,Q,H,ee,Y,te,ce,le){if(i===void 0){i=new we}if(o===void 0){o={domain:"",expiration:365,sameSite:"Lax",secure:false,upgrade:true}}if(u===void 0){u=1e3}if(s===void 0){s=5}if(c===void 0){c=30}if(d===void 0){d=_e}if(g===void 0){g=new pe}if(_===void 0){_=U.Warn}if(I===void 0){I=false}if(O===void 0){O=false}if(w===void 0){w=""}if(k===void 0){k=Or}if(Q===void 0){Q=30*60*1e3}if(H===void 0){H=new Rt({loggerProvider:g})}if(ee===void 0){ee={ipAddress:true,language:true,platform:true}}if(Y===void 0){Y="fetch"}if(te===void 0){te=false}var b=t.call(this,{apiKey:r,storageProvider:H,transportProvider:Ot(Y)})||this;b.apiKey=r;b.appVersion=n;b.cookieOptions=o;b.defaultTracking=a;b.flushIntervalMillis=u;b.flushMaxRetries=s;b.flushQueueSize=c;b.identityStorage=d;b.ingestionMetadata=v;b.instanceName=y;b.loggerProvider=g;b.logLevel=_;b.minIdLength=S;b.offline=I;b.partnerId=F;b.plan=T;b.serverUrl=w;b.serverZone=k;b.sessionTimeout=Q;b.storageProvider=H;b.trackingOptions=ee;b.transport=Y;b.useBatch=te;b._optOut=false;b._cookieStorage=i;b.deviceId=l;b.lastEventId=h;b.lastEventTime=E;b.optOut=O;b.sessionId=M;b.pageCounter=le;b.userId=ce;b.loggerProvider.enable(b.logLevel);return b}Object.defineProperty(e.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(r){if(this._cookieStorage!==r){this._cookieStorage=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(r){if(this._deviceId!==r){this._deviceId=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(r){if(this._userId!==r){this._userId=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(r){if(this._sessionId!==r){this._sessionId=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(r){if(this._optOut!==r){this._optOut=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(r){if(this._lastEventTime!==r){this._lastEventTime=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(r){if(this._lastEventId!==r){this._lastEventId=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(r){if(this._pageCounter!==r){this._pageCounter=r;this.updateStorage()}},enumerable:false,configurable:true});e.prototype.updateStorage=function(){var r={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter};void this.cookieStorage.set(xe(this.apiKey),r)};return e}(nt);var kr=function(t,e,r){if(e===void 0){e={}}return f(void 0,void 0,void 0,function(){var n,i,o,a,l,u,s,c,d,v,y,h,E,g,_,S;var I;var O,F,T,w,k,M,Q,H,ee,Y,te,ce,le,b,Me,Fe,Ve,Be,qe,je,Ge,Ke,Qe;return p(this,function(ae){switch(ae.label){case 0:n=e.identityStorage||_e;I={};if(!(n!==_e))return[3,1];o="";return[3,5];case 1:if(!((F=(O=e.cookieOptions)===null||O===void 0?void 0:O.domain)!==null&&F!==void 0))return[3,2];a=F;return[3,4];case 2:return[4,vn()];case 3:a=ae.sent();ae.label=4;case 4:o=a;ae.label=5;case 5:i=m.apply(void 0,[(I.domain=o,I.expiration=365,I.sameSite="Lax",I.secure=false,I.upgrade=true,I),e.cookieOptions]);l=pn(e.identityStorage,i);return[4,wr(t,l,(w=(T=e.cookieOptions)===null||T===void 0?void 0:T.upgrade)!==null&&w!==void 0?w:true)];case 6:u=ae.sent();return[4,l.get(xe(t))];case 7:s=ae.sent();c=se();d=(H=(Q=(M=(k=e.deviceId)!==null&&k!==void 0?k:c.deviceId)!==null&&M!==void 0?M:s===null||s===void 0?void 0:s.deviceId)!==null&&Q!==void 0?Q:u.deviceId)!==null&&H!==void 0?H:K();v=(ee=s===null||s===void 0?void 0:s.lastEventId)!==null&&ee!==void 0?ee:u.lastEventId;y=(Y=s===null||s===void 0?void 0:s.lastEventTime)!==null&&Y!==void 0?Y:u.lastEventTime;h=(ce=(te=e.optOut)!==null&&te!==void 0?te:s===null||s===void 0?void 0:s.optOut)!==null&&ce!==void 0?ce:u.optOut;E=(le=s===null||s===void 0?void 0:s.sessionId)!==null&&le!==void 0?le:u.sessionId;g=(Me=(b=e.userId)!==null&&b!==void 0?b:s===null||s===void 0?void 0:s.userId)!==null&&Me!==void 0?Me:u.userId;r.previousSessionDeviceId=(Fe=s===null||s===void 0?void 0:s.deviceId)!==null&&Fe!==void 0?Fe:u.deviceId;r.previousSessionUserId=(Ve=s===null||s===void 0?void 0:s.userId)!==null&&Ve!==void 0?Ve:u.userId;_={ipAddress:(qe=(Be=e.trackingOptions)===null||Be===void 0?void 0:Be.ipAddress)!==null&&qe!==void 0?qe:true,language:(Ge=(je=e.trackingOptions)===null||je===void 0?void 0:je.language)!==null&&Ge!==void 0?Ge:true,platform:(Qe=(Ke=e.trackingOptions)===null||Ke===void 0?void 0:Ke.platform)!==null&&Qe!==void 0?Qe:true};S=s===null||s===void 0?void 0:s.pageCounter;return[2,new fn(t,e.appVersion,l,i,e.defaultTracking,d,e.flushIntervalMillis,e.flushMaxRetries,e.flushQueueSize,n,e.ingestionMetadata,e.instanceName,v,y,e.loggerProvider,e.logLevel,e.minIdLength,e.offline,h,e.partnerId,e.plan,e.serverUrl,e.serverZone,E,e.sessionTimeout,e.storageProvider,_,e.transport,e.useBatch,g,S)]}})})};var pn=function(t,e){if(t===void 0){t=_e}if(e===void 0){e={}}switch(t){case"localStorage":return new Rt;case"sessionStorage":return new Ir;case"none":return new we;case"cookie":default:return new ge(m(m({},e),{expirationDays:e.expiration}))}};var Ot=function(t){if(t==="xhr"){return new Sr}if(t==="beacon"){return new Tr}return new yt};var vn=function(t){return f(void 0,void 0,void 0,function(){var e,r,n,i,o,o,a,l,u,s;return p(this,function(c){switch(c.label){case 0:return[4,new ge().isEnabled()];case 1:if(!c.sent()||!t&&typeof location==="undefined"){return[2,""]}e=t!==null&&t!==void 0?t:location.hostname;r=e.split(".");n=[];i="AMP_TLDTEST";for(o=r.length-2;o>=0;--o){n.push(r.slice(o).join("."))}o=0;c.label=2;case 2:if(!(o<n.length))return[3,7];a=n[o];l={domain:"."+a};u=new ge(l);return[4,u.set(i,1)];case 3:c.sent();return[4,u.get(i)];case 4:s=c.sent();if(!s)return[3,6];return[4,u.remove(i)];case 5:c.sent();return[2,"."+a];case 6:o++;return[3,2];case 7:return[2,""]}})})};var Nr=function(t,e,r){if(e===void 0){e=""}if(r===void 0){r=10}return[re,e,t.substring(0,r)].filter(Boolean).join("_")};var Ur=function(t){var e=t.split(".");if(e.length<=2){return t}return e.slice(e.length-2,e.length).join(".")};var hn=function(t){return Object.values(t).every(function(e){return!e})};var Mr=function(t,e,r,n){if(n===void 0){n=true}var i=t.referrer,o=t.referring_domain,a=de(t,["referrer","referring_domain"]);var l=e||{},u=l.referrer,s=l.referring_domain,c=de(l,["referrer","referring_domain"]);if(gn(r.excludeReferrers,t.referring_domain)){return false}if(!n&&hn(t)&&e){return false}var d=JSON.stringify(a)!==JSON.stringify(c);var v=Ur(o||"")!==Ur(s||"");return!e||d||v};var gn=function(t,e){if(t===void 0){t=[]}if(e===void 0){e=""}return t.some(function(r){return r instanceof RegExp?r.test(e):r===e})};var Fr=function(t,e){var r=m(m({},ie),t);var n=Object.entries(r).reduce(function(i,o){var a;var l=x(o,2),u=l[0],s=l[1];i.setOnce("initial_".concat(u),(a=s!==null&&s!==void 0?s:e.initialEmptyValue)!==null&&a!==void 0?a:"EMPTY");if(s){return i.set(u,s)}return i.unset(u)},new z);return fe(n)};var Vr=function(t){var e=t;if(e){if(e.startsWith(".")){e=e.substring(1)}return[new RegExp("".concat(e.replace(".","\\\\."),"$"))]}return[]};var kt=function(t){var e=this;if(t===void 0){t={}}var r={name:"@amplitude/plugin-web-attribution-browser",type:"before",setup:function(n,i){var o;return f(this,void 0,void 0,function(){var a,l,u,s,c,d,v,y;return p(this,function(h){switch(h.label){case 0:a=m({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:false,excludeReferrers:Vr((o=n.cookieOptions)===null||o===void 0?void 0:o.domain)},t);n.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser.");l=n.cookieStorage;u=Nr(n.apiKey,"MKTG");return[4,Promise.all([new ve().parse(),l.get(u)])];case 1:s=x.apply(void 0,[h.sent(),2]),c=s[0],d=s[1];v=he(n.sessionTimeout,n.lastEventTime);if(Mr(c,d,a,v)){if(a.resetSessionOnNewCampaign){i.setSessionId(Date.now());n.loggerProvider.log("Created a new session for new campaign.")}n.loggerProvider.log("Tracking attribution.");y=Fr(c,a);i.track(y);void l.set(u,c)}return[2]}})})},execute:function(n){return f(e,void 0,void 0,function(){return p(this,function(i){return[2,n]})})}};return r};var Br=function(t){var e={};for(var r in t){var n=t[r];if(n){e[r]=n}}return e};var Ut=function(t){if(t===void 0){t={}}var e;var r=N();var n=void 0;var i;var o;var a=function(){return f(void 0,void 0,void 0,function(){var v;var y;var h;return p(this,function(E){switch(E.label){case 0:o.pageCounter=!o.pageCounter?1:o.pageCounter+1;y={event_type:(h=t.eventType)!==null&&h!==void 0?h:"[Amplitude] Page Viewed"};v=[{}];return[4,mn()];case 1:return[2,(y.event_properties=m.apply(void 0,[m.apply(void 0,v.concat([E.sent()])),{"[Amplitude] Page Domain":typeof location!=="undefined"&&location.hostname||"","[Amplitude] Page Location":typeof location!=="undefined"&&location.href||"","[Amplitude] Page Path":typeof location!=="undefined"&&location.pathname||"","[Amplitude] Page Title":typeof document!=="undefined"&&document.title||"","[Amplitude] Page URL":typeof location!=="undefined"&&location.href.split("?")[0]||"","[Amplitude] Page Counter":o.pageCounter}]),y)]}})})};var l=function(){return typeof t.trackOn==="undefined"||typeof t.trackOn==="function"&&t.trackOn()};var u=typeof location!=="undefined"?location.href:null;var s=function(){return f(void 0,void 0,void 0,function(){var v,y,h,E,g;return p(this,function(_){switch(_.label){case 0:v=location.href;y=_n(t.trackHistoryChanges,v,u||"")&&l();u=v;if(!y)return[3,4];n===null||n===void 0?void 0:n.log("Tracking page view event");if(!(e===null||e===void 0))return[3,1];h=void 0;return[3,3];case 1:g=(E=e).track;return[4,a()];case 2:h=g.apply(E,[_.sent()]);_.label=3;case 3:h;_.label=4;case 4:return[2]}})})};var c=function(){void s()};var d={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(v,y){return f(void 0,void 0,void 0,function(){var h,E;return p(this,function(g){switch(g.label){case 0:e=y;o=v;n=v.loggerProvider;n.log("Installing @amplitude/plugin-page-view-tracking-browser");if(r){r.addEventListener("popstate",c);i=r.history.pushState;r.history.pushState=new Proxy(r.history.pushState,{apply:function(_,S,I){var O=x(I,3),F=O[0],T=O[1],w=O[2];_.apply(S,[F,T,w]);void s()}})}if(!l())return[3,2];n.log("Tracking page view event");E=(h=e).track;return[4,a()];case 1:E.apply(h,[g.sent()]);g.label=2;case 2:return[2]}})})},execute:function(v){return f(void 0,void 0,void 0,function(){var y;return p(this,function(h){switch(h.label){case 0:if(!(t.trackOn==="attribution"&&yn(v)))return[3,2];n===null||n===void 0?void 0:n.log("Enriching campaign event to page view event with campaign parameters");return[4,a()];case 1:y=h.sent();v.event_type=y.event_type;v.event_properties=m(m({},v.event_properties),y.event_properties);h.label=2;case 2:return[2,v]}})})},teardown:function(){return f(void 0,void 0,void 0,function(){return p(this,function(v){if(r){r.removeEventListener("popstate",c);if(i){r.history.pushState=i}}return[2]})})}};return d};var mn=function(){return f(void 0,void 0,void 0,function(){var t;return p(this,function(e){switch(e.label){case 0:t=Br;return[4,new ve().parse()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})};var yn=function(t){if(t.event_type==="$identify"&&t.user_properties){var e=t.user_properties;var r=e[D.SET]||{};var n=e[D.UNSET]||{};var i=q(q([],x(Object.keys(r)),false),x(Object.keys(n)),false);return Object.keys(ie).every(function(o){return i.includes(o)})}return false};var _n=function(t,e,r){switch(t){case"pathOnly":return e.split("?")[0]!==r.split("?")[0];default:return e!==r}};var qr=function(){var t;var e=[];var r=function(s,c,d){s.addEventListener(c,d);e.push({element:s,type:c,handler:d})};var n=function(){e.forEach(function(s){var c=s.element,d=s.type,v=s.handler;c===null||c===void 0?void 0:c.removeEventListener(d,v)});e=[]};var i="@amplitude/plugin-form-interaction-tracking-browser";var o="enrichment";var a=function(s,c){return f(void 0,void 0,void 0,function(){var d,v;return p(this,function(y){if(!c){s.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return[2]}if(typeof document==="undefined"){return[2]}d=function(h){var E=false;r(h,"change",function(){var g;if(!E){c.track(Ct,(g={},g[ke]=ue(h.id),g[Ue]=ue(h.name),g[Ne]=h.action,g))}E=true});r(h,"submit",function(){var g,_;if(!E){c.track(Ct,(g={},g[ke]=ue(h.id),g[Ue]=ue(h.name),g[Ne]=h.action,g))}c.track(xr,(_={},_[ke]=ue(h.id),_[Ue]=ue(h.name),_[Ne]=h.action,_));E=false})};v=Array.from(document.getElementsByTagName("form"));v.forEach(d);if(typeof MutationObserver!=="undefined"){t=new MutationObserver(function(h){h.forEach(function(E){E.addedNodes.forEach(function(g){if(g.nodeName==="FORM"){d(g)}if("querySelectorAll"in g&&typeof g.querySelectorAll==="function"){Array.from(g.querySelectorAll("form")).map(d)}})})});t.observe(document.body,{subtree:true,childList:true})}return[2]})})};var l=function(s){return f(void 0,void 0,void 0,function(){return p(this,function(c){return[2,s]})})};var u=function(){return f(void 0,void 0,void 0,function(){return p(this,function(s){t===null||t===void 0?void 0:t.disconnect();n();return[2]})})};return{name:i,type:o,setup:a,execute:l,teardown:u}};var ue=function(t){if(typeof t!=="string"){return void 0}return t};var jr=function(){var t;var e=[];var r=function(s,c,d){s.addEventListener(c,d);e.push({element:s,type:c,handler:d})};var n=function(){e.forEach(function(s){var c=s.element,d=s.type,v=s.handler;c===null||c===void 0?void 0:c.removeEventListener(d,v)});e=[]};var i="@amplitude/plugin-file-download-tracking-browser";var o="enrichment";var a=function(s,c){return f(void 0,void 0,void 0,function(){var d,v,y;return p(this,function(h){if(!c){s.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return[2]}if(typeof document==="undefined"){return[2]}d=function(E){var g;try{g=new URL(E.href,window.location.href)}catch(I){return}var _=v.exec(g.href);var S=_===null||_===void 0?void 0:_[1];if(S){r(E,"click",function(){var I;if(S){c.track(Pr,(I={},I[Rr]=S,I[Ar]=g.pathname,I[Cr]=E.id,I[Dr]=E.text,I[Lr]=E.href,I))}})}};v=/\\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/;y=Array.from(document.getElementsByTagName("a"));y.forEach(d);if(typeof MutationObserver!=="undefined"){t=new MutationObserver(function(E){E.forEach(function(g){g.addedNodes.forEach(function(_){if(_.nodeName==="A"){d(_)}if("querySelectorAll"in _&&typeof _.querySelectorAll==="function"){Array.from(_.querySelectorAll("a")).map(d)}})})});t.observe(document.body,{subtree:true,childList:true})}return[2]})})};var l=function(s){return f(void 0,void 0,void 0,function(){return p(this,function(c){return[2,s]})})};var u=function(){return f(void 0,void 0,void 0,function(){return p(this,function(s){t===null||t===void 0?void 0:t.disconnect();n();return[2]})})};return{name:i,type:o,setup:a,execute:l,teardown:u}};var Gr=false;var Kr=function(t){if(Gr||t.defaultTracking!==void 0){return}var e="\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:\\n\\namplitude.init(<YOUR_API_KEY>, {\\n  defaultTracking: true,\\n});\\n\\nVisit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.";t.loggerProvider.warn(e);Gr=true};var Qr=function(){var t="@amplitude/plugin-network-checker-browser";var e="before";var r=N();var n=[];var i=function(u,s){if(r){r.addEventListener(u,s);n.push({type:u,handler:s})}};var o=function(){n.forEach(function(u){var s=u.type,c=u.handler;if(r){r.removeEventListener(s,c)}});n=[]};var a=function(u,s){return f(void 0,void 0,void 0,function(){return p(this,function(c){u.offline=!navigator.onLine;i("online",function(){u.loggerProvider.debug("Network connectivity changed to online.");u.offline=false;setTimeout(function(){s.flush()},u.flushIntervalMillis)});i("offline",function(){u.loggerProvider.debug("Network connectivity changed to offline.");u.offline=true});return[2]})})};var l=function(){return f(void 0,void 0,void 0,function(){return p(this,function(u){o();return[2]})})};return{name:t,type:e,setup:a,teardown:l}};var Wr=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.init=function(r,n,i){if(r===void 0){r=""}var o;var a;if(arguments.length>2){o=n;a=i}else{if(typeof n==="string"){o=n;a=void 0}else{o=n===null||n===void 0?void 0:n.userId;a=n}}return B(this._init(m(m({},a),{userId:o,apiKey:r})))};e.prototype._init=function(r){var n,i;return f(this,void 0,void 0,function(){var o,a,l,u;var s=this;return p(this,function(c){switch(c.label){case 0:if(this.initializing){return[2]}this.initializing=true;return[4,kr(r.apiKey,r,this)];case 1:o=c.sent();return[4,t.prototype._init.call(this,o)];case 2:c.sent();this.setSessionId((i=(n=r.sessionId)!==null&&n!==void 0?n:this.config.sessionId)!==null&&i!==void 0?i:Date.now());a=J(r.instanceName);a.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId});if(!(this.config.offline!==Xe))return[3,4];return[4,this.add(Qr()).promise];case 3:c.sent();c.label=4;case 4:return[4,this.add(new ot).promise];case 5:c.sent();return[4,this.add(new br).promise];case 6:c.sent();return[4,this.add(new bt).promise];case 7:c.sent();Kr(this.config);if(!St(this.config.defaultTracking))return[3,9];return[4,this.add(jr()).promise];case 8:c.sent();c.label=9;case 9:if(!Tt(this.config.defaultTracking))return[3,11];return[4,this.add(qr()).promise];case 10:c.sent();c.label=11;case 11:if(!Re(this.config.defaultTracking))return[3,13];l=Pt(this.config);u=kt(l);return[4,this.add(u).promise];case 12:c.sent();c.label=13;case 13:if(!Ae(this.config.defaultTracking))return[3,15];return[4,this.add(Ut(xt(this.config))).promise];case 14:c.sent();c.label=15;case 15:this.initializing=false;return[4,this.runQueuedFunctions("dispatchQ")];case 16:c.sent();a.eventBridge.setEventReceiver(function(d){void s.track(d.eventType,d.eventProperties)});return[2]}})})};e.prototype.getUserId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.userId};e.prototype.setUserId=function(r){if(!this.config){this.q.push(this.setUserId.bind(this,r));return}if(r!==this.config.userId||r===void 0){this.config.userId=r;_t(r,this.config.instanceName)}};e.prototype.getDeviceId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.deviceId};e.prototype.setDeviceId=function(r){if(!this.config){this.q.push(this.setDeviceId.bind(this,r));return}this.config.deviceId=r;Et(r,this.config.instanceName)};e.prototype.reset=function(){this.setDeviceId(K());this.setUserId(void 0)};e.prototype.getSessionId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.sessionId};e.prototype.setSessionId=function(r){var n;if(!this.config){this.q.push(this.setSessionId.bind(this,r));return}if(r===this.config.sessionId){return}var i=this.getSessionId();var o=this.config.lastEventTime;var a=(n=this.config.lastEventId)!==null&&n!==void 0?n:-1;this.config.sessionId=r;this.config.lastEventTime=void 0;this.config.pageCounter=0;if(wt(this.config.defaultTracking)){if(i&&o){this.track(Lt,void 0,{device_id:this.previousSessionDeviceId,event_id:++a,session_id:i,time:o+1,user_id:this.previousSessionUserId})}this.config.lastEventTime=this.config.sessionId;this.track(Dt,void 0,{event_id:++a,session_id:this.config.sessionId,time:this.config.lastEventTime})}this.previousSessionDeviceId=this.config.deviceId;this.previousSessionUserId=this.config.userId};e.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()};e.prototype.setTransport=function(r){if(!this.config){this.q.push(this.setTransport.bind(this,r));return}this.config.transportProvider=Ot(r)};e.prototype.identify=function(r,n){if(De(r)){var i=r._q;r._q=[];r=Ce(new z,i)}if(n===null||n===void 0?void 0:n.user_id){this.setUserId(n.user_id)}if(n===null||n===void 0?void 0:n.device_id){this.setDeviceId(n.device_id)}return t.prototype.identify.call(this,r,n)};e.prototype.groupIdentify=function(r,n,i,o){if(De(i)){var a=i._q;i._q=[];i=Ce(new z,a)}return t.prototype.groupIdentify.call(this,r,n,i,o)};e.prototype.revenue=function(r,n){if(De(r)){var i=r._q;r._q=[];r=Ce(new rt,i)}return t.prototype.revenue.call(this,r,n)};e.prototype.process=function(r){return f(this,void 0,void 0,function(){var n,i;return p(this,function(o){n=Date.now();i=he(this.config.sessionTimeout,this.config.lastEventTime);if(r.event_type!==Dt&&r.event_type!==Lt&&(!r.session_id||r.session_id===this.getSessionId())&&i){this.setSessionId(n)}return[2,t.prototype.process.call(this,r)]})})};return e}(tt);var En=function(){var t=new Wr;return{init:C(t.init.bind(t),"init",R(t),A(t,["config"])),add:C(t.add.bind(t),"add",R(t),A(t,["config.apiKey","timeline.plugins"])),remove:C(t.remove.bind(t),"remove",R(t),A(t,["config.apiKey","timeline.plugins"])),track:C(t.track.bind(t),"track",R(t),A(t,["config.apiKey","timeline.queue.length"])),logEvent:C(t.logEvent.bind(t),"logEvent",R(t),A(t,["config.apiKey","timeline.queue.length"])),identify:C(t.identify.bind(t),"identify",R(t),A(t,["config.apiKey","timeline.queue.length"])),groupIdentify:C(t.groupIdentify.bind(t),"groupIdentify",R(t),A(t,["config.apiKey","timeline.queue.length"])),setGroup:C(t.setGroup.bind(t),"setGroup",R(t),A(t,["config.apiKey","timeline.queue.length"])),revenue:C(t.revenue.bind(t),"revenue",R(t),A(t,["config.apiKey","timeline.queue.length"])),flush:C(t.flush.bind(t),"flush",R(t),A(t,["config.apiKey","timeline.queue.length"])),getUserId:C(t.getUserId.bind(t),"getUserId",R(t),A(t,["config","config.userId"])),setUserId:C(t.setUserId.bind(t),"setUserId",R(t),A(t,["config","config.userId"])),getDeviceId:C(t.getDeviceId.bind(t),"getDeviceId",R(t),A(t,["config","config.deviceId"])),setDeviceId:C(t.setDeviceId.bind(t),"setDeviceId",R(t),A(t,["config","config.deviceId"])),reset:C(t.reset.bind(t),"reset",R(t),A(t,["config","config.userId","config.deviceId"])),getSessionId:C(t.getSessionId.bind(t),"getSessionId",R(t),A(t,["config"])),setSessionId:C(t.setSessionId.bind(t),"setSessionId",R(t),A(t,["config"])),extendSession:C(t.extendSession.bind(t),"extendSession",R(t),A(t,["config"])),setOptOut:C(t.setOptOut.bind(t),"setOptOut",R(t),A(t,["config"])),setTransport:C(t.setTransport.bind(t),"setTransport",R(t),A(t,["config"]))}};var L=En();var bs=L.add;var Is=L.extendSession;var Ss=L.flush;var Ts=L.getDeviceId;var ws=L.getSessionId;var xs=L.getUserId;var Ps=L.groupIdentify;var Rs=L.identify;var As=L.init;var Cs=L.logEvent;var Ds=L.remove;var Ls=L.reset;var Os=L.revenue;var ks=L.setDeviceId;var Nt=L.setGroup;var Us=L.setOptOut;var Ns=L.setSessionId;var Ms=L.setTransport;var Fs=L.setUserId;var oe=L.track;var Mt=(t,e)=>{setTimeout(()=>{const r=Array.from(document.querySelectorAll("section"));for(const n of r){n.setAttribute("aria-hidden",String(n.id!==t))}},e)};var $r=t=>{Mt("success",500);if(t){Tn()}setTimeout(bn,500)};var bn=()=>{const t=document.getElementById("step-update-app");t.className="highlight completed";const e=document.getElementById("step-setup-complete");e.className="highlight active"};var Ee=(t=[])=>{Mt("error",500);const e=document.getElementById("error-messages");e.innerHTML="";for(const r of t){const n=document.createElement("li");n.textContent=r;e.appendChild(n)}document.title=\`Error Connecting\`};var Hr=()=>{Mt("restart-server",500);document.title=\`Restart Dev Server\`};var In=async()=>{const t=new URL(location.href);const e=t.searchParams.get(We);const r=t.searchParams.get(Ft);const n=t.searchParams.get(Vt);const i=t.searchParams.get($e);const o=t.searchParams.get(qt)||"unknown";const a=t.searchParams.get(jt);const l=t.searchParams.get(Gt);const u=t.searchParams.get(Qt)||null;try{console.info(\`framework: \${o}, platform: \${a}, node: \${l}\`);const s=new URL(location.pathname,location.origin);if(r){Nt("organization",r);Nt("space",r)}if(!e){window.history.replaceState({},"",s.href);Ee(["Missing preview url"]);oe("integration failed",{url:s.href,message:"missing preview url",framework:o});return}s.searchParams.set(We,e);s.searchParams.set($e,i);window.history.replaceState({},"",s.href);if(r&&n){let c=0;const d=async()=>{c++;try{const v=await $t(r,n,u);if(v.success){const y=Yr(e,v.pathname,i);oe("site integrated",{url:y,position:o});if(v.modifiedFiles.length>0){const h=document.getElementById("modified-files-list");v.modifiedFiles.forEach(g=>{const _=document.createElement("li");const S=document.createElement("a");S.textContent=g.displayFilePath||g.filePath;S.href=\`~launch#\${g.displayFilePath}\`;S.addEventListener("click",I=>{I.preventDefault();I.stopPropagation();Yt({filePath:g.filePath})});_.appendChild(S);h.appendChild(_)});const E=document.getElementById("modified-files-message");E.removeAttribute("hidden")}if(u!=="vcp"&&(v.platform.os==="win32"||o==="@remix-run/react")){const h=document.getElementById("restart-warning");h.removeAttribute("hidden")}else if(u!=="vcp"&&(o==="react"||o==="@angular/core")){const h=document.getElementById("router-message");h.removeAttribute("hidden");if(o==="@angular/core"){oe("angular framework",{});const I=document.getElementById("angular-message-section");I?.removeAttribute("hidden")}if(o==="react"){oe("react framework",{});const I=document.getElementById("react-message-section");I?.removeAttribute("hidden")}const E=document.getElementById("router-checkbox-div");const g=document.createElement("input");g.type="checkbox";g.id="router-checkbox";const _=document.createElement("label");_.htmlFor="router-checkbox";_.textContent=\`I've updated my router files\`;E.appendChild(g);E.appendChild(_);const S=document.getElementById("router-finish-button");g.addEventListener("change",function(){if(g.checked){S.removeAttribute("hidden")}else{S.setAttribute("hidden","true")}})}else{const h=document.getElementById("go-to-app");h.removeAttribute("hidden");if(u!=="vcp"){const E=h.querySelector("p");if(E){E.removeAttribute("hidden")}const g=h.querySelector("#button-text");if(g){g.textContent="Go to your app"}}}setTimeout(()=>{$r(true)},500)}else{oe("integration failed",{path:v.pathname,message:"error connecting to Builder.io",position:o});Ee([\`Error connecting to Builder.io\`])}}catch(v){const y=String(v.message||v);if(y.includes("Fetch Error")){if(c>3){Hr()}setTimeout(d,1e3)}else{Ee([y])}}};d()}else{const c=await Ht();if(c.isValid){Yr(e,c.pathname,i);const d=document.getElementById("go-to-app");d.removeAttribute("hidden");$r(false)}else{Ee([\`Error connecting to Builder.io\`])}}}catch(s){oe("integration failed",{message:"uncaught error",details:String(s),position:JSON.stringify({framework:o,platform:a,nodeVersion:l})});console.error("integrationFailed",s);const c=String(s);if(c.includes("Fetch Error")){Hr()}else{Ee([c])}}};var Yr=(t,e,r)=>{const n=new URL(e,t);if(r){n.hash=\`\${Bt}=\${r}\`}const i=document.querySelectorAll(".next-step");for(const o of i){o.setAttribute("href",n.href)}console.debug("App Url",n.href);return n.href};var Sn=()=>{return new Promise((t,e)=>{if(globalThis.confetti){return t(globalThis.confetti)}const r=document.createElement("script");r.src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js";r.onload=()=>t(globalThis.confetti);r.onerror=e;document.head.appendChild(r);r.remove()})};var Tn=async()=>{const t={spread:360,ticks:50,gravity:0,decay:.95,startVelocity:30,colors:["19b4f4","a97ff2","fd6b3c","ffffff"]};const e=Sn();const r=async()=>{const n=document.getElementById("button-icon");const i=n.getBoundingClientRect();const o=window.scrollX+i.left;const a=window.scrollY+i.top;const l={x:o/window.innerWidth,y:a/window.innerHeight};const u=await e;u({...t,origin:l,scalar:1.2});u({...t,origin:l,scalar:.75})};setTimeout(r,500);setTimeout(r,650);setTimeout(r,800);setTimeout(r,950)};In();})();
</script>
  </body>
</html>
`)}async function RA(e,r){let t=await cg(e),i=e.getFrameworks();return r.replace(/__LOCAL_APP_ID__/g,t).replace(/__DEV_TOOLS_URL__/g,e.devToolsServerUrl).replace(/__CLIENT_ID__/g,e.getClientId()).replace(/__FRAMEWORK__/g,i.length?i[0].name:"")}var LA=require("node:os");async function MA(e,r){let t=new URL("/cli-auth","https://builder.io");t.searchParams.set("client_id",e.getClientId()),t.searchParams.set("host",await e.getDeviceId()),t.searchParams.set("response_type","code"),t.searchParams.set("cli","true");let i=new URL(Pn,e.devToolsServerUrl);i.searchParams.set(Ka,(0,LA.platform)()),i.searchParams.set(Va,process.versions.node);let n=e.getFrameworks();return n.length>0&&(t.searchParams.set(es,n[0].name),i.searchParams.set(es,n[0].name)),t.searchParams.set("redirect_url",i.href),t.searchParams.set("preview_url",r),t.href}async function $A(e,r,t,i){try{if(!e)return oo(t,i,400,"Builder context closed");let n=j6(t);if(n.pathname===Ac){if(t.method==="POST"){let s=await U6(t);if(s)try{let o=await FA(e,JSON.parse(s));return BA(t,i,200,o)}catch(o){e.debug("Dev API Error",o.stack||o.message||o);let a={errors:[String(o.message||o)]};return BA(t,i,500,a)}}else if(t.method==="OPTIONS"){let s={"Access-Control-Allow-Methods":"POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Cache-Control, X-Builder-Devtools-Version"},o=t.headers.origin;o&&o!=="null"?UA(new URL(o))&&(s["Access-Control-Allow-Origin"]=o):s["Access-Control-Allow-Origin"]="*",i.writeHead(200,s),i.end();return}return oo(t,i,405,`${Ac} is an API endpoint used only during development by the Builder.io Devtools client-side script`)}if(n.pathname===Pc)return M6(t,i,200,await kA(e));if(n.pathname===km){let s=n.searchParams.get(Tc);return s?$6(i,302,await MA(e,s)):oo(t,i,400,`Missing ${Tc} querystring`)}return n.pathname===Pn?B6(t,i,200,await OA(e)):n.pathname===In?(e.debug(`Close Dev Tools Server Requested: ${n.href}`),setTimeout(()=>{try{r.close(s=>{e.debug(`Dev Tools Server Closed Error: ${s}`)})}catch(s){e.debug(`Error closing devtools server: ${s}`)}},20),oo(t,i,200,"Closing Dev Tools Server")):oo(t,i,404,"Not found")}catch(n){return console.error("Dev Server Error",n),oo(t,i,500,`Dev Server Error: ${n}`)}}function BA(e,r,t,i){mc(e,r,t,"application/json",JSON.stringify(i))}function M6(e,r,t,i){mc(e,r,t,"application/javascript",i)}function B6(e,r,t,i){mc(e,r,t,"text/html",i)}function oo(e,r,t,i){mc(e,r,t,"text/plain",i)}function mc(e,r,t,i,n){let s={"Content-Type":`${i}; charset=utf-8`,"Cache-Control":"no-cache, no-store, must-revalidate","X-Builder-Devtools-Version":"1.3.9"},o=e.headers.origin;o&&o!=="null"?UA(new URL(o))&&(s["Access-Control-Allow-Origin"]=o):s["Access-Control-Allow-Origin"]="*",r.writeHead(t,s),r.end(n)}function UA(e){return e.hostname==="localhost"||e.origin==="https://builder.io"||e.origin==="https://www.builder.io"||e.origin.endsWith(".builder.io")?!0:e.port===""?!1:e.port!=="80"&&e.port!=="443"}function $6(e,r,t){e.writeHead(r,{Location:t}),e.end()}async function U6(e){let r="";for await(let t of e)r+=t;return r}function j6(e){let r=e.url||"/";return new URL(r,`http://${e.headers.host}`)}async function jA(e){if(globalThis.__builderDevToolsServer)return e.debug("reusing existing devtools server"),globalThis.__builderDevToolsServer.setContext(e),globalThis.__builderDevToolsServer;let r=await q6(e),t=(0,gc.createServer)((n,s)=>{$A(e,t,n,s)}),i=()=>new Promise((n,s)=>{t.listening?(e.debug(`closing devtools server on port ${r}`),t.close(o=>{e=null,o?(e.debug(`error closing devtools server on port ${r}`),s(o)):(e&&e.debug(`closed devtools server on port ${r}`),n())})):(e.debug(`devtools server on port ${r} not listening`),n())});return process.once("SIGTERM",i),process.once("SIGINT",i),process.env.CI!=="true"&&process.stdin.on("end",i),globalThis.__builderDevToolsServer={url:new URL(`http://localhost:${r}`).href,port:r,setContext:n=>{e.debug(`set devtools context on server ${r}`),e=n},close:async()=>{globalThis.__builderDevToolsServer=null,await i()}},new Promise(n=>{t.listen(r,()=>{e.debug(`started devtools server on port ${r}`),n(globalThis.__builderDevToolsServer)})})}function q6(e){return new Promise(r=>{let t=e.port;try{(0,gc.request)({hostname:"localhost",port:t,path:In,method:"GET"},n=>{n.on("end",()=>{e.debug(`${In} - Response ended`),r(t)})}).on("error",n=>{e.debug(`${In} - No response ${n}`),r(t)}).end()}catch(i){e.debug(`${In} - Error ${i}`),r(t)}})}async function bm(e){let r={getPastSyncInfo:()=>null,resyncSnippet:()=>null,...e,devToolsServerUrl:"",isValid:!1,publicApiKey:"",serverShouldRestart:!1,port:e.port||5273,ignoreMissingConfig:!1},t=e.getFrameworks().map(s=>s.name).join(", ");r.debug(`create devtools ${qA} [${t}]`);let i=await jA(r);return r.devToolsServerUrl=i.url,r.port=i.port,{getUrl:()=>r.devToolsServerUrl}}var qA="1.3.9";var zA=V(require("chokidar"),1),WA=V(require("ignore"),1);function GA(e){let r=e.match(/builder\.io\/content\/([^?]+)\?codeSession=([^&]+)&sid=([^\s]+)/);return r?{contentId:r[1],sessionKey:r[2],snippetId:r[3]}:{}}async function bc(e){let r=HA(e);return await(0,Dm.glob)("**/*",{cwd:e,ignore:{ignored(i){return r(i.relative())}},nodir:!0})}async function K6(e,r,t){let i=await(0,Dm.glob)("**/*",{cwd:e,ignore:["node_modules/**"],nodir:!0}),n=[];for(let s of i){let o=(0,zt.resolve)(e,s);try{let a=(0,rr.readFileSync)(o,"utf-8");if(a.includes("This code was generated by Builder.io")){let l=GA(a);if(r&&t&&(l.contentId!==r||l.sessionKey!==t))continue;n.push({path:s,code:yc(a),name:s.split("/").pop()||"",timestamp:(0,rr.statSync)(o).mtime.getTime(),snippetId:l.snippetId})}}catch(a){console.error(`Error reading file ${o}:`,a)}}return n}function V6(e,r){let t=GA(e);return t.contentId===r.contentId&&t.sessionKey===r.sessionKey}function HA(e){let r=["*.png","*.jpg","*.jpeg","*.gif","*.webp","*.yml","*.yaml","*.snap","*.liquid",".git",".DS_Store",".vscode","node_modules",".next","coverage","example","public","yarn.lock","pnpm-lock.yaml","__snapshots__","package-lock.json"],t=(0,WA.default)().add(r);function i(n){try{let s=(0,zt.resolve)(e,n);if((0,rr.existsSync)(s)){let o=(0,rr.readFileSync)(s,"utf8");t.add(o)}}catch(s){console.debug(`No ${n} found or error reading it:`,s)}}return i(".gitignore"),i(".prettierignore"),i(".builderignore"),n=>{let s=(0,zt.relative)(e,n);if(!s)return!1;let o=s.split(zt.sep).join("/");return t.ignores(o)}}function KA(e,r,t){let i=HA(e),n=zA.default.watch(e,{ignored:i,ignoreInitial:!0,awaitWriteFinish:{stabilityThreshold:500,pollInterval:600},ignorePermissionErrors:!0,followSymlinks:!1,atomic:600}),s=async a=>{let l=(0,zt.relative)(e,a);try{let u=(0,rr.readFileSync)(a,"utf-8");if(V6(u,r.snippet)){let c=r.writtenFiles.find(p=>p.path===l);c?(c.code=yc(u),c.timestamp=Date.now()):r.writtenFiles.push({path:l,code:yc(u),timestamp:Date.now(),name:l.split("/").pop()||""}),r.timeStamp=Date.now(),t(r)}}catch(u){console.debug(`Error reading file ${a}:`,u)}};n.on("add",async a=>{q.info(`File added: ${a}`),await s(a)}).on("change",async a=>{q.info(`File changed: ${a}`),await s(a)}).on("unlink",a=>{q.info(`File deleted: ${a}`);let l=(0,zt.relative)(e,a);r.writtenFiles=r.writtenFiles.filter(u=>u.path!==l),r.timeStamp=Date.now(),t(r)}).on("unlinkDir",a=>{q.info(`Folder deleted: ${a}`);let l=(0,zt.relative)(e,a);r.writtenFiles=r.writtenFiles.filter(u=>!u.path.startsWith(l)),r.timeStamp=Date.now(),t(r)}).on("ready",()=>{console.debug("Initial scan complete. Ready for changes.")}).on("error",a=>{console.error(`Watcher error: ${a}`)}),n.on("raw",async(a,l,u)=>{if(a==="renamed"){q.info(`File renamed: ${u.oldPath} -> ${l}`);let c=u.oldPath?(0,zt.relative)(e,u.oldPath):void 0,p=l?(0,zt.relative)(e,l):void 0;if(c&&p){let d=r.writtenFiles.find(h=>h.path===c);d&&(d.path=p,r.timeStamp=Date.now(),t(r))}}});let o=async()=>{await n.close()};return process.on("SIGINT",o),process.on("SIGTERM",o),o}async function JA(e,r){e.debug("builder sync server init");let t=await un(e),i=r,n=()=>Promise.resolve();i&&setTimeout(()=>{n=KA(e.getAppRootDir(),i,s=>{i=s})},1e3),await bm({...t,ensureFigmaImportPage:()=>Promise.reject("Not supported"),getPastSyncInfo:({sessionKey:s,since:o})=>!i||s!==i.snippet.sessionKey?null:{...i,hasChanged:i.timeStamp>o},resyncSnippet:async s=>{await n();let o=await xm({path:i?.pathInput,snippet:s.snippet,cwd:e.getAppRootDir()});return o&&(i=o,n=KA(e.getAppRootDir(),i,a=>{i=a})),i},getClientId:()=>"builder-sync-cli",closeAppServer:async()=>{await n()},restartAppServer:async()=>{e.debug("restart server")},enableAppWatch:async s=>s,...e})}async function xm(e){let r=e.snippetId,t=e.snippet||null;if(!t&&r&&(t=await hm(r)),!t)return ue(`No snippet found for id ${r}`),await oe(1);let i=process.cwd(),n=Oa(i)??i,s=await K6(n,t.contentId,t.sessionKey),o=s.filter(p=>p.snippetId===t.id);if(q.info(`Found ${o.length} matching files for snippet ${t.id} in existing files ${s.length}`),o.length>0){let p=Math.max(...o.map(d=>d.timestamp||0));return{snippet:t,writtenFiles:o,pathInput:VA(o.map(d=>d.path)),timeStamp:p}}let a=mm(n,t.framework||"react"),l=e.path||VA(s.map(p=>p.path))||await Lt({message:"Where should we copy the files?",initialValue:a,validate(p){if(p.length===0)return"File path is required!";if(p[0]!==".")return"Please enter a relative path."}});Oe(l)&&(ue("Cancelled sync"),process.exit(0));for(let p of s){let d=(0,zt.resolve)(n,p.path);try{(0,rr.unlinkSync)(d),q.info(`Deleted old file: ${d}`);let h=(0,zt.dirname)(d);(0,rr.readdirSync)(h).length===0&&((0,rr.rmdirSync)(h),q.info(`Deleted empty folder: ${h}`))}catch(h){q.error(`Error cleaning up file ${d}: ${h}`)}}let u=await hc(n,t,t.files,l,!0);q.success("All files have been written successfully.");let c=Math.max(...u.map(p=>p.timestamp||0));return{snippet:t,writtenFiles:u.map(p=>({...p,code:yc(p.code)})),pathInput:l,timeStamp:c||Date.now()}}function yc(e){if(!e)return e;let r=/<!--\s*This code was generated by Builder\.io\s*-->\s*(?:<!--\s*https:\/\/builder\.io\/content\/[a-f0-9]+\?codeSession=[a-f0-9]+&sid=[a-f0-9]+\s*-->\s*)?/,t=/\/\*\*\s*\n\s*\* This code was generated by Builder\.io\s*\n\s*\* https:\/\/builder\.io\/content\/[a-f0-9]+\?codeSession=[a-f0-9]+&sid=[a-f0-9]+\s*\n\s*\*\/\s*/,i=e.replace(r,"").replace(t,"");return i=i.replace(/^\n+/,""),i}function VA(e){if(e.length===0)return"";if(e.length===1)return`./${e[0].slice(0,e[0].lastIndexOf("/")+1)}`;let r=e.map(n=>n.split("/")),t=Math.min(...r.map(n=>n.length)),i=[];for(let n=0;n<t;n++){let s=r[0][n];if(r.every(o=>o[n]===s))i.push(s);else break}return`./${i.join("/")}`}var ao=V(require("@sentry/node"),1);var le=V(Gt(),1);var sP=require("node:child_process");var Em=V(require("node:process"),1);function Cm(){let{env:e}=Em.default,{TERM:r,TERM_PROGRAM:t}=e;return Em.default.platform!=="win32"?r!=="linux":!!e.WT_SESSION||!!e.TERMINUS_SUBLIME||e.ConEmuTask==="{cmd::Cmder}"||t==="Terminus-Sublime"||t==="vscode"||r==="xterm-256color"||r==="alacritty"||r==="rxvt-unicode"||r==="rxvt-unicode-256color"||e.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var Sm=V(Gt(),1),Qi=V($e(),1),Dc=require("node:process"),vn=V(require("node:readline"),1),Ua=V(Gt(),1),wn=()=>{let e=vm?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],r=vm?80:120,t,i,n=!1,s="",o="",a="",l=y=>{let b=y>1?"Something went wrong":"Canceled";n&&f(b,y)},u=()=>l(2),c=()=>l(1),p=()=>{process.on("uncaughtExceptionMonitor",u),process.on("unhandledRejection",u),process.on("SIGINT",c),process.on("SIGTERM",c),process.on("exit",l)},d=()=>{process.removeListener("uncaughtExceptionMonitor",u),process.removeListener("unhandledRejection",u),process.removeListener("SIGINT",c),process.removeListener("SIGTERM",c),process.removeListener("exit",l)},h=(y="")=>{n=!0,t=Y6(),s=y.replace(/\.+$/,""),process.stdout.write(`${Sm.default.gray(z6)}
`);let b=0,C=0;p(),i=setInterval(()=>{let D=Sm.default.magenta(e[b]),x=".".repeat(Math.floor(C)).slice(0,3);process.stdout.write(Qi.cursor.move(-999,-a.split(`
`).length+1)),process.stdout.write(Qi.erase.down(a.split(`
`).length));let E=`${D}  ${s}${x}${o}`;process.stdout.write(E),b=b+1<e.length?b+1:0,C=C<e.length?C+.125:0,a=E},r)},f=(y,b=0)=>{s=y??s,n=!1,clearInterval(i);let C=b===0?(0,Ua.green)(H6):b===1?(0,Ua.red)(W6):(0,Ua.red)(G6);process.stdout.write(Qi.cursor.move(-999,-a.split(`
`).length+1)),process.stdout.write(Qi.erase.down(a.split(`
`).length)),process.stdout.write(`${C}  ${s}
`),a=s,d(),t()};return{start:h,stop:f,message:(y="")=>{s=y??s},extra:(y="")=>{o=y}}},vm=Cm(),xc=(e,r)=>vm?e:r,z6=xc("\u2502","|"),W6=xc("\u25A0","x"),G6=xc("\u25B2","x"),H6=xc("\u25C7","o"),J6=globalThis.process.platform.startsWith("win");function Y6({input:e=Dc.stdin,output:r=Dc.stdout,overwrite:t=!0,hideCursor:i=!0}={}){let n=vn.createInterface({input:e,output:r,prompt:"",tabSize:1});vn.emitKeypressEvents(e,n),e.isTTY&&e.setRawMode(!0);let s=(o,{name:a})=>{if(String(o)===""){i&&r.write(Qi.cursor.show),process.exit(0);return}if(!t)return;vn.moveCursor(r,a==="return"?0:-1,a==="return"?-1:0,()=>{vn.clearLine(r,1,()=>{e.once("keypress",s)})})};return i&&r.write(Qi.cursor.hide),e.once("keypress",s),()=>{e.off("keypress",s),i&&r.write(Qi.cursor.show),e.isTTY&&!J6&&e.setRawMode(!1),n.terminal=!1,n.close()}}var Tn=V(Gt(),1);var YA=V(require("crypto"),1);var X6=16,Q6=2e5,Z6=3e5,XA=async(e,r)=>{console.log(""),It((0,Tn.bgCyan)((0,Tn.bold)((0,Tn.white)(" code indexing ")))+"  "+(0,Tn.dim)("1.3.9"));let t=await wr(e,r,{forceSpaceId:r.spaceId,builderPrivateKey:!0,builderPublicKey:!0});await wm(e,t),Mt("DONE")},wm=async(e,r)=>{let t=wn();t.start("Indexing files...");let i=e.getAppRootDir(),s=(await bc(i)).filter(e$).map(g=>({filePath:g,content:e.readFileSync(e.join(i,g))})).filter(g=>g.content.length<Z6),o=[],a=[];o.push(a);let l=0;for(let g of s)l+g.content.length>Q6&&(a=[],o.push(a),l=0),a.push(g),l+=g.content.length;let u=0,c=o.length,p=Date.now();function d(g){u+=g;let m="\u2591",y=60,b=u/c,C=m.repeat(Math.floor(b*y)),D=" ".repeat(y-C.length),x=`${Math.round(b*100)}%`,E=Date.now()-p,w=b>0?E/b:0,k=Math.max(0,w-E),M=new Date(k).toISOString().substr(11,8);t.extra(`

[${C}${D}] ${x} (${M} remaining)`)}d(0);let h=YA.default.randomUUID(),f=await e.getRepoInfo();await Promise.all(Array.from({length:X6}).map(async()=>{for(;;){let g=o.shift();if(!g)break;let m=new URL(`${gi}/codegen/indexing`);m.searchParams.set("apiKey",r.builderPublicKey),m.searchParams.set("userId",r.userId);let y=await mt(m,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.builderPrivateKey}`},body:JSON.stringify({repoInfo:f,files:g,sessionId:h,addExtraContext:!0})});if(!y.ok)throw new Error("Failed to index codebase");let b=Tm(y.body),C=0;for await(let D of b){if(D.length===0)continue;let x=JSON.parse(D);if(x.type==="progress"){let E=x.chunksProcessed/x.totalChunks;d(E-C),C=E}}}})),t.stop("Codebase indexed")};function e$(e){return e.endsWith("package.json")?!0:!(!e.endsWith(".ts")&&!e.endsWith(".tsx")&&!e.endsWith(".js")&&!e.endsWith(".jsx")&&!e.endsWith(".html")||e.includes(".mapper.ts")||e.includes(".mapper.js")||e.endsWith("package-lock.json"))}var oP=V(require("crypto"),1);var t$=5,aP=async(e,r,t)=>{r==="indexing"?await XA(e,t):r==="generate"||r==="gen"||r==="g"?await QA(e,t):r==="gen"?Ji("code"):await QA(e,t)},QA=async(e,r)=>{console.log(""),It((0,le.bgCyan)((0,le.bold)((0,le.white)(" code ")))+"  "+(0,le.dim)("1.3.9"));let t=await wr(e,r,{forceSpaceId:r.spaceId,builderPrivateKey:!0,builderPublicKey:!0}),i=r.url,n={history:[],undoStates:[],sessionId:oP.default.randomUUID(),selectedFilePaths:new Map};if(ht("figma code started",{spaceId:t.builderPublicKey}),r.prompt){let s=r.mode||"exact",o={userPrompt:r.prompt,mode:s};await eP(e,t,n,o.userPrompt,o.mode,i);return}for(;;){let s=await r$(e,t,n,!!i);if(s==="exit")break;if(s==="undo")continue;let o=s.userPrompt,a=s.mode;await eP(e,t,n,o,a,i)}};async function r$(e,r,t,i){let n=e.getAppRootDir(),s="",o;if(t.history.length===0){let u=await Lt({message:i?"How does the design integrate into the project? (be detailed)":"What do you want to do?",placeholder:i?'some examples: "add a header to the layout of the app", "add a new contact page", "update the card component"':'some examples: "add a new page", "add a new component", "update the button component"',validate(c){if(i){if(c.length===0)return"please, enter a detailed instruction";if(c.length<10)return"a more detailed instruction is needed"}else if(c.length===0)return"please, provide some prompt"}});if(Oe(u))return ue("See you later! \u{1F44B}"),nP(t.sessionId,r.builderPublicKey),"exit";if(s=u??"integrate design into the app, might be a new page/component/layout depending on the design",i){let c=o??await Za({message:"How do you want to apply the changes?",options:[{value:"exact",label:"Precise",hint:"imports exactly as designed, might include artifacts"},{value:"creative",label:"Match-my-style",hint:"design might be slighly changed to match the codebase, but looks better"}]});if(Oe(c))return ue("Command cancelled"),"exit";o=c}else o="creative"}else{let a=t.history[t.history.length-1]?.id;q.message(`${(0,le.green)("Changes are applied.")} What do you want to do next?

${(0,le.bgBlack)(" Ctrl+C ")} ${(0,le.dim)("to accept changes and exit")}
${(0,le.bgBlack)(' "undo" ')} ${(0,le.dim)("to undo last changes and try again")}`,{symbol:(0,le.green)("\u2714")});let l=await Lt({message:`${(0,le.bgBlack)(" Follow up ")} with more instructions:`,placeholder:' Reply "accept", "undo", or provide follow-up feedback (Ctrl+C to exit)',validate(c){if(!c)return"Please enter a value (Ctrl+C & exit)"}});if(Oe(l)||l.trim().toLowerCase()==="accept")return Mt(`${(0,le.bgGreen)((0,le.bold)((0,le.white)(" Done! \u{1F389} ")))}  ${(0,le.dim)("session "+a)}`),nP(t.sessionId,r.builderPublicKey),ht("figma code accepted",{spaceId:r.builderPublicKey,userPrompt:s}),a&&await tP(e,r,a,"positive"),"exit";if(l.trim().toLowerCase()==="undo"){a&&await tP(e,r,a,"negative"),t.history.pop(),t.history.pop();let c=t.undoStates.pop();if(c){for(let p of c.files)p.content?await e.writeFile(e.join(n,p.path),p.content):await e.unlink(e.join(n,p.path));q.warn(`Restored files to previous state:
${c.files.map(p=>(0,le.dim)(" - "+p.path)).join(`
`)}
`)}return"undo"}s=l}return{userPrompt:s,mode:o}}var i$=!1,n$=10,ZA=50;async function eP(e,r,t,i,n,s){let o=e.getAppRootDir(),a=await e.getRepoInfo();await Si(e,o)&&!a.remoteUrl||await pt({message:"Looks like this is an empty project. Would you like to set up a new Builder.io project?",active:"Yes, create new project",inactive:"Skip for now"})&&(await fc("npm",["init","builder.io@latest","--","--skip-question"],{stdio:"inherit",cwd:o}).command||(ue(`Project creation failed. To create a new project manually, run:
${(0,le.bold)("npm init builder.io@latest")}`),await oe(1)));let u=Kn(hn),c=wn();c.start("Analyzing relevant files");try{let d=[],h=[],f=!1,g=!1,m;for(let x=0;x<2;x++){let E=await o$(r.userId,r.builderPublicKey,r.builderPrivateKey,{query:i,repoInfo:a,limit:n$});if(x===0&&E.length===0&&i$&&(c&&(c.stop("Codebase index not found. Indexing allows the CLI to automatically find relevant files."),c=void 0),await pt({message:"Do you want to index the codebase?",active:"Yes",inactive:"Skip"})===!0)){await wm(e,r);continue}let w=await bc(o);if(E.length>0){for(let k of w){let M=Am(k,E,t.selectedFilePaths,0);M!==0&&d.length<ZA?(d.push(k),t.selectedFilePaths.set(k,M)):rP(e,k)&&h.push(k)}c?(c.stop(`Found relevant files of the project:
${(0,le.dim)("\u2502")}
${d.map(k=>(0,le.dim)("\u2502    "+k)).join(`
`)}`),c=void 0):q.info(`Found relevant files of the project:

${d.map(k=>(0,le.dim)(k)).join(`
`)}`),m=void 0}else{let k=w.filter(K=>{let Z=Am(K,E,t.selectedFilePaths,1);return Z===1||Z===2});m=10;let M=Math.min(40,k.length),R=[],N=0;for(;R.length<M&&N<k.length*2;){N++;let K=k[Math.floor(Math.random()*k.length)];R.includes(K)||R.push(K)}for(let K of w){let Z=Am(K,R,t.selectedFilePaths,1);Z!==0&&d.length<ZA?(d.push(K),t.selectedFilePaths.set(K,Z)):rP(e,K)&&h.push(K)}}break}c&&(c.stop(void 0),c=void 0);let y=await l$(e,o);c=wn(),c.start("Thinking"),t.undoStates.push({files:[]});let b=!0,C=0,D=[];for(;b;){if(C>0&&C%t$===0&&(q.warn(`Large generation in progress: ${C} pages generated so far.`),!await pt({message:"Do you want to continue generating?",active:"Continue",inactive:"Stop"}))){q.info("Generation stopped by user");break}let x={url:s,files:d.map(w=>({filePath:w,content:e.readFileSync(e.join(o,w)),importance:t.selectedFilePaths.get(w)??1})),customInstructions:y,hiddenFiles:h.slice(0,300),sessionId:t.sessionId,history:t.history,mode:n,userPrompt:i,reranker:m,prevId:t.history[t.history.length-1]?.id,nextPage:!!t.hasNextPage},E=s$(r,x);for await(let w of E)try{let R=function(N,K){N.type==="text"&&(f||(process.stdout.write((0,le.dim)(`\u2502  
`)+(0,le.magenta)("~  ")),f=!0),process.stdout.write(K.replace(/\n/g,`
`+(0,le.magenta)("\u2502  ")))),!N.synthetic&&(N.type==="file"||N.type==="diff")&&c&&c.extra(`

${u.highlightAuto(N.content).value.split(`
`).slice(-10).map(Z=>Z.length>process.stdout.columns?Z.slice(0,process.stdout.columns-5):Z).join(`
`)}`)};var p=R;async function k(N){if(t.hasNextPage=!1,f&&(process.stdout.write(`
`),f=!1),N.type==="file"&&!N.synthetic&&(c=wn(),c.start(`${N.actionTitle??N.artifactTitle}`)),N.type==="diff"&&(c=wn(),c.start(`${N.actionTitle??N.artifactTitle}`)),N.type==="done"){if(t.history.push({role:"user",content:i}),t.history.push({role:"assistant",content:N.content,id:N.id}),N.stopReason==="limit"){q.error((0,le.red)("\u{1F6A8} The request was cancelled because it reached the account limits."));let K=new URL("https://builder.io/account/subscription");if(K.searchParams.set("space_id",r.builderPublicKey),await pt({message:(0,le.dim)(K.href),active:"Open subscription page",inactive:"Exit"})){let{default:re}=await import("open");await re(K.href)}await oe(1);return}N.stopReason==="max_tokens"&&(t.hasNextPage=!0),N.usage&&q.info(c$(N.usage.total,N.usage.limits.aiGeneration))}}async function M(N){if(N.type==="diff"&&c&&(c.stop(`${N.actionTitle??N.artifactTitle}: ${(0,le.dim)(N.filePath)}`),c=void 0),N.type==="file"&&N.filePath){let K=e.join(o,N.filePath),re=e.existsSync(K)?e.readFileSync(K):null;t.undoStates[t.undoStates.length-1].files.push({path:N.filePath,content:re});let ee=await ir(N.content,void 0,K);await e.writeFile(K,ee),t.selectedFilePaths.set(N.filePath,3),c&&!N.synthetic&&(c.stop(`${N.actionTitle??N.artifactTitle??"Created"}: ${(0,le.dim)(N.filePath)}`),c=void 0)}if(N.type==="shell"){q.message(`Requested to run command:
${(0,le.bgBlack)(" "+N.content.trim()+" ")}`,{symbol:(0,le.magenta)("~")});let K=await pt({message:"Do you want to execute and continue?",active:`Execute ${(0,le.dim)("(recommended)")}`,inactive:"Skip"});if(Oe(K)||!K){q.warn(`Command skipped. Run it manually:
${(0,le.bgBlack)(" "+N.content+" ")}.`);return}c=wn(),c.start(`Running \`${N.content}\``),await a$(N.content,{shell:!0,stdio:"inherit"})?c.stop(`Command \`${N.content}\` completed`):c.stop(`Command \`${N.content}\` failed`,2),c=void 0}}if(c&&!g&&(c.stop("\u{1F4A1}"),c=void 0,g=!0),w.type==="delta"){let N=w.content,K=D[D.length-1];K&&(K.content+=N),await R(K,N)}else{let N=D[D.length-1];N&&(N.incomplete=!1,await M(N)),D.push(w),await k(w)}if(w.type==="done")break}catch{}b=!!t.hasNextPage,C++}f&&(process.stdout.write(`
`),f=!1)}finally{c&&(c.stop(),c=void 0)}}async function*s$(e,r){let t=new URL(`${gi}/codegen/completion`);t.searchParams.set("apiKey",e.builderPublicKey),t.searchParams.set("userId",e.userId);let i=await mt(t,{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.builderPrivateKey}`}});if(!i.ok)throw new Error(`Failed to generate completion:
`+await i.text());let n=Tm(i.body);for await(let s of n){if(s.length===0)continue;yield JSON.parse(s)}}async function tP(e,r,t,i,n){try{let s=new URL(`${gi}/codegen/feedback`);s.searchParams.set("apiKey",r.builderPublicKey),s.searchParams.set("userId",r.userId),await mt(s,{method:"POST",body:JSON.stringify({id:t,feedbackText:n,feedbackSentiment:i}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.builderPrivateKey}`}})}catch(s){e.Sentry?.captureException(s)}}async function o$(e,r,t,i){let n=new URL(`${gi}/codegen/search`);n.searchParams.set("apiKey",r),n.searchParams.set("userId",e);let s=await mt(n,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok)throw new Error(`Failed to search codebase:
`+await s.text());let o=await s.json(),a=new Set;for(let l of o)a.add(l.filePath);return Array.from(a)}function rP(e,r){return!(r.includes(".test.")||r.includes(".spec.")||r.includes(".unit.")||r.includes(".e2e.")||r.includes("test")||r.includes("tests")||e.basename(r).startsWith("."))}function Am(e,r,t,i){let n=t.get(e)??0;if(e.endsWith("package.json")||e.endsWith("tsconfig.json")||e.includes("tailwind.config")||e.includes("next.config")||e.endsWith("components.json")||e.endsWith("/app.component.ts")||e.endsWith("/app.component.html")||e.endsWith("/app.component.css")||e.endsWith("/app.component.scss")||e.endsWith("/app.module.ts")||e.endsWith("/app.config.ts")||e.endsWith("/app.routes.ts"))return 3;if(e.includes("components/ui/")||e.endsWith(".mapper.tsx")||e.endsWith(".mapper.jsx")||e.includes("vendor/")||e.startsWith("lib/")||e.endsWith("package-lock.json")||e.endsWith("builder-registry.ts"))return n;if(e.includes("layout"))return Math.max(n,2);if(iP(e)<3&&e.includes("route"))return Math.max(n,3);if(iP(e)<2&&(e.endsWith(".css")||e.endsWith(".scss")))return Math.max(n,2);if(r.length>0){if(r.some(s=>e.includes(s)))return Math.max(n,2)}else if(e.includes("components/ui/"))return n;return!e.endsWith(".ts")&&!e.endsWith(".tsx")&&!e.endsWith(".js")&&!e.endsWith(".jsx")&&!e.endsWith(".html")&&!e.endsWith(".html.erb")?n:Math.max(n,i)}function iP(e){return(e.match(/\//g)||[]).length}async function*Tm(e){if(!e)return;let r="",t=e.getReader(),i,n;for(;!i&&({value:n,done:i}=await t.read(),!i);){let s=new TextDecoder().decode(n);r+=s;let o=r.split(`
`);for(let a=0;a<o.length-1;a++)yield o[a];r=o[o.length-1]}}function a$(e,r){let t;return new Promise(n=>{try{t=(0,sP.spawn)(e,{shell:!0,...r}),t.on("error",()=>{n(!1)}),t.on("close",s=>{n(s===0)})}catch{n(!1)}})}async function l$(e,r){let t=[];async function i(n){try{let s=e.resolve(r,n);if(await e.exists(s)){let o=await e.readFile(s);if(o){let a="hash-"+await e.hash(o);t.push({id:a,name:n,content:o})}}}catch(s){console.debug(`No ${n} found or error reading it:`,s)}}return await i(".cursorrules"),await i(".builderrules"),t}function u$(e,r){let t="https://docs.google.com/forms/d/e/1FAIpQLSdHUIxeNZCAeMTgAWehxBtZplgcqXqyPbGf9Z1Advnf2ARxGw/viewform",i="entry.986969459",n="entry.1867678972",s=new URL(t);return s.searchParams.set("usp","pp_url"),s.searchParams.set(i,e),r&&s.searchParams.set(n,r),s.toString()}function nP(e,r){let t=u$(e,r);console.log(`
   \u{1F4DD} We'd love your feedback on the code generation!
   ${(0,le.dim)(t)}
`)}function c$(e,r){let t=Math.round(e/r*100),i=process.stdout.columns||80,n=Math.floor(i/2),s=Math.round(t/100*n),o=n-s,a="\u2588".repeat(s),l="\u2591".repeat(o),u=e.toLocaleString(),c=r.toLocaleString();return`Usage: ${u}/${c}
${a}${l}`}async function p$(e){e.debug("builder dev tools cli init");let r=await(0,lP.createDevTools)(e);await(0,cP.createDevToolsServer)({...r,getClientId:()=>"builder-dev-tools-cli",closeAppServer:async()=>{},restartAppServer:async()=>{e.debug("restart server")},enableAppWatch:async t=>t,...e})}var fP=async()=>{await dP.flush().promise,process.exit(0)};process.on("SIGINT",fP);process.on("SIGTERM",fP);async function d$(){await rT();try{let e=(0,pP.default)(process.argv.slice(2),{string:["figmaToken","privateKey","spaceId","cwd","prompt","mode","url"],boolean:["help","ci","force","printJson","dryrun","yes","skipInstallation"]});if(e.help)return Ji(e._[e._.length-1]),await oe(0);let r=e._[0];e.cwd&&(console.log("changing cwd",e.cwd),process.chdir(e.cwd));let t=await(0,uP.createDevToolsNodeSys)({cwd:process.cwd(),ignoreMissingConfig:!0});if(r==="figma"){let i=e._[1];try{await yA(t,i,e)}catch(n){return ao.captureException(n),console.error(n),await oe(1)}}else if(r==="code"){let i=e._[1];try{await aP(t,i,e)}catch(n){return ao.captureException(n),console.error(n),await oe(1)}}else if(r==="add"){let i=gm(t.getAppRootDir(),process.argv.slice(2));await bA(i)}else if(r==="sync"){let i=gm(t.getAppRootDir(),process.argv.slice(2)),n=await xm(i);JA(t,n).then(()=>{console.info("Builder dev tools is running")}).catch(s=>{ao.captureException(s),console.error("Cannot start builder dev tools",s)})}else{if(r==="help")return Ji(e._[1]),await oe(0);if(r==="publish"||r==="migrate"||r==="generate")return ue("Command not found, do you mean `npx builder.io figma "+r+"`?"),await oe(1);p$(t).then(()=>{console.info("Builder dev tools is running")}).catch(i=>{ao.captureException(i),console.error("Cannot start builder dev tools",i)})}}catch(e){return ao.captureException(e),console.error(e),await oe(1)}}d$();
//# sourceMappingURL=index.cjs.map
